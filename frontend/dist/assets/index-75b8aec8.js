var nv=Object.defineProperty;var iv=(t,e,r)=>e in t?nv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $f=(t,e,r)=>(iv(t,typeof e!="symbol"?e+"":e,r),r);function av(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function A1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S1={exports:{}},Al={},I1={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=Symbol.for("react.element"),sv=Symbol.for("react.portal"),ov=Symbol.for("react.fragment"),lv=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),uv=Symbol.for("react.provider"),dv=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),pv=Symbol.for("react.memo"),mv=Symbol.for("react.lazy"),Hf=Symbol.iterator;function xv(t){return t===null||typeof t!="object"?null:(t=Hf&&t[Hf]||t["@@iterator"],typeof t=="function"?t:null)}var T1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j1=Object.assign,k1={};function Aa(t,e,r){this.props=t,this.context=e,this.refs=k1,this.updater=r||T1}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O1(){}O1.prototype=Aa.prototype;function xd(t,e,r){this.props=t,this.context=e,this.refs=k1,this.updater=r||T1}var vd=xd.prototype=new O1;vd.constructor=xd;j1(vd,Aa.prototype);vd.isPureReactComponent=!0;var Wf=Array.isArray,R1=Object.prototype.hasOwnProperty,gd={current:null},D1={key:!0,ref:!0,__self:!0,__source:!0};function P1(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)R1.call(e,n)&&!D1.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:zs,type:t,key:a,ref:s,props:i,_owner:gd.current}}function vv(t,e){return{$$typeof:zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yd(t){return typeof t=="object"&&t!==null&&t.$$typeof===zs}function gv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Gf=/\/+/g;function ic(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gv(""+t.key):e.toString(36)}function Ao(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zs:case sv:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+ic(s,0):n,Wf(i)?(r="",t!=null&&(r=t.replace(Gf,"$&/")+"/"),Ao(i,e,r,"",function(u){return u})):i!=null&&(yd(i)&&(i=vv(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Wf(t))for(var o=0;o<t.length;o++){a=t[o];var c=n+ic(a,o);s+=Ao(a,e,r,c,i)}else if(c=xv(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=n+ic(a,o++),s+=Ao(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Js(t,e,r){if(t==null)return t;var n=[],i=0;return Ao(t,n,"","",function(a){return e.call(r,a,i++)}),n}function yv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},So={transition:null},wv={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:So,ReactCurrentOwner:gd};function M1(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Js,forEach:function(t,e,r){Js(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Js(t,function(){e++}),e},toArray:function(t){return Js(t,function(e){return e})||[]},only:function(t){if(!yd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Aa;fe.Fragment=ov;fe.Profiler=cv;fe.PureComponent=xd;fe.StrictMode=lv;fe.Suspense=hv;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv;fe.act=M1;fe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=j1({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=gd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)R1.call(e,c)&&!D1.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:zs,type:t.type,key:i,ref:a,props:n,_owner:s}};fe.createContext=function(t){return t={$$typeof:dv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uv,_context:t},t.Consumer=t};fe.createElement=P1;fe.createFactory=function(t){var e=P1.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:fv,render:t}};fe.isValidElement=yd;fe.lazy=function(t){return{$$typeof:mv,_payload:{_status:-1,_result:t},_init:yv}};fe.memo=function(t,e){return{$$typeof:pv,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=So.transition;So.transition={};try{t()}finally{So.transition=e}};fe.unstable_act=M1;fe.useCallback=function(t,e){return $t.current.useCallback(t,e)};fe.useContext=function(t){return $t.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};fe.useEffect=function(t,e){return $t.current.useEffect(t,e)};fe.useId=function(){return $t.current.useId()};fe.useImperativeHandle=function(t,e,r){return $t.current.useImperativeHandle(t,e,r)};fe.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return $t.current.useMemo(t,e)};fe.useReducer=function(t,e,r){return $t.current.useReducer(t,e,r)};fe.useRef=function(t){return $t.current.useRef(t)};fe.useState=function(t){return $t.current.useState(t)};fe.useSyncExternalStore=function(t,e,r){return $t.current.useSyncExternalStore(t,e,r)};fe.useTransition=function(){return $t.current.useTransition()};fe.version="18.3.1";I1.exports=fe;var N=I1.exports;const Ot=A1(N),_v=av({__proto__:null,default:Ot},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=N,Ev=Symbol.for("react.element"),Nv=Symbol.for("react.fragment"),Cv=Object.prototype.hasOwnProperty,Av=bv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sv={key:!0,ref:!0,__self:!0,__source:!0};function L1(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Cv.call(e,n)&&!Sv.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Ev,type:t,key:a,ref:s,props:i,_owner:Av.current}}Al.Fragment=Nv;Al.jsx=L1;Al.jsxs=L1;S1.exports=Al;var l=S1.exports,F1={exports:{}},lr={},B1={exports:{}},U1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ne){var J=$.length;$.push(ne);e:for(;0<J;){var ke=J-1>>>1,Ze=$[ke];if(0<i(Ze,ne))$[ke]=ne,$[J]=Ze,J=ke;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var ne=$[0],J=$.pop();if(J!==ne){$[0]=J;e:for(var ke=0,Ze=$.length,an=Ze>>>1;ke<an;){var dr=2*(ke+1)-1,bn=$[dr],Ir=dr+1,Wr=$[Ir];if(0>i(bn,J))Ir<Ze&&0>i(Wr,bn)?($[ke]=Wr,$[Ir]=J,ke=Ir):($[ke]=bn,$[dr]=J,ke=dr);else if(Ir<Ze&&0>i(Wr,J))$[ke]=Wr,$[Ir]=J,ke=Ir;else break e}}return ne}function i($,ne){var J=$.sortIndex-ne.sortIndex;return J!==0?J:$.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=$)n(u),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=r(u)}}function _($){if(v=!1,y($),!m)if(r(c)!==null)m=!0,be(E);else{var ne=r(u);ne!==null&&Xe(_,ne.startTime-$)}}function E($,ne){m=!1,v&&(v=!1,g(S),S=-1),p=!0;var J=h;try{for(y(ne),f=r(c);f!==null&&(!(f.expirationTime>ne)||$&&!H());){var ke=f.callback;if(typeof ke=="function"){f.callback=null,h=f.priorityLevel;var Ze=ke(f.expirationTime<=ne);ne=t.unstable_now(),typeof Ze=="function"?f.callback=Ze:f===r(c)&&n(c),y(ne)}else n(c);f=r(c)}if(f!==null)var an=!0;else{var dr=r(u);dr!==null&&Xe(_,dr.startTime-ne),an=!1}return an}finally{f=null,h=J,p=!1}}var A=!1,I=null,S=-1,O=5,j=-1;function H(){return!(t.unstable_now()-j<O)}function P(){if(I!==null){var $=t.unstable_now();j=$;var ne=!0;try{ne=I(!0,$)}finally{ne?B():(A=!1,I=null)}}else A=!1}var B;if(typeof x=="function")B=function(){x(P)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=P,B=function(){le.postMessage(null)}}else B=function(){w(P,0)};function be($){I=$,A||(A=!0,B())}function Xe($,ne){S=w(function(){$(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,be(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var ne=3;break;default:ne=h}var J=h;h=ne;try{return $()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ne){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=h;h=$;try{return ne()}finally{h=J}},t.unstable_scheduleCallback=function($,ne,J){var ke=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ke+J:ke):J=ke,$){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=J+Ze,$={id:d++,callback:ne,priorityLevel:$,startTime:J,expirationTime:Ze,sortIndex:-1},J>ke?($.sortIndex=J,e(u,$),r(c)===null&&$===r(u)&&(v?(g(S),S=-1):v=!0,Xe(_,J-ke))):($.sortIndex=Ze,e(c,$),m||p||(m=!0,be(E))),$},t.unstable_shouldYield=H,t.unstable_wrapCallback=function($){var ne=h;return function(){var J=h;h=ne;try{return $.apply(this,arguments)}finally{h=J}}}})(U1);B1.exports=U1;var Iv=B1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=N,ar=Iv;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V1=new Set,xs={};function Ri(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(xs[t]=e,t=0;t<e.length;t++)V1.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=Object.prototype.hasOwnProperty,jv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xf={},Zf={};function kv(t){return Gc.call(Zf,t)?!0:Gc.call(Xf,t)?!1:jv.test(t)?Zf[t]=!0:(Xf[t]=!0,!1)}function Ov(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rv(t,e,r,n){if(e===null||typeof e>"u"||Ov(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var wd=/[\-:]([a-z])/g;function _d(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wd,_d);It[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wd,_d);It[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wd,_d);It[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function bd(t,e,r,n){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rv(e,r,i,n)&&(r=null),n||i===null?kv(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var wn=Tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eo=Symbol.for("react.element"),zi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Ed=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),$1=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),Yc=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),H1=Symbol.for("react.offscreen"),Yf=Symbol.iterator;function Ra(t){return t===null||typeof t!="object"?null:(t=Yf&&t[Yf]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,ac;function Ya(t){if(ac===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ac=e&&e[1]||""}return`
`+ac+t}var sc=!1;function oc(t,e){if(!t||sc)return"";sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=o);break}}}finally{sc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ya(t):""}function Dv(t){switch(t.tag){case 5:return Ya(t.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return t=oc(t.type,!1),t;case 11:return t=oc(t.type.render,!1),t;case 1:return t=oc(t.type,!0),t;default:return""}}function Kc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $i:return"Fragment";case zi:return"Portal";case Xc:return"Profiler";case Ed:return"StrictMode";case Zc:return"Suspense";case Yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $1:return(t.displayName||"Context")+".Consumer";case z1:return(t._context.displayName||"Context")+".Provider";case Nd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cd:return e=t.displayName||null,e!==null?e:Kc(t.type)||"Memo";case In:e=t._payload,t=t._init;try{return Kc(t(e))}catch{}}return null}function Pv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kc(e);case 8:return e===Ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mv(t){var e=W1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function to(t){t._valueTracker||(t._valueTracker=Mv(t))}function G1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=W1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $o(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qc(t,e){var r=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Kf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ei(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X1(t,e){e=e.checked,e!=null&&bd(t,"checked",e,!1)}function qc(t,e){X1(t,e);var r=ei(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Jc(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Jc(t,e,r){(e!=="number"||$o(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ka=Array.isArray;function ia(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ei(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(M(92));if(Ka(r)){if(1<r.length)throw Error(M(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ei(r)}}function Z1(t,e){var r=ei(e.value),n=ei(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Jf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ro,K1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ro.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lv=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(t){Lv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),is[e]=is[t]})});function Q1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||is.hasOwnProperty(t)&&is[t]?(""+e).trim():e+"px"}function q1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Q1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Fv=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ru(t,e){if(e){if(Fv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=null;function Ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var au=null,aa=null,sa=null;function e0(t){if(t=Ws(t)){if(typeof au!="function")throw Error(M(280));var e=t.stateNode;e&&(e=kl(e),au(t.stateNode,t.type,e))}}function J1(t){aa?sa?sa.push(t):sa=[t]:aa=t}function ep(){if(aa){var t=aa,e=sa;if(sa=aa=null,e0(t),e)for(t=0;t<e.length;t++)e0(e[t])}}function tp(t,e){return t(e)}function rp(){}var lc=!1;function np(t,e,r){if(lc)return t(e,r);lc=!0;try{return tp(t,e,r)}finally{lc=!1,(aa!==null||sa!==null)&&(rp(),ep())}}function gs(t,e){var r=t.stateNode;if(r===null)return null;var n=kl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(M(231,e,typeof r));return r}var su=!1;if(pn)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){su=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{su=!1}function Bv(t,e,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var as=!1,Ho=null,Wo=!1,ou=null,Uv={onError:function(t){as=!0,Ho=t}};function Vv(t,e,r,n,i,a,s,o,c){as=!1,Ho=null,Bv.apply(Uv,arguments)}function zv(t,e,r,n,i,a,s,o,c){if(Vv.apply(this,arguments),as){if(as){var u=Ho;as=!1,Ho=null}else throw Error(M(198));Wo||(Wo=!0,ou=u)}}function Di(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ip(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t0(t){if(Di(t)!==t)throw Error(M(188))}function $v(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(M(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return t0(i),t;if(a===n)return t0(i),e;a=a.sibling}throw Error(M(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?t:e}function ap(t){return t=$v(t),t!==null?sp(t):null}function sp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sp(t);if(e!==null)return e;t=t.sibling}return null}var op=ar.unstable_scheduleCallback,r0=ar.unstable_cancelCallback,Hv=ar.unstable_shouldYield,Wv=ar.unstable_requestPaint,Qe=ar.unstable_now,Gv=ar.unstable_getCurrentPriorityLevel,Sd=ar.unstable_ImmediatePriority,lp=ar.unstable_UserBlockingPriority,Go=ar.unstable_NormalPriority,Xv=ar.unstable_LowPriority,cp=ar.unstable_IdlePriority,Sl=null,en=null;function Zv(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Sl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:Qv,Yv=Math.log,Kv=Math.LN2;function Qv(t){return t>>>=0,t===0?32:31-(Yv(t)/Kv|0)|0}var no=64,io=4194304;function Qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Qa(o):(a&=s,a!==0&&(n=Qa(a)))}else s=r&~i,s!==0?n=Qa(s):a!==0&&(n=Qa(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ur(e),i=1<<r,n|=t[r],e&=~i;return n}function qv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jv(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Ur(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=qv(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function lu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function up(){var t=no;return no<<=1,!(no&4194240)&&(no=64),t}function cc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $s(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=r}function eg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ur(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Id(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ur(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Se=0;function dp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fp,Td,hp,pp,mp,cu=!1,ao=[],Vn=null,zn=null,$n=null,ys=new Map,ws=new Map,On=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(t,e){switch(t){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(e.pointerId)}}function Pa(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ws(e),e!==null&&Td(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rg(t,e,r,n,i){switch(e){case"focusin":return Vn=Pa(Vn,t,e,r,n,i),!0;case"dragenter":return zn=Pa(zn,t,e,r,n,i),!0;case"mouseover":return $n=Pa($n,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ys.set(a,Pa(ys.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ws.set(a,Pa(ws.get(a)||null,t,e,r,n,i)),!0}return!1}function xp(t){var e=vi(t.target);if(e!==null){var r=Di(e);if(r!==null){if(e=r.tag,e===13){if(e=ip(r),e!==null){t.blockedOn=e,mp(t.priority,function(){hp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=uu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iu=n,r.target.dispatchEvent(n),iu=null}else return e=Ws(r),e!==null&&Td(e),t.blockedOn=r,!1;e.shift()}return!0}function i0(t,e,r){Io(t)&&r.delete(e)}function ng(){cu=!1,Vn!==null&&Io(Vn)&&(Vn=null),zn!==null&&Io(zn)&&(zn=null),$n!==null&&Io($n)&&($n=null),ys.forEach(i0),ws.forEach(i0)}function Ma(t,e){t.blockedOn===e&&(t.blockedOn=null,cu||(cu=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,ng)))}function _s(t){function e(i){return Ma(i,t)}if(0<ao.length){Ma(ao[0],t);for(var r=1;r<ao.length;r++){var n=ao[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vn!==null&&Ma(Vn,t),zn!==null&&Ma(zn,t),$n!==null&&Ma($n,t),ys.forEach(e),ws.forEach(e),r=0;r<On.length;r++)n=On[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<On.length&&(r=On[0],r.blockedOn===null);)xp(r),r.blockedOn===null&&On.shift()}var oa=wn.ReactCurrentBatchConfig,Zo=!0;function ig(t,e,r,n){var i=Se,a=oa.transition;oa.transition=null;try{Se=1,jd(t,e,r,n)}finally{Se=i,oa.transition=a}}function ag(t,e,r,n){var i=Se,a=oa.transition;oa.transition=null;try{Se=4,jd(t,e,r,n)}finally{Se=i,oa.transition=a}}function jd(t,e,r,n){if(Zo){var i=uu(t,e,r,n);if(i===null)yc(t,e,n,Yo,r),n0(t,n);else if(rg(i,t,e,r,n))n.stopPropagation();else if(n0(t,n),e&4&&-1<tg.indexOf(t)){for(;i!==null;){var a=Ws(i);if(a!==null&&fp(a),a=uu(t,e,r,n),a===null&&yc(t,e,n,Yo,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else yc(t,e,n,null,r)}}var Yo=null;function uu(t,e,r,n){if(Yo=null,t=Ad(n),t=vi(t),t!==null)if(e=Di(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ip(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function vp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gv()){case Sd:return 1;case lp:return 4;case Go:case Xv:return 16;case cp:return 536870912;default:return 16}default:return 16}}var Mn=null,kd=null,To=null;function gp(){if(To)return To;var t,e=kd,r=e.length,n,i="value"in Mn?Mn.value:Mn.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return To=i.slice(t,1<n?1-n:void 0)}function jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function a0(){return!1}function cr(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?so:a0,this.isPropagationStopped=a0,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),e}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=cr(Sa),Hs=Ge({},Sa,{view:0,detail:0}),sg=cr(Hs),uc,dc,La,Il=Ge({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(uc=t.screenX-La.screenX,dc=t.screenY-La.screenY):dc=uc=0,La=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:dc}}),s0=cr(Il),og=Ge({},Il,{dataTransfer:0}),lg=cr(og),cg=Ge({},Hs,{relatedTarget:0}),fc=cr(cg),ug=Ge({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),dg=cr(ug),fg=Ge({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hg=cr(fg),pg=Ge({},Sa,{data:0}),o0=cr(pg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vg[t])?!!e[t]:!1}function Rd(){return gg}var yg=Ge({},Hs,{key:function(t){if(t.key){var e=mg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(t){return t.type==="keypress"?jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wg=cr(yg),_g=Ge({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=cr(_g),bg=Ge({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),Eg=cr(bg),Ng=Ge({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=cr(Ng),Ag=Ge({},Il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=cr(Ag),Ig=[9,13,27,32],Dd=pn&&"CompositionEvent"in window,ss=null;pn&&"documentMode"in document&&(ss=document.documentMode);var Tg=pn&&"TextEvent"in window&&!ss,yp=pn&&(!Dd||ss&&8<ss&&11>=ss),c0=String.fromCharCode(32),u0=!1;function wp(t,e){switch(t){case"keyup":return Ig.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _p(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hi=!1;function jg(t,e){switch(t){case"compositionend":return _p(e);case"keypress":return e.which!==32?null:(u0=!0,c0);case"textInput":return t=e.data,t===c0&&u0?null:t;default:return null}}function kg(t,e){if(Hi)return t==="compositionend"||!Dd&&wp(t,e)?(t=gp(),To=kd=Mn=null,Hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yp&&e.locale!=="ko"?null:e.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Og[t.type]:e==="textarea"}function bp(t,e,r,n){J1(n),e=Ko(e,"onChange"),0<e.length&&(r=new Od("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var os=null,bs=null;function Rg(t){Rp(t,0)}function Tl(t){var e=Xi(t);if(G1(e))return t}function Dg(t,e){if(t==="change")return e}var Ep=!1;if(pn){var hc;if(pn){var pc="oninput"in document;if(!pc){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),pc=typeof f0.oninput=="function"}hc=pc}else hc=!1;Ep=hc&&(!document.documentMode||9<document.documentMode)}function h0(){os&&(os.detachEvent("onpropertychange",Np),bs=os=null)}function Np(t){if(t.propertyName==="value"&&Tl(bs)){var e=[];bp(e,bs,t,Ad(t)),np(Rg,e)}}function Pg(t,e,r){t==="focusin"?(h0(),os=e,bs=r,os.attachEvent("onpropertychange",Np)):t==="focusout"&&h0()}function Mg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(bs)}function Lg(t,e){if(t==="click")return Tl(e)}function Fg(t,e){if(t==="input"||t==="change")return Tl(e)}function Bg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zr=typeof Object.is=="function"?Object.is:Bg;function Es(t,e){if(zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gc.call(e,i)||!zr(t[i],e[i]))return!1}return!0}function p0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m0(t,e){var r=p0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=p0(r)}}function Cp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ap(){for(var t=window,e=$o();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$o(t.document)}return e}function Pd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ug(t){var e=Ap(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Cp(r.ownerDocument.documentElement,r)){if(n!==null&&Pd(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=m0(r,a);var s=m0(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vg=pn&&"documentMode"in document&&11>=document.documentMode,Wi=null,du=null,ls=null,fu=!1;function x0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fu||Wi==null||Wi!==$o(n)||(n=Wi,"selectionStart"in n&&Pd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ls&&Es(ls,n)||(ls=n,n=Ko(du,"onSelect"),0<n.length&&(e=new Od("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wi)))}function oo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gi={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},mc={},Sp={};pn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function jl(t){if(mc[t])return mc[t];if(!Gi[t])return t;var e=Gi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Sp)return mc[t]=e[r];return t}var Ip=jl("animationend"),Tp=jl("animationiteration"),jp=jl("animationstart"),kp=jl("transitionend"),Op=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(t,e){Op.set(t,e),Ri(e,[t])}for(var xc=0;xc<v0.length;xc++){var vc=v0[xc],zg=vc.toLowerCase(),$g=vc[0].toUpperCase()+vc.slice(1);ai(zg,"on"+$g)}ai(Ip,"onAnimationEnd");ai(Tp,"onAnimationIteration");ai(jp,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(kp,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hg=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function g0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zv(n,e,void 0,t),t.currentTarget=null}function Rp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;g0(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;g0(i,o,u),a=c}}}if(Wo)throw t=ou,Wo=!1,ou=null,t}function Pe(t,e){var r=e[vu];r===void 0&&(r=e[vu]=new Set);var n=t+"__bubble";r.has(n)||(Dp(e,t,2,!1),r.add(n))}function gc(t,e,r){var n=0;e&&(n|=4),Dp(r,t,n,e)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Ns(t){if(!t[lo]){t[lo]=!0,V1.forEach(function(r){r!=="selectionchange"&&(Hg.has(r)||gc(r,!1,t),gc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lo]||(e[lo]=!0,gc("selectionchange",!1,e))}}function Dp(t,e,r,n){switch(vp(e)){case 1:var i=ig;break;case 4:i=ag;break;default:i=jd}r=i.bind(null,e,r,t),i=void 0,!su||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function yc(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=vi(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}np(function(){var u=a,d=Ad(r),f=[];e:{var h=Op.get(t);if(h!==void 0){var p=Od,m=t;switch(t){case"keypress":if(jo(r)===0)break e;case"keydown":case"keyup":p=wg;break;case"focusin":m="focus",p=fc;break;case"focusout":m="blur",p=fc;break;case"beforeblur":case"afterblur":p=fc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Eg;break;case Ip:case Tp:case jp:p=dg;break;case kp:p=Cg;break;case"scroll":p=sg;break;case"wheel":p=Sg;break;case"copy":case"cut":case"paste":p=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=l0}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,y;x!==null;){y=x;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=gs(x,g),_!=null&&v.push(Cs(x,_,y)))),w)break;x=x.return}0<v.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==iu&&(m=r.relatedTarget||r.fromElement)&&(vi(m)||m[mn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?vi(m):null,m!==null&&(w=Di(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=s0,_="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=l0,_="onPointerLeave",g="onPointerEnter",x="pointer"),w=p==null?h:Xi(p),y=m==null?h:Xi(m),h=new v(_,x+"leave",p,r,d),h.target=w,h.relatedTarget=y,_=null,vi(d)===u&&(v=new v(g,x+"enter",m,r,d),v.target=y,v.relatedTarget=w,_=v),w=_,p&&m)t:{for(v=p,g=m,x=0,y=v;y;y=Li(y))x++;for(y=0,_=g;_;_=Li(_))y++;for(;0<x-y;)v=Li(v),x--;for(;0<y-x;)g=Li(g),y--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Li(v),g=Li(g)}v=null}else v=null;p!==null&&y0(f,h,p,v,!1),m!==null&&w!==null&&y0(f,w,m,v,!0)}}e:{if(h=u?Xi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=Dg;else if(d0(h))if(Ep)E=Fg;else{E=Mg;var A=Pg}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Lg);if(E&&(E=E(t,u))){bp(f,E,r,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Jc(h,"number",h.value)}switch(A=u?Xi(u):window,t){case"focusin":(d0(A)||A.contentEditable==="true")&&(Wi=A,du=u,ls=null);break;case"focusout":ls=du=Wi=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,x0(f,r,d);break;case"selectionchange":if(Vg)break;case"keydown":case"keyup":x0(f,r,d)}var I;if(Dd)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Hi?wp(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(yp&&r.locale!=="ko"&&(Hi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Hi&&(I=gp()):(Mn=d,kd="value"in Mn?Mn.value:Mn.textContent,Hi=!0)),A=Ko(u,S),0<A.length&&(S=new o0(S,t,null,r,d),f.push({event:S,listeners:A}),I?S.data=I:(I=_p(r),I!==null&&(S.data=I)))),(I=Tg?jg(t,r):kg(t,r))&&(u=Ko(u,"onBeforeInput"),0<u.length&&(d=new o0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=I))}Rp(f,e)})}function Cs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ko(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gs(t,r),a!=null&&n.unshift(Cs(t,a,i)),a=gs(t,e),a!=null&&n.push(Cs(t,a,i))),t=t.return}return n}function Li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function y0(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=gs(r,a),c!=null&&s.unshift(Cs(r,c,o))):i||(c=gs(r,a),c!=null&&s.push(Cs(r,c,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Wg=/\r\n?/g,Gg=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(Wg,`
`).replace(Gg,"")}function co(t,e,r){if(e=w0(e),w0(t)!==e&&r)throw Error(M(425))}function Qo(){}var hu=null,pu=null;function mu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,Xg=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,Zg=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(t){return _0.resolve(null).then(t).catch(Yg)}:xu;function Yg(t){setTimeout(function(){throw t})}function wc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),_s(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);_s(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Ia,As="__reactProps$"+Ia,mn="__reactContainer$"+Ia,vu="__reactEvents$"+Ia,Kg="__reactListeners$"+Ia,Qg="__reactHandles$"+Ia;function vi(t){var e=t[Yr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[mn]||r[Yr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=b0(t);t!==null;){if(r=t[Yr])return r;t=b0(t)}return e}t=r,r=t.parentNode}return null}function Ws(t){return t=t[Yr]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function kl(t){return t[As]||null}var gu=[],Zi=-1;function si(t){return{current:t}}function Be(t){0>Zi||(t.current=gu[Zi],gu[Zi]=null,Zi--)}function Re(t,e){Zi++,gu[Zi]=t.current,t.current=e}var ti={},Pt=si(ti),Qt=si(!1),Ci=ti;function ha(t,e){var r=t.type.contextTypes;if(!r)return ti;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function qo(){Be(Qt),Be(Pt)}function E0(t,e,r){if(Pt.current!==ti)throw Error(M(168));Re(Pt,e),Re(Qt,r)}function Pp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(M(108,Pv(t)||"Unknown",i));return Ge({},r,n)}function Jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,Ci=Pt.current,Re(Pt,t),Re(Qt,Qt.current),!0}function N0(t,e,r){var n=t.stateNode;if(!n)throw Error(M(169));r?(t=Pp(t,e,Ci),n.__reactInternalMemoizedMergedChildContext=t,Be(Qt),Be(Pt),Re(Pt,t)):Be(Qt),Re(Qt,r)}var un=null,Ol=!1,_c=!1;function Mp(t){un===null?un=[t]:un.push(t)}function qg(t){Ol=!0,Mp(t)}function oi(){if(!_c&&un!==null){_c=!0;var t=0,e=Se;try{var r=un;for(Se=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}un=null,Ol=!1}catch(i){throw un!==null&&(un=un.slice(t+1)),op(Sd,oi),i}finally{Se=e,_c=!1}}return null}var Yi=[],Ki=0,el=null,tl=0,gr=[],yr=0,Ai=null,dn=1,fn="";function pi(t,e){Yi[Ki++]=tl,Yi[Ki++]=el,el=t,tl=e}function Lp(t,e,r){gr[yr++]=dn,gr[yr++]=fn,gr[yr++]=Ai,Ai=t;var n=dn;t=fn;var i=32-Ur(n)-1;n&=~(1<<i),r+=1;var a=32-Ur(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,dn=1<<32-Ur(e)+i|r<<i|n,fn=a+t}else dn=1<<a|r<<i|n,fn=t}function Md(t){t.return!==null&&(pi(t,1),Lp(t,1,0))}function Ld(t){for(;t===el;)el=Yi[--Ki],Yi[Ki]=null,tl=Yi[--Ki],Yi[Ki]=null;for(;t===Ai;)Ai=gr[--yr],gr[yr]=null,fn=gr[--yr],gr[yr]=null,dn=gr[--yr],gr[yr]=null}var ir=null,nr=null,Ve=!1,Dr=null;function Fp(t,e){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function C0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,nr=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ai!==null?{id:dn,overflow:fn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ir=t,nr=null,!0):!1;default:return!1}}function yu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wu(t){if(Ve){var e=nr;if(e){var r=e;if(!C0(t,e)){if(yu(t))throw Error(M(418));e=Hn(r.nextSibling);var n=ir;e&&C0(t,e)?Fp(n,r):(t.flags=t.flags&-4097|2,Ve=!1,ir=t)}}else{if(yu(t))throw Error(M(418));t.flags=t.flags&-4097|2,Ve=!1,ir=t}}}function A0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function uo(t){if(t!==ir)return!1;if(!Ve)return A0(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mu(t.type,t.memoizedProps)),e&&(e=nr)){if(yu(t))throw Bp(),Error(M(418));for(;e;)Fp(t,e),e=Hn(e.nextSibling)}if(A0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){nr=Hn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}nr=null}}else nr=ir?Hn(t.stateNode.nextSibling):null;return!0}function Bp(){for(var t=nr;t;)t=Hn(t.nextSibling)}function pa(){nr=ir=null,Ve=!1}function Fd(t){Dr===null?Dr=[t]:Dr.push(t)}var Jg=wn.ReactCurrentBatchConfig;function Fa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,t))}return t}function fo(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S0(t){var e=t._init;return e(t._payload)}function Up(t){function e(g,x){if(t){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function r(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Zn(g,x),g.index=0,g.sibling=null,g}function a(g,x,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,x,y,_){return x===null||x.tag!==6?(x=Ic(y,g.mode,_),x.return=g,x):(x=i(x,y),x.return=g,x)}function c(g,x,y,_){var E=y.type;return E===$i?d(g,x,y.props.children,_,y.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===In&&S0(E)===x.type)?(_=i(x,y.props),_.ref=Fa(g,x,y),_.return=g,_):(_=Lo(y.type,y.key,y.props,null,g.mode,_),_.ref=Fa(g,x,y),_.return=g,_)}function u(g,x,y,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Tc(y,g.mode,_),x.return=g,x):(x=i(x,y.children||[]),x.return=g,x)}function d(g,x,y,_,E){return x===null||x.tag!==7?(x=Ei(y,g.mode,_,E),x.return=g,x):(x=i(x,y),x.return=g,x)}function f(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ic(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case eo:return y=Lo(x.type,x.key,x.props,null,g.mode,y),y.ref=Fa(g,null,x),y.return=g,y;case zi:return x=Tc(x,g.mode,y),x.return=g,x;case In:var _=x._init;return f(g,_(x._payload),y)}if(Ka(x)||Ra(x))return x=Ei(x,g.mode,y,null),x.return=g,x;fo(g,x)}return null}function h(g,x,y,_){var E=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:o(g,x,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case eo:return y.key===E?c(g,x,y,_):null;case zi:return y.key===E?u(g,x,y,_):null;case In:return E=y._init,h(g,x,E(y._payload),_)}if(Ka(y)||Ra(y))return E!==null?null:d(g,x,y,_,null);fo(g,y)}return null}function p(g,x,y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,o(x,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eo:return g=g.get(_.key===null?y:_.key)||null,c(x,g,_,E);case zi:return g=g.get(_.key===null?y:_.key)||null,u(x,g,_,E);case In:var A=_._init;return p(g,x,y,A(_._payload),E)}if(Ka(_)||Ra(_))return g=g.get(y)||null,d(x,g,_,E,null);fo(x,_)}return null}function m(g,x,y,_){for(var E=null,A=null,I=x,S=x=0,O=null;I!==null&&S<y.length;S++){I.index>S?(O=I,I=null):O=I.sibling;var j=h(g,I,y[S],_);if(j===null){I===null&&(I=O);break}t&&I&&j.alternate===null&&e(g,I),x=a(j,x,S),A===null?E=j:A.sibling=j,A=j,I=O}if(S===y.length)return r(g,I),Ve&&pi(g,S),E;if(I===null){for(;S<y.length;S++)I=f(g,y[S],_),I!==null&&(x=a(I,x,S),A===null?E=I:A.sibling=I,A=I);return Ve&&pi(g,S),E}for(I=n(g,I);S<y.length;S++)O=p(I,g,S,y[S],_),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?S:O.key),x=a(O,x,S),A===null?E=O:A.sibling=O,A=O);return t&&I.forEach(function(H){return e(g,H)}),Ve&&pi(g,S),E}function v(g,x,y,_){var E=Ra(y);if(typeof E!="function")throw Error(M(150));if(y=E.call(y),y==null)throw Error(M(151));for(var A=E=null,I=x,S=x=0,O=null,j=y.next();I!==null&&!j.done;S++,j=y.next()){I.index>S?(O=I,I=null):O=I.sibling;var H=h(g,I,j.value,_);if(H===null){I===null&&(I=O);break}t&&I&&H.alternate===null&&e(g,I),x=a(H,x,S),A===null?E=H:A.sibling=H,A=H,I=O}if(j.done)return r(g,I),Ve&&pi(g,S),E;if(I===null){for(;!j.done;S++,j=y.next())j=f(g,j.value,_),j!==null&&(x=a(j,x,S),A===null?E=j:A.sibling=j,A=j);return Ve&&pi(g,S),E}for(I=n(g,I);!j.done;S++,j=y.next())j=p(I,g,S,j.value,_),j!==null&&(t&&j.alternate!==null&&I.delete(j.key===null?S:j.key),x=a(j,x,S),A===null?E=j:A.sibling=j,A=j);return t&&I.forEach(function(P){return e(g,P)}),Ve&&pi(g,S),E}function w(g,x,y,_){if(typeof y=="object"&&y!==null&&y.type===$i&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case eo:e:{for(var E=y.key,A=x;A!==null;){if(A.key===E){if(E=y.type,E===$i){if(A.tag===7){r(g,A.sibling),x=i(A,y.props.children),x.return=g,g=x;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===In&&S0(E)===A.type){r(g,A.sibling),x=i(A,y.props),x.ref=Fa(g,A,y),x.return=g,g=x;break e}r(g,A);break}else e(g,A);A=A.sibling}y.type===$i?(x=Ei(y.props.children,g.mode,_,y.key),x.return=g,g=x):(_=Lo(y.type,y.key,y.props,null,g.mode,_),_.ref=Fa(g,x,y),_.return=g,g=_)}return s(g);case zi:e:{for(A=y.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(g,x.sibling),x=i(x,y.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else e(g,x);x=x.sibling}x=Tc(y,g.mode,_),x.return=g,g=x}return s(g);case In:return A=y._init,w(g,x,A(y._payload),_)}if(Ka(y))return m(g,x,y,_);if(Ra(y))return v(g,x,y,_);fo(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(g,x.sibling),x=i(x,y),x.return=g,g=x):(r(g,x),x=Ic(y,g.mode,_),x.return=g,g=x),s(g)):r(g,x)}return w}var ma=Up(!0),Vp=Up(!1),rl=si(null),nl=null,Qi=null,Bd=null;function Ud(){Bd=Qi=nl=null}function Vd(t){var e=rl.current;Be(rl),t._currentValue=e}function _u(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function la(t,e){nl=t,Bd=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function Nr(t){var e=t._currentValue;if(Bd!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(nl===null)throw Error(M(308));Qi=t,nl.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var gi=null;function zd(t){gi===null?gi=[t]:gi.push(t)}function zp(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,zd(e)):(r.next=i.next,i.next=r),e.interleaved=r,xn(t,n)}function xn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Tn=!1;function $d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xn(t,r)}return i=n.interleaved,i===null?(e.next=e,zd(n)):(e.next=i.next,i.next=e),n.interleaved=e,xn(t,r)}function ko(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Id(t,r)}}function I0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function il(t,e,r,n){var i=t.updateQueue;Tn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,v=o;switch(h=e,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Ge({},f,h);break e;case 2:Tn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ii|=s,t.lanes=s,t.memoizedState=f}}function T0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(M(191,i));i.call(n)}}}var Gs={},tn=si(Gs),Ss=si(Gs),Is=si(Gs);function yi(t){if(t===Gs)throw Error(M(174));return t}function Hd(t,e){switch(Re(Is,e),Re(Ss,t),Re(tn,Gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tu(e,t)}Be(tn),Re(tn,e)}function xa(){Be(tn),Be(Ss),Be(Is)}function Hp(t){yi(Is.current);var e=yi(tn.current),r=tu(e,t.type);e!==r&&(Re(Ss,t),Re(tn,r))}function Wd(t){Ss.current===t&&(Be(tn),Be(Ss))}var $e=si(0);function al(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bc=[];function Gd(){for(var t=0;t<bc.length;t++)bc[t]._workInProgressVersionPrimary=null;bc.length=0}var Oo=wn.ReactCurrentDispatcher,Ec=wn.ReactCurrentBatchConfig,Si=0,We=null,ot=null,vt=null,sl=!1,cs=!1,Ts=0,ey=0;function Tt(){throw Error(M(321))}function Xd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zr(t[r],e[r]))return!1;return!0}function Zd(t,e,r,n,i,a){if(Si=a,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oo.current=t===null||t.memoizedState===null?iy:ay,t=r(n,i),cs){a=0;do{if(cs=!1,Ts=0,25<=a)throw Error(M(301));a+=1,vt=ot=null,e.updateQueue=null,Oo.current=sy,t=r(n,i)}while(cs)}if(Oo.current=ol,e=ot!==null&&ot.next!==null,Si=0,vt=ot=We=null,sl=!1,e)throw Error(M(300));return t}function Yd(){var t=Ts!==0;return Ts=0,t}function Xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?We.memoizedState=vt=t:vt=vt.next=t,vt}function Cr(){if(ot===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=vt===null?We.memoizedState:vt.next;if(e!==null)vt=e,ot=t;else{if(t===null)throw Error(M(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},vt===null?We.memoizedState=vt=t:vt=vt.next=t}return vt}function js(t,e){return typeof e=="function"?e(t):e}function Nc(t){var e=Cr(),r=e.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=t;var n=ot,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((Si&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,We.lanes|=d,Ii|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,zr(n,e.memoizedState)||(Kt=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,We.lanes|=a,Ii|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Cc(t){var e=Cr(),r=e.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);zr(a,e.memoizedState)||(Kt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Wp(){}function Gp(t,e){var r=We,n=Cr(),i=e(),a=!zr(n.memoizedState,i);if(a&&(n.memoizedState=i,Kt=!0),n=n.queue,Kd(Yp.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,ks(9,Zp.bind(null,r,n,i,e),void 0,null),wt===null)throw Error(M(349));Si&30||Xp(r,e,i)}return i}function Xp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Zp(t,e,r,n){e.value=r,e.getSnapshot=n,Kp(e)&&Qp(t)}function Yp(t,e,r){return r(function(){Kp(e)&&Qp(t)})}function Kp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!zr(t,r)}catch{return!0}}function Qp(t){var e=xn(t,1);e!==null&&Vr(e,t,1,-1)}function j0(t){var e=Xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:t},e.queue=t,t=t.dispatch=ny.bind(null,We,t),[e.memoizedState,t]}function ks(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qp(){return Cr().memoizedState}function Ro(t,e,r,n){var i=Xr();We.flags|=t,i.memoizedState=ks(1|e,r,void 0,n===void 0?null:n)}function Rl(t,e,r,n){var i=Cr();n=n===void 0?null:n;var a=void 0;if(ot!==null){var s=ot.memoizedState;if(a=s.destroy,n!==null&&Xd(n,s.deps)){i.memoizedState=ks(e,r,a,n);return}}We.flags|=t,i.memoizedState=ks(1|e,r,a,n)}function k0(t,e){return Ro(8390656,8,t,e)}function Kd(t,e){return Rl(2048,8,t,e)}function Jp(t,e){return Rl(4,2,t,e)}function em(t,e){return Rl(4,4,t,e)}function tm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rm(t,e,r){return r=r!=null?r.concat([t]):null,Rl(4,4,tm.bind(null,e,t),r)}function Qd(){}function nm(t,e){var r=Cr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function im(t,e){var r=Cr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function am(t,e,r){return Si&21?(zr(r,e)||(r=up(),We.lanes|=r,Ii|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=r)}function ty(t,e){var r=Se;Se=r!==0&&4>r?r:4,t(!0);var n=Ec.transition;Ec.transition={};try{t(!1),e()}finally{Se=r,Ec.transition=n}}function sm(){return Cr().memoizedState}function ry(t,e,r){var n=Xn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},om(t))lm(e,r);else if(r=zp(t,e,r,n),r!==null){var i=zt();Vr(r,t,n,i),cm(r,e,n)}}function ny(t,e,r){var n=Xn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(om(t))lm(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,zr(o,s)){var c=e.interleaved;c===null?(i.next=i,zd(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=zp(t,e,i,n),r!==null&&(i=zt(),Vr(r,t,n,i),cm(r,e,n))}}function om(t){var e=t.alternate;return t===We||e!==null&&e===We}function lm(t,e){cs=sl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function cm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Id(t,r)}}var ol={readContext:Nr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},iy={readContext:Nr,useCallback:function(t,e){return Xr().memoizedState=[t,e===void 0?null:e],t},useContext:Nr,useEffect:k0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ro(4194308,4,tm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ro(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ro(4,2,t,e)},useMemo:function(t,e){var r=Xr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ry.bind(null,We,t),[n.memoizedState,t]},useRef:function(t){var e=Xr();return t={current:t},e.memoizedState=t},useState:j0,useDebugValue:Qd,useDeferredValue:function(t){return Xr().memoizedState=t},useTransition:function(){var t=j0(!1),e=t[0];return t=ty.bind(null,t[1]),Xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=We,i=Xr();if(Ve){if(r===void 0)throw Error(M(407));r=r()}else{if(r=e(),wt===null)throw Error(M(349));Si&30||Xp(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,k0(Yp.bind(null,n,a,t),[t]),n.flags|=2048,ks(9,Zp.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Xr(),e=wt.identifierPrefix;if(Ve){var r=fn,n=dn;r=(n&~(1<<32-Ur(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ts++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ey++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ay={readContext:Nr,useCallback:nm,useContext:Nr,useEffect:Kd,useImperativeHandle:rm,useInsertionEffect:Jp,useLayoutEffect:em,useMemo:im,useReducer:Nc,useRef:qp,useState:function(){return Nc(js)},useDebugValue:Qd,useDeferredValue:function(t){var e=Cr();return am(e,ot.memoizedState,t)},useTransition:function(){var t=Nc(js)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:Wp,useSyncExternalStore:Gp,useId:sm,unstable_isNewReconciler:!1},sy={readContext:Nr,useCallback:nm,useContext:Nr,useEffect:Kd,useImperativeHandle:rm,useInsertionEffect:Jp,useLayoutEffect:em,useMemo:im,useReducer:Cc,useRef:qp,useState:function(){return Cc(js)},useDebugValue:Qd,useDeferredValue:function(t){var e=Cr();return ot===null?e.memoizedState=t:am(e,ot.memoizedState,t)},useTransition:function(){var t=Cc(js)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:Wp,useSyncExternalStore:Gp,useId:sm,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function bu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ge({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dl={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zt(),i=Xn(t),a=hn(n,i);a.payload=e,r!=null&&(a.callback=r),e=Wn(t,a,i),e!==null&&(Vr(e,t,i,n),ko(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zt(),i=Xn(t),a=hn(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Wn(t,a,i),e!==null&&(Vr(e,t,i,n),ko(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zt(),n=Xn(t),i=hn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Wn(t,i,n),e!==null&&(Vr(e,t,n,r),ko(e,t,n))}};function O0(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Es(r,n)||!Es(i,a):!0}function um(t,e,r){var n=!1,i=ti,a=e.contextType;return typeof a=="object"&&a!==null?a=Nr(a):(i=qt(e)?Ci:Pt.current,n=e.contextTypes,a=(n=n!=null)?ha(t,i):ti),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function R0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Dl.enqueueReplaceState(e,e.state,null)}function Eu(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},$d(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Nr(a):(a=qt(e)?Ci:Pt.current,i.context=ha(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(bu(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dl.enqueueReplaceState(i,i.state,null),il(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e){try{var r="",n=e;do r+=Dv(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ac(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Nu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function dm(t,e,r){r=hn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){cl||(cl=!0,Du=n),Nu(t,e)},r}function fm(t,e,r){r=hn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Nu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Nu(t,e),typeof n!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function D0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new oy;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=_y.bind(null,t,e,r),e.then(t,t))}function P0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M0(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hn(-1,1),e.tag=2,Wn(r,e,1))),r.lanes|=1),t)}var ly=wn.ReactCurrentOwner,Kt=!1;function Ut(t,e,r,n){e.child=t===null?Vp(e,null,r,n):ma(e,t.child,r,n)}function L0(t,e,r,n,i){r=r.render;var a=e.ref;return la(e,i),n=Zd(t,e,r,n,a,i),r=Yd(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(Ve&&r&&Md(e),e.flags|=1,Ut(t,e,n,i),e.child)}function F0(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!sf(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,hm(t,e,a,n,i)):(t=Lo(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Es,r(s,n)&&t.ref===e.ref)return vn(t,e,i)}return e.flags|=1,t=Zn(a,n),t.ref=e.ref,t.return=e,e.child=t}function hm(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Es(a,n)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,vn(t,e,i)}return Cu(t,e,r,n,i)}function pm(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ji,tr),tr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Ji,tr),tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Re(Ji,tr),tr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Re(Ji,tr),tr|=n;return Ut(t,e,i,r),e.child}function mm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Cu(t,e,r,n,i){var a=qt(r)?Ci:Pt.current;return a=ha(e,a),la(e,i),r=Zd(t,e,r,n,a,i),n=Yd(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(Ve&&n&&Md(e),e.flags|=1,Ut(t,e,r,i),e.child)}function B0(t,e,r,n,i){if(qt(r)){var a=!0;Jo(e)}else a=!1;if(la(e,i),e.stateNode===null)Do(t,e),um(e,r,n),Eu(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=qt(r)?Ci:Pt.current,u=ha(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&R0(e,s,n,u),Tn=!1;var h=e.memoizedState;s.state=h,il(e,n,s,i),c=e.memoizedState,o!==n||h!==c||Qt.current||Tn?(typeof d=="function"&&(bu(e,r,d,n),c=e.memoizedState),(o=Tn||O0(e,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,$p(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Or(e.type,o),s.props=u,f=e.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nr(c):(c=qt(r)?Ci:Pt.current,c=ha(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&R0(e,s,n,c),Tn=!1,h=e.memoizedState,s.state=h,il(e,n,s,i);var m=e.memoizedState;o!==f||h!==m||Qt.current||Tn?(typeof p=="function"&&(bu(e,r,p,n),m=e.memoizedState),(u=Tn||O0(e,r,u,n,h,m,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Au(t,e,r,n,a,i)}function Au(t,e,r,n,i,a){mm(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&N0(e,r,!1),vn(t,e,a);n=e.stateNode,ly.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=ma(e,t.child,null,a),e.child=ma(e,null,o,a)):Ut(t,e,o,a),e.memoizedState=n.state,i&&N0(e,r,!0),e.child}function xm(t){var e=t.stateNode;e.pendingContext?E0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E0(t,e.context,!1),Hd(t,e.containerInfo)}function U0(t,e,r,n,i){return pa(),Fd(i),e.flags|=256,Ut(t,e,r,n),e.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function Iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function vm(t,e,r){var n=e.pendingProps,i=$e.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re($e,i&1),t===null)return wu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Ll(s,n,0,null),t=Ei(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Iu(r),e.memoizedState=Su,t):qd(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return cy(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Zn(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Zn(o,a):(a=Ei(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?Iu(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Su,n}return a=t.child,t=a.sibling,n=Zn(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function qd(t,e){return e=Ll({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ho(t,e,r,n){return n!==null&&Fd(n),ma(e,t.child,null,r),t=qd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cy(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Ac(Error(M(422))),ho(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Ll({mode:"visible",children:n.children},i,0,null),a=Ei(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ma(e,t.child,null,s),e.child.memoizedState=Iu(s),e.memoizedState=Su,a);if(!(e.mode&1))return ho(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(M(419)),n=Ac(a,n,void 0),ho(t,e,s,n)}if(o=(s&t.childLanes)!==0,Kt||o){if(n=wt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xn(t,i),Vr(n,t,i,-1))}return af(),n=Ac(Error(M(421))),ho(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=by.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,nr=Hn(i.nextSibling),ir=e,Ve=!0,Dr=null,t!==null&&(gr[yr++]=dn,gr[yr++]=fn,gr[yr++]=Ai,dn=t.id,fn=t.overflow,Ai=e),e=qd(e,n.children),e.flags|=4096,e)}function V0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_u(t.return,e,r)}function Sc(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function gm(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ut(t,e,n.children,r),n=$e.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&V0(t,r,e);else if(t.tag===19)V0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Re($e,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&al(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Sc(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&al(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Sc(e,!0,r,null,a);break;case"together":Sc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Do(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ii|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,r=Zn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function uy(t,e,r){switch(e.tag){case 3:xm(e),pa();break;case 5:Hp(e);break;case 1:qt(e.type)&&Jo(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Re(rl,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Re($e,$e.current&1),e.flags|=128,null):r&e.child.childLanes?vm(t,e,r):(Re($e,$e.current&1),t=vn(t,e,r),t!==null?t.sibling:null);Re($e,$e.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return gm(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re($e,$e.current),n)break;return null;case 22:case 23:return e.lanes=0,pm(t,e,r)}return vn(t,e,r)}var ym,Tu,wm,_m;ym=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tu=function(){};wm=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,yi(tn.current);var a=null;switch(r){case"input":i=Qc(t,i),n=Qc(t,n),a=[];break;case"select":i=Ge({},i,{value:void 0}),n=Ge({},n,{value:void 0}),a=[];break;case"textarea":i=eu(t,i),n=eu(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qo)}ru(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",t),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};_m=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ba(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dy(t,e,r){var n=e.pendingProps;switch(Ld(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return qt(e.type)&&qo(),jt(e),null;case 3:return n=e.stateNode,xa(),Be(Qt),Be(Pt),Gd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dr!==null&&(Lu(Dr),Dr=null))),Tu(t,e),jt(e),null;case 5:Wd(e);var i=yi(Is.current);if(r=e.type,t!==null&&e.stateNode!=null)wm(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(M(166));return jt(e),null}if(t=yi(tn.current),uo(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Yr]=e,n[As]=a,t=(e.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(i=0;i<qa.length;i++)Pe(qa[i],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Kf(n,a),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Pe("invalid",n);break;case"textarea":qf(n,a),Pe("invalid",n)}ru(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&co(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&co(n.textContent,o,t),i=["children",""+o]):xs.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Pe("scroll",n)}switch(r){case"input":to(n),Qf(n,a,!0);break;case"textarea":to(n),Jf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Qo)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y1(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Yr]=e,t[As]=n,ym(t,e,!1,!1),e.stateNode=t;e:{switch(s=nu(r,n),r){case"dialog":Pe("cancel",t),Pe("close",t),i=n;break;case"iframe":case"object":case"embed":Pe("load",t),i=n;break;case"video":case"audio":for(i=0;i<qa.length;i++)Pe(qa[i],t);i=n;break;case"source":Pe("error",t),i=n;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=n;break;case"details":Pe("toggle",t),i=n;break;case"input":Kf(t,n),i=Qc(t,n),Pe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ge({},n,{value:void 0}),Pe("invalid",t);break;case"textarea":qf(t,n),i=eu(t,n),Pe("invalid",t);break;default:i=n}ru(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?q1(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K1(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&vs(t,c):typeof c=="number"&&vs(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xs.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Pe("scroll",t):c!=null&&bd(t,a,c,s))}switch(r){case"input":to(t),Qf(t,n,!1);break;case"textarea":to(t),Jf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ei(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ia(t,!!n.multiple,a,!1):n.defaultValue!=null&&ia(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)_m(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(M(166));if(r=yi(Is.current),yi(tn.current),uo(e)){if(n=e.stateNode,r=e.memoizedProps,n[Yr]=e,(a=n.nodeValue!==r)&&(t=ir,t!==null))switch(t.tag){case 3:co(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&co(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yr]=e,e.stateNode=n}return jt(e),null;case 13:if(Be($e),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&nr!==null&&e.mode&1&&!(e.flags&128))Bp(),pa(),e.flags|=98560,a=!1;else if(a=uo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(M(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Yr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),a=!1}else Dr!==null&&(Lu(Dr),Dr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?ft===0&&(ft=3):af())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return xa(),Tu(t,e),t===null&&Ns(e.stateNode.containerInfo),jt(e),null;case 10:return Vd(e.type._context),jt(e),null;case 17:return qt(e.type)&&qo(),jt(e),null;case 19:if(Be($e),a=e.memoizedState,a===null)return jt(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Ba(a,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=al(t),s!==null){for(e.flags|=128,Ba(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Re($e,$e.current&1|2),e.child}t=t.sibling}a.tail!==null&&Qe()>ga&&(e.flags|=128,n=!0,Ba(a,!1),e.lanes=4194304)}else{if(!n)if(t=al(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ba(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ve)return jt(e),null}else 2*Qe()-a.renderingStartTime>ga&&r!==1073741824&&(e.flags|=128,n=!0,Ba(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qe(),e.sibling=null,r=$e.current,Re($e,n?r&1|2:r&1),e):(jt(e),null);case 22:case 23:return nf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?tr&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function fy(t,e){switch(Ld(e),e.tag){case 1:return qt(e.type)&&qo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),Be(Qt),Be(Pt),Gd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wd(e),null;case 13:if(Be($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be($e),null;case 4:return xa(),null;case 10:return Vd(e.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var po=!1,Rt=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Z=null;function qi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ke(t,e,n)}else r.current=null}function ju(t,e,r){try{r()}catch(n){Ke(t,e,n)}}var z0=!1;function py(t,e){if(hu=Zo,t=Ap(),Pd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pu={focusedElem:t,selectionRange:r},Zo=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Or(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(_){Ke(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return m=z0,z0=!1,m}function us(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ju(e,r,a)}i=i.next}while(i!==n)}}function Pl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ku(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bm(t){var e=t.alternate;e!==null&&(t.alternate=null,bm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[As],delete e[vu],delete e[Kg],delete e[Qg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Em(t){return t.tag===5||t.tag===3||t.tag===4}function $0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Em(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ou(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qo));else if(n!==4&&(t=t.child,t!==null))for(Ou(t,e,r),t=t.sibling;t!==null;)Ou(t,e,r),t=t.sibling}function Ru(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ru(t,e,r),t=t.sibling;t!==null;)Ru(t,e,r),t=t.sibling}var Nt=null,Rr=!1;function Nn(t,e,r){for(r=r.child;r!==null;)Nm(t,e,r),r=r.sibling}function Nm(t,e,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Sl,r)}catch{}switch(r.tag){case 5:Rt||qi(r,e);case 6:var n=Nt,i=Rr;Nt=null,Nn(t,e,r),Nt=n,Rr=i,Nt!==null&&(Rr?(t=Nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Rr?(t=Nt,r=r.stateNode,t.nodeType===8?wc(t.parentNode,r):t.nodeType===1&&wc(t,r),_s(t)):wc(Nt,r.stateNode));break;case 4:n=Nt,i=Rr,Nt=r.stateNode.containerInfo,Rr=!0,Nn(t,e,r),Nt=n,Rr=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ju(r,e,s),i=i.next}while(i!==n)}Nn(t,e,r);break;case 1:if(!Rt&&(qi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ke(r,e,o)}Nn(t,e,r);break;case 21:Nn(t,e,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,Nn(t,e,r),Rt=n):Nn(t,e,r);break;default:Nn(t,e,r)}}function H0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new hy),e.forEach(function(n){var i=Ey.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Nt=o.stateNode,Rr=!1;break e;case 3:Nt=o.stateNode.containerInfo,Rr=!0;break e;case 4:Nt=o.stateNode.containerInfo,Rr=!0;break e}o=o.return}if(Nt===null)throw Error(M(160));Nm(a,s,i),Nt=null,Rr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cm(e,t),e=e.sibling}function Cm(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Gr(t),n&4){try{us(3,t,t.return),Pl(3,t)}catch(v){Ke(t,t.return,v)}try{us(5,t,t.return)}catch(v){Ke(t,t.return,v)}}break;case 1:Tr(e,t),Gr(t),n&512&&r!==null&&qi(r,r.return);break;case 5:if(Tr(e,t),Gr(t),n&512&&r!==null&&qi(r,r.return),t.flags&32){var i=t.stateNode;try{vs(i,"")}catch(v){Ke(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&X1(i,a),nu(o,s);var u=nu(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?q1(i,f):d==="dangerouslySetInnerHTML"?K1(i,f):d==="children"?vs(i,f):bd(i,d,f,u)}switch(o){case"input":qc(i,a);break;case"textarea":Z1(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ia(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ia(i,!!a.multiple,a.defaultValue,!0):ia(i,!!a.multiple,a.multiple?[]:"",!1))}i[As]=a}catch(v){Ke(t,t.return,v)}}break;case 6:if(Tr(e,t),Gr(t),n&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Ke(t,t.return,v)}}break;case 3:if(Tr(e,t),Gr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_s(e.containerInfo)}catch(v){Ke(t,t.return,v)}break;case 4:Tr(e,t),Gr(t);break;case 13:Tr(e,t),Gr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tf=Qe())),n&4&&H0(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||d,Tr(e,t),Rt=u):Tr(e,t),Gr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:us(4,h,h.return);break;case 1:qi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Ke(n,r,v)}}break;case 5:qi(h,h.return);break;case 22:if(h.memoizedState!==null){G0(f);continue}}p!==null?(p.return=h,Z=p):G0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Q1("display",s))}catch(v){Ke(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ke(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tr(e,t),Gr(t),n&4&&H0(t);break;case 21:break;default:Tr(e,t),Gr(t)}}function Gr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Em(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vs(i,""),n.flags&=-33);var a=$0(t);Ru(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=$0(t);Ou(t,o,s);break;default:throw Error(M(161))}}catch(c){Ke(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function my(t,e,r){Z=t,Am(t)}function Am(t,e,r){for(var n=(t.mode&1)!==0;Z!==null;){var i=Z,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||po;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Rt;o=po;var u=Rt;if(po=s,(Rt=c)&&!u)for(Z=i;Z!==null;)s=Z,c=s.child,s.tag===22&&s.memoizedState!==null?X0(i):c!==null?(c.return=s,Z=c):X0(i);for(;a!==null;)Z=a,Am(a),a=a.sibling;Z=i,po=o,Rt=u}W0(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Z=a):W0(t)}}function W0(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Pl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Or(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&T0(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}T0(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_s(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Rt||e.flags&512&&ku(e)}catch(h){Ke(e,e.return,h)}}if(e===t){Z=null;break}if(r=e.sibling,r!==null){r.return=e.return,Z=r;break}Z=e.return}}function G0(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Z=r;break}Z=e.return}}function X0(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Pl(4,e)}catch(c){Ke(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Ke(e,i,c)}}var a=e.return;try{ku(e)}catch(c){Ke(e,a,c)}break;case 5:var s=e.return;try{ku(e)}catch(c){Ke(e,s,c)}}}catch(c){Ke(e,e.return,c)}if(e===t){Z=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Z=o;break}Z=e.return}}var xy=Math.ceil,ll=wn.ReactCurrentDispatcher,Jd=wn.ReactCurrentOwner,br=wn.ReactCurrentBatchConfig,xe=0,wt=null,tt=null,St=0,tr=0,Ji=si(0),ft=0,Os=null,Ii=0,Ml=0,ef=0,ds=null,Xt=null,tf=0,ga=1/0,cn=null,cl=!1,Du=null,Gn=null,mo=!1,Ln=null,ul=0,fs=0,Pu=null,Po=-1,Mo=0;function zt(){return xe&6?Qe():Po!==-1?Po:Po=Qe()}function Xn(t){return t.mode&1?xe&2&&St!==0?St&-St:Jg.transition!==null?(Mo===0&&(Mo=up()),Mo):(t=Se,t!==0||(t=window.event,t=t===void 0?16:vp(t.type)),t):1}function Vr(t,e,r,n){if(50<fs)throw fs=0,Pu=null,Error(M(185));$s(t,r,n),(!(xe&2)||t!==wt)&&(t===wt&&(!(xe&2)&&(Ml|=r),ft===4&&Rn(t,St)),Jt(t,n),r===1&&xe===0&&!(e.mode&1)&&(ga=Qe()+500,Ol&&oi()))}function Jt(t,e){var r=t.callbackNode;Jv(t,e);var n=Xo(t,t===wt?St:0);if(n===0)r!==null&&r0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&r0(r),e===1)t.tag===0?qg(Z0.bind(null,t)):Mp(Z0.bind(null,t)),Zg(function(){!(xe&6)&&oi()}),r=null;else{switch(dp(n)){case 1:r=Sd;break;case 4:r=lp;break;case 16:r=Go;break;case 536870912:r=cp;break;default:r=Go}r=Dm(r,Sm.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Sm(t,e){if(Po=-1,Mo=0,xe&6)throw Error(M(327));var r=t.callbackNode;if(ca()&&t.callbackNode!==r)return null;var n=Xo(t,t===wt?St:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=dl(t,n);else{e=n;var i=xe;xe|=2;var a=Tm();(wt!==t||St!==e)&&(cn=null,ga=Qe()+500,bi(t,e));do try{yy();break}catch(o){Im(t,o)}while(1);Ud(),ll.current=a,xe=i,tt!==null?e=0:(wt=null,St=0,e=ft)}if(e!==0){if(e===2&&(i=lu(t),i!==0&&(n=i,e=Mu(t,i))),e===1)throw r=Os,bi(t,0),Rn(t,n),Jt(t,Qe()),r;if(e===6)Rn(t,n);else{if(i=t.current.alternate,!(n&30)&&!vy(i)&&(e=dl(t,n),e===2&&(a=lu(t),a!==0&&(n=a,e=Mu(t,a))),e===1))throw r=Os,bi(t,0),Rn(t,n),Jt(t,Qe()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(M(345));case 2:mi(t,Xt,cn);break;case 3:if(Rn(t,n),(n&130023424)===n&&(e=tf+500-Qe(),10<e)){if(Xo(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xu(mi.bind(null,t,Xt,cn),e);break}mi(t,Xt,cn);break;case 4:if(Rn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Ur(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xy(n/1960))-n,10<n){t.timeoutHandle=xu(mi.bind(null,t,Xt,cn),n);break}mi(t,Xt,cn);break;case 5:mi(t,Xt,cn);break;default:throw Error(M(329))}}}return Jt(t,Qe()),t.callbackNode===r?Sm.bind(null,t):null}function Mu(t,e){var r=ds;return t.current.memoizedState.isDehydrated&&(bi(t,e).flags|=256),t=dl(t,e),t!==2&&(e=Xt,Xt=r,e!==null&&Lu(e)),t}function Lu(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function vy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!zr(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~ef,e&=~Ml,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ur(e),n=1<<r;t[r]=-1,e&=~n}}function Z0(t){if(xe&6)throw Error(M(327));ca();var e=Xo(t,0);if(!(e&1))return Jt(t,Qe()),null;var r=dl(t,e);if(t.tag!==0&&r===2){var n=lu(t);n!==0&&(e=n,r=Mu(t,n))}if(r===1)throw r=Os,bi(t,0),Rn(t,e),Jt(t,Qe()),r;if(r===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mi(t,Xt,cn),Jt(t,Qe()),null}function rf(t,e){var r=xe;xe|=1;try{return t(e)}finally{xe=r,xe===0&&(ga=Qe()+500,Ol&&oi())}}function Ti(t){Ln!==null&&Ln.tag===0&&!(xe&6)&&ca();var e=xe;xe|=1;var r=br.transition,n=Se;try{if(br.transition=null,Se=1,t)return t()}finally{Se=n,br.transition=r,xe=e,!(xe&6)&&oi()}}function nf(){tr=Ji.current,Be(Ji)}function bi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Xg(r)),tt!==null)for(r=tt.return;r!==null;){var n=r;switch(Ld(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qo();break;case 3:xa(),Be(Qt),Be(Pt),Gd();break;case 5:Wd(n);break;case 4:xa();break;case 13:Be($e);break;case 19:Be($e);break;case 10:Vd(n.type._context);break;case 22:case 23:nf()}r=r.return}if(wt=t,tt=t=Zn(t.current,null),St=tr=e,ft=0,Os=null,ef=Ml=Ii=0,Xt=ds=null,gi!==null){for(e=0;e<gi.length;e++)if(r=gi[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}gi=null}return t}function Im(t,e){do{var r=tt;try{if(Ud(),Oo.current=ol,sl){for(var n=We.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}sl=!1}if(Si=0,vt=ot=We=null,cs=!1,Ts=0,Jd.current=null,r===null||r.return===null){ft=1,Os=e,tt=null;break}e:{var a=t,s=r.return,o=r,c=e;if(e=St,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=P0(s);if(p!==null){p.flags&=-257,M0(p,s,o,a,e),p.mode&1&&D0(a,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(c),e.updateQueue=v}else m.add(c);break e}else{if(!(e&1)){D0(a,u,e),af();break e}c=Error(M(426))}}else if(Ve&&o.mode&1){var w=P0(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),M0(w,s,o,a,e),Fd(va(c,o));break e}}a=c=va(c,o),ft!==4&&(ft=2),ds===null?ds=[a]:ds.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=dm(a,c,e);I0(a,g);break e;case 1:o=c;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gn===null||!Gn.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=fm(a,o,e);I0(a,_);break e}}a=a.return}while(a!==null)}km(r)}catch(E){e=E,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(1)}function Tm(){var t=ll.current;return ll.current=ol,t===null?ol:t}function af(){(ft===0||ft===3||ft===2)&&(ft=4),wt===null||!(Ii&268435455)&&!(Ml&268435455)||Rn(wt,St)}function dl(t,e){var r=xe;xe|=2;var n=Tm();(wt!==t||St!==e)&&(cn=null,bi(t,e));do try{gy();break}catch(i){Im(t,i)}while(1);if(Ud(),xe=r,ll.current=n,tt!==null)throw Error(M(261));return wt=null,St=0,ft}function gy(){for(;tt!==null;)jm(tt)}function yy(){for(;tt!==null&&!Hv();)jm(tt)}function jm(t){var e=Rm(t.alternate,t,tr);t.memoizedProps=t.pendingProps,e===null?km(t):tt=e,Jd.current=null}function km(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fy(r,e),r!==null){r.flags&=32767,tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,tt=null;return}}else if(r=dy(r,e,tr),r!==null){tt=r;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ft===0&&(ft=5)}function mi(t,e,r){var n=Se,i=br.transition;try{br.transition=null,Se=1,wy(t,e,r,n)}finally{br.transition=i,Se=n}return null}function wy(t,e,r,n){do ca();while(Ln!==null);if(xe&6)throw Error(M(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(eg(t,a),t===wt&&(tt=wt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mo||(mo=!0,Dm(Go,function(){return ca(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=br.transition,br.transition=null;var s=Se;Se=1;var o=xe;xe|=4,Jd.current=null,py(t,r),Cm(r,t),Ug(pu),Zo=!!hu,pu=hu=null,t.current=r,my(r),Wv(),xe=o,Se=s,br.transition=a}else t.current=r;if(mo&&(mo=!1,Ln=t,ul=i),a=t.pendingLanes,a===0&&(Gn=null),Zv(r.stateNode),Jt(t,Qe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(cl)throw cl=!1,t=Du,Du=null,t;return ul&1&&t.tag!==0&&ca(),a=t.pendingLanes,a&1?t===Pu?fs++:(fs=0,Pu=t):fs=0,oi(),null}function ca(){if(Ln!==null){var t=dp(ul),e=br.transition,r=Se;try{if(br.transition=null,Se=16>t?16:t,Ln===null)var n=!1;else{if(t=Ln,Ln=null,ul=0,xe&6)throw Error(M(331));var i=xe;for(xe|=4,Z=t.current;Z!==null;){var a=Z,s=a.child;if(Z.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:us(8,d,a)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,p=d.return;if(bm(d),d===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var m=a.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Z=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Z=s;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:us(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Z=g;break e}Z=a.return}}var x=t.current;for(Z=x;Z!==null;){s=Z;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Z=y;else e:for(s=x;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pl(9,o)}}catch(E){Ke(o,o.return,E)}if(o===s){Z=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Z=_;break e}Z=o.return}}if(xe=i,oi(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Sl,t)}catch{}n=!0}return n}finally{Se=r,br.transition=e}}return!1}function Y0(t,e,r){e=va(r,e),e=dm(t,e,1),t=Wn(t,e,1),e=zt(),t!==null&&($s(t,1,e),Jt(t,e))}function Ke(t,e,r){if(t.tag===3)Y0(t,t,r);else for(;e!==null;){if(e.tag===3){Y0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gn===null||!Gn.has(n))){t=va(r,t),t=fm(e,t,1),e=Wn(e,t,1),t=zt(),e!==null&&($s(e,1,t),Jt(e,t));break}}e=e.return}}function _y(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&r,wt===t&&(St&r)===r&&(ft===4||ft===3&&(St&130023424)===St&&500>Qe()-tf?bi(t,0):ef|=r),Jt(t,e)}function Om(t,e){e===0&&(t.mode&1?(e=io,io<<=1,!(io&130023424)&&(io=4194304)):e=1);var r=zt();t=xn(t,e),t!==null&&($s(t,e,r),Jt(t,r))}function by(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Om(t,r)}function Ey(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(e),Om(t,r)}var Rm;Rm=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Kt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Kt=!1,uy(t,e,r);Kt=!!(t.flags&131072)}else Kt=!1,Ve&&e.flags&1048576&&Lp(e,tl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Do(t,e),t=e.pendingProps;var i=ha(e,Pt.current);la(e,r),i=Zd(null,e,n,t,i,r);var a=Yd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(n)?(a=!0,Jo(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$d(e),i.updater=Dl,e.stateNode=i,i._reactInternals=e,Eu(e,n,t,r),e=Au(null,e,n,!0,a,r)):(e.tag=0,Ve&&a&&Md(e),Ut(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Do(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Cy(n),t=Or(n,t),i){case 0:e=Cu(null,e,n,t,r);break e;case 1:e=B0(null,e,n,t,r);break e;case 11:e=L0(null,e,n,t,r);break e;case 14:e=F0(null,e,n,Or(n.type,t),r);break e}throw Error(M(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),Cu(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),B0(t,e,n,i,r);case 3:e:{if(xm(e),t===null)throw Error(M(387));n=e.pendingProps,a=e.memoizedState,i=a.element,$p(t,e),il(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=va(Error(M(423)),e),e=U0(t,e,n,r,i);break e}else if(n!==i){i=va(Error(M(424)),e),e=U0(t,e,n,r,i);break e}else for(nr=Hn(e.stateNode.containerInfo.firstChild),ir=e,Ve=!0,Dr=null,r=Vp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pa(),n===i){e=vn(t,e,r);break e}Ut(t,e,n,r)}e=e.child}return e;case 5:return Hp(e),t===null&&wu(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,mu(n,i)?s=null:a!==null&&mu(n,a)&&(e.flags|=32),mm(t,e),Ut(t,e,s,r),e.child;case 6:return t===null&&wu(e),null;case 13:return vm(t,e,r);case 4:return Hd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ma(e,null,n,r):Ut(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),L0(t,e,n,i,r);case 7:return Ut(t,e,e.pendingProps,r),e.child;case 8:return Ut(t,e,e.pendingProps.children,r),e.child;case 12:return Ut(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Re(rl,n._currentValue),n._currentValue=s,a!==null)if(zr(a.value,s)){if(a.children===i.children&&!Qt.current){e=vn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=hn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),_u(a.return,r,e),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(M(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),_u(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ut(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,la(e,r),i=Nr(i),n=n(i),e.flags|=1,Ut(t,e,n,r),e.child;case 14:return n=e.type,i=Or(n,e.pendingProps),i=Or(n.type,i),F0(t,e,n,i,r);case 15:return hm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),Do(t,e),e.tag=1,qt(n)?(t=!0,Jo(e)):t=!1,la(e,r),um(e,n,i),Eu(e,n,i,r),Au(null,e,n,!0,t,r);case 19:return gm(t,e,r);case 22:return pm(t,e,r)}throw Error(M(156,e.tag))};function Dm(t,e){return op(t,e)}function Ny(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,r,n){return new Ny(t,e,r,n)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cy(t){if(typeof t=="function")return sf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nd)return 11;if(t===Cd)return 14}return 2}function Zn(t,e){var r=t.alternate;return r===null?(r=wr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lo(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")sf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case $i:return Ei(r.children,i,a,e);case Ed:s=8,i|=8;break;case Xc:return t=wr(12,r,e,i|2),t.elementType=Xc,t.lanes=a,t;case Zc:return t=wr(13,r,e,i),t.elementType=Zc,t.lanes=a,t;case Yc:return t=wr(19,r,e,i),t.elementType=Yc,t.lanes=a,t;case H1:return Ll(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z1:s=10;break e;case $1:s=9;break e;case Nd:s=11;break e;case Cd:s=14;break e;case In:s=16,n=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=wr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ei(t,e,r,n){return t=wr(7,t,n,e),t.lanes=r,t}function Ll(t,e,r,n){return t=wr(22,t,n,e),t.elementType=H1,t.lanes=r,t.stateNode={isHidden:!1},t}function Ic(t,e,r){return t=wr(6,t,null,e),t.lanes=r,t}function Tc(t,e,r){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ay(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cc(0),this.expirationTimes=cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function of(t,e,r,n,i,a,s,o,c){return t=new Ay(t,e,r,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=wr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$d(a),t}function Sy(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Pm(t){if(!t)return ti;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var r=t.type;if(qt(r))return Pp(t,r,e)}return e}function Mm(t,e,r,n,i,a,s,o,c){return t=of(r,n,!0,t,i,a,s,o,c),t.context=Pm(null),r=t.current,n=zt(),i=Xn(r),a=hn(n,i),a.callback=e??null,Wn(r,a,i),t.current.lanes=i,$s(t,i,n),Jt(t,n),t}function Fl(t,e,r,n){var i=e.current,a=zt(),s=Xn(i);return r=Pm(r),e.context===null?e.context=r:e.pendingContext=r,e=hn(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Wn(i,e,s),t!==null&&(Vr(t,i,s,a),ko(t,i,s)),s}function fl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function lf(t,e){K0(t,e),(t=t.alternate)&&K0(t,e)}function Iy(){return null}var Lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function cf(t){this._internalRoot=t}Bl.prototype.render=cf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Fl(t,e,null,null)};Bl.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ti(function(){Fl(null,t,null,null)}),e[mn]=null}};function Bl(t){this._internalRoot=t}Bl.prototype.unstable_scheduleHydration=function(t){if(t){var e=pp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<On.length&&e!==0&&e<On[r].priority;r++);On.splice(r,0,t),r===0&&xp(t)}};function uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q0(){}function Ty(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=fl(s);a.call(u)}}var s=Mm(e,n,t,0,null,!1,!1,"",Q0);return t._reactRootContainer=s,t[mn]=s.current,Ns(t.nodeType===8?t.parentNode:t),Ti(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=fl(c);o.call(u)}}var c=of(t,0,!1,null,null,!1,!1,"",Q0);return t._reactRootContainer=c,t[mn]=c.current,Ns(t.nodeType===8?t.parentNode:t),Ti(function(){Fl(e,c,r,n)}),c}function Vl(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=fl(s);o.call(c)}}Fl(e,s,t,i)}else s=Ty(r,e,t,i,n);return fl(s)}fp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qa(e.pendingLanes);r!==0&&(Id(e,r|1),Jt(e,Qe()),!(xe&6)&&(ga=Qe()+500,oi()))}break;case 13:Ti(function(){var n=xn(t,1);if(n!==null){var i=zt();Vr(n,t,1,i)}}),lf(t,1)}};Td=function(t){if(t.tag===13){var e=xn(t,134217728);if(e!==null){var r=zt();Vr(e,t,134217728,r)}lf(t,134217728)}};hp=function(t){if(t.tag===13){var e=Xn(t),r=xn(t,e);if(r!==null){var n=zt();Vr(r,t,e,n)}lf(t,e)}};pp=function(){return Se};mp=function(t,e){var r=Se;try{return Se=t,e()}finally{Se=r}};au=function(t,e,r){switch(e){case"input":if(qc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=kl(n);if(!i)throw Error(M(90));G1(n),qc(n,i)}}}break;case"textarea":Z1(t,r);break;case"select":e=r.value,e!=null&&ia(t,!!r.multiple,e,!1)}};tp=rf;rp=Ti;var jy={usingClientEntryPoint:!1,Events:[Ws,Xi,kl,J1,ep,rf]},Ua={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ap(t),t===null?null:t.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||Iy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{Sl=xo.inject(ky),en=xo}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jy;lr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(e))throw Error(M(200));return Sy(t,e,null,r)};lr.createRoot=function(t,e){if(!uf(t))throw Error(M(299));var r=!1,n="",i=Lm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=of(t,1,!1,null,null,r,!1,n,i),t[mn]=e.current,Ns(t.nodeType===8?t.parentNode:t),new cf(e)};lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=ap(e),t=t===null?null:t.stateNode,t};lr.flushSync=function(t){return Ti(t)};lr.hydrate=function(t,e,r){if(!Ul(e))throw Error(M(200));return Vl(null,t,e,!0,r)};lr.hydrateRoot=function(t,e,r){if(!uf(t))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Lm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=Mm(e,null,t,1,r??null,i,!1,a,s),t[mn]=e.current,Ns(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Bl(e)};lr.render=function(t,e,r){if(!Ul(e))throw Error(M(200));return Vl(null,t,e,!1,r)};lr.unmountComponentAtNode=function(t){if(!Ul(t))throw Error(M(40));return t._reactRootContainer?(Ti(function(){Vl(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};lr.unstable_batchedUpdates=rf;lr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ul(r))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return Vl(t,e,r,!1,n)};lr.version="18.3.1-next-f1338f8080-20240426";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(t){console.error(t)}}Fm(),F1.exports=lr;var Oy=F1.exports,Bm,q0=Oy;Bm=q0.createRoot,q0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rs.apply(this,arguments)}var Fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fn||(Fn={}));const J0="popstate";function Ry(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return Fu("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:hl(i)}return Py(e,r,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Um(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dy(){return Math.random().toString(36).substr(2,8)}function eh(t,e){return{usr:t.state,key:t.key,idx:e}}function Fu(t,e,r,n){return r===void 0&&(r=null),Rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:r,key:e&&e.key||n||Dy()})}function hl(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ta(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Py(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Fn.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Rs({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Fn.Pop;let w=d(),g=w==null?null:w-u;u=w,c&&c({action:o,location:v.location,delta:g})}function h(w,g){o=Fn.Push;let x=Fu(v.location,w,g);r&&r(x,w),u=d()+1;let y=eh(x,u),_=v.createHref(x);try{s.pushState(y,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}a&&c&&c({action:o,location:v.location,delta:1})}function p(w,g){o=Fn.Replace;let x=Fu(v.location,w,g);r&&r(x,w),u=d();let y=eh(x,u),_=v.createHref(x);s.replaceState(y,"",_),a&&c&&c({action:o,location:v.location,delta:0})}function m(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:hl(w);return x=x.replace(/ $/,"%20"),qe(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let v={get action(){return o},get location(){return t(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(J0,f),c=w,()=>{i.removeEventListener(J0,f),c=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let g=m(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(w){return s.go(w)}};return v}var th;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(th||(th={}));function My(t,e,r){return r===void 0&&(r="/"),Ly(t,e,r,!1)}function Ly(t,e,r,n){let i=typeof e=="string"?Ta(e):e,a=df(i.pathname||"/",r);if(a==null)return null;let s=Vm(t);Fy(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=Yy(a);o=Xy(s[c],u,n)}return o}function Vm(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(qe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Yn([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(qe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vm(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Wy(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let c of zm(a.path))i(a,s,c)}),e}function zm(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=zm(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Fy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Gy(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const By=/^:[\w-]+$/,Uy=3,Vy=2,zy=1,$y=10,Hy=-2,rh=t=>t==="*";function Wy(t,e){let r=t.split("/"),n=r.length;return r.some(rh)&&(n+=Hy),e&&(n+=Vy),r.filter(i=>!rh(i)).reduce((i,a)=>i+(By.test(a)?Uy:a===""?zy:$y),n)}function Gy(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Xy(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=nh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Yn([a,f.pathname]),pathnameBase:Jy(Yn([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Yn([a,f.pathnameBase]))}return s}function nh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Zy(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=o[f]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Zy(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Um(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Yy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Um(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function df(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ky(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ta(t):t;return{pathname:r?r.startsWith("/")?r:Qy(r,e):e,search:e2(n),hash:t2(i)}}function Qy(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function jc(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ff(t,e){let r=qy(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hf(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ta(t):(i=Rs({},t),qe(!i.pathname||!i.pathname.includes("?"),jc("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),jc("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),jc("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=Ky(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),Jy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $m=["post","put","patch","delete"];new Set($m);const n2=["get",...$m];new Set(n2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ds.apply(this,arguments)}const pf=N.createContext(null),i2=N.createContext(null),li=N.createContext(null),zl=N.createContext(null),_n=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Hm=N.createContext(null);function a2(t,e){let{relative:r}=e===void 0?{}:e;ja()||qe(!1);let{basename:n,navigator:i}=N.useContext(li),{hash:a,pathname:s,search:o}=Gm(t,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:Yn([n,s])),i.createHref({pathname:c,search:o,hash:a})}function ja(){return N.useContext(zl)!=null}function Pi(){return ja()||qe(!1),N.useContext(zl).location}function Wm(t){N.useContext(li).static||N.useLayoutEffect(t)}function $r(){let{isDataRoute:t}=N.useContext(_n);return t?g2():s2()}function s2(){ja()||qe(!1);let t=N.useContext(pf),{basename:e,future:r,navigator:n}=N.useContext(li),{matches:i}=N.useContext(_n),{pathname:a}=Pi(),s=JSON.stringify(ff(i,r.v7_relativeSplatPath)),o=N.useRef(!1);return Wm(()=>{o.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=hf(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function Mi(){let{matches:t}=N.useContext(_n),e=t[t.length-1];return e?e.params:{}}function Gm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=N.useContext(li),{matches:i}=N.useContext(_n),{pathname:a}=Pi(),s=JSON.stringify(ff(i,n.v7_relativeSplatPath));return N.useMemo(()=>hf(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function o2(t,e){return l2(t,e)}function l2(t,e,r,n){ja()||qe(!1);let{navigator:i}=N.useContext(li),{matches:a}=N.useContext(_n),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Pi(),d;if(e){var f;let w=typeof e=="string"?Ta(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||qe(!1),d=w}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=My(t,{pathname:p}),v=h2(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Yn([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Yn([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return e&&v?N.createElement(zl.Provider,{value:{location:Ds({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fn.Pop}},v):v}function c2(){let t=v2(),e=r2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,a)}const u2=N.createElement(c2,null);class d2 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(_n.Provider,{value:this.props.routeContext},N.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f2(t){let{routeContext:e,match:r,children:n}=t,i=N.useContext(pf);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(_n.Provider,{value:e},n)}function h2(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||qe(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,v=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||u2,c&&(u<0&&h===0?(y2("route-fallback",!1),m=!0,w=null):u===h&&(m=!0,w=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),x=()=>{let y;return p?y=v:m?y=w:f.route.Component?y=N.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,N.createElement(f2,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(d2,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Xm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xm||{}),pl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pl||{});function p2(t){let e=N.useContext(pf);return e||qe(!1),e}function m2(t){let e=N.useContext(i2);return e||qe(!1),e}function x2(t){let e=N.useContext(_n);return e||qe(!1),e}function Zm(t){let e=x2(),r=e.matches[e.matches.length-1];return r.route.id||qe(!1),r.route.id}function v2(){var t;let e=N.useContext(Hm),r=m2(pl.UseRouteError),n=Zm(pl.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function g2(){let{router:t}=p2(Xm.UseNavigateStable),e=Zm(pl.UseNavigateStable),r=N.useRef(!1);return Wm(()=>{r.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ds({fromRouteId:e},a)))},[t,e])}const ih={};function y2(t,e,r){!e&&!ih[t]&&(ih[t]=!0)}function w2(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Kn(t){let{to:e,replace:r,state:n,relative:i}=t;ja()||qe(!1);let{future:a,static:s}=N.useContext(li),{matches:o}=N.useContext(_n),{pathname:c}=Pi(),u=$r(),d=hf(e,ff(o,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function nt(t){qe(!1)}function _2(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Fn.Pop,navigator:a,static:s=!1,future:o}=t;ja()&&qe(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:a,static:s,future:Ds({v7_relativeSplatPath:!1},o)}),[c,o,a,s]);typeof n=="string"&&(n=Ta(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,v=N.useMemo(()=>{let w=df(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:m},navigationType:i}},[c,d,f,h,p,m,i]);return v==null?null:N.createElement(li.Provider,{value:u},N.createElement(zl.Provider,{children:r,value:v}))}function b2(t){let{children:e,location:r}=t;return o2(Bu(e),r)}new Promise(()=>{});function Bu(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let a=[...e,i];if(n.type===N.Fragment){r.push.apply(r,Bu(n.props.children,a));return}n.type!==nt&&qe(!1),!n.props.index||!n.props.children||qe(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Bu(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}function E2(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function N2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C2(t,e){return t.button===0&&(!e||e==="_self")&&!N2(t)}const A2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S2="6";try{window.__reactRouterVersion=S2}catch{}const I2="startTransition",ah=_v[I2];function T2(t){let{basename:e,children:r,future:n,window:i}=t,a=N.useRef();a.current==null&&(a.current=Ry({window:i,v5Compat:!0}));let s=a.current,[o,c]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=N.useCallback(f=>{u&&ah?ah(()=>c(f)):c(f)},[c,u]);return N.useLayoutEffect(()=>s.listen(d),[s,d]),N.useEffect(()=>w2(n),[n]),N.createElement(_2,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const j2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=N.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=E2(e,A2),{basename:p}=N.useContext(li),m,v=!1;if(typeof u=="string"&&k2.test(u)&&(m=u,j2))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),E=df(_.pathname,p);_.origin===y.origin&&E!=null?u=E+_.search+_.hash:v=!0}catch{}let w=a2(u,{relative:i}),g=O2(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(y){n&&n(y),y.defaultPrevented||g(y)}return N.createElement("a",Uu({},h,{href:m||w,onClick:v||a?n:x,ref:r,target:c}))});var sh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sh||(sh={}));var oh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oh||(oh={}));function O2(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,c=$r(),u=Pi(),d=Gm(t,{relative:s});return N.useCallback(f=>{if(C2(f,r)){f.preventDefault();let h=n!==void 0?n:hl(u)===hl(d);c(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,c,d,n,i,r,t,a,s,o])}let R2={data:""},D2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||R2,P2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,M2=/\/\*[^]*?\*\/|  +/g,lh=/\n+/g,Dn=(t,e)=>{let r="",n="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?Dn(s,a):a+"{"+Dn(s,a[1]=="k"?"":e)+"}":typeof s=="object"?n+=Dn(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Dn.p?Dn.p(a,s):a+":"+s+";")}return r+(e&&i?e+"{"+i+"}":i)+n},sn={},Ym=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Ym(t[r]);return e}return t},L2=(t,e,r,n,i)=>{let a=Ym(t),s=sn[a]||(sn[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!sn[s]){let c=a!==t?t:(u=>{let d,f,h=[{}];for(;d=P2.exec(u.replace(M2,""));)d[4]?h.shift():d[3]?(f=d[3].replace(lh," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(lh," ").trim();return h[0]})(t);sn[s]=Dn(i?{["@keyframes "+s]:c}:c,r?"":"."+s)}let o=r&&sn.g?sn.g:null;return r&&(sn.g=sn[s]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(sn[s],e,n,o),s},F2=(t,e,r)=>t.reduce((n,i,a)=>{let s=e[a];if(s&&s.call){let o=s(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=c?"."+c:o&&typeof o=="object"?o.props?"":Dn(o,""):o===!1?"":o}return n+i+(s??"")},"");function $l(t){let e=this||{},r=t.call?t(e.p):t;return L2(r.unshift?r.raw?F2(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,D2(e.target),e.g,e.o,e.k)}let Km,Vu,zu;$l.bind({g:1});let gn=$l.bind({k:1});function B2(t,e,r,n){Dn.p=e,Km=t,Vu=r,zu=n}function ci(t,e){let r=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),c=o.className||i.className;r.p=Object.assign({theme:Vu&&Vu()},o),r.o=/ *go\d+/.test(c),o.className=$l.apply(r,n)+(c?" "+c:""),e&&(o.ref=s);let u=t;return t[0]&&(u=o.as||t,delete o.as),zu&&u[0]&&zu(o),Km(u,o)}return e?e(i):i}}var U2=t=>typeof t=="function",ml=(t,e)=>U2(t)?t(e):t,V2=(()=>{let t=0;return()=>(++t).toString()})(),Qm=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),z2=20,mf="default",qm=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return qm(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Fo=[],Jm={toasts:[],pausedAt:void 0,settings:{toastLimit:z2}},Qr={},ex=(t,e=mf)=>{Qr[e]=qm(Qr[e]||Jm,t),Fo.forEach(([r,n])=>{r===e&&n(Qr[e])})},tx=t=>Object.keys(Qr).forEach(e=>ex(t,e)),$2=t=>Object.keys(Qr).find(e=>Qr[e].toasts.some(r=>r.id===t)),Hl=(t=mf)=>e=>{ex(e,t)},H2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},W2=(t={},e=mf)=>{let[r,n]=N.useState(Qr[e]||Jm),i=N.useRef(Qr[e]);N.useEffect(()=>(i.current!==Qr[e]&&n(Qr[e]),Fo.push([e,n]),()=>{let s=Fo.findIndex(([o])=>o===e);s>-1&&Fo.splice(s,1)}),[e]);let a=r.toasts.map(s=>{var o,c,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((c=t[s.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||H2[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...r,toasts:a}},G2=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||V2()}),Xs=t=>(e,r)=>{let n=G2(e,t,r);return Hl(n.toasterId||$2(n.id))({type:2,toast:n}),n.id},ct=(t,e)=>Xs("blank")(t,e);ct.error=Xs("error");ct.success=Xs("success");ct.loading=Xs("loading");ct.custom=Xs("custom");ct.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Hl(e)(r):tx(r)};ct.dismissAll=t=>ct.dismiss(void 0,t);ct.remove=(t,e)=>{let r={type:4,toastId:t};e?Hl(e)(r):tx(r)};ct.removeAll=t=>ct.remove(void 0,t);ct.promise=(t,e,r)=>{let n=ct.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?ml(e.success,i):void 0;return a?ct.success(a,{id:n,...r,...r==null?void 0:r.success}):ct.dismiss(n),i}).catch(i=>{let a=e.error?ml(e.error,i):void 0;a?ct.error(a,{id:n,...r,...r==null?void 0:r.error}):ct.dismiss(n)}),t};var X2=1e3,Z2=(t,e="default")=>{let{toasts:r,pausedAt:n}=W2(t,e),i=N.useRef(new Map).current,a=N.useCallback((f,h=X2)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),s({type:4,toastId:f})},h);i.set(f,p)},[]);N.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&ct.dismiss(p.id);return}return setTimeout(()=>ct.dismiss(p.id,e),m)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,e]);let s=N.useCallback(Hl(e),[e]),o=N.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=N.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),u=N.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),d=N.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:v}=h||{},w=r.filter(y=>(y.position||v)===(f.position||v)&&y.height),g=w.findIndex(y=>y.id===f.id),x=w.filter((y,_)=>_<g&&y.visible).length;return w.filter(y=>y.visible).slice(...p?[x+1]:[0,x]).reduce((y,_)=>y+(_.height||0)+m,0)},[r]);return N.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},Y2=gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,K2=gn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q2=gn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,q2=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Y2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${K2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Q2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,J2=gn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ew=ci("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${J2} 1s linear infinite;
`,tw=gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rw=gn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,nw=ci("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rw} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iw=ci("div")`
  position: absolute;
`,aw=ci("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sw=gn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ow=ci("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lw=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?N.createElement(ow,null,e):e:r==="blank"?null:N.createElement(aw,null,N.createElement(ew,{...n}),r!=="loading"&&N.createElement(iw,null,r==="error"?N.createElement(q2,{...n}):N.createElement(nw,{...n})))},cw=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uw=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,dw="0%{opacity:0;} 100%{opacity:1;}",fw="0%{opacity:1;} 100%{opacity:0;}",hw=ci("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pw=ci("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mw=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=Qm()?[dw,fw]:[cw(r),uw(r)];return{animation:e?`${gn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xw=N.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?mw(t.position||e||"top-center",t.visible):{opacity:0},a=N.createElement(lw,{toast:t}),s=N.createElement(pw,{...t.ariaProps},ml(t.message,t));return N.createElement(hw,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:s}):N.createElement(N.Fragment,null,a,s))});B2(N.createElement);var vw=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=N.useCallback(s=>{if(s){let o=()=>{let c=s.getBoundingClientRect().height;n(t,c)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return N.createElement("div",{ref:a,className:e,style:r},i)},gw=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Qm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},yw=$l`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vo=16,ww=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:c,handlers:u}=Z2(r,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:vo,left:vo,right:vo,bottom:vo,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),p=gw(f,h);return N.createElement(vw,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?yw:"",style:p},d.type==="custom"?ml(d.message,d):i?i(d):N.createElement(xw,{toast:d,position:f}))}))},Va=ct,_w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ie=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...c},u)=>N.createElement("svg",{ref:u,..._w,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${bw(t)}`,...c},[...e.map(([d,f])=>N.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r},ri=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ew=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xf=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ch=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Bn=ie("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),$u=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Nw=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Cw=ie("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Dt=ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),uh=ie("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),dh=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ka=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),kc=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Aw=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Sw=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Iw=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ji=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Oc=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Wl=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),rx=ie("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),vf=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),st=ie("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Tw=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Rc=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Hu=ie("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),fh=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ua=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Zs=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),jw=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),kw=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ea=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ps=ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Ow=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),gf=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ms=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yf=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hh=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),nx=ie("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Ls=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Rw=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Dw=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Wu=ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Pw=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Gu=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ar=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),xl=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fs=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ph=t=>{let e;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(m=>m(e,p))}},i=()=>e,c={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{r.clear()}},u=e=t(n,i,c);return c},Mw=t=>t?ph(t):ph;var ix={exports:{}},ax={},sx={exports:{}},ox={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=N;function Lw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fw=typeof Object.is=="function"?Object.is:Lw,Bw=ya.useState,Uw=ya.useEffect,Vw=ya.useLayoutEffect,zw=ya.useDebugValue;function $w(t,e){var r=e(),n=Bw({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Vw(function(){i.value=r,i.getSnapshot=e,Dc(i)&&a({inst:i})},[t,r,e]),Uw(function(){return Dc(i)&&a({inst:i}),t(function(){Dc(i)&&a({inst:i})})},[t]),zw(r),r}function Dc(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Fw(t,r)}catch{return!0}}function Hw(t,e){return e()}var Ww=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hw:$w;ox.useSyncExternalStore=ya.useSyncExternalStore!==void 0?ya.useSyncExternalStore:Ww;sx.exports=ox;var Gw=sx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=N,Xw=Gw;function Zw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yw=typeof Object.is=="function"?Object.is:Zw,Kw=Xw.useSyncExternalStore,Qw=Gl.useRef,qw=Gl.useEffect,Jw=Gl.useMemo,e3=Gl.useDebugValue;ax.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Qw(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Jw(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,Yw(d,p))return m;var v=n(p);return i!==void 0&&i(m,v)?(d=p,m):(d=p,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var o=Kw(t,a[0],a[1]);return qw(function(){s.hasValue=!0,s.value=o},[o]),e3(o),o};ix.exports=ax;var t3=ix.exports;const r3=A1(t3),{useDebugValue:n3}=Ot,{useSyncExternalStoreWithSelector:i3}=r3;const a3=t=>t;function s3(t,e=a3,r){const n=i3(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return n3(n),n}const mh=t=>{const e=typeof t=="function"?Mw(t):t,r=(n,i)=>s3(e,n,i);return Object.assign(r,e),r},wf=t=>t?mh(t):mh;function o3(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var a;const s=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const Bs=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Bs(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Bs(n)(r)}}}},l3=(t,e)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,g)=>({...g,...w}),...e},s=!1;const o=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...w)},n,i);const d=Bs(a.serialize),f=()=>{const w=a.partialize({...n()});let g;const x=d({state:w,version:a.version}).then(y=>u.setItem(a.name,y)).catch(y=>{g=y});if(g)throw g;return x},h=i.setState;i.setState=(w,g)=>{h(w,g),f()};const p=t((...w)=>{r(...w),f()},n,i);let m;const v=()=>{var w;if(!u)return;s=!1,o.forEach(x=>x(n()));const g=((w=a.onRehydrateStorage)==null?void 0:w.call(a,n()))||void 0;return Bs(u.getItem.bind(u))(a.name).then(x=>{if(x)return a.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==a.version){if(a.migrate)return a.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var y;return m=a.merge(x,(y=n())!=null?y:p),r(m,!0),f()}).then(()=>{g==null||g(m,void 0),s=!0,c.forEach(x=>x(m))}).catch(x=>{g==null||g(void 0,x)})};return i.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},v(),m||p},c3=(t,e)=>(r,n,i)=>{let a={storage:o3(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...e},s=!1;const o=new Set,c=new Set;let u=a.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...v)},n,i);const d=()=>{const v=a.partialize({...n()});return u.setItem(a.name,{state:v,version:a.version})},f=i.setState;i.setState=(v,w)=>{f(v,w),d()};const h=t((...v)=>{r(...v),d()},n,i);i.getInitialState=()=>h;let p;const m=()=>{var v,w;if(!u)return;s=!1,o.forEach(x=>{var y;return x((y=n())!=null?y:h)});const g=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(v=n())!=null?v:h))||void 0;return Bs(u.getItem.bind(u))(a.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==a.version){if(a.migrate)return[!0,a.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var y;const[_,E]=x;if(p=a.merge(E,(y=n())!=null?y:h),r(p,!0),_)return d()}).then(()=>{g==null||g(p,void 0),p=n(),s=!0,c.forEach(x=>x(p))}).catch(x=>{g==null||g(void 0,x)})};return i.persist={setOptions:v=>{a={...a,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},a.skipHydration||m(),p||h},u3=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?l3(t,e):c3(t,e),d3=u3,f3=t=>{if(!t||typeof t!="string")return!1;const e=t.split(".");if(e.length!==3)return!1;try{return e.forEach(r=>{if(!r)throw new Error("Empty part");atob(r.replace(/-/g,"+").replace(/_/g,"/"))}),!0}catch{return!1}},sr=wf()(d3((t,e)=>({user:null,accessToken:null,isAuthenticated:!1,isLoading:!1,error:null,setAuth:(r,n)=>{t({user:r,accessToken:n,isAuthenticated:!0,error:null})},clearAuth:()=>{t({user:null,accessToken:null,isAuthenticated:!1,error:null})},setLoading:r=>{t({isLoading:r})},setError:r=>{t({error:r})},updateUser:r=>{const n=e().user;n&&t({user:{...n,...r}})},validateToken:()=>{const{accessToken:r}=e();return!r||!f3(r)?(e().clearAuth(),!1):!0}}),{name:"auth-store",partialize:t=>({user:t.user,accessToken:t.accessToken,isAuthenticated:t.isAuthenticated})})),h3="http://localhost:3001/api";class ta extends Error{constructor(e,r,n){super(n||r.error||"An error occurred"),this.status=e,this.response=r,this.name="ApiError"}}class p3{constructor(e=h3){$f(this,"baseURL");this.baseURL=e}async request(e,r={}){const n=`${this.baseURL}${e}`,i={headers:{"Content-Type":"application/json",...r.headers},credentials:"include",...r},a=this.getStoredToken();a?(i.headers.Authorization=`Bearer ${a}`,console.log(" Request with token for:",e)):console.log(" No token found for request:",e);try{console.log(" Making request to:",n),console.log(" Headers:",i.headers);const s=await fetch(n,i),o=await s.json();if(!s.ok)throw console.log(" Request failed:",s.status,o),s.status===401&&o.code==="TOKEN_EXPIRED"?(console.log(" Token expired, clearing auth and redirecting to login"),this.handleTokenExpiration(),new ta(s.status,{...o,shouldRedirectToLogin:!0})):new ta(s.status,o);return console.log(" Request successful:",o),o}catch(s){throw s instanceof ta?s:new ta(0,{success:!1,error:"Network error or server unavailable"})}}getStoredToken(){var e;try{const r=sr.getState();if(r.accessToken)return console.log("Retrieved token from store state: Token exists"),r.accessToken;const n=localStorage.getItem("auth-store");if(n){const i=JSON.parse(n),a=((e=i.state)==null?void 0:e.accessToken)||i.accessToken||null;return console.log("Retrieved token from localStorage:",a?"Token exists":"No token found"),a}}catch(r){console.error("Error retrieving token:",r)}return console.log("No token found in store or localStorage"),null}handleTokenExpiration(){console.log(" Handling token expiration");const e=sr.getState();e.clearAuth(),e.setError("Your session has expired. Please log in again."),setTimeout(()=>{window.location.href="/login"},1e3)}async get(e){return this.request(e,{method:"GET"})}async post(e,r){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(e,r){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}}const ze=new p3;class za{static async login(e){return ze.post("/auth/login",e)}static async register(e){return ze.post("/auth/register",e)}static async logout(){return ze.post("/auth/logout")}static async refreshToken(){return ze.post("/auth/refresh")}static async getProfile(){return ze.get("/auth/profile")}static isAuthenticated(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.isAuthenticated)||!1}catch{}return!1}static getCurrentUser(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.user)||null}catch{}return null}static getAccessToken(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.accessToken)||null}catch{}return null}}const Hr=()=>{const t=$r(),{user:e,isAuthenticated:r,isLoading:n,error:i,setAuth:a,clearAuth:s,setLoading:o,setError:c,updateUser:u}=sr(),d=N.useCallback(async v=>{try{o(!0),c(null);const w=await za.login(v);if(w.success&&w.data)return a(w.data.user,w.data.accessToken),Va.success("Login successful!"),t("/dashboard"),!0;throw new Error(w.error||"Login failed")}catch(w){const g=w instanceof ta?w.response.error||"Login failed":"An unexpected error occurred";return c(g),Va.error(g),!1}finally{o(!1)}},[a,o,c,t]),f=N.useCallback(async v=>{try{o(!0),c(null);const w=await za.register(v);if(w.success&&w.data)return a(w.data.user,w.data.accessToken),Va.success("Account created successfully!"),t("/dashboard"),!0;throw new Error(w.error||"Registration failed")}catch(w){const g=w instanceof ta?w.response.error||"Registration failed":"An unexpected error occurred";return c(g),Va.error(g),!1}finally{o(!1)}},[a,o,c,t]),h=N.useCallback(async()=>{try{o(!0),await za.logout(),s(),Va.success("Logged out successfully"),t("/")}catch{s(),t("/")}finally{o(!1)}},[s,o,t]),p=N.useCallback(async()=>{try{const v=await za.refreshToken();if(v.success&&v.data){const w=sr.getState().user;return w&&a(w,v.data.accessToken),!0}else throw new Error("Token refresh failed")}catch{return s(),t("/login"),!1}},[a,s,t]),m=N.useCallback(async()=>{try{o(!0);const v=await za.getProfile();v.success&&v.data?u(v.data.user):s()}catch{await p()||s()}finally{o(!1)}},[u,s,p,o]);return{user:e,isAuthenticated:r,isLoading:n,error:i,login:d,register:f,logout:h,refreshToken:p,checkAuthStatus:m,isOrganizer:(e==null?void 0:e.role)==="organizer"||(e==null?void 0:e.role)==="admin",isAdmin:(e==null?void 0:e.role)==="admin",clearError:()=>c(null)}},m3=({children:t})=>{const e=Pi(),[r,n]=Ot.useState(!1),{user:i,isAuthenticated:a,logout:s}=Hr(),o=[{name:"Events",href:"/events",icon:Ar}],c=[{name:"Dashboard",href:"/dashboard",icon:Cw}],u=(i==null?void 0:i.role)==="participant"?[{name:"My Registrations",href:"/my-registrations",icon:Wu}]:[],d=(i==null?void 0:i.role)==="organizer"||(i==null?void 0:i.role)==="admin"?[{name:"QR Scanner",href:"/scanner",icon:Ps},{name:"Certificates",href:"/certificates",icon:Bn}]:[],f=[...c,...u,...d],h=a?[...o,...f]:o,p=["/login","/register"].includes(e.pathname),m=e.pathname==="/";return p?l.jsx("div",{className:"min-h-screen bg-gray-50",children:t}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("nav",{className:"bg-white shadow-sm border-b",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",children:l.jsx(he,{to:"/",className:"text-2xl font-bold text-primary-600",children:"EventPro"})}),l.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:h.map(v=>{const w=v.icon,g=e.pathname.startsWith(v.href);return o.includes(v)||a&&!m&&f.includes(v)?l.jsxs(he,{to:v.href,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${g?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[l.jsx(w,{className:"w-4 h-4 mr-2"}),v.name]},v.name):null})})]}),l.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:m||!a?l.jsxs("div",{className:"space-x-4",children:[l.jsx(he,{to:"/login",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Sign in"}),l.jsx(he,{to:"/register",className:"btn-primary",children:"Get Started"})]}):l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[l.jsx(Gu,{className:"w-4 h-4"}),l.jsx("span",{children:i==null?void 0:i.name}),l.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:i==null?void 0:i.role})]}),l.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 text-red-600",title:"Sign out",children:l.jsx(fh,{className:"w-5 h-5"})})]})}),l.jsx("div",{className:"sm:hidden flex items-center",children:l.jsx("button",{onClick:()=>n(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:r?l.jsx(Fs,{className:"w-6 h-6"}):l.jsx(jw,{className:"w-6 h-6"})})})]})}),r&&l.jsxs("div",{className:"sm:hidden",children:[l.jsx("div",{className:"pt-2 pb-3 space-y-1",children:h.map(v=>{const w=v.icon,g=e.pathname.startsWith(v.href);return o.includes(v)||a&&!m&&f.includes(v)?l.jsxs(he,{to:v.href,className:`flex items-center px-3 py-2 border-l-4 text-base font-medium ${g?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:()=>n(!1),children:[l.jsx(w,{className:"w-5 h-5 mr-3"}),v.name]},v.name):null})}),m?l.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center px-4 space-y-2",children:[l.jsx(he,{to:"/login",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900",onClick:()=>n(!1),children:"Sign in"}),l.jsx(he,{to:"/register",className:"block btn-primary w-full text-center",onClick:()=>n(!1),children:"Get Started"})]})}):l.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center px-4 space-x-3",children:[l.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:l.jsx(Gu,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 text-red-600",children:l.jsx(fh,{className:"w-5 h-5"})})]})})]})]}),l.jsx("main",{className:"flex-1",children:t}),l.jsx("footer",{className:"bg-white border-t",children:l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"text-center text-gray-500",children:l.jsxs("p",{children:[" ",new Date().getFullYear()," EventPro. All rights reserved."]})})})})]})},pr=({children:t,requireOrganizer:e=!1,requireAdmin:r=!1})=>{const{isAuthenticated:n,user:i,isLoading:a}=Hr(),s=Pi();return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?r&&(i==null?void 0:i.role)!=="admin"?l.jsx(Kn,{to:"/dashboard",replace:!0}):e&&!["organizer","admin"].includes((i==null?void 0:i.role)||"")?l.jsx(Kn,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(Kn,{to:"/login",state:{from:s},replace:!0})},x3=()=>{const t=[{icon:Dt,title:"Easy Event Creation",description:"Create and manage events with our intuitive event creation wizard."},{icon:Ar,title:"Flexible Registration",description:"Build custom registration forms with drag-and-drop form builder."},{icon:Ps,title:"QR Code Attendance",description:"Track attendance with QR code scanning for seamless check-ins."},{icon:Bn,title:"Digital Certificates",description:"Generate and distribute certificates automatically to attendees."}],e=["Create unlimited events","Custom registration forms","Real-time attendance tracking","Automated certificate generation","Payment integration","Analytics dashboard"];return l.jsxs("div",{children:[l.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Manage Events Like a Pro"}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Complete event management platform with registration, attendance tracking, and certificate generation - all in one place."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(he,{to:"/events",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:["Browse Events",l.jsx(ch,{className:"w-5 h-5 ml-2"})]}),l.jsx(he,{to:"/register",className:"border border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:"Get Started Free"})]})]})})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From creation to certification, we've got every aspect of event management covered."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,n)=>{const i=r.icon;return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(i,{className:"w-8 h-8 text-primary-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600",children:r.description})]},n)})})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Why choose EventPro?"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Our platform is designed to streamline every aspect of event management, from initial planning to post-event certificate distribution."}),l.jsx("div",{className:"space-y-4",children:e.map((r,n)=>l.jsxs("div",{className:"flex items-start",children:[l.jsx(ka,{className:"w-6 h-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:r})]},n))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to get started?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Join thousands of event organizers who trust EventPro to manage their events."}),l.jsx(he,{to:"/register",className:"btn-primary w-full text-center block",children:"Start Your Free Trial"})]})]})})}),l.jsx("section",{className:"bg-primary-600 text-white py-20",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to revolutionize your event management?"}),l.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Start managing your events professionally with our comprehensive platform."}),l.jsxs(he,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center",children:["Get Started Now",l.jsx(ch,{className:"w-5 h-5 ml-2"})]})]})})]})};var Ys=t=>t.type==="checkbox",wi=t=>t instanceof Date,Vt=t=>t==null;const lx=t=>typeof t=="object";var rt=t=>!Vt(t)&&!Array.isArray(t)&&lx(t)&&!wi(t),v3=t=>rt(t)&&t.target?Ys(t.target)?t.target.checked:t.target.value:t,g3=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,y3=(t,e)=>t.has(g3(e)),w3=t=>{const e=t.constructor&&t.constructor.prototype;return rt(e)&&e.hasOwnProperty("isPrototypeOf")},_f=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(_f&&(t instanceof Blob||n))&&(r||rt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!w3(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=pt(t[i]));else return t;return e}var Xl=t=>/^\w*$/.test(t),et=t=>t===void 0,bf=t=>Array.isArray(t)?t.filter(Boolean):[],Ef=t=>bf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Y=(t,e,r)=>{if(!e||!rt(t))return r;const n=(Xl(e)?[e]:Ef(e)).reduce((i,a)=>Vt(i)?i:i[a],t);return et(n)||n===t?et(t[e])?r:t[e]:n},Zr=t=>typeof t=="boolean",je=(t,e,r)=>{let n=-1;const i=Xl(e)?[e]:Ef(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let c=r;if(n!==s){const u=t[o];c=rt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const xh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},on={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_3=Ot.createContext(null);_3.displayName="HookFormContext";var b3=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Pr.all&&(e._proxyFormState[s]=!n||Pr.all),r&&(r[s]=!0),t[s]}});return i};const E3=typeof window<"u"?Ot.useLayoutEffect:Ot.useEffect;var rr=t=>typeof t=="string",N3=(t,e,r,n,i)=>rr(t)?(n&&e.watch.add(t),Y(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Y(r,a))):(n&&(e.watchAll=!0),r),Xu=t=>Vt(t)||!lx(t);function Pn(t,e,r=new WeakSet){if(Xu(t)||Xu(e))return t===e;if(wi(t)&&wi(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const s=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=e[a];if(wi(s)&&wi(o)||rt(s)&&rt(o)||Array.isArray(s)&&Array.isArray(o)?!Pn(s,o,r):s!==o)return!1}}return!0}var cx=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},hs=t=>Array.isArray(t)?t:[t],vh=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function ux(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],a=e[n];if(i&&rt(i)&&a){const s=ux(i,a);rt(s)&&(r[n]=s)}else t[n]&&(r[n]=a)}return r}var Gt=t=>rt(t)&&!Object.keys(t).length,Nf=t=>t.type==="file",Mr=t=>typeof t=="function",vl=t=>{if(!_f)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dx=t=>t.type==="select-multiple",Cf=t=>t.type==="radio",C3=t=>Cf(t)||Ys(t),Pc=t=>vl(t)&&t.isConnected;function A3(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=et(t)?n++:t[e[n++]];return t}function S3(t){for(const e in t)if(t.hasOwnProperty(e)&&!et(t[e]))return!1;return!0}function Je(t,e){const r=Array.isArray(e)?e:Xl(e)?[e]:Ef(e),n=r.length===1?t:A3(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(rt(n)&&Gt(n)||Array.isArray(n)&&S3(n))&&Je(t,r.slice(0,-1)),t}var I3=t=>{for(const e in t)if(Mr(t[e]))return!0;return!1};function fx(t){return Array.isArray(t)||rt(t)&&!I3(t)}function Zu(t,e={}){for(const r in t)fx(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Zu(t[r],e[r])):Vt(t[r])||(e[r]=!0);return e}function Ui(t,e,r){r||(r=Zu(e));for(const n in t)fx(t[n])?et(e)||Xu(r[n])?r[n]=Zu(t[n],Array.isArray(t[n])?[]:{}):Ui(t[n],Vt(e)?{}:e[n],r[n]):r[n]=!Pn(t[n],e[n]);return r}const gh={value:!1,isValid:!1},yh={value:!0,isValid:!0};var hx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!et(t[0].attributes.value)?et(t[0].value)||t[0].value===""?yh:{value:t[0].value,isValid:!0}:yh:gh}return gh},px=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>et(t)?t:e?t===""?NaN:t&&+t:r&&rr(t)?new Date(t):n?n(t):t;const wh={isValid:!1,value:null};var mx=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,wh):wh;function _h(t){const e=t.ref;return Nf(e)?e.files:Cf(e)?mx(t.refs).value:dx(e)?[...e.selectedOptions].map(({value:r})=>r):Ys(e)?hx(t.refs).value:px(et(e.value)?t.ref.value:e.value,t)}var T3=(t,e,r,n)=>{const i={};for(const a of t){const s=Y(e,a);s&&je(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},gl=t=>t instanceof RegExp,$a=t=>et(t)?t:gl(t)?t.source:rt(t)?gl(t.value)?t.value.source:t.value:t,bh=t=>({isOnSubmit:!t||t===Pr.onSubmit,isOnBlur:t===Pr.onBlur,isOnChange:t===Pr.onChange,isOnAll:t===Pr.all,isOnTouch:t===Pr.onTouched});const Eh="AsyncFunction";var j3=t=>!!t&&!!t.validate&&!!(Mr(t.validate)&&t.validate.constructor.name===Eh||rt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Eh)),k3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Nh=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ps=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Y(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(ps(o,e))break}else if(rt(o)&&ps(o,e))break}}};function Ch(t,e,r){const n=Y(t,r);if(n||Xl(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=Y(e,a),o=Y(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var O3=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Gt(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||Pr.all))},R3=(t,e,r)=>!t||!e||t===e||hs(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),D3=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,P3=(t,e)=>!bf(Y(t,e)).length&&Je(t,e),M3=(t,e,r)=>{const n=hs(Y(t,r));return je(n,"root",e[r]),je(t,r,n),t};function Ah(t,e,r="validate"){if(rr(t)||Array.isArray(t)&&t.every(rr)||Zr(t)&&!t)return{type:r,message:rr(t)?t:"",ref:e}}var Fi=t=>rt(t)&&!gl(t)?t:{value:t,message:""},Sh=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:v,valueAsNumber:w,mount:g}=t._f,x=Y(r,v);if(!g||e.has(v))return{};const y=o?o[0]:s,_=P=>{i&&y.reportValidity&&(y.setCustomValidity(Zr(P)?"":P||""),y.reportValidity())},E={},A=Cf(s),I=Ys(s),S=A||I,O=(w||Nf(s))&&et(s.value)&&et(x)||vl(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,j=cx.bind(null,v,n,E),H=(P,B,X,le=on.maxLength,be=on.minLength)=>{const Xe=P?B:X;E[v]={type:P?le:be,message:Xe,ref:s,...j(P?le:be,Xe)}};if(a?!Array.isArray(x)||!x.length:c&&(!S&&(O||Vt(x))||Zr(x)&&!x||I&&!hx(o).isValid||A&&!mx(o).isValid)){const{value:P,message:B}=rr(c)?{value:!!c,message:c}:Fi(c);if(P&&(E[v]={type:on.required,message:B,ref:y,...j(on.required,B)},!n))return _(B),E}if(!O&&(!Vt(f)||!Vt(h))){let P,B;const X=Fi(h),le=Fi(f);if(!Vt(x)&&!isNaN(x)){const be=s.valueAsNumber||x&&+x;Vt(X.value)||(P=be>X.value),Vt(le.value)||(B=be<le.value)}else{const be=s.valueAsDate||new Date(x),Xe=J=>new Date(new Date().toDateString()+" "+J),$=s.type=="time",ne=s.type=="week";rr(X.value)&&x&&(P=$?Xe(x)>Xe(X.value):ne?x>X.value:be>new Date(X.value)),rr(le.value)&&x&&(B=$?Xe(x)<Xe(le.value):ne?x<le.value:be<new Date(le.value))}if((P||B)&&(H(!!P,X.message,le.message,on.max,on.min),!n))return _(E[v].message),E}if((u||d)&&!O&&(rr(x)||a&&Array.isArray(x))){const P=Fi(u),B=Fi(d),X=!Vt(P.value)&&x.length>+P.value,le=!Vt(B.value)&&x.length<+B.value;if((X||le)&&(H(X,P.message,B.message),!n))return _(E[v].message),E}if(p&&!O&&rr(x)){const{value:P,message:B}=Fi(p);if(gl(P)&&!x.match(P)&&(E[v]={type:on.pattern,message:B,ref:s,...j(on.pattern,B)},!n))return _(B),E}if(m){if(Mr(m)){const P=await m(x,r),B=Ah(P,y);if(B&&(E[v]={...B,...j(on.validate,B.message)},!n))return _(B.message),E}else if(rt(m)){let P={};for(const B in m){if(!Gt(P)&&!n)break;const X=Ah(await m[B](x,r),y,B);X&&(P={...X,...j(B,X.message)},_(X.message),n&&(E[v]=P))}if(!Gt(P)&&(E[v]={ref:y,...P},!n))return E}}return _(!0),E};const L3={mode:Pr.onSubmit,reValidateMode:Pr.onChange,shouldFocusError:!0};function F3(t={}){let e={...L3,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=rt(e.defaultValues)||rt(e.values)?pt(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:pt(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:vh(),state:vh()},p=e.criteriaMode===Pr.all,m=C=>k=>{clearTimeout(u),u=setTimeout(C,k)},v=async C=>{if(!e.disabled&&(d.isValid||f.isValid||C)){const k=e.resolver?Gt((await I()).errors):await O(n,!0);k!==r.isValid&&h.state.next({isValid:k})}},w=(C,k)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((C||Array.from(o.mount)).forEach(D=>{D&&(k?je(r.validatingFields,D,k):Je(r.validatingFields,D))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Gt(r.validatingFields)}))},g=(C,k=[],D,G,z=!0,U=!0)=>{if(G&&D&&!e.disabled){if(s.action=!0,U&&Array.isArray(Y(n,C))){const ee=D(Y(n,C),G.argA,G.argB);z&&je(n,C,ee)}if(U&&Array.isArray(Y(r.errors,C))){const ee=D(Y(r.errors,C),G.argA,G.argB);z&&je(r.errors,C,ee),P3(r.errors,C)}if((d.touchedFields||f.touchedFields)&&U&&Array.isArray(Y(r.touchedFields,C))){const ee=D(Y(r.touchedFields,C),G.argA,G.argB);z&&je(r.touchedFields,C,ee)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ui(i,a)),h.state.next({name:C,isDirty:H(C,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else je(a,C,k)},x=(C,k)=>{je(r.errors,C,k),h.state.next({errors:r.errors})},y=C=>{r.errors=C,h.state.next({errors:r.errors,isValid:!1})},_=(C,k,D,G)=>{const z=Y(n,C);if(z){const U=Y(a,C,et(D)?Y(i,C):D);et(U)||G&&G.defaultChecked||k?je(a,C,k?U:_h(z._f)):X(C,U),s.mount&&v()}},E=(C,k,D,G,z)=>{let U=!1,ee=!1;const Ne={name:C};if(!e.disabled){if(!D||G){(d.isDirty||f.isDirty)&&(ee=r.isDirty,r.isDirty=Ne.isDirty=H(),U=ee!==Ne.isDirty);const Oe=Pn(Y(i,C),k);ee=!!Y(r.dirtyFields,C),Oe?Je(r.dirtyFields,C):je(r.dirtyFields,C,!0),Ne.dirtyFields=r.dirtyFields,U=U||(d.dirtyFields||f.dirtyFields)&&ee!==!Oe}if(D){const Oe=Y(r.touchedFields,C);Oe||(je(r.touchedFields,C,D),Ne.touchedFields=r.touchedFields,U=U||(d.touchedFields||f.touchedFields)&&Oe!==D)}U&&z&&h.state.next(Ne)}return U?Ne:{}},A=(C,k,D,G)=>{const z=Y(r.errors,C),U=(d.isValid||f.isValid)&&Zr(k)&&r.isValid!==k;if(e.delayError&&D?(c=m(()=>x(C,D)),c(e.delayError)):(clearTimeout(u),c=null,D?je(r.errors,C,D):Je(r.errors,C)),(D?!Pn(z,D):z)||!Gt(G)||U){const ee={...G,...U&&Zr(k)?{isValid:k}:{},errors:r.errors,name:C};r={...r,...ee},h.state.next(ee)}},I=async C=>{w(C,!0);const k=await e.resolver(a,e.context,T3(C||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(C),k},S=async C=>{const{errors:k}=await I(C);if(C)for(const D of C){const G=Y(k,D);G?je(r.errors,D,G):Je(r.errors,D)}else r.errors=k;return k},O=async(C,k,D={valid:!0})=>{for(const G in C){const z=C[G];if(z){const{_f:U,...ee}=z;if(U){const Ne=o.array.has(U.name),Oe=z._f&&j3(z._f);Oe&&d.validatingFields&&w([U.name],!0);const hr=await Sh(z,o.disabled,a,p,e.shouldUseNativeValidation&&!k,Ne);if(Oe&&d.validatingFields&&w([U.name]),hr[U.name]&&(D.valid=!1,k))break;!k&&(Y(hr,U.name)?Ne?M3(r.errors,hr,U.name):je(r.errors,U.name,hr[U.name]):Je(r.errors,U.name))}!Gt(ee)&&await O(ee,k,D)}}return D.valid},j=()=>{for(const C of o.unMount){const k=Y(n,C);k&&(k._f.refs?k._f.refs.every(D=>!Pc(D)):!Pc(k._f.ref))&&Wr(C)}o.unMount=new Set},H=(C,k)=>!e.disabled&&(C&&k&&je(a,C,k),!Pn(J(),i)),P=(C,k,D)=>N3(C,o,{...s.mount?a:et(k)?i:rr(C)?{[C]:k}:k},D,k),B=C=>bf(Y(s.mount?a:i,C,e.shouldUnregister?Y(i,C,[]):[])),X=(C,k,D={})=>{const G=Y(n,C);let z=k;if(G){const U=G._f;U&&(!U.disabled&&je(a,C,px(k,U)),z=vl(U.ref)&&Vt(k)?"":k,dx(U.ref)?[...U.ref.options].forEach(ee=>ee.selected=z.includes(ee.value)):U.refs?Ys(U.ref)?U.refs.forEach(ee=>{(!ee.defaultChecked||!ee.disabled)&&(Array.isArray(z)?ee.checked=!!z.find(Ne=>Ne===ee.value):ee.checked=z===ee.value||!!z)}):U.refs.forEach(ee=>ee.checked=ee.value===z):Nf(U.ref)?U.ref.value="":(U.ref.value=z,U.ref.type||h.state.next({name:C,values:pt(a)})))}(D.shouldDirty||D.shouldTouch)&&E(C,z,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&ne(C)},le=(C,k,D)=>{for(const G in k){if(!k.hasOwnProperty(G))return;const z=k[G],U=C+"."+G,ee=Y(n,U);(o.array.has(C)||rt(z)||ee&&!ee._f)&&!wi(z)?le(U,z,D):X(U,z,D)}},be=(C,k,D={})=>{const G=Y(n,C),z=o.array.has(C),U=pt(k);je(a,C,U),z?(h.array.next({name:C,values:pt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&D.shouldDirty&&h.state.next({name:C,dirtyFields:Ui(i,a),isDirty:H(C,U)})):G&&!G._f&&!Vt(U)?le(C,U,D):X(C,U,D),Nh(C,o)&&h.state.next({...r,name:C}),h.state.next({name:s.mount?C:void 0,values:pt(a)})},Xe=async C=>{s.mount=!0;const k=C.target;let D=k.name,G=!0;const z=Y(n,D),U=Oe=>{G=Number.isNaN(Oe)||wi(Oe)&&isNaN(Oe.getTime())||Pn(Oe,Y(a,D,Oe))},ee=bh(e.mode),Ne=bh(e.reValidateMode);if(z){let Oe,hr;const qs=k.type?_h(z._f):v3(C),En=C.type===xh.BLUR||C.type===xh.FOCUS_OUT,ev=!k3(z._f)&&!e.resolver&&!Y(r.errors,D)&&!z._f.deps||D3(En,Y(r.touchedFields,D),r.isSubmitted,Ne,ee),rc=Nh(D,o,En);je(a,D,qs),En?(!k||!k.readOnly)&&(z._f.onBlur&&z._f.onBlur(C),c&&c(0)):z._f.onChange&&z._f.onChange(C);const nc=E(D,qs,En),tv=!Gt(nc)||rc;if(!En&&h.state.next({name:D,type:C.type,values:pt(a)}),ev)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?En&&v():En||v()),tv&&h.state.next({name:D,...rc?{}:nc});if(!En&&rc&&h.state.next({...r}),e.resolver){const{errors:Vf}=await I([D]);if(U(qs),G){const rv=Ch(r.errors,n,D),zf=Ch(Vf,n,rv.name||D);Oe=zf.error,D=zf.name,hr=Gt(Vf)}}else w([D],!0),Oe=(await Sh(z,o.disabled,a,p,e.shouldUseNativeValidation))[D],w([D]),U(qs),G&&(Oe?hr=!1:(d.isValid||f.isValid)&&(hr=await O(n,!0)));G&&(z._f.deps&&(!Array.isArray(z._f.deps)||z._f.deps.length>0)&&ne(z._f.deps),A(D,hr,Oe,nc))}},$=(C,k)=>{if(Y(r.errors,k)&&C.focus)return C.focus(),1},ne=async(C,k={})=>{let D,G;const z=hs(C);if(e.resolver){const U=await S(et(C)?C:z);D=Gt(U),G=C?!z.some(ee=>Y(U,ee)):D}else C?(G=(await Promise.all(z.map(async U=>{const ee=Y(n,U);return await O(ee&&ee._f?{[U]:ee}:ee)}))).every(Boolean),!(!G&&!r.isValid)&&v()):G=D=await O(n);return h.state.next({...!rr(C)||(d.isValid||f.isValid)&&D!==r.isValid?{}:{name:C},...e.resolver||!C?{isValid:D}:{},errors:r.errors}),k.shouldFocus&&!G&&ps(n,$,C?z:o.mount),G},J=(C,k)=>{let D={...s.mount?a:i};return k&&(D=ux(k.dirtyFields?r.dirtyFields:r.touchedFields,D)),et(C)?D:rr(C)?Y(D,C):C.map(G=>Y(D,G))},ke=(C,k)=>({invalid:!!Y((k||r).errors,C),isDirty:!!Y((k||r).dirtyFields,C),error:Y((k||r).errors,C),isValidating:!!Y(r.validatingFields,C),isTouched:!!Y((k||r).touchedFields,C)}),Ze=C=>{C&&hs(C).forEach(k=>Je(r.errors,k)),h.state.next({errors:C?r.errors:{}})},an=(C,k,D)=>{const G=(Y(n,C,{_f:{}})._f||{}).ref,z=Y(r.errors,C)||{},{ref:U,message:ee,type:Ne,...Oe}=z;je(r.errors,C,{...Oe,...k,ref:G}),h.state.next({name:C,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&G&&G.focus&&G.focus()},dr=(C,k)=>Mr(C)?h.state.subscribe({next:D=>"values"in D&&C(P(void 0,k),D)}):P(C,k,!0),bn=C=>h.state.subscribe({next:k=>{R3(C.name,k.name,C.exact)&&O3(k,C.formState||d,Jx,C.reRenderRoot)&&C.callback({values:{...a},...r,...k,defaultValues:i})}}).unsubscribe,Ir=C=>(s.mount=!0,f={...f,...C.formState},bn({...C,formState:f})),Wr=(C,k={})=>{for(const D of C?hs(C):o.mount)o.mount.delete(D),o.array.delete(D),k.keepValue||(Je(n,D),Je(a,D)),!k.keepError&&Je(r.errors,D),!k.keepDirty&&Je(r.dirtyFields,D),!k.keepTouched&&Je(r.touchedFields,D),!k.keepIsValidating&&Je(r.validatingFields,D),!e.shouldUnregister&&!k.keepDefaultValue&&Je(i,D);h.state.next({values:pt(a)}),h.state.next({...r,...k.keepDirty?{isDirty:H()}:{}}),!k.keepIsValid&&v()},L=({disabled:C,name:k})=>{(Zr(C)&&s.mount||C||o.disabled.has(k))&&(C?o.disabled.add(k):o.disabled.delete(k))},ae=(C,k={})=>{let D=Y(n,C);const G=Zr(k.disabled)||Zr(e.disabled);return je(n,C,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:C}},name:C,mount:!0,...k}}),o.mount.add(C),D?L({disabled:Zr(k.disabled)?k.disabled:e.disabled,name:C}):_(C,!0,k.value),{...G?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:$a(k.min),max:$a(k.max),minLength:$a(k.minLength),maxLength:$a(k.maxLength),pattern:$a(k.pattern)}:{},name:C,onChange:Xe,onBlur:Xe,ref:z=>{if(z){ae(C,k),D=Y(n,C);const U=et(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,ee=C3(U),Ne=D._f.refs||[];if(ee?Ne.find(Oe=>Oe===U):U===D._f.ref)return;je(n,C,{_f:{...D._f,...ee?{refs:[...Ne.filter(Pc),U,...Array.isArray(Y(i,C))?[{}]:[]],ref:{type:U.type,name:C}}:{ref:U}}}),_(C,!1,void 0,U)}else D=Y(n,C,{}),D._f&&(D._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(y3(o.array,C)&&s.action)&&o.unMount.add(C)}}},Ue=()=>e.shouldFocusError&&ps(n,$,o.mount),Ie=C=>{Zr(C)&&(h.state.next({disabled:C}),ps(n,(k,D)=>{const G=Y(n,D);G&&(k.disabled=G._f.disabled||C,Array.isArray(G._f.refs)&&G._f.refs.forEach(z=>{z.disabled=G._f.disabled||C}))},0,!1))},fr=(C,k)=>async D=>{let G;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let z=pt(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:U,values:ee}=await I();r.errors=U,z=pt(ee)}else await O(n);if(o.disabled.size)for(const U of o.disabled)Je(z,U);if(Je(r.errors,"root"),Gt(r.errors)){h.state.next({errors:{}});try{await C(z,D)}catch(U){G=U}}else k&&await k({...r.errors},D),Ue(),setTimeout(Ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gt(r.errors)&&!G,submitCount:r.submitCount+1,errors:r.errors}),G)throw G},Qx=(C,k={})=>{Y(n,C)&&(et(k.defaultValue)?be(C,pt(Y(i,C))):(be(C,k.defaultValue),je(i,C,pt(k.defaultValue))),k.keepTouched||Je(r.touchedFields,C),k.keepDirty||(Je(r.dirtyFields,C),r.isDirty=k.defaultValue?H(C,pt(Y(i,C))):H()),k.keepError||(Je(r.errors,C),d.isValid&&v()),h.state.next({...r}))},Ff=(C,k={})=>{const D=C?pt(C):i,G=pt(D),z=Gt(C),U=z?i:G;if(k.keepDefaultValues||(i=D),!k.keepValues){if(k.keepDirtyValues){const ee=new Set([...o.mount,...Object.keys(Ui(i,a))]);for(const Ne of Array.from(ee))Y(r.dirtyFields,Ne)?je(U,Ne,Y(a,Ne)):be(Ne,Y(U,Ne))}else{if(_f&&et(C))for(const ee of o.mount){const Ne=Y(n,ee);if(Ne&&Ne._f){const Oe=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(vl(Oe)){const hr=Oe.closest("form");if(hr){hr.reset();break}}}}if(k.keepFieldsRef)for(const ee of o.mount)be(ee,Y(U,ee));else n={}}a=e.shouldUnregister?k.keepDefaultValues?pt(i):{}:pt(U),h.array.next({values:{...U}}),h.state.next({values:{...U}})}o={mount:k.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!k.keepIsValid||!!k.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:z?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Pn(C,i)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:k.keepDirtyValues?k.keepDefaultValues&&a?Ui(i,a):r.dirtyFields:k.keepDefaultValues&&C?Ui(i,C):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Bf=(C,k)=>Ff(Mr(C)?C(a):C,k),qx=(C,k={})=>{const D=Y(n,C),G=D&&D._f;if(G){const z=G.refs?G.refs[0]:G.ref;z.focus&&(z.focus(),k.shouldSelect&&Mr(z.select)&&z.select())}},Jx=C=>{r={...r,...C}},Uf={control:{register:ae,unregister:Wr,getFieldState:ke,handleSubmit:fr,setError:an,_subscribe:bn,_runSchema:I,_focusError:Ue,_getWatch:P,_getDirty:H,_setValid:v,_setFieldArray:g,_setDisabledField:L,_setErrors:y,_getFieldArray:B,_reset:Ff,_resetDefaultValues:()=>Mr(e.defaultValues)&&e.defaultValues().then(C=>{Bf(C,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:Ie,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(C){s=C},get _defaultValues(){return i},get _names(){return o},set _names(C){o=C},get _formState(){return r},get _options(){return e},set _options(C){e={...e,...C}}},subscribe:Ir,trigger:ne,register:ae,handleSubmit:fr,watch:dr,setValue:be,getValues:J,reset:Bf,resetField:Qx,clearErrors:Ze,unregister:Wr,setError:an,setFocus:qx,getFieldState:ke};return{...Uf,formControl:Uf}}function Zl(t={}){const e=Ot.useRef(void 0),r=Ot.useRef(void 0),[n,i]=Ot.useState({isDirty:!1,isValidating:!1,isLoading:Mr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Mr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Mr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=F3(t);e.current={...o,formState:n}}const a=e.current.control;return a._options=t,E3(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),Ot.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ot.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Ot.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Ot.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Ot.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),Ot.useEffect(()=>{t.values&&!Pn(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[a,t.values]),Ot.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=b3(n,a),e.current}const Ih=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Y(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},xx=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Ih(n.ref,r,t):n.refs&&n.refs.forEach(i=>Ih(i,r,t))}},B3=(t,e)=>{e.shouldUseNativeValidation&&xx(t,e);const r={};for(const n in t){const i=Y(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(U3(e.names||Object.keys(t),n)){const s=Object.assign({},Y(r,n));je(s,"root",a),je(r,n,s)}else je(r,n,a)}return r},U3=(t,e)=>t.some(r=>r.startsWith(e+"."));var V3=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[s].types,u=c&&c[n.code];r[s]=cx(s,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},Yl=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&xx({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:B3(V3(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},ye;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ye||(ye={}));var Th;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Th||(Th={}));const K=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jn=t=>{switch(typeof t){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(t)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(t)?K.array:t===null?K.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?K.promise:typeof Map<"u"&&t instanceof Map?K.map:typeof Set<"u"&&t instanceof Set?K.set:typeof Date<"u"&&t instanceof Date?K.date:K.object;default:return K.unknown}},F=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class yn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof yn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}yn.create=t=>new yn(t);const z3=(t,e)=>{let r;switch(t.code){case F.invalid_type:t.received===K.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ye.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:r=`Unrecognized key(s) in object: ${ye.joinValues(t.keys,", ")}`;break;case F.invalid_union:r="Invalid input";break;case F.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ye.joinValues(t.options)}`;break;case F.invalid_enum_value:r=`Invalid enum value. Expected ${ye.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:r="Invalid function arguments";break;case F.invalid_return_type:r="Invalid function return type";break;case F.invalid_date:r="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ye.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case F.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case F.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case F.custom:r="Invalid input";break;case F.invalid_intersection_types:r="Intersection results could not be merged";break;case F.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:r="Number must be finite";break;default:r=e.defaultError,ye.assertNever(t)}return{message:r}},Yu=z3;let $3=Yu;function H3(){return $3}const W3=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function W(t,e){const r=H3(),n=W3({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Yu?void 0:Yu].filter(i=>!!i)});t.common.issues.push(n)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return se;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return or.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return se;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const se=Object.freeze({status:"aborted"}),Ja=t=>({status:"dirty",value:t}),Sr=t=>({status:"valid",value:t}),jh=t=>t.status==="aborted",kh=t=>t.status==="dirty",wa=t=>t.status==="valid",yl=t=>typeof Promise<"u"&&t instanceof Promise;var q;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(q||(q={}));class ni{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oh=(t,e)=>{if(wa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new yn(t.common.issues);return this._error=r,this._error}}};function de(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:c}=t;return s.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:i}}class ve{get description(){return this._def.description}_getType(e){return jn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:jn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new or,ctx:{common:e.parent.common,data:e.data,parsedType:jn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(yl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jn(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Oh(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jn(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return wa(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>wa(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jn(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(yl(i)?i:Promise.resolve(i));return Oh(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:F.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ea({schema:this,typeName:oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Qn.create(this,this._def)}nullable(){return Na.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rn.create(this)}promise(){return El.create(this,this._def)}or(e){return _l.create([this,e],this._def)}and(e){return bl.create(this,e,this._def)}transform(e){return new Ea({...de(this._def),schema:this,typeName:oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Ju({...de(this._def),innerType:this,defaultValue:r,typeName:oe.ZodDefault})}brand(){return new p4({typeName:oe.ZodBranded,type:this,...de(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ed({...de(this._def),innerType:this,catchValue:r,typeName:oe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Af.create(this,e)}readonly(){return td.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const G3=/^c[^\s-]{8,}$/i,X3=/^[0-9a-z]+$/,Z3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Y3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,K3=/^[a-z0-9_-]{21}$/i,Q3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,q3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,J3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mc;const t4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,r4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,n4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,i4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,a4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,s4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",o4=new RegExp(`^${vx}$`);function gx(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function l4(t){return new RegExp(`^${gx(t)}$`)}function c4(t){let e=`${vx}T${gx(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function u4(t,e){return!!((e==="v4"||!e)&&t4.test(t)||(e==="v6"||!e)&&n4.test(t))}function d4(t,e){if(!Q3.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function f4(t,e){return!!((e==="v4"||!e)&&r4.test(t)||(e==="v6"||!e)&&i4.test(t))}class Un extends ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const a=this._getOrReturnCtx(e);return W(a,{code:F.invalid_type,expected:K.string,received:a.parsedType}),se}const n=new or;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),W(i,{code:F.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),W(i,{code:F.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?W(i,{code:F.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&W(i,{code:F.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")J3.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"email",code:F.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Mc||(Mc=new RegExp(e4,"u")),Mc.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"emoji",code:F.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Y3.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"uuid",code:F.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")K3.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"nanoid",code:F.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")G3.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"cuid",code:F.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")X3.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"cuid2",code:F.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Z3.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"ulid",code:F.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),W(i,{validation:"url",code:F.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"regex",code:F.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),W(i,{code:F.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),W(i,{code:F.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),W(i,{code:F.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?c4(a).test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:F.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?o4.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:F.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?l4(a).test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:F.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?q3.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"duration",code:F.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?u4(e.data,a.version)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"ip",code:F.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?d4(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"jwt",code:F.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?f4(e.data,a.version)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"cidr",code:F.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?a4.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"base64",code:F.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?s4.test(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{validation:"base64url",code:F.invalid_string,message:a.message}),n.dirty()):ye.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:F.invalid_string,...q.errToObj(n)})}_addCheck(e){return new Un({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...q.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...q.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...q.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...q.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...q.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...q.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...q.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...q.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...q.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...q.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...q.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...q.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...q.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...q.errToObj(r)})}nonempty(e){return this.min(1,q.errToObj(e))}trim(){return new Un({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Un({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Un({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Un.create=t=>new Un({checks:[],typeName:oe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...de(t)});function h4(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class _a extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const a=this._getOrReturnCtx(e);return W(a,{code:F.invalid_type,expected:K.number,received:a.parsedType}),se}let n;const i=new or;for(const a of this._def.checks)a.kind==="int"?ye.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{code:F.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),W(n,{code:F.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),W(n,{code:F.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?h4(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),W(n,{code:F.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),W(n,{code:F.not_finite,message:a.message}),i.dirty()):ye.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,q.toString(r))}setLimit(e,r,n,i){return new _a({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:q.toString(i)}]})}_addCheck(e){return new _a({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ye.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}_a.create=t=>new _a({checks:[],typeName:oe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class Us extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let n;const i=new or;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),W(n,{code:F.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),W(n,{code:F.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),W(n,{code:F.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ye.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return W(r,{code:F.invalid_type,expected:K.bigint,received:r.parsedType}),se}gte(e,r){return this.setLimit("min",e,!0,q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,q.toString(r))}setLimit(e,r,n,i){return new Us({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:q.toString(i)}]})}_addCheck(e){return new Us({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Us.create=t=>new Us({checks:[],typeName:oe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...de(t)});class Ku extends ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const n=this._getOrReturnCtx(e);return W(n,{code:F.invalid_type,expected:K.boolean,received:n.parsedType}),se}return Sr(e.data)}}Ku.create=t=>new Ku({typeName:oe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class wl extends ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const a=this._getOrReturnCtx(e);return W(a,{code:F.invalid_type,expected:K.date,received:a.parsedType}),se}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return W(a,{code:F.invalid_date}),se}const n=new or;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),W(i,{code:F.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),W(i,{code:F.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ye.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wl({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:q.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:q.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}wl.create=t=>new wl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:oe.ZodDate,...de(t)});class Rh extends ve{_parse(e){if(this._getType(e)!==K.symbol){const n=this._getOrReturnCtx(e);return W(n,{code:F.invalid_type,expected:K.symbol,received:n.parsedType}),se}return Sr(e.data)}}Rh.create=t=>new Rh({typeName:oe.ZodSymbol,...de(t)});class Dh extends ve{_parse(e){if(this._getType(e)!==K.undefined){const n=this._getOrReturnCtx(e);return W(n,{code:F.invalid_type,expected:K.undefined,received:n.parsedType}),se}return Sr(e.data)}}Dh.create=t=>new Dh({typeName:oe.ZodUndefined,...de(t)});class Ph extends ve{_parse(e){if(this._getType(e)!==K.null){const n=this._getOrReturnCtx(e);return W(n,{code:F.invalid_type,expected:K.null,received:n.parsedType}),se}return Sr(e.data)}}Ph.create=t=>new Ph({typeName:oe.ZodNull,...de(t)});class Mh extends ve{constructor(){super(...arguments),this._any=!0}_parse(e){return Sr(e.data)}}Mh.create=t=>new Mh({typeName:oe.ZodAny,...de(t)});class Lh extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Sr(e.data)}}Lh.create=t=>new Lh({typeName:oe.ZodUnknown,...de(t)});class ii extends ve{_parse(e){const r=this._getOrReturnCtx(e);return W(r,{code:F.invalid_type,expected:K.never,received:r.parsedType}),se}}ii.create=t=>new ii({typeName:oe.ZodNever,...de(t)});class Fh extends ve{_parse(e){if(this._getType(e)!==K.undefined){const n=this._getOrReturnCtx(e);return W(n,{code:F.invalid_type,expected:K.void,received:n.parsedType}),se}return Sr(e.data)}}Fh.create=t=>new Fh({typeName:oe.ZodVoid,...de(t)});class rn extends ve{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==K.array)return W(r,{code:F.invalid_type,expected:K.array,received:r.parsedType}),se;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(W(r,{code:s?F.too_big:F.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(W(r,{code:F.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(W(r,{code:F.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new ni(r,s,r.path,o)))).then(s=>or.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new ni(r,s,r.path,o)));return or.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new rn({...this._def,minLength:{value:e,message:q.toString(r)}})}max(e,r){return new rn({...this._def,maxLength:{value:e,message:q.toString(r)}})}length(e,r){return new rn({...this._def,exactLength:{value:e,message:q.toString(r)}})}nonempty(e){return this.min(1,e)}}rn.create=(t,e)=>new rn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:oe.ZodArray,...de(e)});function Vi(t){if(t instanceof Ye){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Qn.create(Vi(n))}return new Ye({...t._def,shape:()=>e})}else return t instanceof rn?new rn({...t._def,type:Vi(t.element)}):t instanceof Qn?Qn.create(Vi(t.unwrap())):t instanceof Na?Na.create(Vi(t.unwrap())):t instanceof ki?ki.create(t.items.map(e=>Vi(e))):t}class Ye extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ye.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==K.object){const u=this._getOrReturnCtx(e);return W(u,{code:F.invalid_type,expected:K.object,received:u.parsedType}),se}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof ii&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ni(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ii){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(W(i,{code:F.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ni(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>or.mergeObjectSync(n,u)):or.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return q.errToObj,new Ye({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:q.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ye({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ye({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:oe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ye({...this._def,catchall:e})}pick(e){const r={};for(const n of ye.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ye({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ye.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ye({...this._def,shape:()=>r})}deepPartial(){return Vi(this)}partial(e){const r={};for(const n of ye.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Ye({...this._def,shape:()=>r})}required(e){const r={};for(const n of ye.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Qn;)a=a._def.innerType;r[n]=a}return new Ye({...this._def,shape:()=>r})}keyof(){return yx(ye.objectKeys(this.shape))}}Ye.create=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strip",catchall:ii.create(),typeName:oe.ZodObject,...de(e)});Ye.strictCreate=(t,e)=>new Ye({shape:()=>t,unknownKeys:"strict",catchall:ii.create(),typeName:oe.ZodObject,...de(e)});Ye.lazycreate=(t,e)=>new Ye({shape:t,unknownKeys:"strip",catchall:ii.create(),typeName:oe.ZodObject,...de(e)});class _l extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new yn(o.ctx.common.issues));return W(r,{code:F.invalid_union,unionErrors:s}),se}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(c=>new yn(c));return W(r,{code:F.invalid_union,unionErrors:o}),se}}get options(){return this._def.options}}_l.create=(t,e)=>new _l({options:t,typeName:oe.ZodUnion,...de(e)});function Qu(t,e){const r=jn(t),n=jn(e);if(t===e)return{valid:!0,data:t};if(r===K.object&&n===K.object){const i=ye.objectKeys(e),a=ye.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const c=Qu(t[o],e[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===K.array&&n===K.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],c=Qu(s,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===K.date&&n===K.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bl extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(jh(a)||jh(s))return se;const o=Qu(a.value,s.value);return o.valid?((kh(a)||kh(s))&&r.dirty(),{status:r.value,value:o.data}):(W(n,{code:F.invalid_intersection_types}),se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}bl.create=(t,e,r)=>new bl({left:t,right:e,typeName:oe.ZodIntersection,...de(r)});class ki extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==K.array)return W(n,{code:F.invalid_type,expected:K.array,received:n.parsedType}),se;if(n.data.length<this._def.items.length)return W(n,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&n.data.length>this._def.items.length&&(W(n,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ni(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>or.mergeArray(r,s)):or.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new ki({...this._def,rest:e})}}ki.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ki({items:t,typeName:oe.ZodTuple,rest:null,...de(e)})};class Bh extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==K.map)return W(n,{code:F.invalid_type,expected:K.map,received:n.parsedType}),se;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new ni(n,o,n.path,[u,"key"])),value:a._parse(new ni(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return se;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return se;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}Bh.create=(t,e,r)=>new Bh({valueType:e,keyType:t,typeName:oe.ZodMap,...de(r)});class Vs extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==K.set)return W(n,{code:F.invalid_type,expected:K.set,received:n.parsedType}),se;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(W(n,{code:F.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(W(n,{code:F.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return se;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new ni(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(e,r){return new Vs({...this._def,minSize:{value:e,message:q.toString(r)}})}max(e,r){return new Vs({...this._def,maxSize:{value:e,message:q.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Vs.create=(t,e)=>new Vs({valueType:t,minSize:null,maxSize:null,typeName:oe.ZodSet,...de(e)});class Uh extends ve{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Uh.create=(t,e)=>new Uh({getter:t,typeName:oe.ZodLazy,...de(e)});class qu extends ve{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return W(r,{received:r.data,code:F.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:e.data}}get value(){return this._def.value}}qu.create=(t,e)=>new qu({value:t,typeName:oe.ZodLiteral,...de(e)});function yx(t,e){return new ba({values:t,typeName:oe.ZodEnum,...de(e)})}class ba extends ve{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return W(r,{expected:ye.joinValues(n),received:r.parsedType,code:F.invalid_type}),se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return W(r,{received:r.data,code:F.invalid_enum_value,options:n}),se}return Sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ba.create(e,{...this._def,...r})}exclude(e,r=this._def){return ba.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ba.create=yx;class Vh extends ve{_parse(e){const r=ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==K.string&&n.parsedType!==K.number){const i=ye.objectValues(r);return W(n,{expected:ye.joinValues(i),received:n.parsedType,code:F.invalid_type}),se}if(this._cache||(this._cache=new Set(ye.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ye.objectValues(r);return W(n,{received:n.data,code:F.invalid_enum_value,options:i}),se}return Sr(e.data)}get enum(){return this._def.values}}Vh.create=(t,e)=>new Vh({values:t,typeName:oe.ZodNativeEnum,...de(e)});class El extends ve{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==K.promise&&r.common.async===!1)return W(r,{code:F.invalid_type,expected:K.promise,received:r.parsedType}),se;const n=r.parsedType===K.promise?r.data:Promise.resolve(r.data);return Sr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}El.create=(t,e)=>new El({type:t,typeName:oe.ZodPromise,...de(e)});class Ea extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{W(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return se;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?se:c.status==="dirty"||r.value==="dirty"?Ja(c.value):c});{if(r.value==="aborted")return se;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?se:o.status==="dirty"||r.value==="dirty"?Ja(o.value):o}}if(i.type==="refinement"){const s=o=>{const c=i.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?se:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?se:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wa(s))return se;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>wa(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):se);ye.assertNever(i)}}Ea.create=(t,e,r)=>new Ea({schema:t,typeName:oe.ZodEffects,effect:e,...de(r)});Ea.createWithPreprocess=(t,e,r)=>new Ea({schema:e,effect:{type:"preprocess",transform:t},typeName:oe.ZodEffects,...de(r)});class Qn extends ve{_parse(e){return this._getType(e)===K.undefined?Sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qn.create=(t,e)=>new Qn({innerType:t,typeName:oe.ZodOptional,...de(e)});class Na extends ve{_parse(e){return this._getType(e)===K.null?Sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Na.create=(t,e)=>new Na({innerType:t,typeName:oe.ZodNullable,...de(e)});class Ju extends ve{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===K.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ju.create=(t,e)=>new Ju({innerType:t,typeName:oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});class ed extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return yl(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new yn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ed.create=(t,e)=>new ed({innerType:t,typeName:oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});class zh extends ve{_parse(e){if(this._getType(e)!==K.nan){const n=this._getOrReturnCtx(e);return W(n,{code:F.invalid_type,expected:K.nan,received:n.parsedType}),se}return{status:"valid",value:e.data}}}zh.create=t=>new zh({typeName:oe.ZodNaN,...de(t)});class p4 extends ve{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Af extends ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?se:a.status==="dirty"?(r.dirty(),Ja(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?se:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Af({in:e,out:r,typeName:oe.ZodPipeline})}}class td extends ve{_parse(e){const r=this._def.innerType._parse(e),n=i=>(wa(i)&&(i.value=Object.freeze(i.value)),i);return yl(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}td.create=(t,e)=>new td({innerType:t,typeName:oe.ZodReadonly,...de(e)});Ye.lazycreate;var oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(oe||(oe={}));const Fe=Un.create,$h=_a.create,m4=Ku.create;ii.create;rn.create;const Kl=Ye.create;Ye.strictCreate;_l.create;bl.create;ki.create;const x4=qu.create,wx=ba.create;El.create;Qn.create;Na.create;const v4=Kl({email:Fe().email("Invalid email address"),password:Fe().min(1,"Password is required")}),g4=()=>{const{login:t,isLoading:e,error:r,isAuthenticated:n}=Hr(),{register:i,handleSubmit:a,formState:{errors:s,isSubmitting:o}}=Zl({resolver:Yl(v4)});if(n)return l.jsx(Kn,{to:"/dashboard",replace:!0});const c=async u=>{await t(u)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",l.jsx(he,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),r&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a(c),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{...i("email"),type:"email",className:"input-field",placeholder:"Enter your email"}),s.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{...i("password"),type:"password",className:"input-field",placeholder:"Enter your password"}),s.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o||e,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:o||e?"Signing in...":"Sign in"})})]})]})})},y4=Kl({name:Fe().min(1,"Name is required"),email:Fe().email("Invalid email address"),password:Fe().min(8,"Password must be at least 8 characters"),confirmPassword:Fe().min(1,"Please confirm your password"),role:wx(["participant","organizer"],{errorMap:()=>({message:"Please select a role"})}),organizationName:Fe().optional(),phoneNumber:Fe().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),w4=()=>{const{register:t,isLoading:e,error:r,isAuthenticated:n}=Hr(),{register:i,handleSubmit:a,watch:s,formState:{errors:o,isSubmitting:c}}=Zl({resolver:Yl(y4),defaultValues:{role:"participant"}}),u=s("role");if(n)return l.jsx(Kn,{to:"/dashboard",replace:!0});const d=async f=>{const{confirmPassword:h,...p}=f;await t(p)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(he,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]}),r&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a(d),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{...i("name"),type:"text",autoComplete:"name",className:"input-field",placeholder:"Enter your full name"}),o.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{...i("email"),type:"email",autoComplete:"email",className:"input-field",placeholder:"Enter your email"}),o.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Account Type"}),l.jsxs("select",{...i("role"),className:"input-field",children:[l.jsx("option",{value:"participant",children:"Participant"}),l.jsx("option",{value:"organizer",children:"Event Organizer"})]}),o.role&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.role.message})]}),u==="organizer"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700",children:"Organization Name"}),l.jsx("input",{...i("organizationName"),type:"text",className:"input-field",placeholder:"Enter your organization name"}),o.organizationName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.organizationName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number (Optional)"}),l.jsx("input",{...i("phoneNumber"),type:"tel",autoComplete:"tel",className:"input-field",placeholder:"Enter your phone number"}),o.phoneNumber&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phoneNumber.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{...i("password"),type:"password",autoComplete:"new-password",className:"input-field",placeholder:"Create a password (min. 8 characters)"}),o.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),l.jsx("input",{...i("confirmPassword"),type:"password",autoComplete:"new-password",className:"input-field",placeholder:"Confirm your password"}),o.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirmPassword.message})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:c||e,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:c||e?"Creating Account...":"Create Account"})})]})]})})},Zt={async createEvent(t){return ze.post("/events",t)},async getEvents(t){const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.visibility&&e.append("visibility",t.visibility),t!=null&&t.categoryId&&e.append("categoryId",t.categoryId),t!=null&&t.organizerId&&e.append("organizerId",t.organizerId),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.upcoming&&e.append("upcoming",t.upcoming.toString());const r=e.toString()?`/events?${e.toString()}`:"/events";return ze.get(r)},async getEventById(t){return ze.get(`/events/${t}`)},async updateEvent(t,e){return ze.put(`/events/${t}`,e)},async deleteEvent(t){return ze.delete(`/events/${t}`)},async getMyEvents(){return ze.get("/events/my/events")}};function _4(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function b4(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var E4=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N4=function(t){E4(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),_4(a,i.prototype),b4(a),a}return e}(Error),C4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),er=function(t){C4(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(N4),A4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kr=function(t){A4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(er),S4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),re=function(t){S4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(er),I4=function(){function t(e){if(this.binarizer=e,e===null)throw new re("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),T4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gt=function(t){T4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(er),j4=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),De=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),k4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sf=function(t){k4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(er),O4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hh=function(t){O4(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Sf),R4=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dt=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new re("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Hh(r);if(n>e)throw new Hh(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=R4(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=31*i+o}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return De.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,o=n(r,e[s]);if(o>0)i=s+1;else if(o<0)a=s-1;else return s}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),ue=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),yt=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);De.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=n[i]}var o=i*32+ue.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=~n[i]}var o=i*32+ue.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new re;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,s=n;s<=i;s++){var o=s>n?0:e&31,c=s<i?31:r&31,u=(2<<c)-(1<<o);a[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new re;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),s=this.bits,o=i;o<=a;o++){var c=o>i?0:e&31,u=o<a?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((s[o]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new re("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new re("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+a]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-a]=s}if(this.size!==n*32){for(var o=n*32-this.size,c=e[0]>>>o,a=1;a<n;a++){var u=e[a];c|=u<<32-o,e[a-1]=c,c=u>>>o}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&dt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+dt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),rd;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(rd||(rd={}));const He=rd;var D4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V=function(t){D4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(er),P4=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Ce||(Ce={}));var ut=function(){function t(e,r,n){for(var i,a,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var f=c[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=P4(s),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new V("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new V("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new V("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Ce.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Ce.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Ce.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Ce.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Ce.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Ce.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Ce.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Ce.Big5,28,"Big5"),t.GB18030=new t(Ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Ce.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),M4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bo=function(t){M4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(er),Er=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof ut?e:ut.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,s=e.length;a<s;a++){var o=e[a].toString(16);o.length<2&&(o="0"+o),i+="%"+o}return decodeURIComponent(i)}if(n.equals(ut.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Bo("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(ut.UTF8)||e.equals(ut.ISO8859_1)||e.equals(ut.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),pe=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Er.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(He.CHARACTER_SET)!==void 0)return r.get(He.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,s=!0,o=0,c=0,u=0,d=0,f=0,h=0,p=0,m=0,v=0,w=0,g=0,x=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,y=0;y<n&&(i||a||s);y++){var _=e[y]&255;s&&(o>0?_&128?o--:s=!1:_&128&&(_&64?(o++,_&32?(o++,_&16?(o++,_&8?s=!1:d++):u++):c++):s=!1)),i&&(_>127&&_<160?i=!1:_>159&&(_<192||_===215||_===247)&&g++),a&&(f>0?_<64||_===127||_>252?a=!1:f--:_===128||_===160||_>239?a=!1:_>160&&_<224?(h++,m=0,p++,p>v&&(v=p)):_>127?(f++,p=0,m++,m>w&&(w=m)):(p=0,m=0))}return s&&o>0&&(s=!1),a&&f>0&&(a=!1),s&&(x||c+u+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||v>=3||w>=3)?t.SHIFT_JIS:i&&a?v===2&&h===2||g*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(o,c,u,d,f,h){if(o==="%%")return"%";if(r[++i]!==void 0){o=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(o);break;case"p":m=parseFloat(r[i]).toPrecision(o);break;case"e":m=parseFloat(r[i]).toExponential(o);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var v=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";m.length<v;)m=c!==void 0?m+w:w+m;return m}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},t.getBytes=function(e,r){return Er.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=ut.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=ut.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=ut.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),ce=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=pe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),nn=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new re("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var s=e[a],o=0;o<n;o++)s[o]&&i.set(o,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new re("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,o=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new re("row lengths do not match");s=a,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new re("illegal character encountered: "+e.substring(u));if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new re("row lengths do not match");c++}for(var d=new t(o,c),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%o),Math.floor(f/o));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new re("input matrix dimensions do not match");for(var r=new yt(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var o=a*n,c=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[o+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new re("Left and top must be nonnegative");if(i<1||n<1)throw new re("Height and width must be at least 1");var a=e+n,s=r+i;if(s>this.height||a>this.width)throw new re("The region must fit inside the matrix");for(var o=this.rowSize,c=this.bits,u=r;u<s;u++)for(var d=u*o,f=e;f<a;f++)c[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new yt(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,s=0;s<n;s++)r.setBulk(s*32,i[a+s]);return r},t.prototype.setRow=function(e,r){De.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new yt(e),i=new yt(e),a=0,s=Math.floor((r+1)/2);a<s;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,s=r,o=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=i[u*n+d];if(f!==0){if(u<s&&(s=u),u>c&&(c=u),d*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<a&&(a=d*32+h)}if(d*32+31>o){for(var h=31;!(f>>>h);)h--;d*32+h>o&&(o=d*32+h)}}}return o<a||c<s?null:Int32Array.from([a,s,o-a+1,c-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return a+=o,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return a+=o,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&dt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+dt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new ce,a=0,s=this.height;a<s;a++){for(var o=0,c=this.width;o<c;o++)i.append(this.get(o,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),L4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=function(t){L4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(er),F4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B4=function(t){F4(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new yt(a):n.clear(),this.initArrays(a);for(var s=i.getRow(r,this.luminances),o=this.buckets,c=0;c<a;c++)o[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<u&&n.set(c);else for(var d=s[0]&255,f=s[1]&255,c=1;c<a-1;c++){var h=s[c+1]&255;(f*4-d-h)/2<u&&n.set(c),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new nn(n,i);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var c=Math.floor(i*o/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;s[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(s),m=r.getMatrix(),o=0;o<i;o++)for(var v=o*n,f=0;f<n;f++){var h=m[v+f]&255;h<p&&a.set(f,o)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,s=0,o=0;o<n;o++)r[o]>s&&(a=o,s=r[o]),r[o]>i&&(i=r[o]);for(var c=0,u=0,o=0;o<n;o++){var d=o-a,f=r[o]*d*d;f>u&&(c=o,u=f)}if(a>c){var h=a;a=c,c=h}if(c-a<=n/16)throw new R;for(var p=c-1,m=-1,o=c-1;o>a;o--){var v=o-a,f=v*v*(c-o)*(i-r[o]);f>m&&(p=o,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(j4),U4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V4=function(t){U4(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var o=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&o++;var c=e.calculateBlackPoints(a,s,o,n,i),u=new nn(n,i);e.calculateThresholdForBlock(a,s,o,n,i,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,s,o,c){for(var u=s-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,i-3),m=0;m<n;m++){var v=m<<e.BLOCK_SIZE_POWER;v>d&&(v=d);for(var w=e.cap(m,2,n-3),g=0,x=-2;x<=2;x++){var y=o[p+x];g+=y[w-2]+y[w-1]+y[w]+y[w+1]+y[w+2]}var _=g/25;e.thresholdBlock(r,v,h,_,a,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,s,o){for(var c=0,u=i*s+n;c<e.BLOCK_SIZE;c++,u+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=a&&o.set(n+d,i+c)},e.calculateBlackPoints=function(r,n,i,a,s){for(var o=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,v=255,w=0,g=0,x=f*a+p;g<e.BLOCK_SIZE;g++,x+=a){for(var y=0;y<e.BLOCK_SIZE;y++){var _=r[x+y]&255;m+=_,_<v&&(v=_),_>w&&(w=_)}if(w-v>e.MIN_DYNAMIC_RANGE)for(g++,x+=a;g<e.BLOCK_SIZE;g++,x+=a)for(var y=0;y<e.BLOCK_SIZE;y++)m+=r[x+y]&255}var E=m>>e.BLOCK_SIZE_POWER*2;if(w-v<=e.MIN_DYNAMIC_RANGE&&(E=v/2,d>0&&h>0)){var A=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;v<A&&(E=A)}u[d][h]=E}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(B4),Ql=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Bo("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Bo("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Bo("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new ce,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var s=i[a]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),z4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),If=function(t){z4(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Ql),$4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H4=function(t){$4(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var s=0,o=0,c=r.length;s<c;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}a[o]=u}else for(var s=0,o=0,m=r.length;s<m;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}a[o]=255-u}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new re("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*o),u=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*o);return n.width=c,n.height=u,i.translate(c/2,u/2),i.rotate(a),i.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new If(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Ql),W4=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Lt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})},Ft=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},G4=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Lt(this,void 0,void 0,function(){var e,r,n,i,a,s,o,c,u,d,f,h;return Ft(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=G4(e),i=n.next();!i.done;i=n.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(o=a.deviceId||a.id,c=a.label||"Video device "+(r.length+1),u=a.groupId,d={deviceId:o,label:c,kind:s,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Lt(this,void 0,void 0,function(){var e;return Ft(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new W4(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Lt(this,void 0,void 0,function(){var r;return Ft(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Lt(this,void 0,void 0,function(){return Ft(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Lt(this,void 0,void 0,function(){var n,i;return Ft(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Lt(this,void 0,void 0,function(){var n;return Ft(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Lt(this,void 0,void 0,function(){var n,i;return Ft(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Lt(this,void 0,void 0,function(){return Ft(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Lt(this,void 0,void 0,function(){var i,a;return Ft(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Lt(this,void 0,void 0,function(){var i;return Ft(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Lt(this,void 0,void 0,function(){var i;return Ft(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Lt(this,void 0,void 0,function(){var n;return Ft(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Lt(this,void 0,void 0,function(){return Ft(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new kr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new kr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new kr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new kr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new kr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new kr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new kr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new kr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new kr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new kr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Lt(this,void 0,void 0,function(){return Ft(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Lt(this,void 0,void 0,function(){return Ft(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(s,o){if(i._stopAsyncDecode){o(new R("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(h){var u=r&&h instanceof R,d=h instanceof gt||h instanceof V,f=d&&n;if(u||f)return setTimeout(a,i._timeBetweenDecodingAttempts,s,o);o(h)}};return new Promise(function(s,o){return a(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var s=c instanceof gt||c instanceof V,o=c instanceof R;(s||o)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new H4(r),i=new V4(n);return new I4(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Mt=function(){function t(e,r,n,i,a,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=De.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=De.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);De.arraycopy(r,0,n,0,r.length),De.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),nd;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(nd||(nd={}));const te=nd;var id;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(id||(id={}));const At=id;var ql=function(){function t(e,r,n,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),es=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new re;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),qn=function(){function t(e,r){if(r.length===0)throw new re;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),De.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var s=r[i];n=es.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,c=this.field,i=1;i<o;i++)n=es.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new re("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;De.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=es.addOrSubtract(r[o-s],n[o]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new re("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<a;d++)s[c+d]=es.addOrSubtract(s[c+d],o.multiply(u,i[d]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,s=0;s<r;s++)i[s]=n.multiply(a[s],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new re;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),s=this.field,o=0;o<i;o++)a[o]=s.multiply(n[o],r);return new t(s,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new re("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new re("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var o=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),s),u=e.multiplyByMonomial(o,c),d=r.buildMonomial(o,c);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),X4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_x=function(t){X4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(er),Z4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yt=function(t){Z4(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var s=new Int32Array(n),o=1,c=0;c<n;c++)s[c]=o,o*=2,o>=n&&(o^=r,o&=n-1);a.expTable=s;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[s[c]]=c;return a.logTable=u,a.zero=new qn(a,Int32Array.from([0])),a.one=new qn(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new re;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new qn(this,i)},e.prototype.inverse=function(r){if(r===0)throw new _x;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+ue.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(es),Y4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),go=function(t){Y4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(er),K4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ks=function(t){K4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(er),Jl=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new qn(n,e),a=new Int32Array(r),s=!0,o=0;o<r;o++){var c=i.evaluateAt(n.exp(o+n.getGeneratorBase()));a[a.length-1-o]=c,c!==0&&(s=!1)}if(!s)for(var u=new qn(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),o=0;o<p.length;o++){var v=e.length-1-n.log(p[o]);if(v<0)throw new go("Bad error location");e[v]=Yt.addOrSubtract(e[v],m[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,s=e,o=r,c=a.getZero(),u=a.getOne();o.getDegree()>=(n/2|0);){var d=s,f=c;if(s=o,c=u,s.isZero())throw new go("r_{i-1} was zero");o=d;for(var h=a.getZero(),p=s.getCoefficient(s.getDegree()),m=a.inverse(p);o.getDegree()>=s.getDegree()&&!o.isZero();){var v=o.getDegree()-s.getDegree(),w=a.multiply(o.getCoefficient(o.getDegree()),m);h=h.addOrSubtract(a.buildMonomial(v,w)),o=o.addOrSubtract(s.multiplyByMonomial(v,w))}if(u=h.multiply(c).addOrSubtract(f),o.getDegree()>=s.getDegree())throw new Ks("Division algorithm failed to reduce polynomial?")}var g=u.getCoefficient(0);if(g===0)throw new go("sigmaTilde(0) was zero");var x=a.inverse(g),y=u.multiplyScalar(x),_=o.multiplyScalar(x);return[y,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,s=1;s<a.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=a.inverse(s),i++);if(i!==r)throw new go("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,s=0;s<n;s++){for(var o=a.inverse(r[s]),c=1,u=0;u<n;u++)if(s!==u){var d=a.multiply(r[u],o),f=d&1?d&-2:d|1;c=a.multiply(c,f)}i[s]=a.multiply(e.evaluateAt(o),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],o))}return i},t}(),bt;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(bt||(bt={}));var Wh=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),s=t.getEncodedData(i),o=new ql(a,s,null,null);return o.setNumBits(i.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=bt.UPPER,i=bt.UPPER,a="",s=0;s<r;)if(i===bt.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var c=0;c<o;c++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);a+=pe.castAsNonUtf8Char(u),s+=8}i=n}else{var d=i===bt.DIGIT?4:5;if(r-s<d)break;var u=t.readCode(e,s,d);s+=d;var f=t.getCharacter(i,u);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return bt.LOWER;case"P":return bt.PUNCT;case"M":return bt.MIXED;case"D":return bt.DIGIT;case"B":return bt.BINARY;case"U":default:return bt.UPPER}},t.getCharacter=function(e,r){switch(e){case bt.UPPER:return t.UPPER_TABLE[r];case bt.LOWER:return t.LOWER_TABLE[r];case bt.MIXED:return t.MIXED_TABLE[r];case bt.PUNCT:return t.PUNCT_TABLE[r];case bt.DIGIT:return t.DIGIT_TABLE[r];default:throw new Ks("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Yt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Yt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Yt.AZTEC_DATA_10):(n=12,r=Yt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new V;for(var s=e.length%n,o=new Int32Array(a),c=0;c<a;c++,s+=n)o[c]=t.readCode(e,s,n);try{var u=new Jl(r);u.decode(o,a-i)}catch(w){throw new V(w)}for(var d=(1<<n)-1,f=0,c=0;c<i;c++){var h=o[c];if(h===0||h===d)throw new V;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),m=0,c=0;c<i;c++){var h=o[c];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var v=n-1;v>=0;--v)p[m++]=(h&1<<v)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<a.length;o++)a[o]=o;else for(var c=i+1+2*ue.truncDivision(ue.truncDivision(i,2)-1,15),u=i/2,d=ue.truncDivision(c,2),o=0;o<u;o++){var f=o+ue.truncDivision(o,15);a[u-o-1]=d-f-1,a[u+o]=d+f+1}for(var o=0,h=0;o<n;o++){for(var p=(n-o)*4+(r?9:12),m=o*2,v=i-1-m,w=0;w<p;w++)for(var g=w*2,x=0;x<2;x++)s[h+g+x]=e.get(a[m+x],a[m+w]),s[h+2*p+g+x]=e.get(a[m+w],a[v-x]),s[h+4*p+g+x]=e.get(a[v-x],a[v-w]),s[h+6*p+g+x]=e.get(a[v-w],a[m+x]);h+=p*8}return s},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),ge=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,s=r-i;return Math.sqrt(a*a+s*s)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),ad=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Q=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*ad.floatToIntBits(this.x)+ad.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,o;if(n>=r&&n>=i?(s=e[0],a=e[1],o=e[2]):i>=n&&i>=r?(s=e[1],a=e[0],o=e[2]):(s=e[2],a=e[0],o=e[1]),this.crossProductZ(a,s,o)<0){var c=a;a=o,o=c}e[0]=a,e[1]=s,e[2]=o},t.distance=function(e,r){return ge.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),Tf=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Q4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q4=function(t){Q4(e,t);function e(r,n,i,a,s){var o=t.call(this,r,n)||this;return o.compact=i,o.nbDatablocks=a,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Tf),sd=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new R}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,s=!0,o=!1,c=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;s;){s=!1;for(var m=!0;(m||!c)&&r<h;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,s=!0,c=!0):c||r++;if(r>=h){a=!0;break}for(var v=!0;(v||!u)&&i<p;)v=this.containsBlackPoint(e,r,i,!0),v?(i++,s=!0,u=!0):u||i++;if(i>=p){a=!0;break}for(var w=!0;(w||!d)&&e>=0;)w=this.containsBlackPoint(n,i,e,!1),w?(e--,s=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var g=!0;(g||!f)&&n>=0;)g=this.containsBlackPoint(e,r,n,!0),g?(n--,s=!0,f=!0):f||n--;if(n<0){a=!0;break}s&&(o=!0)}if(!a&&o){for(var x=r-e,y=null,_=1;y===null&&_<x;_++)y=this.getBlackPointOnSegment(e,i-_,e+_,i);if(y==null)throw new R;for(var E=null,_=1;E===null&&_<x;_++)E=this.getBlackPointOnSegment(e,n+_,e+_,n);if(E==null)throw new R;for(var A=null,_=1;A===null&&_<x;_++)A=this.getBlackPointOnSegment(r,n+_,r-_,n);if(A==null)throw new R;for(var I=null,_=1;I===null&&_<x;_++)I=this.getBlackPointOnSegment(r,i-_,r-_,i);if(I==null)throw new R;return this.centerEdges(I,y,A,E)}else throw new R},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=ge.round(ge.distance(e,r,n,i)),s=(n-e)/a,o=(i-r)/a,c=this.image,u=0;u<a;u++){var d=ge.round(e+u*s),f=ge.round(r+u*o);if(c.get(d,f))return new Q(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),s=e.getY(),o=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new Q(f-p,h+p),new Q(o+p,c+p),new Q(u-p,d-p),new Q(a+p,s-p)]:[new Q(f+p,h+p),new Q(o+p,c-p),new Q(u-p,d+p),new Q(a-p,s-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var s=e;s<=r;s++)if(a.get(s,n))return!0}else for(var o=e;o<=r;o++)if(a.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Gh=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<r.length&&a;s+=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>i)throw new R;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),c===-1?(r[s+1]=0,a=!0):c===i&&(r[s+1]=i-1,a=!0)}a=!0;for(var s=r.length-2;s>=0&&a;s-=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>i)throw new R;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),c===-1?(r[s+1]=0,a=!0):c===i&&(r[s+1]=i-1,a=!0)}},t}(),bx=function(){function t(e,r,n,i,a,s,o,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=s,this.a13=o,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,s,o,c,u,d,f,h,p,m,v,w){var g=t.quadrilateralToSquare(e,r,n,i,a,s,o,c),x=t.squareToQuadrilateral(u,d,f,h,p,m,v,w);return x.times(g)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],v=a*p+c*m+f;e[h]=(n*p+s*m+u)/v,e[h+1]=(i*p+o*m+d)/v}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],v=r[p],w=a*m+c*v+f;e[p]=(n*m+s*v+u)/w,r[p]=(i*m+o*v+d)/w}},t.squareToQuadrilateral=function(e,r,n,i,a,s,o,c){var u=e-n+a-o,d=r-i+s-c;if(u===0&&d===0)return new t(n-e,a-n,e,i-r,s-i,r,0,0,1);var f=n-a,h=o-a,p=i-s,m=c-s,v=f*m-h*p,w=(u*m-h*d)/v,g=(f*d-u*p)/v;return new t(n-e+w*n,o-e+g*o,e,i-r+w*i,c-r+g*c,r,w,g,1)},t.quadrilateralToSquare=function(e,r,n,i,a,s,o,c){return t.squareToQuadrilateral(e,r,n,i,a,s,o,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),J4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e_=function(t){J4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,s,o,c,u,d,f,h,p,m,v,w,g,x,y,_){var E=bx.quadrilateralToQuadrilateral(a,s,o,c,u,d,f,h,p,m,v,w,g,x,y,_);return this.sampleGridWithTransform(r,n,i,E)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new R;for(var s=new nn(n,i),o=new Float32Array(2*n),c=0;c<i;c++){for(var u=o.length,d=c+.5,f=0;f<u;f+=2)o[f]=f/2+.5,o[f+1]=d;a.transformPoints(o),Gh.checkAndNudgePoints(r,o);try{for(var f=0;f<u;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&s.set(f/2,c)}catch{throw new R}}return s},e}(Gh),jf=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new e_,t}(),Wt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Q(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),t_=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new q4(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new R;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var s=n[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,s,o){var c=(a>>r-2<<1)+(a&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(ue.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new R},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var c=new Jl(Yt.AZTEC_PARAM);c.decode(s,a)}catch{throw new R}for(var u=0,o=0;o<i;o++)u=(u<<4)+s[o];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),c=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(i,s,-1,1),d=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,c,u,d))break}r=o,n=c,i=u,a=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new R;this.compact=this.nbCenterLayers===5;var h=new Q(r.getX()+.5,r.getY()-.5),p=new Q(n.getX()+.5,n.getY()+.5),m=new Q(i.getX()-.5,i.getY()+.5),v=new Q(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,m,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new sd(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new Wt(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Wt(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Wt(s-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Wt(s-7,o-7),!1,-1,-1).toResultPoint()}var c=ge.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=ge.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new sd(this.image,15,c,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Wt(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Wt(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Wt(c-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Wt(c-7,u-7),!1,-1,-1).toResultPoint()}return c=ge.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=ge.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Wt(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var s=jf.getInstance(),o=this.getDimension(),c=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),s=a/n,o=e.getX(),c=e.getY(),u=s*(r.getX()-e.getX())/a,d=s*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(ge.round(o+f*u),ge.round(c+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Wt(e.getX()-a,e.getY()+a),r=new Wt(r.getX()-a,r.getY()-a),n=new Wt(n.getX()+a,n.getY()-a),i=new Wt(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,i),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,s=0,o=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)o+=i,c+=a,this.image.get(ge.round(o),ge.round(c))!==u&&s++;var h=s/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n,s+=i;for(a-=n,s-=i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n;for(a-=n;this.isValid(a,s)&&this.image.get(a,s)===r;)s+=i;return s-=i,new Wt(a,s)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new Q(o+i*a,c+i*s),d=new Q(o-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var f=new Q(o+i*a,c+i*s),h=new Q(o-i*a,c-i*s),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=ge.round(e.getX()),n=ge.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return ge.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return ge.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ue.truncDivision(this.nbLayers-4,8)+1)+15},t}(),od=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new t_(e.getBlackMatrix()),a=null,s=null;try{var o=i.detectMirror(!1);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new Wh().decode(o)}catch(f){n=f}if(s==null)try{var o=i.detectMirror(!0);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new Wh().decode(o)}catch(f){throw n??f}var c=new Mt(s.getText(),s.getRawBytes(),s.getNumBits(),a,te.AZTEC,De.currentTimeMillis()),u=s.getByteSegments();u!=null&&c.putMetadata(At.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&c.putMetadata(At.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(He.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,s){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),r_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){r_(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new od,r)||this}return e})(Oa);var ht=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(He.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),s=a.getResultMetadata(),o=270;s!==null&&s.get(At.ORIENTATION)===!0&&(o=o+s.get(At.ORIENTATION)%360),a.putMetadata(At.ORIENTATION,o);var c=a.getResultPoints();if(c!==null)for(var u=i.getHeight(),d=0;d<c.length;d++)c[d]=new Q(u-c[d].getY()-1,c[d].getX());return a}else throw new R}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new yt(n),s=r&&r.get(He.TRY_HARDER)===!0,o=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var u=Math.trunc(i/2),d=0;d<c;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+o*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var m=function(x){if(x===1&&(a.reverse(),r&&r.get(He.NEED_RESULT_POINT_CALLBACK)===!0)){var y=new Map;r.forEach(function(A,I){return y.set(I,A)}),y.delete(He.NEED_RESULT_POINT_CALLBACK),r=y}try{var _=v.decodeRow(p,a,r);if(x===1){_.putMetadata(At.ORIENTATION,180);var E=_.getResultPoints();E!==null&&(E[0]=new Q(n-E[0].getX()-1,E[0].getY()),E[1]=new Q(n-E[1].getX()-1,E[1].getY()))}return{value:_}}catch{}},v=this,w=0;w<2;w++){var g=m(w);if(typeof g=="object")return g.value}}throw new R},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var s=e.getSize();if(r>=s)throw new R;for(var o=!e.get(r),c=0,u=r;u<s;){if(e.get(u)!==o)n[c]++;else{if(++c===i)break;n[c]=1,o=!o}u++}if(!(c===i||c===i-1&&u===s))throw new R},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new R;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;n*=c;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/a},t}(),n_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xh=function(t){n_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),o=i,c=!1,u=6,d=i;d<n;d++)if(r.get(d)!==c)s[a]++;else{if(a===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=ht.patternMatchVariance(s,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,h]);o+=s[0]+s[1],s=s.slice(2,s.length-1),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new R},e.decodeCode=function(r,n,i){ht.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var c=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,s=o)}if(s>=0)return s;throw new R},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(He.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],c=0,u=new Uint8Array(20);u[c++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new V}for(var f=!1,h=!1,p="",m=s[0],v=s[1],w=Int32Array.from([0,0,0,0,0,0]),g=0,x=0,y=o,_=0,E=!0,A=!1,I=!1;!f;){var S=h;switch(h=!1,g=x,x=e.decodeCode(n,w,v),u[c++]=x,x!==e.CODE_STOP&&(E=!0),x!==e.CODE_STOP&&(_++,y+=_*x),m=v,v+=w.reduce(function(Xe,$){return Xe+$},0),x){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new V}switch(d){case e.CODE_CODE_A:if(x<64)I===A?p+=String.fromCharCode(" ".charCodeAt(0)+x):p+=String.fromCharCode(" ".charCodeAt(0)+x+128),I=!1;else if(x<96)I===A?p+=String.fromCharCode(x-64):p+=String.fromCharCode(x+64),I=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!A&&I?(A=!0,I=!1):A&&I?(A=!1,I=!1):I=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(x<96)I===A?p+=String.fromCharCode(" ".charCodeAt(0)+x):p+=String.fromCharCode(" ".charCodeAt(0)+x+128),I=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!A&&I?(A=!0,I=!1):A&&I?(A=!1,I=!1):I=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(x<100)x<10&&(p+="0"),p+=x;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var O=v-m;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-m)/2),!1))throw new R;if(y-=_*g,y%103!==g)throw new gt;var j=p.length;if(j===0)throw new R;j>0&&E&&(d===e.CODE_CODE_C?p=p.substring(0,j-2):p=p.substring(0,j-1));for(var H=(s[1]+s[0])/2,P=m+O/2,B=u.length,X=new Uint8Array(B),le=0;le<B;le++)X[le]=u[le];var be=[new Q(H,r),new Q(P,r)];return new Mt(p,X,0,be,te.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(ht),i_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zh=function(t){i_(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,s,o,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,u);var v=e.toNarrowWidePattern(u);if(v<0)throw new R;p=e.patternToChar(v),this.decodeRowResult+=p,m=f;try{for(var w=(a=void 0,Lc(u)),g=w.next();!g.done;g=w.next()){var x=g.value;f+=x}}catch(B){a={error:B}}finally{try{g&&!g.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=Lc(u),E=_.next();!E.done;E=_.next()){var x=E.value;y+=x}}catch(B){o={error:B}}finally{try{E&&!E.done&&(c=_.return)&&c.call(_)}finally{if(o)throw o.error}}var A=f-m-y;if(f!==h&&A*2<y)throw new R;if(this.usingCheckDigit){for(var I=this.decodeRowResult.length-1,S=0,O=0;O<I;O++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(O));if(this.decodeRowResult.charAt(I)!==e.ALPHABET_STRING.charAt(S%43))throw new gt;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new R;var j;this.extendedMode?j=e.decodeExtended(this.decodeRowResult):j=this.decodeRowResult;var H=(d[1]+d[0])/2,P=m+y/2;return new Mt(j,null,0,[new Q(H,r),new Q(P,r)],te.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),s=0,o=a,c=!1,u=n.length,d=a;d<i;d++)if(r.get(d)!==c)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new R},e.toNarrowWidePattern=function(r){var n,i,a=r.length,s=0,o;do{var c=2147483647;try{for(var u=(n=void 0,Lc(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<c&&f>s&&(c=f)}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}s=c,o=0;for(var h=0,p=0,m=0;m<a;m++){var f=r[m];f>s&&(p|=1<<a-1-m,o++,h+=f)}if(o===3){for(var m=0;m<a&&o>0;m++){var f=r[m];if(f>s&&(o--,f*2>=h))return-1}return p}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new R},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var s=r.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(a+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new V;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new V;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new V;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new V;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(ht),a_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yh=function(t){a_(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,s,o,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,h);var v=this.toPattern(h);if(v<0)throw new R;p=this.patternToChar(v),this.decodeRowResult+=p,m=d;try{for(var w=(a=void 0,Fc(h)),g=w.next();!g.done;g=w.next()){var x=g.value;d+=x}}catch(O){a={error:O}}finally{try{g&&!g.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=Fc(h),E=_.next();!E.done;E=_.next()){var x=E.value;y+=x}}catch(O){o={error:O}}finally{try{E&&!E.done&&(c=_.return)&&c.call(_)}finally{if(o)throw o.error}}if(d===f||!n.get(d))throw new R;if(this.decodeRowResult.length<2)throw new R;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var A=this.decodeExtended(this.decodeRowResult),I=(u[1]+u[0])/2,S=m+y/2;return new Mt(A,null,0,[new Q(I,r),new Q(S,r)],te.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,o=!1,c=a.length,u=0,d=i;d<n;d++)if(r.get(d)!==o)a[u]++;else{if(u===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,o=!o}throw new R},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var s=Fc(r),o=s.next();!o.done;o=s.next()){var c=o.value;a+=c}}catch(m){n={error:m}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new R},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var s=r.charAt(a);if(s>="a"&&s<="d"){if(a>=n-1)throw new V;var o=r.charAt(a+1),c="\0";switch(s){case"d":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new V;break;case"a":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new V;break;case"b":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o>="X"&&o<="Z")c=String.fromCharCode(127);else throw new V;break;case"c":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new V;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,s=0,o=n-1;o>=0;o--)s+=a*e.ALPHABET_STRING.indexOf(r.charAt(o)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new gt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(ht),s_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kh=function(t){s_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,s,o=this.decodeStart(n),c=this.decodeEnd(n),u=new ce;e.decodeMiddle(n,o[1],c[0],u);var d=u.toString(),f=null;i!=null&&(f=i.get(He.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var v=o_(f),w=v.next();!w.done;w=v.next()){var g=w.value;if(h===g){p=!0;break}g>m&&(m=g)}}catch(_){a={error:_}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(!p&&h>m&&(p=!0),!p)throw new V;var x=[new Q(o[1],r),new Q(c[0],r)],y=new Mt(d,null,0,x,te.ITF,new Date().getTime());return y},e.decodeMiddle=function(r,n,i,a){var s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);n<i;){ht.recordPattern(r,n,s);for(var u=0;u<5;u++){var d=2*u;o[u]=s[d],c[u]=s[d+1]}var f=e.decodeDigit(o);a.append(f.toString()),f=this.decodeDigit(c),a.append(f.toString()),s.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new R},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new R;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof R&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,s=new Int32Array(a),o=r.getSize(),c=!1,u=0,d=n;s.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==c)s[u]++;else{if(u===a-1){if(ht.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=s[0]+s[1],De.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new R},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var o=e.PATTERNS[s],c=ht.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=s):c===n&&(i=-1)}if(i>=0)return i%10;throw new R},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(ht),l_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ca=function(t){l_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,s);var o=i[0];a=i[1];var c=o-(a-o);c>=0&&(n=r.isRange(c,o,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new V;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new V;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,s){var o=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=a.length,f=i,h=n;h<o;h++)if(r.get(h)!==f)s[c]++;else{if(c===d-1){if(ht.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=s[0]+s[1];for(var p=s.slice(2,s.length),m=0;m<c-1;m++)s[m]=p[m];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,f=!f}throw new R},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,c=a.length,u=0;u<c;u++){var d=a[u],f=ht.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=u)}if(o>=0)return o;throw new R},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(ht),c_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u_=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),c=[new Q((n[0]+n[1])/2,e),new Q(a,e)],u=new Mt(s,null,0,c,te.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<5&&c<o;d++){var f=Ca.decodeDigit(e,s,c,Ca.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(i=void 0,c_(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(w){i={error:w}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new R;var v=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==v)throw new R;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new R},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[At.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,s=a<10?"0"+a:a.toString();return r+i+"."+s},t}(),d_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f_=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),c=[new Q((n[0]+n[1])/2,e),new Q(a,e)],u=new Mt(s,null,0,c,te.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<2&&c<o;d++){var f=Ca.decodeDigit(e,s,c,Ca.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(i=void 0,d_(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new R;if(parseInt(n.toString())%4!==u)throw new R;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[At.ISSUE_NUMBER,parseInt(e)]])},t}(),h_=function(){function t(){}return t.decodeRow=function(e,r,n){var i=Ca.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new u_;return a.decodeRow(e,r,i)}catch{var s=new f_;return s.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),p_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(t){p_(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),s=i==null?null:i.get(He.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new Q((a[0]+a[1])/2,r);s.foundPossibleResultPoint(o)}var c=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(s!=null){var f=new Q(u,r);s.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(s!=null){var p=new Q((h[0]+h[1])/2,r);s.foundPossibleResultPoint(p)}var m=h[1],v=m+(m-h[0]);if(v>=n.getSize()||!n.isRange(m,v,!1))throw new R;var w=d.toString();if(w.length<8)throw new V;if(!e.checkChecksum(w))throw new gt;var g=(a[1]+a[0])/2,x=(h[1]+h[0])/2,y=this.getBarcodeFormat(),_=[new Q(g,r),new Q(x,r)],E=new Mt(w,null,0,_,y,new Date().getTime()),A=0;try{var I=h_.decodeRow(r,n,h[1]);E.putMetadata(At.UPC_EAN_EXTENSION,I.getText()),E.putAllMetadata(I.getResultMetadata()),E.addResultPoints(I.getResultPoints()),A=I.getText().length}catch{}var S=i==null?null:i.get(He.ALLOWED_EAN_EXTENSIONS);if(S!=null){var O=!1;for(var j in S)if(A.toString()===j){O=!0;break}if(!O)throw new R}return y===te.EAN_13||te.UPC_A,E},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new V;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new V;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Ca),m_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qh=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ld=function(t){m_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=lt.decodeDigit(r,u,f,lt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+m%10);try{for(var v=(a=void 0,Qh(u)),w=v.next();!w.done;w=v.next()){var g=w.value;f+=g}}catch(E){a={error:E}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}m>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var x=lt.findGuardPattern(r,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var p=0;p<6&&f<d;p++){var m=lt.decodeDigit(r,u,f,lt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+m);try{for(var y=(o=void 0,Qh(u)),_=y.next();!_.done;_=y.next()){var g=_.value;f+=g}}catch(I){o={error:I}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return te.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode("0".charCodeAt(0)+i)+r,r;throw new R},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(lt),x_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qh=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jh=function(t){x_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=lt.decodeDigit(r,u,f,lt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var m=(a=void 0,qh(u)),v=m.next();!v.done;v=m.next()){var w=v.value;f+=w}}catch(_){a={error:_}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}}var g=lt.findGuardPattern(r,f,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0));f=g[1];for(var h=0;h<4&&f<d;h++){var p=lt.decodeDigit(r,u,f,lt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var x=(o=void 0,qh(u)),y=x.next();!y.done;y=x.next()){var w=y.value;f+=w}}catch(A){o={error:A}}finally{try{y&&!y.done&&(c=x.return)&&c.call(x)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return te.EAN_8},e}(lt),v_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e1=function(t){v_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new ld,r}return e.prototype.getBarcodeFormat=function(){return te.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Mt(n.substring(1),null,null,r.getResultPoints(),te.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new R},e.prototype.reset=function(){this.ean13Reader.reset()},e}(lt),g_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t1=function(t){g_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o=this.decodeMiddleCounters.map(function(w){return w});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var c=r.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=e.decodeDigit(r,o,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var p=(a=void 0,y_(o)),m=p.next();!m.done;m=p.next()){var v=m.value;u+=v}}catch(w){a={error:w}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new ce(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return lt.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw R.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return te.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new ce;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(lt),w_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bc=function(t){w_(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(He.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(te.EAN_13)>-1&&a.push(new ld),i.indexOf(te.UPC_A)>-1&&a.push(new e1),i.indexOf(te.EAN_8)>-1&&a.push(new Jh),i.indexOf(te.UPC_E)>-1&&a.push(new t1)),a.length===0&&(a.push(new ld),a.push(new e1),a.push(new Jh),a.push(new t1)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,s;try{for(var o=r1(this.readers),c=o.next();!c.done;c=o.next()){var u=c.value;try{var d=u.decodeRow(r,n,i),f=d.getBarcodeFormat()===te.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get(He.POSSIBLE_FORMATS),p=h==null||h.includes(te.UPC_A);if(f&&p){var m=d.getRawBytes(),v=new Mt(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),te.UPC_A);return v.putAllMetadata(d.getResultMetadata()),v}return d}catch{}}}catch(w){a={error:w}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}throw new R},e.prototype.reset=function(){var r,n;try{for(var i=r1(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(ht),__=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),b_=function(t){__(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new R;var s=this.codaBarDecodeRow(a.row);if(!s)throw new R;return new Mt(s,null,0,[new Q(a.left,r),new Q(a.right,r)],te.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var s=[],o=n[0],c=1,u=1;u<n.length;u++)n[u]===o?c++:(o=n[u],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(ht),E_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xi=function(t){E_(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(ht.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new R},e.count=function(r){return ge.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]>a&&(a=n[s],i=s);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]<a&&(a=n[s],i=s);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],s=a+r[2]+r[3],o=a/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=N_(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<c&&(c=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(ht),Nl=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),Ex=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Q(n,a)),this.resultPoints.push(new Q(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),C_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ra=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,s=0;try{for(var o=C_(e),c=o.next();!c.done;c=o.next()){var u=c.value;s+=u}}catch(x){i={error:x}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var v=t.combins(s-m-1,h-p-2);if(n&&f===0&&s-m-(h-p-1)>=h-p-1&&(v-=t.combins(s-m-(h-p),h-p-2)),h-p-1>1){for(var w=0,g=s-m-(h-p-2);g>r;g--)w+=t.combins(s-m-g-1,h-p-3);v-=w*(h-1-p)}else s-m>r&&v--;d+=v}s-=m}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,s=1,o=e;o>n;o--)a*=o,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},t}(),A_=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new yt(n),a=0,s=e[0],o=s.getRightChar().getValue(),c=11;c>=0;--c)o&1<<c&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var u=e[c],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),di=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),kf=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),S_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jr=function(t){S_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(kf),I_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fi=function(t){I_(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(kf),T_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bi=function(t){T_(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new V;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(kf),yo=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j_=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,s,o,c,u;if(!e)return null;if(e.length<2)throw new R;var d=e.substring(0,2);try{for(var f=yo(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(A){r={error:A}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new R;var m=e.substring(0,3);try{for(var v=yo(t.THREE_DIGIT_DATA_LENGTH),w=v.next();!w.done;w=v.next()){var p=w.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(A){i={error:A}}finally{try{w&&!w.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}try{for(var g=yo(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),x=g.next();!x.done;x=g.next()){var p=x.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){s={error:A}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}if(e.length<4)throw new R;var y=e.substring(0,4);try{for(var _=yo(t.FOUR_DIGIT_DATA_LENGTH),E=_.next();!E.done;E=_.next()){var p=E.value;if(p[0]===y)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){c={error:A}}finally{try{E&&!E.done&&(u=_.return)&&u.call(_)}finally{if(c)throw c.error}}throw new R},t.processFixedAI=function(e,r,n){if(n.length<e)throw new R;var i=n.substring(0,e);if(n.length<e+r)throw new R;var a=n.substring(e,e+r),s=n.substring(e+r),o="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(s);return c==null?o:o+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var s=n.substring(e,a),o=n.substring(a),c="("+i+")"+s,u=t.parseFieldsInGeneralPurpose(o);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Uo=function(){function t(e){this.buffer=new ce,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),s=j_.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Bi(this.information.getSize(),Bi.FNC1,Bi.FNC1):new Bi(this.information.getSize(),r-1,Bi.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Bi(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new fi(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new fi(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new fi(this.current.getPosition(),this.buffer.toString()):r=new fi(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new di(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new fi(this.current.getPosition(),this.buffer.toString());return new di(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new di(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new fi(this.current.getPosition(),this.buffer.toString());return new di(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new di(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new fi(this.current.getPosition(),this.buffer.toString());return new di(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new di(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new jr(e+5,jr.FNC1);if(r>=5&&r<15)return new jr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new jr(e+7,""+(n+1));if(n>=90&&n<116)return new jr(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new V}return new jr(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new jr(e+5,jr.FNC1);if(r>=5&&r<15)return new jr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new jr(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Ks("Decoding invalid alphanumeric value: "+n)}return new jr(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),Nx=function(){function t(e){this.information=e,this.generalDecoder=new Uo(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),k_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lr=function(t){k_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var s=r.charAt(a+n).charCodeAt(0)-"0".charCodeAt(0);i+=a&1?s:3*s}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(Nx),O_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R_=function(t){O_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new ce;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Lr),D_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P_=function(t){D_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new ce;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(Nx),M_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vo=function(t){M_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var s=this.checkWeight(a),o=1e5,c=0;c<5;++c)s/o===0&&r.append("0"),o/=10;r.append(s)},e}(Lr),L_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cx=function(t){L_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Vo.GTIN_SIZE+e.WEIGHT_SIZE)throw new R;var r=new ce;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Vo.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(Vo),F_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B_=function(t){F_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(Cx),U_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V_=function(t){U_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(Cx),z_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$_=function(t){z_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Lr.GTIN_SIZE)throw new R;var r=new ce;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Lr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Lr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Lr),H_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W_=function(t){H_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Lr.GTIN_SIZE)throw new R;var r=new ce;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Lr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Lr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Lr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Lr),G_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cn=function(t){G_(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new R;var r=new ce;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var o=i;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Vo);function X_(t){try{if(t.get(1))return new R_(t);if(!t.get(2))return new P_(t);var e=Uo.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new B_(t);case 5:return new V_(t)}var r=Uo.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new $_(t);case 13:return new W_(t)}var n=Uo.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Cn(t,"310","11");case 57:return new Cn(t,"320","11");case 58:return new Cn(t,"310","13");case 59:return new Cn(t,"320","13");case 60:return new Cn(t,"310","15");case 61:return new Cn(t,"320","15");case 62:return new Cn(t,"310","17");case 63:return new Cn(t,"320","17")}}catch(i){throw console.log(i),new Ks("unknown decoder: "+t)}}var n1=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),Z_=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),Y_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),An=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K_=function(t){Y_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof R){if(!this.pairs.length)throw new R;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new R},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,An(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,s+1)}catch(h){console.log(h)}}}throw new R},e.isValidSequence=function(r){var n,i;try{for(var a=An(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var o=s.value;if(!(r.length>o.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==o[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,s=!1;i<this.rows.length;){var o=this.rows[i];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}a=o.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Z_(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,s,o,c,u;try{for(var d=An(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(s=void 0,An(h.getPairs())),v=m.next();!v.done;v=m.next()){var w=v.value,g=!1;try{for(var x=(c=void 0,An(r)),y=x.next();!y.done;y=x.next()){var _=y.value;if(n1.equals(w,_)){g=!0;break}}}catch(E){c={error:E}}finally{try{y&&!y.done&&(u=x.return)&&u.call(x)}finally{if(c)throw c.error}}g||(p=!1)}}catch(E){s={error:E}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}}}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,s,o,c,u;try{for(var d=An(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(s=void 0,An(r)),v=m.next();!v.done;v=m.next()){var w=v.value,g=!1;try{for(var x=(c=void 0,An(h.getPairs())),y=x.next();!y.done;y=x.next()){var _=y.value;if(w.equals(_)){g=!0;break}}}catch(E){c={error:E}}finally{try{y&&!y.done&&(u=x.return)&&u.call(x)}finally{if(c)throw c.error}}if(!g){p=!1;break}}}catch(E){s={error:E}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}if(p)return!0}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=A_.buildBitArray(r),i=X_(n),a=i.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new Mt(a,null,null,c,te.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var c=this.pairs.get(o);a+=c.getLeftChar().getChecksumPortion(),s++;var u=c.getRightChar();u!=null&&(a+=u.getChecksumPortion(),s++)}a%=211;var d=211*(s-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var s,o=!0,c=-1;do this.findNextPair(r,n,c),s=this.parseFoundFinderPattern(r,i,a),s===null?c=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(r,s,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new R;var d;try{d=this.decodeDataCharacter(r,s,a,!1)}catch(f){d=null,console.log(f)}return new n1(u,d,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=r.getSize(),o;if(i>=0)o=i;else if(this.isEmptyPair(n))o=0;else{var c=n[n.length-1];o=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;o<s&&(d=!r.get(o),!!d);)o++;for(var f=0,h=o,p=o;p<s;p++)if(r.get(p)!==d)a[f]++;else{if(f===3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new R},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,s,o;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),a=o-this.startEnd[1];var u=this.getDecodeFinderCounters();De.arraycopy(u,0,u,1,u.length-1),u[0]=a;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new Ex(d,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var c=0,u=s.length-1;c<u;c++,u--){var d=s[c];s[c]=s[u],s[u]=d}}var f=17,h=ge.sum(new Int32Array(s))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new R;for(var m=this.getOddCounts(),v=this.getEvenCounts(),w=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var x=1*s[c]/h,y=x+.5;if(y<1){if(x<.3)throw new R;y=1}else if(y>8){if(x>8.7)throw new R;y=8}var _=c/2;c&1?(v[_]=y,g[_]=x-y):(m[_]=y,w[_]=x-y)}this.adjustOddEvenCounts(f);for(var E=4*n.getValue()+(i?0:2)+(a?0:1)-1,A=0,I=0,c=m.length-1;c>=0;c--){if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[E][2*c];I+=m[c]*S}A+=m[c]}for(var O=0,c=v.length-1;c>=0;c--)if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[E][2*c+1];O+=v[c]*S}var j=I+O;if(A&1||A>13||A<4)throw new R;var H=(13-A)/2,P=e.SYMBOL_WIDEST[H],B=9-P,X=ra.getRSSvalue(m,P,!0),le=ra.getRSSvalue(v,B,!1),be=e.EVEN_TOTAL_SUBSET[H],Xe=e.GSUM[H],$=X*be+le+Xe;return new Nl($,j)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=ge.sum(new Int32Array(this.getOddCounts())),i=ge.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;n>13?s=!0:n<4&&(a=!0);var o=!1,c=!1;i>13?c=!0:i<4&&(o=!0);var u=n+i-r,d=(n&1)===1,f=(i&1)===0;if(u===1)if(d){if(f)throw new R;s=!0}else{if(!f)throw new R;c=!0}else if(u===-1)if(d){if(f)throw new R;a=!0}else{if(!f)throw new R;o=!0}else if(u===0){if(d){if(!f)throw new R;n<i?(a=!0,c=!0):(s=!0,o=!0)}else if(f)throw new R}else throw new R;if(a){if(s)throw new R;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new R;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(xi),Q_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q_=function(t){Q_(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Nl),J_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i1=function(t){J_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,s,o,c,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=Uc(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(o=void 0,Uc(this.possibleRightPairs)),v=m.next();!v.done;v=m.next()){var w=v.value;if(w.getCount()>1&&e.checkChecksum(p,w))return e.constructResult(p,w)}}catch(g){o={error:g}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}}}catch(g){a={error:g}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}throw new R},e.addOrTally=function(r,n){var i,a;if(n!=null){var s=!1;try{for(var o=Uc(r),c=o.next();!c.done;c=o.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),s=new ce,o=13-a.length;o>0;o--)s.append("0");s.append(a);for(var c=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-"0".charCodeAt(0);c+=o&1?u:3*u}c=10-c%10,c===10&&(c=0),s.append(c.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Mt(s.toString(),null,0,[d[0],d[1],f[0],f[1]],te.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,i,n,s),c=a==null?null:a.get(He.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new Q(u,i))}var d=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new q_(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)ht.recordPatternInReverse(r,n.getStartEnd()[0],a);else{ht.recordPattern(r,n.getStartEnd()[1]+1,a);for(var o=0,c=a.length-1;o<c;o++,c--){var u=a[o];a[o]=a[c],a[c]=u}}for(var d=i?16:15,f=ge.sum(new Int32Array(a))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),o=0;o<a.length;o++){var w=a[o]/f,g=Math.floor(w+.5);g<1?g=1:g>8&&(g=8);var x=Math.floor(o/2);o&1?(p[x]=g,v[x]=w-g):(h[x]=g,m[x]=w-g)}this.adjustOddEvenCounts(i,d);for(var y=0,_=0,o=h.length-1;o>=0;o--)_*=9,_+=h[o],y+=h[o];for(var E=0,A=0,o=p.length-1;o>=0;o--)E*=9,E+=p[o],A+=p[o];var I=_+3*E;if(i){if(y&1||y>12||y<4)throw new R;var S=(12-y)/2,O=e.OUTSIDE_ODD_WIDEST[S],j=9-O,H=ra.getRSSvalue(h,O,!1),P=ra.getRSSvalue(p,j,!0),B=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],X=e.OUTSIDE_GSUM[S];return new Nl(H*B+P+X,I)}else{if(A&1||A>10||A<4)throw new R;var S=(10-A)/2,O=e.INSIDE_ODD_WIDEST[S],j=9-O,H=ra.getRSSvalue(h,O,!0),P=ra.getRSSvalue(p,j,!1),le=e.INSIDE_ODD_TOTAL_SUBSET[S],X=e.INSIDE_GSUM[S];return new Nl(P*le+H+X,I)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),s=!1,o=0;o<a&&(s=!r.get(o),n!==s);)o++;for(var c=0,u=o,d=o;d<a;d++)if(r.get(d)!==s)i[c]++;else{if(c===3){if(xi.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new R},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var s=r.get(a[0]),o=a[0]-1;o>=0&&s!==r.get(o);)o--;o++;var c=a[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);De.arraycopy(u,0,d,1,u.length-1),d[0]=c;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=o,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new Ex(f,[o,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=ge.sum(new Int32Array(this.getOddCounts())),a=ge.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,u=!1;r?(i>12?o=!0:i<4&&(s=!0),a>12?u=!0:a<4&&(c=!0)):(i>11?o=!0:i<5&&(s=!0),a>10?u=!0:a<4&&(c=!0));var d=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(d===1)if(f){if(h)throw new R;o=!0}else{if(!h)throw new R;u=!0}else if(d===-1)if(f){if(h)throw new R;s=!0}else{if(!h)throw new R;c=!0}else if(d===0){if(f){if(!h)throw new R;i<a?(s=!0,u=!0):(o=!0,c=!0)}else if(h)throw new R}else throw new R;if(s){if(o)throw new R;xi.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&xi.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new R;xi.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&xi.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(xi),eb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ts=function(t){eb(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(He.POSSIBLE_FORMATS):null,a=r&&r.get(He.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(te.EAN_13)||i.includes(te.UPC_A)||i.includes(te.EAN_8)||i.includes(te.UPC_E))&&n.readers.push(new Bc(r)),i.includes(te.CODE_39)&&n.readers.push(new Zh(a)),i.includes(te.CODE_93)&&n.readers.push(new Yh),i.includes(te.CODE_128)&&n.readers.push(new Xh),i.includes(te.ITF)&&n.readers.push(new Kh),i.includes(te.CODABAR)&&n.readers.push(new b_),i.includes(te.RSS_14)&&n.readers.push(new i1),i.includes(te.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new K_))),n.readers.length===0&&(n.readers.push(new Bc(r)),n.readers.push(new Zh),n.readers.push(new Yh),n.readers.push(new Bc(r)),n.readers.push(new Xh),n.readers.push(new Kh),n.readers.push(new i1)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new R},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(ht),tb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){tb(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new ts(n),r,n)||this}return e})(Oa);var a1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ee=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),we=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),rb=function(){function t(e,r,n,i,a,s){var o,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var u=0,d=s.getECCodewords(),f=s.getECBlocks();try{for(var h=a1(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(v){o={error:v}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new V;try{for(var a=a1(t.VERSIONS),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new V},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ee(5,new we(1,3))),new t(2,12,12,10,10,new Ee(7,new we(1,5))),new t(3,14,14,12,12,new Ee(10,new we(1,8))),new t(4,16,16,14,14,new Ee(12,new we(1,12))),new t(5,18,18,16,16,new Ee(14,new we(1,18))),new t(6,20,20,18,18,new Ee(18,new we(1,22))),new t(7,22,22,20,20,new Ee(20,new we(1,30))),new t(8,24,24,22,22,new Ee(24,new we(1,36))),new t(9,26,26,24,24,new Ee(28,new we(1,44))),new t(10,32,32,14,14,new Ee(36,new we(1,62))),new t(11,36,36,16,16,new Ee(42,new we(1,86))),new t(12,40,40,18,18,new Ee(48,new we(1,114))),new t(13,44,44,20,20,new Ee(56,new we(1,144))),new t(14,48,48,22,22,new Ee(68,new we(1,174))),new t(15,52,52,24,24,new Ee(42,new we(2,102))),new t(16,64,64,14,14,new Ee(56,new we(2,140))),new t(17,72,72,16,16,new Ee(36,new we(4,92))),new t(18,80,80,18,18,new Ee(48,new we(4,114))),new t(19,88,88,20,20,new Ee(56,new we(4,144))),new t(20,96,96,22,22,new Ee(68,new we(4,174))),new t(21,104,104,24,24,new Ee(56,new we(6,136))),new t(22,120,120,18,18,new Ee(68,new we(6,175))),new t(23,132,132,20,20,new Ee(62,new we(8,163))),new t(24,144,144,22,22,new Ee(62,new we(8,156),new we(2,155))),new t(25,8,18,6,16,new Ee(7,new we(1,5))),new t(26,8,32,6,14,new Ee(11,new we(1,10))),new t(27,12,26,10,24,new Ee(14,new we(1,16))),new t(28,12,36,10,16,new Ee(18,new we(1,22))),new t(29,16,36,14,16,new Ee(24,new we(1,32))),new t(30,16,48,14,22,new Ee(28,new we(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),nb=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new V;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new nn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return rb.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,c=!1,u=!1,d=!1;do if(n===a&&i===0&&!o)e[r++]=this.readCorner1(a,s)&255,n-=2,i+=2,o=!0;else if(n===a-2&&i===0&&s&3&&!c)e[r++]=this.readCorner2(a,s)&255,n-=2,i+=2,c=!0;else if(n===a+4&&i===2&&!(s&7)&&!u)e[r++]=this.readCorner3(a,s)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(s&7)===4&&!d)e[r++]=this.readCorner4(a,s)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n-=2,i+=2;while(n>=0&&i<s);n+=1,i+=3;do n>=0&&i<s&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<s);if(r!==this.version.getTotalCodewords())throw new V;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new re("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=r/i|0,o=n/a|0,c=s*i,u=o*a,d=new nn(u,c),f=0;f<s;++f)for(var h=f*i,p=0;p<o;++p)for(var m=p*a,v=0;v<i;++v)for(var w=f*(i+2)+1+v,g=h+v,x=0;x<a;++x){var y=p*(a+2)+1+x;if(e.get(y,w)){var _=m+x;d.set(_,g)}}return d},t}(),s1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ib=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,s,o=r.getECBlocks(),c=0,u=o.getECBlocks();try{for(var d=s1(u),f=d.next();!f.done;f=d.next()){var h=f.value;c+=h.getCount()}}catch(X){n={error:X}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var v=s1(u),w=v.next();!w.done;w=v.next())for(var h=w.value,g=0;g<h.getCount();g++){var x=h.getDataCodewords(),y=o.getECCodewords()+x;p[m++]=new t(x,new Uint8Array(y))}}catch(X){a={error:X}}finally{try{w&&!w.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}for(var _=p[0].codewords.length,E=_-o.getECCodewords(),A=E-1,I=0,g=0;g<A;g++)for(var S=0;S<m;S++)p[S].codewords[g]=e[I++];for(var O=r.getVersionNumber()===24,j=O?8:m,S=0;S<j;S++)p[S].codewords[E-1]=e[I++];for(var H=p[0].codewords.length,g=E;g<H;g++)for(var S=0;S<m;S++){var P=O?(S+8)%m:S,B=O&&P>7?g-1:g;p[P].codewords[B]=e[I++]}if(I!==e.length)throw new re;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Ax=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new re(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,c=s-o,u=255>>8-o<<c;r=(a[i]&u)>>c,e-=o,n+=o,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(a[i]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),it;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(it||(it={}));var ab=function(){function t(){}return t.decode=function(e){var r=new Ax(e),n=new ce,i=new ce,a=new Array,s=it.ASCII_ENCODE;do if(s===it.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,i);else{switch(s){case it.C40_ENCODE:this.decodeC40Segment(r,n);break;case it.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case it.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case it.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case it.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new V}s=it.ASCII_ENCODE}while(s!==it.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new ql(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new V;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),it.ASCII_ENCODE;if(a===129)return it.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&r.append("0"),r.append(""+s)}else switch(a){case 230:return it.C40_ENCODE;case 231:return it.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return it.ANSIX12_ENCODE;case 239:return it.TEXT_ENCODE;case 240:return it.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new V;break}}while(e.available()>0);return it.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var c=i[o];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new V;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new V}a=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),a=0;break;default:throw new V}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var c=i[o];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new V;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new V}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new V;break;default:throw new V}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var s=n[a];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new V;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new V;for(var o=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new V;o[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(o);try{r.append(Er.decode(o,pe.ISO88591))}catch(u){throw new Ks("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),sb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ob=function(){function t(){this.rsDecoder=new Jl(Yt.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new nb(e),a=i.getVersion(),s=i.readCodewords(),o=ib.getDataBlocks(s,a),c=0;try{for(var u=sb(o),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(y){r={error:y}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(c),p=o.length,m=0;m<p;m++){var v=o[m],w=v.getCodewords(),g=v.getNumDataCodewords();this.correctErrors(w,g);for(var x=0;x<g;x++)h[x*p+m]=w[x]}return ab.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gt}for(var i=0;i<r;i++)e[i]=n[i]},t}(),lb=function(){function t(e){this.image=e,this.rectangleDetector=new sd(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new R;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(a,s)+1;(o&1)===1&&(o+=1),(c&1)===1&&(c+=1),4*o<7*c&&4*c<7*o&&(o=c=Math.max(o,c));var u=t.sampleGrid(this.image,n,i,a,s,o,c);return new Tf(u,[n,i,a,s])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Q(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Q(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,i),c=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),d=s,f=[a,r,n,i];return d>o&&(d=o,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>c&&(d=c,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>u&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=t.shiftPoint(n,i,(s+1)*4),c=t.shiftPoint(i,n,(s+1)*4),u=this.transitionsBetween(o,r),d=this.transitionsBetween(c,a);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=this.transitionsBetween(n,a),c=t.shiftPoint(r,n,(o+1)*4),u=t.shiftPoint(i,n,(s+1)*4);s=this.transitionsBetween(c,a),o=this.transitionsBetween(u,a);var d=new Q(a.getX()+(i.getX()-n.getX())/(s+1),a.getY()+(i.getY()-n.getY())/(s+1)),f=new Q(a.getX()+(r.getX()-n.getX())/(o+1),a.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a)+1,o=this.transitionsBetween(i,a)+1,c=t.shiftPoint(r,n,o*4),u=t.shiftPoint(i,n,s*4);s=this.transitionsBetween(c,a)+1,o=this.transitionsBetween(u,a)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var h,p;return c=t.shiftPoint(r,n,o*4),c=t.shiftPoint(c,a,s*4),h=t.shiftPoint(n,r,o*4),h=t.shiftPoint(h,i,s*4),u=t.shiftPoint(i,a,o*4),u=t.shiftPoint(u,n,s*4),p=t.shiftPoint(a,i,o*4),p=t.shiftPoint(p,r,s*4),[c,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,s,o){var c=jf.getInstance();return c.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-i)>Math.abs(a-n);if(o){var c=n;n=i,i=c,c=a,a=s,s=c}for(var u=Math.abs(a-n),d=Math.abs(s-i),f=-u/2,h=i<s?1:-1,p=n<a?1:-1,m=0,v=this.image.get(o?i:n,o?n:i),w=n,g=i;w!==a;w+=p){var x=this.image.get(o?g:w,o?w:g);if(x!==v&&(m++,v=x),f+=d,f>0){if(g===s)break;g+=h,f-=u}}return m},t}(),cd=function(){function t(){this.decoder=new ob}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(He.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var s=new lb(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),i=s.getPoints()}var o=n.getRawBytes(),c=new Mt(n.getText(),o,8*o.length,i,te.DATA_MATRIX,De.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(At.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(At.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new R;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],c=n[0],u=(c-o+1)/i,d=(s-a+1)/i;if(u<=0||d<=0)throw new R;var f=i/2;a+=f,o+=f;for(var h=new nn(u,d),p=0;p<d;p++)for(var m=a+p*i,v=0;v<u;v++)e.get(o+v*i,m)&&h.set(v,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new R;var s=i-e[0];if(s===0)throw new R;return s},t.NO_POINTS=[],t}(),cb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){cb(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new cd,r)||this}return e})(Oa);var na;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(na||(na={}));var ub=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new kr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new re;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(na.L,"L",1),t.M=new t(na.M,"M",0),t.Q=new t(na.Q,"Q",3),t.H=new t(na.H,"H",2),t}(),db=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sx=function(){function t(e){this.errorCorrectionLevel=ub.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return ue.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=db(t.FORMAT_INFO_DECODE_LOOKUP),c=o.next();!c.done;c=o.next()){var u=c.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<a&&(s=u[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(s=u[1],a=f))}}catch(h){n={error:h}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),fb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=fb(i),s=a.next();!s.done;s=a.next()){var o=s.value;n+=o.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),b=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),hb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ni=function(){function t(e,r){for(var n,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var o=0,c=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var d=hb(u),f=d.next();!f.done;f=d.next()){var h=f.value;o+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new V;try{return this.getVersionForNumber((e-17)/4)}catch{throw new V}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new re;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var s=Sx.numBitsDiffering(e,a);s<r&&(n=i+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new nn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<n;s++)i===0&&(s===0||s===n-1)||i===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new T(7,new b(1,19)),new T(10,new b(1,16)),new T(13,new b(1,13)),new T(17,new b(1,9))),new t(2,Int32Array.from([6,18]),new T(10,new b(1,34)),new T(16,new b(1,28)),new T(22,new b(1,22)),new T(28,new b(1,16))),new t(3,Int32Array.from([6,22]),new T(15,new b(1,55)),new T(26,new b(1,44)),new T(18,new b(2,17)),new T(22,new b(2,13))),new t(4,Int32Array.from([6,26]),new T(20,new b(1,80)),new T(18,new b(2,32)),new T(26,new b(2,24)),new T(16,new b(4,9))),new t(5,Int32Array.from([6,30]),new T(26,new b(1,108)),new T(24,new b(2,43)),new T(18,new b(2,15),new b(2,16)),new T(22,new b(2,11),new b(2,12))),new t(6,Int32Array.from([6,34]),new T(18,new b(2,68)),new T(16,new b(4,27)),new T(24,new b(4,19)),new T(28,new b(4,15))),new t(7,Int32Array.from([6,22,38]),new T(20,new b(2,78)),new T(18,new b(4,31)),new T(18,new b(2,14),new b(4,15)),new T(26,new b(4,13),new b(1,14))),new t(8,Int32Array.from([6,24,42]),new T(24,new b(2,97)),new T(22,new b(2,38),new b(2,39)),new T(22,new b(4,18),new b(2,19)),new T(26,new b(4,14),new b(2,15))),new t(9,Int32Array.from([6,26,46]),new T(30,new b(2,116)),new T(22,new b(3,36),new b(2,37)),new T(20,new b(4,16),new b(4,17)),new T(24,new b(4,12),new b(4,13))),new t(10,Int32Array.from([6,28,50]),new T(18,new b(2,68),new b(2,69)),new T(26,new b(4,43),new b(1,44)),new T(24,new b(6,19),new b(2,20)),new T(28,new b(6,15),new b(2,16))),new t(11,Int32Array.from([6,30,54]),new T(20,new b(4,81)),new T(30,new b(1,50),new b(4,51)),new T(28,new b(4,22),new b(4,23)),new T(24,new b(3,12),new b(8,13))),new t(12,Int32Array.from([6,32,58]),new T(24,new b(2,92),new b(2,93)),new T(22,new b(6,36),new b(2,37)),new T(26,new b(4,20),new b(6,21)),new T(28,new b(7,14),new b(4,15))),new t(13,Int32Array.from([6,34,62]),new T(26,new b(4,107)),new T(22,new b(8,37),new b(1,38)),new T(24,new b(8,20),new b(4,21)),new T(22,new b(12,11),new b(4,12))),new t(14,Int32Array.from([6,26,46,66]),new T(30,new b(3,115),new b(1,116)),new T(24,new b(4,40),new b(5,41)),new T(20,new b(11,16),new b(5,17)),new T(24,new b(11,12),new b(5,13))),new t(15,Int32Array.from([6,26,48,70]),new T(22,new b(5,87),new b(1,88)),new T(24,new b(5,41),new b(5,42)),new T(30,new b(5,24),new b(7,25)),new T(24,new b(11,12),new b(7,13))),new t(16,Int32Array.from([6,26,50,74]),new T(24,new b(5,98),new b(1,99)),new T(28,new b(7,45),new b(3,46)),new T(24,new b(15,19),new b(2,20)),new T(30,new b(3,15),new b(13,16))),new t(17,Int32Array.from([6,30,54,78]),new T(28,new b(1,107),new b(5,108)),new T(28,new b(10,46),new b(1,47)),new T(28,new b(1,22),new b(15,23)),new T(28,new b(2,14),new b(17,15))),new t(18,Int32Array.from([6,30,56,82]),new T(30,new b(5,120),new b(1,121)),new T(26,new b(9,43),new b(4,44)),new T(28,new b(17,22),new b(1,23)),new T(28,new b(2,14),new b(19,15))),new t(19,Int32Array.from([6,30,58,86]),new T(28,new b(3,113),new b(4,114)),new T(26,new b(3,44),new b(11,45)),new T(26,new b(17,21),new b(4,22)),new T(26,new b(9,13),new b(16,14))),new t(20,Int32Array.from([6,34,62,90]),new T(28,new b(3,107),new b(5,108)),new T(26,new b(3,41),new b(13,42)),new T(30,new b(15,24),new b(5,25)),new T(28,new b(15,15),new b(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new T(28,new b(4,116),new b(4,117)),new T(26,new b(17,42)),new T(28,new b(17,22),new b(6,23)),new T(30,new b(19,16),new b(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new T(28,new b(2,111),new b(7,112)),new T(28,new b(17,46)),new T(30,new b(7,24),new b(16,25)),new T(24,new b(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new T(30,new b(4,121),new b(5,122)),new T(28,new b(4,47),new b(14,48)),new T(30,new b(11,24),new b(14,25)),new T(30,new b(16,15),new b(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new T(30,new b(6,117),new b(4,118)),new T(28,new b(6,45),new b(14,46)),new T(30,new b(11,24),new b(16,25)),new T(30,new b(30,16),new b(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new T(26,new b(8,106),new b(4,107)),new T(28,new b(8,47),new b(13,48)),new T(30,new b(7,24),new b(22,25)),new T(30,new b(22,15),new b(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new T(28,new b(10,114),new b(2,115)),new T(28,new b(19,46),new b(4,47)),new T(28,new b(28,22),new b(6,23)),new T(30,new b(33,16),new b(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new T(30,new b(8,122),new b(4,123)),new T(28,new b(22,45),new b(3,46)),new T(30,new b(8,23),new b(26,24)),new T(30,new b(12,15),new b(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new T(30,new b(3,117),new b(10,118)),new T(28,new b(3,45),new b(23,46)),new T(30,new b(4,24),new b(31,25)),new T(30,new b(11,15),new b(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new T(30,new b(7,116),new b(7,117)),new T(28,new b(21,45),new b(7,46)),new T(30,new b(1,23),new b(37,24)),new T(30,new b(19,15),new b(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new T(30,new b(5,115),new b(10,116)),new T(28,new b(19,47),new b(10,48)),new T(30,new b(15,24),new b(25,25)),new T(30,new b(23,15),new b(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new T(30,new b(13,115),new b(3,116)),new T(28,new b(2,46),new b(29,47)),new T(30,new b(42,24),new b(1,25)),new T(30,new b(23,15),new b(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new T(30,new b(17,115)),new T(28,new b(10,46),new b(23,47)),new T(30,new b(10,24),new b(35,25)),new T(30,new b(19,15),new b(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new T(30,new b(17,115),new b(1,116)),new T(28,new b(14,46),new b(21,47)),new T(30,new b(29,24),new b(19,25)),new T(30,new b(11,15),new b(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new T(30,new b(13,115),new b(6,116)),new T(28,new b(14,46),new b(23,47)),new T(30,new b(44,24),new b(7,25)),new T(30,new b(59,16),new b(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new T(30,new b(12,121),new b(7,122)),new T(28,new b(12,47),new b(26,48)),new T(30,new b(39,24),new b(14,25)),new T(30,new b(22,15),new b(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new T(30,new b(6,121),new b(14,122)),new T(28,new b(6,47),new b(34,48)),new T(30,new b(46,24),new b(10,25)),new T(30,new b(2,15),new b(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new T(30,new b(17,122),new b(4,123)),new T(28,new b(29,46),new b(14,47)),new T(30,new b(49,24),new b(10,25)),new T(30,new b(24,15),new b(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new T(30,new b(4,122),new b(18,123)),new T(28,new b(13,46),new b(32,47)),new T(30,new b(48,24),new b(14,25)),new T(30,new b(42,15),new b(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new T(30,new b(20,117),new b(4,118)),new T(28,new b(40,47),new b(7,48)),new T(30,new b(43,24),new b(22,25)),new T(30,new b(10,15),new b(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new T(30,new b(19,118),new b(6,119)),new T(28,new b(18,47),new b(31,48)),new T(30,new b(34,24),new b(34,25)),new T(30,new b(20,15),new b(61,16)))],t}(),mt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(mt||(mt={}));var o1=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[mt.DATA_MASK_000,new t(mt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[mt.DATA_MASK_001,new t(mt.DATA_MASK_001,function(e,r){return(e&1)===0})],[mt.DATA_MASK_010,new t(mt.DATA_MASK_010,function(e,r){return r%3===0})],[mt.DATA_MASK_011,new t(mt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[mt.DATA_MASK_100,new t(mt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[mt.DATA_MASK_101,new t(mt.DATA_MASK_101,function(e,r){return e*r%6===0})],[mt.DATA_MASK_110,new t(mt.DATA_MASK_110,function(e,r){return e*r%6<3})],[mt.DATA_MASK_111,new t(mt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),pb=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new V;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,n=i-1;n>=s;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=Sx.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ni.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)n=this.copyBit(s,a,n);var o=Ni.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(s,a,n);if(o=Ni.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new V},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=o1.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=s?i-1-h:h,m=0;m<2;m++)a.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(o[c++]=u,d=0,u=0));s=!s}if(c!==r.getTotalCodewords())throw new V;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=o1.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),l1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mb=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,s,o;if(e.length!==r.getTotalCodewords())throw new re;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var f=l1(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(B){i={error:B}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var m=new Array(u),v=0;try{for(var w=l1(d),g=w.next();!g.done;g=w.next())for(var p=g.value,x=0;x<p.getCount();x++){var y=p.getDataCodewords(),_=c.getECCodewordsPerBlock()+y;m[v++]=new t(y,new Uint8Array(_))}}catch(B){s={error:B}}finally{try{g&&!g.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}for(var E=m[0].codewords.length,A=m.length-1;A>=0;){var I=m[A].codewords.length;if(I===E)break;A--}A++;for(var S=E-c.getECCodewordsPerBlock(),O=0,x=0;x<S;x++)for(var j=0;j<v;j++)m[j].codewords[x]=e[O++];for(var j=A;j<v;j++)m[j].codewords[S]=e[O++];for(var H=m[0].codewords.length,x=S;x<H;x++)for(var j=0;j<v;j++){var P=j<A?x:x+1;m[j].codewords[P]=e[O++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),vr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(vr||(vr={}));var Le=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new re;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(vr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(vr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(vr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(vr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(vr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(vr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(vr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(vr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(vr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(vr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),xb=function(){function t(){}return t.decode=function(e,r,n,i){var a=new Ax(e),s=new ce,o=new Array,c=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(a.available()<4)h=Le.TERMINATOR;else{var p=a.readBits(4);h=Le.forBits(p)}switch(h){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:f=!0;break;case Le.STRUCTURED_APPEND:if(a.available()<16)throw new V;c=a.readBits(8),u=a.readBits(8);break;case Le.ECI:var m=t.parseECIValue(a);if(d=ut.getCharacterSetECIByValue(m),d===null)throw new V;break;case Le.HANZI:var v=a.readBits(4),w=a.readBits(h.getCharacterCountBits(r));v===t.GB2312_SUBSET&&t.decodeHanziSegment(a,s,w);break;default:var g=a.readBits(h.getCharacterCountBits(r));switch(h){case Le.NUMERIC:t.decodeNumericSegment(a,s,g);break;case Le.ALPHANUMERIC:t.decodeAlphanumericSegment(a,s,g,f);break;case Le.BYTE:t.decodeByteSegment(a,s,g,d,o,i);break;case Le.KANJI:t.decodeKanjiSegment(a,s,g);break;default:throw new V}break}}while(h!==Le.TERMINATOR)}catch{throw new V}return new ql(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new V;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,i[a]=o>>8&255,i[a+1]=o&255,a+=2,n--}try{r.append(Er.decode(i,pe.GB2312))}catch(c){throw new V(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new V;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,i[a]=o>>8,i[a+1]=o,a+=2,n--}try{r.append(Er.decode(i,pe.SHIFT_JIS))}catch(c){throw new V(c)}},t.decodeByteSegment=function(e,r,n,i,a,s){if(8*n>e.available())throw new V;for(var o=new Uint8Array(n),c=0;c<n;c++)o[c]=e.readBits(8);var u;i===null?u=pe.guessEncoding(o,s):u=i.getName();try{r.append(Er.decode(o,u))}catch(d){throw new V(d)}a.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new V;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new V;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new V;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var o=a;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new V;var i=e.readBits(10);if(i>=1e3)throw new V;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new V;var a=e.readBits(7);if(a>=100)throw new V;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new V;var s=e.readBits(4);if(s>=10)throw new V;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new V},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),Ix=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),c1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vb=function(){function t(){this.rsDecoder=new Jl(Yt.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(nn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new pb(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new Ix(!0)),a}catch(s){throw i!==null?i:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,s,o=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=mb.getDataBlocks(u,o,c),f=0;try{for(var h=c1(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(A){n={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var v=new Uint8Array(f),w=0;try{for(var g=c1(d),x=g.next();!x.done;x=g.next()){var m=x.value,y=m.getCodewords(),_=m.getNumDataCodewords();this.correctErrors(y,_);for(var E=0;E<_;E++)v[w++]=y[E]}}catch(A){a={error:A}}finally{try{x&&!x.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}return xb.decode(v,o,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gt}for(var i=0;i<r;i++)e[i]=n[i]},t}(),gb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yb=function(t){gb(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+i)/2;return new e(a,s,o)},e}(Q),wb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_b=function(){function t(e,r,n,i,a,s,o){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,s=new Int32Array(3),o=this.image,c=0;c<r;c++){var u=a+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<i&&!o.get(d,u);)d++;for(var f=0;d<i;){if(o.get(d,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,d);if(h!==null)return h}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;d++}if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new R},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,s=a.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var c=e;c>=0&&a.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&!a.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&a.get(r,c)&&o[1]<=n;)o[1]++,c++;if(c===s||o[1]>n)return NaN;for(;c<s&&!a.get(r,c)&&o[2]<=n;)o[2]++,c++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=wb(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,c,o))return h.combineEstimate(c,o,u)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var p=new yb(o,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),bb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Eb=function(t){bb(e,t);function e(r,n,i,a){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,s=(this.count*this.getX()+n)/a,o=(this.count*this.getY()+r)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,o,c,a)},e}(Q),Nb=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Ha=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cb=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(He.TRY_HARDER)!==void 0,n=e!=null&&e.get(He.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),o=Math.floor(3*a/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=o-1;d<a&&!c;d+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<s;h++)if(i.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(o=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-o,h=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,s,n);p===!0&&(o=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return Q.orderBestPatterns(v),new Nb(v)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)a[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&a[1]<=n;)a[1]++,s++;if(e<s||r<s||a[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&a[0]<=n;)a[0]++,s++;if(a[0]>n)return!1;var c=o.getHeight(),u=o.getWidth();for(s=1;e+s<c&&r+s<u&&o.get(r+s,e+s);)a[2]++,s++;if(e+s>=c||r+s>=u)return!1;for(;e+s<c&&r+s<u&&!o.get(r+s,e+s)&&a[3]<n;)a[3]++,s++;if(e+s>=c||r+s>=u||a[3]>=n)return!1;for(;e+s<c&&r+s<u&&o.get(r+s,e+s)&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,s=a.getHeight(),o=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(r,c);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&a.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&a.get(r,c);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(r,c)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&a.get(r,c)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,s=a.getWidth(),o=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,r);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,r)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&a.get(c,r)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&a.get(c,r);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,r)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&a.get(c,r)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],a);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],a)))){for(var c=a/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,o,s)){d[f]=p.combineEstimate(o,s,c),u=!0;break}}if(!u){var m=new Eb(s,o,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Ha(this.possibleCenters),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,s=0,o=this.possibleCenters.length;try{for(var c=Ha(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(a++,s+=d.getEstimatedModuleSize())}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var f=s/o,h=0;try{for(var p=Ha(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(v){n={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new R;var s=this.possibleCenters,o;if(a>3){var c=0,u=0;try{for(var d=Ha(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();c+=p,u+=p*p}}catch(E){e={error:E}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}o=c/a;var m=Math.sqrt(u/a-o*o);s.sort(function(E,A){var I=Math.abs(A.getEstimatedModuleSize()-o),S=Math.abs(E.getEstimatedModuleSize()-o);return I<S?-1:I>S?1:0});for(var v=Math.max(.2*o,m),w=0;w<s.length&&s.length>3;w++){var g=s[w];Math.abs(g.getEstimatedModuleSize()-o)>v&&(s.splice(w,1),w--)}}if(s.length>3){var c=0;try{for(var x=Ha(s),y=x.next();!y.done;y=x.next()){var _=y.value;c+=_.getEstimatedModuleSize()}}catch(A){n={error:A}}finally{try{y&&!y.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}o=c/s.length,s.sort(function(A,I){if(I.getCount()===A.getCount()){var S=Math.abs(I.getEstimatedModuleSize()-o),O=Math.abs(A.getEstimatedModuleSize()-o);return S<O?1:S>O?-1:0}else return I.getCount()-A.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Ab=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(He.NEED_RESULT_POINT_CALLBACK);var r=new Cb(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new R("No pattern found in proccess finder.");var s=t.computeDimension(r,n,i,a),o=Ni.getProvisionalVersionForDimension(s),c=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/c,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),v=4;v<=16;v<<=1)try{u=this.findAlignmentInRegion(a,p,m,v);break}catch(y){if(!(y instanceof R))throw y}var w=t.createTransform(r,n,i,u,s),g=t.sampleGrid(this.image,w,s),x;return u===null?x=[i,r,n]:x=[i,r,n,u],new Tf(g,x)},t.createTransform=function(e,r,n,i,a){var s=a-3.5,o,c,u,d;return i!==null?(o=i.getX(),c=i.getY(),u=s-3,d=u):(o=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=s,d=s),bx.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=jf.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=ge.round(Q.distance(e,r)/i),s=ge.round(Q.distance(e,n)/i),o=Math.floor((a+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new R("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*s);return s=1,c<0?(s=r/(r-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,r,o,c),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var s=e;e=r,r=s,s=n,n=i,i=s}for(var o=Math.abs(n-e),c=Math.abs(i-r),u=-o/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,m=e,v=r;m!==p;m+=d){var w=a?v:m,g=a?m:v;if(h===1===this.image.get(w,g)){if(h===2)return ge.distance(m,v,e,r);h++}if(u+=c,u>0){if(v===i)break;v+=f,u-=o}}return h===2?ge.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),s=Math.max(0,r-a),o=Math.min(this.image.getWidth()-1,r+a);if(o-s<e*3)throw new R("Alignment top exceeds estimated module size.");var c=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-c<e*3)throw new R("Alignment bottom exceeds estimated module size.");var d=new _b(this.image,s,c,o-s,u-c,e,this.resultPointCallback);return d.find()},t}(),ud=function(){function t(){this.decoder=new vb}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(He.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var s=new Ab(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),i=s.getPoints()}n.getOther()instanceof Ix&&n.getOther().applyMirroredCorrection(i);var o=new Mt(n.getText(),n.getRawBytes(),void 0,i,te.QR_CODE,void 0),c=n.getByteSegments();c!==null&&o.putMetadata(At.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&o.putMetadata(At.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(At.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(At.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new R;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],c=n[0];if(o>=c||a>=s)throw new R;if(s-a!==c-o&&(c=o+(s-a),c>=e.getWidth()))throw new R;var u=Math.round((c-o+1)/i),d=Math.round((s-a+1)/i);if(u<=0||d<=0)throw new R;if(d!==u)throw new R;var f=Math.floor(i/2);a+=f,o+=f;var h=o+Math.floor((u-1)*i)-c;if(h>0){if(h>f)throw new R;o-=h}var p=a+Math.floor((d-1)*i)-s;if(p>0){if(p>f)throw new R;a-=p}for(var m=new nn(u,d),v=0;v<d;v++)for(var w=a+Math.floor(v*i),g=0;g<u;g++)e.get(o+Math.floor(g*i),w)&&m.set(g,v);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],s=e[1],o=!0,c=0;a<i&&s<n;){if(o!==r.get(a,s)){if(++c===5)break;o=!o}a++,s++}if(a===i||s===n)throw new R;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),Sb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},me=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return ge.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=Sb(e),o=s.next();!o.done;o=s.next()){var c=o.value;i[a++]=c}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=dt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),Ib=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Tb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jb=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new Ib(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,s=0,o=0,c=!1;s<r.getHeight();){var u=t.findVertices(r,s,o);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,o=0;try{for(var d=(n=void 0,Tb(a)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(c=!0,a.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,s){for(var o=new Array(4),c=!1,u=new Int32Array(s.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,s,u);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,s,u);if(f!=null)d=f;else{i++;break}}o[0]=new Q(d[0],i),o[1]=new Q(d[1],i),c=!0;break}}var h=i+1;if(c){for(var p=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,s,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,o[2]=new Q(f[0],h),o[3]=new Q(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&dt.fill(o,null),o},t.findGuardPattern=function(e,r,n,i,a,s,o){dt.fillWithin(o,0,o.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,f=0,h=s.length,p=a;d<i;d++){var m=e.get(d,n);if(m!==p)o[f]++;else{if(f===h-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=o[0]+o[1],De.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return 1/0;var c=a/s;n*=c;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),kb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_i=function(){function t(e,r){if(r.length===0)throw new re;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),De.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=kb(this.coefficients),s=a.next();!s.done;s=a.next()){var o=s.value;i=this.field.add(i,o)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new re("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;De.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=this.field.add(r[o-s],n[o]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new re("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new re("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=0;o<n;o++)for(var c=r[o],u=0;u<a;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(c,i[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new re;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new ce,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),Ob=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new re;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new _x;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),Rb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Db=function(t){Rb(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,s=0;s<r;s++)i.expTable[s]=a,a=a*n%r;for(var s=0;s<r-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new _i(i,new Int32Array([0])),i.one=new _i(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new re;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new _i(this,i)},e.PDF417_GF=new e(me.NUMBER_OF_CODEWORDS,3),e}(Ob),Pb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mb=function(){function t(){this.field=Db.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,s=new _i(this.field,e),o=new Int32Array(r),c=!1,u=r;u>0;u--){var d=s.evaluateAt(this.field.exp(u));o[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=Pb(n),p=h.next();!p.done;p=h.next()){var m=p.value,v=this.field.exp(e.length-1-m),w=new _i(this.field,new Int32Array([this.field.subtract(0,v),1]));f=f.multiply(w)}}catch(S){i={error:S}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var g=new _i(this.field,o),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),g,r),y=x[0],_=x[1],E=this.findErrorLocations(y),A=this.findErrorMagnitudes(_,y,E),u=0;u<E.length;u++){var I=e.length-1-this.field.log(E[u]);if(I<0)throw gt.getChecksumInstance();e[I]=this.field.subtract(e[I],A[u])}return E.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,s=r,o=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=a,d=o;if(a=s,o=c,a.isZero())throw gt.getChecksumInstance();s=u;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);s.getDegree()>=a.getDegree()&&!s.isZero();){var m=s.getDegree()-a.getDegree(),v=this.field.multiply(s.getCoefficient(s.getDegree()),p);f=f.add(this.field.buildMonomial(m,v)),s=s.subtract(a.multiplyByMonomial(m,v))}c=f.multiply(o).subtract(d).negative()}var w=c.getCoefficient(0);if(w===0)throw gt.getChecksumInstance();var g=this.field.inverse(w),x=c.multiply(g),y=s.multiply(g);return[x,y]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw gt.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new _i(this.field,a),c=n.length,u=new Int32Array(c),s=0;s<c;s++){var d=this.field.inverse(n[s]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(o.evaluateAt(d));u[s]=this.field.multiply(f,h)}return u},t}(),dd=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var s=r==null||n==null,o=i==null||a==null;if(s&&o)throw new R;s?(r=new Q(0,i.getY()),n=new Q(0,a.getY())):o&&(i=new Q(e.getWidth()-1,r.getY()),a=new Q(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var d=new Q(c.getX(),u);n?i=d:s=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Q(f.getX(),h);n?a=p:o=p}return new t(this.image,i,a,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Lb=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Of=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(s,o,c,u,d,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(s);break;case"p":p=parseFloat(r[n]).toPrecision(s);break;case"e":p=parseFloat(r[n]).toExponential(s);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(c),v=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=o!==void 0?p+v:v+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Fb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tx=function(){function t(e){this.boundingBox=new dd(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Of,i=0;try{for(var a=Fb(this.codewords),s=a.next();!s.done;s=a.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Bb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ub=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},rs=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var s=Bb(this.values.entries()),o=s.next();!o.done;o=s.next()){var c=Ub(o.value,2),u=c[0],d=c[1];a(u,d)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return me.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Vb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u1=function(t){Vb(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=Vc(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,f=0,h=o;h<c;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var v=void 0;d>2?v=(d-2)*m:v=m;for(var w=v>=h,g=1;g<=v&&!w;g++)w=n[h-g]!=null;w?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Vc(this.getCodewords()),o=s.next();!o.done;o=s.next()){var c=o.value;if(c!=null){var u=c.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),u=-1,d=s;d<o;d++)if(c[d]!=null){var f=c[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new rs,s=new rs,o=new rs,c=new rs;try{for(var u=Vc(i),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:c.setValue(h/3),o.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(v){r={error:v}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<me.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>me.MAX_ROWS_IN_BARCODE)return null;var m=new Lb(a.getValue()[0],s.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var s=a.getValue()%30,o=a.getRowNumber();if(o>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:s+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(Tx),zb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$b=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=me.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),c=o;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=o[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=o[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=o[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=o[r+2],u[13]=c[r+2]);try{for(var d=zb(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(s,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Of,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),Hb=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Wb=function(){function t(){}return t.initialize=function(){for(var e=0;e<me.SYMBOL_TABLE.length;e++)for(var r=me.SYMBOL_TABLE[e],n=r&1,i=0;i<me.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(me.BARS_IN_MODULE)),t.RATIOS_TABLE[e][me.BARS_IN_MODULE-i-1]=Math.fround(a/me.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=ge.sum(e),n=new Int32Array(me.BARS_IN_MODULE),i=0,a=0,s=0;s<me.MODULES_IN_CODEWORD;s++){var o=r/(2*me.MODULES_IN_CODEWORD)+s*r/me.MODULES_IN_CODEWORD;a+e[i]<=o&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return me.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=ge.sum(e),n=new Array(me.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=ad.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var c=0,u=t.RATIOS_TABLE[o],d=0;d<me.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(c+=Math.fround(f*f),c>=a)break}c<a&&(a=c,s=me.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(me.SYMBOL_TABLE.length).map(function(e){return new Array(me.BARS_IN_MODULE)}),t}(),Gb=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),d1=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),Xb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zb=function(t){Xb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(er),Yb=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new Zb;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Sf;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Kb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qb=function(t){Kb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(er),qb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jb=function(t){qb(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new re("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new Qb;i=ue.MAX_VALUE}this.buf=dt.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new Sf;this.ensureCapacity(this.count+i),De.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return dt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Yb),Te;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Te||(Te={}));function jx(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var wo;function kn(t){if(typeof wo>"u"&&(wo=jx()),wo===null)throw new Error("BigInt is not supported!");return wo(t)}function e6(){var t=[];t[0]=kn(1);var e=kn(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var t6=function(){function t(){}return t.decode=function(e,r){var n=new ce(""),i=ut.ISO8859_1;n.enableDecoding(i);for(var a=1,s=e[a++],o=new Gb;a<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(s,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:ut.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new V;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)s=e[a++];else throw V.getFormatInstance()}if(n.length()===0)throw V.getFormatInstance();var c=new ql(null,n.toString(),null,r);return c.setOther(o),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw V.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(ue.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new ce;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new ce;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new ce;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new ce;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new ce;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(ue.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new ce;r=t.numericCompaction(e,r+1,h),n.setTimestamp(d1.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new ce;r=t.numericCompaction(e,r+1,p),n.setChecksum(ue.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new ce;r=t.numericCompaction(e,r+1,m),n.setFileSize(d1.parseLong(m.toString()));break;default:throw V.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(o!==-1){var v=r-o;n.isLastSegment()&&v--,n.setOptionalData(dt.copyOfRange(e,o,o+v))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],a[s]=c,s++;break}}return t.decodeTextCompaction(i,a,s,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Te.ALPHA,s=Te.ALPHA,o=0;o<n;){var c=e[o],u="";switch(a){case Te.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:a=Te.LOWER;break;case t.ML:a=Te.MIXED;break;case t.PS:s=a,a=Te.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Te.ALPHA;break}break;case Te.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:s=a,a=Te.ALPHA_SHIFT;break;case t.ML:a=Te.MIXED;break;case t.PS:s=a,a=Te.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Te.ALPHA;break}break;case Te.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:a=Te.PUNCT;break;case 26:u=" ";break;case t.LL:a=Te.LOWER;break;case t.AL:a=Te.ALPHA;break;case t.PS:s=a,a=Te.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Te.ALPHA;break}break;case Te.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Te.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Te.ALPHA;break}break;case Te.ALPHA_SHIFT:if(a=s,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Te.ALPHA;break}break;case Te.PUNCT_SHIFT:if(a=s,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:a=Te.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Te.ALPHA;break}break}u!==""&&i.append(u),o++}},t.byteCompaction=function(e,r,n,i,a){var s=new Jb,o=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!u;)switch(d[o++]=f,c=900*c+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(kn(c)>>kn(8*(5-h))));c=0,o=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=f);for(var p=0;p<o;p++)s.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)o++,c=900*c+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(kn(c)>>kn(8*(5-h))));c=0,o=0}}break}return a.append(Er.decode(s.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var o=e[r++];if(r===e[0]&&(a=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[i]=o,i++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(s,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=kn(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*kn(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new V;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=jx()?e6():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Wa=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r6=function(){function t(){}return t.decode=function(e,r,n,i,a,s,o){for(var c=new dd(e,r,n,i,a),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,s,o)),i!=null&&(d=t.getRowIndicatorColumn(e,c,i,!1,s,o)),f=t.merge(u,d),f==null)throw R.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}f.setBoundingBox(c);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var v=u!=null,w=1;w<=m;w++){var g=v?w:m-w;if(f.getDetectionResultColumn(g)===void 0){var x=void 0;g===0||g===m?x=new u1(c,g===0):x=new Tx(c),f.setDetectionResultColumn(g,x);for(var y=-1,_=y,E=c.getMinY();E<=c.getMaxY();E++){if(y=t.getStartColumn(f,g,E,v),y<0||y>c.getMaxX()){if(_===-1)continue;y=_}var A=t.detectCodeword(e,c.getMinX(),c.getMaxX(),v,y,E,s,o);A!=null&&(x.setCodeword(E,A),_=y,s=Math.min(s,A.getWidth()),o=Math.max(o,A.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=dd.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new $b(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),s=0;try{for(var o=Wa(i),c=o.next();!c.done;c=o.next()){var u=c.value;if(s+=a-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;s>0&&d[f]==null;f++)s--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(s,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Wa(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=Math.max(i,o)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,s){for(var o=new u1(r,i),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,s);h!=null&&(o.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>me.MAX_CODEWORDS_IN_BARCODE)throw R.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[o][c+1].getValue(),d=o*e.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(s.push(d),a.push(u))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,me.toIntArray(n),me.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var s=new Int32Array(i.length),o=100;o-- >0;){for(var c=0;c<s.length;c++)r[i[c]]=a[c][s[c]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof gt;if(!u)throw d}if(s.length===0)throw gt.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw gt.getChecksumInstance()}throw gt.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var c=0;c<s[o].length;c++)s[o][c]=new rs;var u=0;try{for(var d=Wa(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,Wa(h.getCodewords())),m=p.next();!m.done;m=p.next()){var v=m.value;if(v!=null){var w=v.getRowNumber();if(w>=0){if(w>=s.length)continue;s[w][u].setValue(v.getValue())}}}}catch(g){i={error:g}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}u++}}catch(g){r={error:g}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,s,o=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var d=(a=void 0,Wa(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+o*u*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,s,o,c){a=t.adjustCodewordStartColumn(e,r,n,i,a,s);var u=t.getModuleBitCount(e,r,n,i,a,s);if(u==null)return null;var d,f=ge.sum(u);if(i)d=a+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=a,a=d-f}if(!t.checkCodewordSkew(f,o,c))return null;var m=Wb.getDecodedValue(u),v=me.getCodeword(m);return v===-1?null:new Hb(a,d,t.getCodewordBucketNumber(m),v)},t.getModuleBitCount=function(e,r,n,i,a,s){for(var o=a,c=new Int32Array(8),u=0,d=i?1:-1,f=i;(i?o<n:o>=r)&&u<c.length;)e.get(o,s)===f?(c[u]++,o+=d):(u++,f=!f);return u===c.length||o===(i?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,s){for(var o=a,c=i?-1:1,u=0;u<2;u++){for(;(i?o>=r:o<n)&&i===e.get(o,s);){if(Math.abs(a-o)>t.CODEWORD_SKEW_SIZE)return a;o+=c}c=-c,i=!i}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw V.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var s=t6.decode(e,""+r);return s.setErrorsCorrected(a),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw gt.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw V.getFormatInstance();var n=e[0];if(n>e.length)throw V.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw V.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Of,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Mb,t}(),n6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw R.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof V||n instanceof gt?R.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,s=new Array,o=jb.detectMultiple(e,r,n);try{for(var c=n6(o.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,f=r6.decode(o.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new Mt(f.getText(),f.getRawBytes(),void 0,d,te.PDF_417);h.putMetadata(At.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(At.PDF417_EXTRA_METADATA,p),s.push(h)}}catch(m){i={error:m}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?ue.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),i6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f1=function(t){i6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(er),h1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a6=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(He.TRY_HARDER)!==void 0,n=e==null?null:e.get(He.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(s){return s===te.UPC_A||s===te.UPC_E||s===te.EAN_13||s===te.EAN_8||s===te.CODABAR||s===te.CODE_39||s===te.CODE_93||s===te.CODE_128||s===te.ITF||s===te.RSS_14||s===te.RSS_EXPANDED});a&&!r&&i.push(new ts(e)),n.includes(te.QR_CODE)&&i.push(new ud),n.includes(te.DATA_MATRIX)&&i.push(new cd),n.includes(te.AZTEC)&&i.push(new od),n.includes(te.PDF_417)&&i.push(new fd),a&&r&&i.push(new ts(e))}i.length===0&&(r||i.push(new ts(e)),i.push(new ud),i.push(new cd),i.push(new od),i.push(new fd),r&&i.push(new ts(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=h1(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new f1("No readers where selected, nothing can be read.");try{for(var i=h1(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof f1)continue}}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new R("No MultiFormat Readers were able to detect the code.")},t}(),s6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o6=function(t){s6(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new a6;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Oa),l6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){l6(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new fd,r)||this}return e})(Oa);var c6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){c6(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ud,r)||this}return e})(Oa);var hd;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(hd||(hd={}));const _o=hd;var kx=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new qn(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var s=n.multiply(new qn(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new re("No error correction bytes");var n=e.length-r;if(n<=0)throw new re("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);De.arraycopy(e,0,a,0,n);var s=new qn(this.field,a);s=s.multiplyByMonomial(r,1);for(var o=s.divide(i)[1],c=o.getCoefficients(),u=r-c.length,d=0;d<u;d++)e[n+d]=0;De.arraycopy(c,0,e,n+u,c.length)},t}(),ns=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var o=n[s],c=0;c<i-1;c++){var u=o[c];u===o[c+1]&&u===n[s+1][c]&&u===n[s+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=0;o<i;o++){var c=n[s];o+6<i&&c[o]===1&&c[o+1]===0&&c[o+2]===1&&c[o+3]===1&&c[o+4]===1&&c[o+5]===0&&c[o+6]===1&&(t.isWhiteHorizontal(c,o-4,o)||t.isWhiteHorizontal(c,o+7,o+11))&&r++,s+6<a&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=n[s],c=0;c<i;c++)o[c]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new re("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<i;o++){for(var c=0,u=-1,d=0;d<a;d++){var f=r?s[o][d]:s[d][o];f===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=f)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),u6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d6=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=u6(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;dt.fill(s,e)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],s=r.bytes[n],o=0,c=this.width;o<c;++o)if(a[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new ce,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),pd=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new ce;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),f6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Me=function(t){f6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(er),p1=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new yt;t.makeTypeInfoBits(e,r,i);for(var a=0,s=i.getSize();a<s;++a){var o=i.get(i.getSize()-1-a),c=t.TYPE_INFO_COORDINATES[a],u=c[0],d=c[1];if(n.setBoolean(u,d,o),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,o)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new yt;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var o=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,a,o)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var c=0;c<2;++c){var u=s-c;if(t.isEmpty(n.get(u,o))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&ns.getDataMaskBit(r,u,o)&&(d=!d),n.setBoolean(u,o,d)}}o+=a}a=-a,o+=a,s-=2}if(i!==e.getSize())throw new Me("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-ue.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new re("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!pd.isValidMaskPattern(r))throw new Me("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var s=new yt;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Me("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Me("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Me;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Me;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Me;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,s=i.length;a!==s;a++){var o=i[a];if(o>=0)for(var c=0;c!==s;c++){var u=i[c];u>=0&&t.isEmpty(r.get(u,o))&&t.embedPositionAdjustmentPattern(u-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),h6=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),m1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ns.applyMaskPenaltyRule1(e)+ns.applyMaskPenaltyRule2(e)+ns.applyMaskPenaltyRule3(e)+ns.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(_o.CHARACTER_SET)!==void 0;a&&(i=n.get(_o.CHARACTER_SET).toString());var s=this.chooseMode(e,i),o=new yt;if(s===Le.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=ut.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,o)}this.appendModeInfo(s,o);var u=new yt;this.appendBytes(e,s,u,i);var d;if(n!==null&&n.get(_o.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(_o.QR_VERSION).toString(),10);d=Ni.getVersionForNumber(f);var h=this.calculateBitsNeeded(s,o,u,d);if(!this.willFit(h,d,r))throw new Me("Data too big for requested version")}else d=this.recommendVersion(r,s,o,u);var p=new yt;p.appendBitArray(o);var m=s===Le.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,s,p),p.appendBitArray(u);var v=d.getECBlocksForLevel(r),w=d.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(w,p);var g=this.interleaveWithECBytes(p,d.getTotalCodewords(),w,v.getNumBlocks()),x=new pd;x.setECLevel(r),x.setMode(s),x.setVersion(d);var y=d.getDimensionForVersion(),_=new d6(y,y),E=this.chooseMaskPattern(g,r,d,_);return x.setMaskPattern(E),p1.buildMatrix(g,r,d,E,_),x.setMatrix(_),x},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Ni.getVersionForNumber(1)),s=this.chooseVersion(a,e),o=this.calculateBitsNeeded(r,n,i,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),ut.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Le.KANJI;for(var n=!1,i=!1,a=0,s=e.length;a<s;++a){var o=e.charAt(a);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)i=!0;else return Le.BYTE}return i?Le.ALPHANUMERIC:n?Le.NUMERIC:Le.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Er.encode(e,ut.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<pd.NUM_MASK_PATTERNS;o++){p1.buildMatrix(e,r,n,o,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Ni.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Me("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),s=a.getTotalECCodewords(),o=i-s,c=(e+7)/8;return o>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Me("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),i=0;i<s;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Me("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,s){if(i>=n)throw new Me("Block ID too large");var o=e%n,c=n-o,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new Me("EC bytes mismatch");if(n!==c+o)throw new Me("RS blocks mismatch");if(e!==(f+p)*c+(h+m)*o)throw new Me("Total bytes mismatch");i<c?(a[0]=f,s[0]=p):(a[0]=h,s[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var a,s,o,c;if(e.getSizeInBytes()!==n)throw new Me("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<i;++p){var m=new Int32Array(1),v=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,v);var w=m[0],g=new Uint8Array(w);e.toBytes(8*u,g,0,w);var x=t.generateECBytes(g,v[0]);h.push(new h6(g,x)),d=Math.max(d,w),f=Math.max(f,x.length),u+=m[0]}if(n!==u)throw new Me("Data bytes does not match offset");for(var y=new yt,p=0;p<d;++p)try{for(var _=(a=void 0,m1(h)),E=_.next();!E.done;E=_.next()){var A=E.value,g=A.getDataBytes();p<g.length&&y.appendBits(g[p],8)}}catch(j){a={error:j}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var I=(o=void 0,m1(h)),S=I.next();!S.done;S=I.next()){var A=S.value,x=A.getErrorCorrectionBytes();p<x.length&&y.appendBits(x[p],8)}}catch(j){o={error:j}}finally{try{S&&!S.done&&(c=I.return)&&c.call(I)}finally{if(o)throw o.error}}if(r!==y.getSizeInBytes())throw new Me("Interleaving error: "+r+" and "+y.getSizeInBytes()+" differ.");return y},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new kx(Yt.QR_CODE_FIELD_256).encode(i,r);for(var s=new Uint8Array(r),a=0;a<r;a++)s[a]=i[n+a];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Me(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Le.NUMERIC:t.appendNumericBytes(e,n);break;case Le.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Le.BYTE:t.append8BitBytes(e,n,i);break;case Le.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Me("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var s=t.getDigit(e.charAt(i+1)),o=t.getDigit(e.charAt(i+2));r.appendBits(a*100+s*10+o,10),i+=3}else if(i+1<n){var s=t.getDigit(e.charAt(i+1));r.appendBits(a*10+s,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Me;if(i+1<n){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Me;r.appendBits(a*45+s,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Er.encode(e,n)}catch(c){throw new Me(c)}for(var a=0,s=i.length;a!==s;a++){var o=i[a];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Er.encode(e,ut.SJIS)}catch(f){throw new Me(f)}for(var i=n.length,a=0;a<i;a+=2){var s=n[a]&255,o=n[a+1]&255,c=s<<8&4294967295|o,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Me("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Le.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=ut.UTF8.getName(),t})();var p6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){p6(e,t);function e(r,n,i,a,s,o,c,u){var d=t.call(this,o,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=s,a+o>n||s+c>i)throw new re("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(o,c),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new re("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return De.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return De.arraycopy(this.yuvData,s,a,0,i),a;for(var o=0;o<n;o++){var c=o*r;De.arraycopy(this.yuvData,s,a,c,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var c=o*r,u=0;u<r;u++){var d=a[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+u]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<n;a++,s+=this.dataWidth)for(var o=s+r/2,c=s,u=s+r-1;c<o;c++,u--){var d=i[c];i[c]=i[u],i[u]=d}},e.prototype.invert=function(){return new If(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Ql);var m6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){m6(e,t);function e(r,n,i,a,s,o,c){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=s,u.left=o,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,v=p>>7&510,w=p&255;f[h]=(m+v+w)/4&255}u.luminances=f}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=i),o===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new re("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new re("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return De.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return De.arraycopy(this.luminances,s,a,0,i),a;for(var o=0;o<n;o++){var c=o*r;De.arraycopy(this.luminances,s,a,c,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new If(this)},e})(Ql);var x6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v6=function(t){x6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(ut),g6=function(){function t(){}return t.ISO_8859_1=ut.ISO8859_1,t}(),md,y6=301,w6=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=y6);return{LOG:t,ALOG:e}};md=w6([],[]),md.LOG;md.ALOG;var x1;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(x1||(x1={}));var v1=129,Ox=230,_6=231,b6=235,E6=236,N6=237,C6=238,A6=239,S6=240,zc=254,I6=254,g1="[)>05",y1="[)>06",w1="",Ae=0,Et=1,Bt=2,at=3,xt=4,kt=5,T6=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ae},t.prototype.encode=function(e){var r=Fr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Fr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case kt:e.writeCodeword(_6),e.signalEncoderChange(kt);return;case Et:e.writeCodeword(Ox),e.signalEncoderChange(Et);return;case at:e.writeCodeword(C6),e.signalEncoderChange(at);break;case Bt:e.writeCodeword(A6),e.signalEncoderChange(Bt);break;case xt:e.writeCodeword(S6),e.signalEncoderChange(xt);break;default:throw new Error("Illegal mode: "+i)}else Fr.isExtendedASCII(n)?(e.writeCodeword(b6),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Fr.isDigit(e)&&Fr.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),j6=function(){function t(){}return t.prototype.getEncodingMode=function(){return kt},t.prototype.encode=function(e){var r=new ce;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Fr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Ae);break}}var a=r.length()-1,s=1,o=e.getCodewordCount()+a+s;e.updateSymbolInfo(o);var c=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||c)if(a<=249)r.setCharAt(0,pe.getCharAt(a));else if(a<=1555)r.setCharAt(0,pe.getCharAt(Math.floor(a/250)+249)),r.insert(1,pe.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),Rf=function(){function t(){}return t.prototype.getEncodingMode=function(){return Et},t.prototype.encodeMaximal=function(e){for(var r=new ce,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var o=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(Ox),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new ce;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new ce;for(r.length()%3===2&&o!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||o!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var u=r.length();if(u%3===0){var d=Fr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Ae);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),s=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(s),e.pos--;var o=e.getCurrentChar();return i=this.encodeChar(o,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(zc)}else if(s===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(zc),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(zc)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Ae)},t.prototype.encodeChar=function(e,r){if(e===" ".charCodeAt(0))return r.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return r.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return r.append(e-65+14),1;if(e<" ".charCodeAt(0))return r.append(0),r.append(e),2;if(e<="/".charCodeAt(0))return r.append(1),r.append(e-33),2;if(e<="@".charCodeAt(0))return r.append(1),r.append(e-58+15),2;if(e<="_".charCodeAt(0))return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new ce;return a.append(n),a.append(i),a.toString()},t}(),k6=function(){function t(){}return t.prototype.getEncodingMode=function(){return xt},t.prototype.encode=function(e){for(var r=new ce;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var s=Fr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Ae);break}}}r.append(pe.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),u=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(Ae)}},t.prototype.encodeChar=function(e,r){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?r.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?r.append(pe.getCharAt(e-64)):Fr.illegalCharacter(pe.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(i<<12)+(a<<6)+s,c=o>>16&255,u=o>>8&255,d=o&255,f=new ce;return f.append(c),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),O6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_e=function(){function t(e,r,n,i,a,s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=c}return t.lookup=function(e,r,n,i,a){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=R6(P6),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),D6=function(t){O6(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(_e),P6=[new _e(!1,3,5,8,8,1),new _e(!1,5,7,10,10,1),new _e(!0,5,7,16,6,1),new _e(!1,8,10,12,12,1),new _e(!0,10,11,14,6,2),new _e(!1,12,12,14,14,1),new _e(!0,16,14,24,10,1),new _e(!1,18,14,16,16,1),new _e(!1,22,18,18,18,1),new _e(!0,22,18,16,10,2),new _e(!1,30,20,20,20,1),new _e(!0,32,24,16,14,2),new _e(!1,36,24,22,22,1),new _e(!1,44,28,24,24,1),new _e(!0,49,28,22,14,2),new _e(!1,62,36,14,14,4),new _e(!1,86,42,16,16,4),new _e(!1,114,48,18,18,4),new _e(!1,144,56,20,20,4),new _e(!1,174,68,22,22,4),new _e(!1,204,84,24,24,4,102,42),new _e(!1,280,112,14,14,16,140,56),new _e(!1,368,144,16,16,16,92,36),new _e(!1,456,192,18,18,16,114,48),new _e(!1,576,224,20,20,16,144,56),new _e(!1,696,272,22,22,16,174,68),new _e(!1,816,336,24,24,16,136,56),new _e(!1,1050,408,18,18,36,175,68),new _e(!1,1304,496,20,20,36,163,62),new D6],M6=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new ce,i=0,a=r.length;i<a;i++){var s=String.fromCharCode(r[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new ce,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=_e.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),L6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F6=function(t){L6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return at},e.prototype.encode=function(r){for(var n=new ce;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var s=Fr.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Ae);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case"*".charCodeAt(0):n.append(1);break;case">".charCodeAt(0):n.append(2);break;case" ".charCodeAt(0):n.append(3);break;default:r>="0".charCodeAt(0)&&r<="9".charCodeAt(0)?n.append(r-48+4):r>="A".charCodeAt(0)&&r<="Z".charCodeAt(0)?n.append(r-65+14):Fr.illegalCharacter(pe.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(I6),r.getNewEncoding()<0&&r.signalEncoderChange(Ae)},e}(Rf),B6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U6=function(t){B6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Bt},e.prototype.encodeChar=function(r,n){if(r===" ".charCodeAt(0))return n.append(3),1;if(r>="0".charCodeAt(0)&&r<="9".charCodeAt(0))return n.append(r-48+4),1;if(r>="a".charCodeAt(0)&&r<="z".charCodeAt(0))return n.append(r-97+14),1;if(r<" ".charCodeAt(0))return n.append(0),n.append(r),2;if(r<="/".charCodeAt(0))return n.append(1),n.append(r-33),2;if(r<="@".charCodeAt(0))return n.append(1),n.append(r-58+15),2;if(r>="[".charCodeAt(0)&&r<="_".charCodeAt(0))return n.append(1),n.append(r-91+22),2;if(r==="`".charCodeAt(0))return n.append(2),n.append(0),2;if(r<="Z".charCodeAt(0))return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(Rf),V6=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=v1+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new Rf,o=[new T6,s,new U6,new F6,new k6,new j6],c=new M6(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(g1)&&e.endsWith(w1)?(c.writeCodeword(E6),c.setSkipAtEnd(2),c.pos+=g1.length):e.startsWith(y1)&&e.endsWith(w1)&&(c.writeCodeword(N6),c.setSkipAtEnd(2),c.pos+=y1.length);var u=Ae;for(a&&(s.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)o[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();d<f&&u!==Ae&&u!==kt&&u!==xt&&c.writeCodeword("");var h=c.getCodewords();for(h.length()<f&&h.append(v1);h.length()<f;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===at&&i===at){for(var a=Math.min(r+3,e.length),s=r;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Ae}else if(n===xt&&i===xt){for(var a=Math.min(r+4,e.length),s=r;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Ae}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Ae?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,s=new Uint8Array(6),o=[];;){if(r+a===e.length){dt.fill(s,0),dt.fill(o,0);var c=this.findMinimums(i,o,ue.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[Ae]===c)return Ae;if(u===1){if(s[kt]>0)return kt;if(s[xt]>0)return xt;if(s[Bt]>0)return Bt;if(s[at]>0)return at}return Et}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[Ae]+=.5:this.isExtendedASCII(d)?(i[Ae]=Math.ceil(i[Ae]),i[Ae]+=2):(i[Ae]=Math.ceil(i[Ae]),i[Ae]++),this.isNativeC40(d)?i[Et]+=2/3:this.isExtendedASCII(d)?i[Et]+=8/3:i[Et]+=4/3,this.isNativeText(d)?i[Bt]+=2/3:this.isExtendedASCII(d)?i[Bt]+=8/3:i[Bt]+=4/3,this.isNativeX12(d)?i[at]+=2/3:this.isExtendedASCII(d)?i[at]+=13/3:i[at]+=10/3,this.isNativeEDIFACT(d)?i[xt]+=3/4:this.isExtendedASCII(d)?i[xt]+=17/4:i[xt]+=13/4,this.isSpecialB256(d)?i[kt]+=4:i[kt]++,a>=4){if(dt.fill(s,0),dt.fill(o,0),this.findMinimums(i,o,ue.MAX_VALUE,s),o[Ae]<this.min(o[kt],o[Et],o[Bt],o[at],o[xt]))return Ae;if(o[kt]<o[Ae]||o[kt]+1<this.min(o[Et],o[Bt],o[at],o[xt]))return kt;if(o[xt]+1<this.min(o[kt],o[Et],o[Bt],o[at],o[Ae]))return xt;if(o[Bt]+1<this.min(o[kt],o[Et],o[xt],o[at],o[Ae]))return Bt;if(o[at]+1<this.min(o[kt],o[Et],o[xt],o[Bt],o[Ae]))return at;if(o[Et]+1<this.min(o[Ae],o[kt],o[xt],o[Bt])){if(o[Et]<o[at])return Et;if(o[Et]===o[at]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return at;if(!this.isNativeX12(h))break;f++}return Et}}}}},t.min=function(e,r,n,i,a){var s=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?s:Math.min(s,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var s=r[a]=Math.ceil(e[a]);n>s&&(n=s,dt.fill(i,0)),n===s&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return e===13||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=ue.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}();const Fr=V6;var $c=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_1=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Er.encode(e,this.charset)!=null}catch{return!1}},t}(),z6=function(){function t(e,r,n){var i,a,s,o,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(O){return new _1(v6.forName(O))}),this.encoders=[];var d=[];d.push(new _1(g6.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(i=void 0,$c(d)),v=m.next();!v.done;v=m.next()){var w=v.value,g=e.charAt(h),x=g.charCodeAt(0);if(x===n||w.canEncode(g)){p=!0;break}}}catch(O){i={error:O}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var y=(s=void 0,$c(this.ENCODERS)),_=y.next();!_.done;_=y.next()){var w=_.value;if(w.canEncode(e.charAt(h))){d.push(w),p=!0;break}}}catch(O){s={error:O}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var E=0;try{for(var A=$c(d),I=A.next();!I.done;I=A.next()){var w=I.value;this.encoders[E++]=w}}catch(O){c={error:O}}finally{try{I&&!I.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}}var S=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){S=h;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Er.encode(pe.getCharAt(e),this.encoders[r].name)},t}(),$6=3,H6=function(){function t(e,r,n){this.fnc1=n;var i=new z6(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new ce,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,s){var o=e.charAt(i).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(o===s||r.canEncode(o,d))&&this.addEdge(n,i+1,new b1(o,r,d,a,s))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new b1[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var s=1;s<=i;s++){for(var o=0;o<r.length();o++)a[s][o]!=null&&s<i&&this.addEdges(e,r,a,s,a[s][o],n);for(var o=0;o<r.length();o++)a[s-1][o]=null}for(var c=-1,u=ue.MAX_VALUE,o=0;o<r.length();o++)if(a[i][o]!=null){var d=a[i][o];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=o)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][c];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),s=p.length-1;s>=0;s--)f.unshift(p[s]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var v=[],s=0;s<v.length;s++)v[s]=f[s];return v},t}(),b1=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,o=i===null?0:i.encoderIndex;o!==n&&(s+=$6),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),W6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__values;var G6=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a};globalThis&&globalThis.__spread;var E1;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(E1||(E1={}));(function(t){W6(e,t);function e(r,n,i,a,s){var o=t.call(this,r,n,i)||this;return o.shape=a,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(H6);var X6=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),N1=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),Z6=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),Y6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Df=function(t){Y6(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+ue.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(Z6),K6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q6=function(t){K6(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Df);function q6(t,e,r){return new Q6(t,e,r)}function Ga(t,e,r){return new Df(t,e,r)}var J6=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Jn=0,Cl=1,_r=2,Rx=3,qr=4,e8=new Df(null,0,0),Hc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])],t8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function r8(t){var e,r;try{for(var n=t8(t),i=n.next();!i.done;i=n.next()){var a=i.value;dt.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Jn][qr]=0,t[Cl][qr]=0,t[Cl][Jn]=28,t[Rx][qr]=0,t[_r][qr]=0,t[_r][Jn]=15,t}var Dx=r8(dt.createInt32Array(6,6)),n8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i8=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=Hc[this.mode][e];i=Ga(i,a&65535,a>>16),n+=a>>16}var s=e===_r?4:5;return i=Ga(i,r,s),new t(i,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===_r?4:5;return n=Ga(n,Dx[this.mode][e],i),n=Ga(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===qr||this.mode===_r){var a=Hc[n][Jn];r=Ga(r,a&65535,a>>16),i+=a>>16,n=Jn}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,i+s);return o.binaryShiftByteCount===2047+31&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=q6(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Hc[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new yt;try{for(var o=n8(i),c=o.next();!c.done;c=o.next()){var u=c.value;u.appendTo(s,e)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return pe.format("%s bits=%d bytes=%d",J6[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(e8,Jn,0,0),t}();function a8(t){var e=pe.getCharCode(" "),r=pe.getCharCode("."),n=pe.getCharCode(",");t[Jn][e]=1;for(var i=pe.getCharCode("Z"),a=pe.getCharCode("A"),s=a;s<=i;s++)t[Jn][s]=s-a+2;t[Cl][e]=1;for(var o=pe.getCharCode("z"),c=pe.getCharCode("a"),s=c;s<=o;s++)t[Cl][s]=s-c+2;t[_r][e]=1;for(var u=pe.getCharCode("9"),d=pe.getCharCode("0"),s=d;s<=u;s++)t[_r][s]=s-d+2;t[_r][n]=12,t[_r][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[Rx][pe.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)pe.getCharCode(p[h])>0&&(t[qr][pe.getCharCode(p[h])]=h);return t}var Wc=a8(dt.createInt32Array(5,256)),bo=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s8=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=pe.getCharCode(" "),r=pe.getCharCode(`
`),n=N1.singletonList(i8.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case pe.getCharCode("\r"):a=s===r?2:0;break;case pe.getCharCode("."):a=s===e?3:0;break;case pe.getCharCode(","):a=s===e?4:0;break;case pe.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var o=N1.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var s=bo(e),o=s.next();!o.done;o=s.next()){var c=o.value;this.updateStateForChar(c,r,a)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=Wc[e.getMode()][i]>0,s=null,o=0;o<=qr;o++){var c=Wc[o][i];if(c>0){if(s==null&&(s=e.endBinaryShift(r)),!a||o===e.getMode()||o===_r){var u=s.latchAndAppend(o,c);n.push(u)}if(!a&&Dx[e.getMode()][o]>=0){var d=s.shiftAndAppend(o,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||Wc[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,s=[];try{for(var o=bo(e),c=o.next();!c.done;c=o.next()){var u=c.value;this.updateStateForPair(u,r,n,s)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(qr,n)),e.getMode()!==qr&&i.push(a.shiftAndAppend(qr,n)),n===3||n===4){var s=a.latchAndAppend(_r,16-n).latchAndAppend(_r,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(o)}},t.simplifyStates=function(e){var r,n,i,a,s=[];try{for(var o=bo(e),c=o.next();!c.done;c=o.next()){var u=c.value,d=!0,f=function(w){if(w.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(w)&&(s=s.filter(function(g){return g!==w}))};try{for(var h=(i=void 0,bo(s)),p=h.next();!p.done;p=h.next()){var m=p.value,v=f(m);if(v==="break")break}}catch(w){i={error:w}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}d&&s.push(u)}}catch(w){r={error:w}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t}(),o8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new s8(e).encode(),a=ue.truncDivision(i.getSize()*r,100)+11,s=i.getSize()+a,o,c,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,c=Math.abs(n),c>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new re(pe.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,o),d=t.WORD_SIZE[c];var h=u-u%d;if(f=t.stuffBits(i,d),f.getSize()+a>h)throw new re("Data to large for user specified layer");if(o&&f.getSize()>d*64)throw new re("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new re("Data too large for an Aztec code");if(o=p<=3,c=o?p+1:p,u=t.totalBitsInLayer(c,o),!(s>u)){(f==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],f=t.stuffBits(i,d));var h=u-u%d;if(!(o&&f.getSize()>d*64)&&f.getSize()+a<=h)break}}}var m=t.generateCheckWords(f,u,d),v=f.getSize()/d,w=t.generateModeMessage(o,c,v),g=(o?11:14)+c*4,x=new Int32Array(g),y;if(o){y=g;for(var p=0;p<x.length;p++)x[p]=p}else{y=g+1+2*ue.truncDivision(ue.truncDivision(g,2)-1,15);for(var _=ue.truncDivision(g,2),E=ue.truncDivision(y,2),p=0;p<_;p++){var A=p+ue.truncDivision(p,15);x[_-p-1]=E-A-1,x[_+p]=E+A+1}}for(var I=new nn(y),p=0,S=0;p<c;p++){for(var O=(c-p)*4+(o?9:12),j=0;j<O;j++)for(var H=j*2,P=0;P<2;P++)m.get(S+H+P)&&I.set(x[p*2+P],x[p*2+j]),m.get(S+O*2+H+P)&&I.set(x[p*2+j],x[g-1-p*2-P]),m.get(S+O*4+H+P)&&I.set(x[g-1-p*2-P],x[g-1-p*2-j]),m.get(S+O*6+H+P)&&I.set(x[g-1-p*2-j],x[p*2+P]);S+=O*8}if(t.drawModeMessage(I,o,y,w),o)t.drawBullsEye(I,ue.truncDivision(y,2),5);else{t.drawBullsEye(I,ue.truncDivision(y,2),7);for(var p=0,j=0;p<ue.truncDivision(g,2)-1;p+=15,j+=16)for(var P=ue.truncDivision(y,2)&1;P<y;P+=2)I.set(ue.truncDivision(y,2)-j,P),I.set(ue.truncDivision(y,2)+j,P),I.set(P,ue.truncDivision(y,2)-j),I.set(P,ue.truncDivision(y,2)+j)}var B=new X6;return B.setCompact(o),B.setSize(y),B.setLayers(c),B.setCodeWords(v),B.setMatrix(I),B},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new yt;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=ue.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=a-3+s;i.get(s)&&e.set(o,a-5),i.get(s+7)&&e.set(a+5,o),i.get(20-s)&&e.set(o,a+5),i.get(27-s)&&e.set(a-5,o)}else for(var s=0;s<10;s++){var o=a-5+s+ue.truncDivision(s,5);i.get(s)&&e.set(o,a-7),i.get(s+10)&&e.set(a+7,o),i.get(29-s)&&e.set(o,a+7),i.get(39-s)&&e.set(a-7,o)}},t.generateCheckWords=function(e,r,n){var i,a,s=e.getSize()/n,o=new kx(t.getGF(n)),c=ue.truncDivision(r,n),u=t.bitsToWords(e,n,c);o.encode(u,c-s);var d=r%n,f=new yt;f.appendBits(0,d);try{for(var h=o8(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,s;for(a=0,s=e.getSize()/r;a<s;a++){for(var o=0,c=0;c<r;c++)o|=e.get(a*r+c)?1<<r-c-1:0;i[a]=o}return i},t.getGF=function(e){switch(e){case 4:return Yt.AZTEC_PARAM;case 6:return Yt.AZTEC_DATA_6;case 8:return Yt.AZTEC_DATA_8;case 10:return Yt.AZTEC_DATA_10;case 12:return Yt.AZTEC_DATA_12;default:throw new re("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new yt,i=e.getSize(),a=(1<<r)-2,s=0;s<i;s+=r){for(var o=0,c=0;c<r;c++)(s+c>=i||e.get(s+c))&&(o|=1<<r-1-c);(o&a)===a?(n.appendBits(o&a,r),s--):o&a?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();function l8({onScan:t,isScanning:e,setIsScanning:r}){const n=N.useRef(null),i=N.useRef(null),[a,s]=N.useState(null),[o,c]=N.useState(null),[u,d]=N.useState(!1),f=N.useRef(!0);N.useEffect(()=>(f.current=e,e?h():p(),()=>{f.current=!1,p()}),[e]);const h=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});s(!0),n.current&&(n.current.srcObject=w),i.current=new o6,n.current&&i.current.decodeFromVideoDevice(null,n.current,async(g,x)=>{if(f.current){if(g&&!u){d(!0);const y=g.getText();try{await m(y)}catch(_){console.error("Scan error:",_),c({type:"error",message:"Failed to process scan"})}finally{setTimeout(()=>{d(!1)},2e3)}}if(x&&f.current){if(x.name==="NotFoundException")return;x.name==="NotAllowedError"?(c({type:"error",message:"Camera permission denied"}),r(!1)):x.name==="NotFoundError"?(c({type:"error",message:"No camera found"}),r(!1)):x.name!=="ChecksumException"&&console.error("QR Scanner error:",x.name,x.message)}}})}catch(w){console.error("Camera access error:",w),s(!1)}},p=()=>{i.current&&i.current.reset(),n.current&&n.current.srcObject&&(n.current.srcObject.getTracks().forEach(g=>g.stop()),n.current.srcObject=null)},m=async w=>{var g;try{await t(w)}catch(x){(g=x.message)!=null&&g.includes("already checked in")?c({type:"duplicate",message:"Participant already checked in"}):c({type:"error",message:x.message||"Invalid QR code"})}},v=()=>{r(!e),c(null)};return a===!1?l.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx(uh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Camera Permission Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please allow camera access to scan QR codes for check-in."}),l.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"QR Code Scanner"}),l.jsx("button",{onClick:v,className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium ${e?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e?l.jsxs(l.Fragment,{children:[l.jsx(uh,{className:"h-4 w-4"}),l.jsx("span",{children:"Stop Scanning"})]}):l.jsxs(l.Fragment,{children:[l.jsx(dh,{className:"h-4 w-4"}),l.jsx("span",{children:"Start Scanning"})]})})]})}),l.jsx("div",{className:"relative",children:e?l.jsxs("div",{className:"relative",children:[l.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover bg-black"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"border-2 border-white border-dashed rounded-lg w-48 h-48 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-sm font-medium",children:"Point camera at QR code"})})}),u&&l.jsx("div",{className:"absolute top-4 left-4 right-4",children:l.jsx("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-md text-sm",children:"Processing scan..."})})]}):l.jsx("div",{className:"h-64 bg-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(dh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:'Click "Start Scanning" to begin'})]})})}),o&&l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-md ${o.type==="success"?"bg-green-50 text-green-800":o.type==="duplicate"?"bg-yellow-50 text-yellow-800":"bg-red-50 text-red-800"}`,children:[o.type==="success"&&l.jsx(ka,{className:"h-5 w-5"}),o.type==="duplicate"&&l.jsx(ri,{className:"h-5 w-5"}),o.type==="error"&&l.jsx(xl,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:o.message}),o.participantName&&l.jsxs("p",{className:"text-sm opacity-75",children:["Participant: ",o.participantName]})]})]})}),l.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Instructions:"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[l.jsx("li",{children:" Point the camera at the participant's QR code"}),l.jsx("li",{children:" Ensure good lighting for better scanning"}),l.jsx("li",{children:" Hold steady until the scan completes"}),l.jsx("li",{children:" Each participant can only be checked in once"})]})]})]})}function Pf({eventId:t}){const{accessToken:e}=sr(),[r,n]=N.useState({total_registrations:0,total_check_ins:0,check_in_rate:"0"}),[i,a]=N.useState([]),[s,o]=N.useState(!0),[c,u]=N.useState(!1),[d,f]=N.useState(""),[h,p]=N.useState(null);N.useEffect(()=>{m();const g=setInterval(m,3e4);return()=>clearInterval(g)},[t]);const m=async()=>{try{const g=await fetch(`/api/checkin/events/${t}/check-in-stats`,{headers:{Authorization:`Bearer ${e}`}});if(!g.ok)throw new Error("Failed to fetch stats");const x=await g.json();n(x.stats),a(x.recent_check_ins),o(!1)}catch(g){console.error("Error fetching stats:",g),o(!1)}},v=async g=>{const x=await fetch(`/api/checkin/events/${t}/check-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({qr_code:g,location:"Main Entrance",device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})});if(!x.ok){const _=await x.json();throw new Error(_.error||"Failed to check in participant")}const y=await x.json();return p({name:y.participant.name,time:new Date().toLocaleTimeString()}),m(),y},w=i.filter(g=>g.registration.name.toLowerCase().includes(d.toLowerCase())||g.registration.email.toLowerCase().includes(d.toLowerCase()));return s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading check-in dashboard..."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Check-In"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Scan QR codes to check in participants"})]}),h&&l.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Wu,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-green-800 font-medium",children:[" ",h.name," checked in successfully"]}),l.jsxs("p",{className:"text-green-600 text-sm",children:["at ",h.time]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:l.jsx(Ar,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Registrations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_registrations})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:l.jsx(Wu,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked In"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_check_ins})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:l.jsx(Rw,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-in Rate"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.check_in_rate,"%"]})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{children:l.jsx(l8,{onScan:v,isScanning:c,setIsScanning:u,eventId:t})}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Check-ins"}),l.jsx("button",{onClick:m,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Refresh"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search participants...",value:d,onChange:g=>f(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:w.length===0?l.jsx("div",{className:"p-6 text-center text-gray-500",children:d?"No participants found":"No check-ins yet"}):l.jsx("div",{className:"divide-y divide-gray-200",children:w.map(g=>l.jsx("div",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:g.registration.name}),l.jsx("p",{className:"text-sm text-gray-600",children:g.registration.email}),g.location&&l.jsxs("p",{className:"text-xs text-gray-500",children:[" ",g.location]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ji,{className:"h-4 w-4 text-gray-400"}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.checked_in_at).toLocaleTimeString()})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["by ",g.checked_in_by_user.name]})]})]})},g.id))})})]})]}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsx("h4",{className:"text-lg font-medium text-blue-900 mb-3",children:" How to Use Check-In System"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:"For Staff:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:' Click "Start Scanning" to activate camera'}),l.jsx("li",{children:" Point camera at participant's QR code"}),l.jsx("li",{children:" Wait for automatic scan and confirmation"}),l.jsx("li",{children:" Monitor real-time check-in statistics"})]})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:"For Participants:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Show QR code from registration email"}),l.jsx("li",{children:" Ensure QR code is clearly visible"}),l.jsx("li",{children:" One-time check-in per registration"}),l.jsx("li",{children:" Get instant confirmation when checked in"})]})]})]})]})]})})}function c8(){const{user:t}=Hr(),{accessToken:e}=sr(),[r,n]=N.useState([]),[i,a]=N.useState(null),[s,o]=N.useState(!1),[c,u]=N.useState(!0),[d,f]=N.useState(null);N.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{if(!e)throw new Error("No authentication token found");const v=await fetch("/api/staff/assigned-events",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error(`Failed to fetch assigned events: ${v.status}`);const w=await v.json();n(w.events||[])}catch(v){console.error("Error fetching assigned events:",v),f(v instanceof Error?v.message:"Failed to load assigned events")}finally{u(!1)}},p=v=>{a(v),o(!0)},m=()=>{o(!1),a(null)};if(c)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})});if(d)return l.jsxs("div",{className:"max-w-md mx-auto mt-8 p-6 bg-red-50 border border-red-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ri,{className:"h-5 w-5 text-red-600 mr-2"}),l.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading Events"})]}),l.jsx("p",{className:"text-red-600 mt-2",children:d}),l.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Retry"})]});if(s&&i){const v=r.find(w=>w.id===i);return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"QR Code Scanner"}),l.jsx("p",{className:"text-gray-600",children:v?`Scanning for: ${v.title}`:"Event Scanner"})]}),l.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(Pf,{eventId:i})})]})}return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex justify-between items-center py-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Dashboard"}),l.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",t==null?void 0:t.name]})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Dt,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Events Assigned"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"You haven't been assigned to any events yet. Contact your event organizer."})]}):l.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(v=>{var w,g,x;return l.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx(Dt,{className:"h-8 w-8 text-indigo-600 flex-shrink-0"}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:v.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.location})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:v.description}),l.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[l.jsx("strong",{children:"Starts:"})," ",new Date(v.start_date).toLocaleString()]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:"Ends:"})," ",new Date(v.end_date).toLocaleString()]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[((w=v.permissions)==null?void 0:w.can_check_in)&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Check-in"]}),((g=v.permissions)==null?void 0:g.can_view_stats)&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx($u,{className:"w-3 h-3 mr-1"}),"View Stats"]})]}),l.jsx("div",{className:"mt-6",children:(x=v.permissions)!=null&&x.can_check_in?l.jsxs("button",{onClick:()=>p(v.id),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[l.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Start QR Scanning"]}):l.jsxs("div",{className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-500 bg-gray-50 cursor-not-allowed",children:[l.jsx(Ps,{className:"w-4 h-4 mr-2"}),"No Check-in Permission"]})})]})},v.id)})})})]})}const u8=()=>{const{user:t,accessToken:e,isAuthenticated:r,clearAuth:n}=sr(),i=$r(),[a,s]=N.useState([]),[o,c]=N.useState(!0),[u,d]=N.useState(null);N.useEffect(()=>{const h=async()=>{var p,m,v;try{if(c(!0),d(null),!r||!e){d("Authentication required"),n(),i("/login");return}const w=await Zt.getMyEvents();if(w.success&&w.data)s(w.data.events);else{if((p=w.error)!=null&&p.includes("403")||(m=w.error)!=null&&m.includes("Invalid or expired token")){console.log("Token expired, redirecting to login"),n(),i("/login");return}d(w.error||"Failed to fetch events")}}catch(w){if(console.error("Dashboard events error:",w),(v=w.message)!=null&&v.includes("Invalid or expired token")||w.status===403){console.log("Authentication failed, clearing auth and redirecting"),n(),i("/login");return}d("Failed to fetch events")}finally{c(!1)}};(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin"?h():c(!1)},[r,e,t,i]),N.useEffect(()=>{console.log("Dashboard Auth Debug:",{user:t==null?void 0:t.email,userRole:t==null?void 0:t.role,hasToken:!!e,isAuthenticated:r,tokenPreview:e?e.substring(0,20)+"...":"No token"})},[t,e,r]);const f=(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin";return(t==null?void 0:t.role)==="staff"?l.jsx(c8,{}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),f&&l.jsxs(he,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Events"}),l.jsx("p",{className:"text-3xl font-bold text-primary-600",children:o?"...":a.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Registrations"}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:o?"...":a.reduce((h,p)=>{var m;return h+(((m=p.registrations)==null?void 0:m.length)||0)},0)})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Events"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:o?"...":a.filter(h=>new Date(h.start_date)>new Date).length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Events"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o?"...":a.filter(h=>{const p=new Date,m=new Date(h.start_date),v=new Date(h.end_date);return m<=p&&p<=v}).length})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f?"My Events":"Welcome to Event Management"})}),o?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):u?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-red-600",children:u})}):f?a.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first event."}),l.jsx("div",{className:"mt-6",children:l.jsx(he,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg",children:"Create Event"})})]}):l.jsx("div",{className:"space-y-4",children:a.slice(0,5).map(h=>{const p=new Date(h.start_date),m=p>new Date;return l.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:l.jsx(he,{to:`/events/${h.id}`,className:"hover:text-primary-600",children:h.title})}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:h.description}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),p.toLocaleDateString()]}),l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),h.location]})]})]}),l.jsx("div",{className:"ml-4",children:l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m?"Upcoming":"Past"})})]})},h.id)})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Welcome, ",t==null?void 0:t.name,"!"]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Explore upcoming events and register for events you're interested in."}),l.jsx(he,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg",children:"Browse Events"})]})]})]})},d8=Kl({title:Fe().min(1,"Title is required"),description:Fe().min(1,"Description is required"),startDate:Fe().min(1,"Start date is required"),endDate:Fe().min(1,"End date is required"),location:Fe().min(1,"Location is required"),capacity:$h().min(1,"Capacity must be at least 1"),bannerUrl:Fe().url("Must be a valid URL").optional().or(x4("")),visibility:wx(["public","private","invite-only"]),registrationDeadline:Fe().optional(),isPaid:m4(),price:$h().min(0,"Price must be 0 or greater").optional()}),f8=()=>{const t=$r(),[e,r]=N.useState(!1),[n,i]=N.useState(null),{register:a,handleSubmit:s,watch:o,formState:{errors:c}}=Zl({resolver:Yl(d8),defaultValues:{visibility:"public",isPaid:!1,capacity:50}}),u=o("isPaid"),d=async f=>{try{r(!0),i(null);const h=new Date(f.startDate);if(new Date(f.endDate)<=h){i("End date must be after start date");return}if(f.registrationDeadline&&new Date(f.registrationDeadline)>=h){i("Registration deadline must be before the event start date");return}const m={title:f.title,description:f.description,startDate:f.startDate,endDate:f.endDate,location:f.location,capacity:f.capacity,bannerUrl:f.bannerUrl||void 0,visibility:f.visibility,registrationDeadline:f.registrationDeadline||void 0,isPaid:f.isPaid,price:f.isPaid?f.price:void 0},v=await Zt.createEvent(m);v.success&&v.data?t(`/events/${v.data.event.id}`):i(v.error||"Failed to create event")}catch(h){i("Failed to create event. Please try again."),console.error("Create event error:",h)}finally{r(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),l.jsx("button",{type:"button",onClick:()=>t(-1),className:"text-gray-600 hover:text-gray-900",children:" Back"})]}),n&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),l.jsxs("form",{onSubmit:s(d),className:"card space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),l.jsx("input",{...a("title"),type:"text",id:"title",className:`input ${c.title?"border-red-500":""}`,placeholder:"Enter event title"}),c.title&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),l.jsx("textarea",{...a("description"),id:"description",rows:4,className:`input ${c.description?"border-red-500":""}`,placeholder:"Describe your event"}),c.description&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.description.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),l.jsx("input",{...a("location"),type:"text",id:"location",className:`input ${c.location?"border-red-500":""}`,placeholder:"Event location or venue"}),c.location&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.location.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bannerUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Image URL"}),l.jsx("input",{...a("bannerUrl"),type:"url",id:"bannerUrl",className:`input ${c.bannerUrl?"border-red-500":""}`,placeholder:"https://example.com/banner.jpg"}),c.bannerUrl&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.bannerUrl.message})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Date & Time"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time *"}),l.jsx("input",{...a("startDate"),type:"datetime-local",id:"startDate",className:`input ${c.startDate?"border-red-500":""}`}),c.startDate&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.startDate.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time *"}),l.jsx("input",{...a("endDate"),type:"datetime-local",id:"endDate",className:`input ${c.endDate?"border-red-500":""}`}),c.endDate&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.endDate.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"registrationDeadline",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Deadline"}),l.jsx("input",{...a("registrationDeadline"),type:"datetime-local",id:"registrationDeadline",className:"input"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: Set a deadline for registrations"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Event Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Capacity *"}),l.jsx("input",{...a("capacity",{valueAsNumber:!0}),type:"number",id:"capacity",min:"1",className:`input ${c.capacity?"border-red-500":""}`}),c.capacity&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.capacity.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"visibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Visibility *"}),l.jsxs("select",{...a("visibility"),id:"visibility",className:"input",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"}),l.jsx("option",{value:"invite-only",children:"Invite Only"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{...a("isPaid"),type:"checkbox",id:"isPaid",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),l.jsx("label",{htmlFor:"isPaid",className:"ml-2 text-sm font-medium text-gray-700",children:"This is a paid event"})]}),u&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Price *"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{...a("price",{valueAsNumber:!0}),type:"number",id:"price",min:"0",step:"0.01",className:`input pl-8 ${c.price?"border-red-500":""}`,placeholder:"0.00"})]}),c.price&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.price.message})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),className:"btn btn-secondary",disabled:e,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:e,children:e?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Event"})]})]})]})},Oi={async registerForEvent(t,e){return ze.post(`/registrations/events/${t}/register`,e)},async getEventRegistrations(t){return ze.get(`/registrations/events/${t}/registrations`)},async checkRegistrationStatus(t){return ze.get(`/registrations/events/${t}/registration-status`)},async getUserRegistrations(){return ze.get("/registrations/my-registrations")},async cancelRegistration(t){return ze.put(`/registrations/${t}/cancel`)}};function h8({eventId:t}){const{accessToken:e}=sr(),[r,n]=N.useState([]),[i,a]=N.useState(!0),[s,o]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(!1),[h,p]=N.useState({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}});N.useEffect(()=>{m(),v()},[t]);const m=async()=>{try{const y=await fetch(`/api/checkin/events/${t}/staff`,{headers:{Authorization:`Bearer ${e}`}});if(y.ok){const _=await y.json();console.log("Staff data received:",_),n(Array.isArray(_.staff)?_.staff:[])}else console.error("Failed to fetch staff:",y.status),n([])}catch(y){console.error("Error fetching staff:",y)}finally{a(!1)}},v=async()=>{try{f(!0);const y=await fetch("/api/email/status",{headers:{Authorization:`Bearer ${e}`}});if(y.ok){const _=await y.json();u(_.hasGmailPermission)}}catch(y){console.error("Error checking Gmail permission:",y)}finally{f(!1)}},w=async()=>{try{const y=await fetch("/api/email/authorize",{headers:{Authorization:`Bearer ${e}`}});if(y.ok){const _=await y.json();window.location.href=_.authUrl}else console.error("Failed to get Gmail authorization URL")}catch(y){console.error("Error requesting Gmail permission:",y)}},g=async y=>{y.preventDefault(),console.log(" Frontend newStaff state:",h);try{const _=[];h.permissions.can_check_in&&_.push("check-in"),h.permissions.can_view_stats&&_.push("view-stats");const E={email:h.email,name:h.name,permissions:_};console.log(" Sending staff data:",E);const A=await fetch(`/api/checkin/events/${t}/staff`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(E)});if(A.ok)await m(),p({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}}),o(!1),alert("Staff member added successfully! Login credentials will be sent via email.");else{const I=await A.json();alert(I.error||"Failed to add staff member")}}catch(_){console.error("Error adding staff:",_),alert("Failed to add staff member")}},x=async y=>{if(confirm("Are you sure you want to remove this staff member?"))try{const _=localStorage.getItem("token"),E=await fetch(`/api/checkin/events/${t}/staff/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${_}`}});if(E.ok)await m(),alert("Staff member removed successfully");else{const A=await E.json();alert(A.error||"Failed to remove staff member")}}catch(_){console.error("Error removing staff:",_),alert("Failed to remove staff member")}};return i?l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Staff Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage staff access for check-in and event management"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(Pw,{className:"h-4 w-4"}),l.jsx("span",{children:"Add Staff"})]})]})}),!c&&l.jsx("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ua,{className:"h-5 w-5 text-amber-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Gmail Permission Required"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Grant Gmail access to automatically send staff credentials from your email account"})]})]}),l.jsx("button",{onClick:w,disabled:d,className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 disabled:opacity-50",children:d?"Checking...":"Grant Permission"})]})}),c&&l.jsx("div",{className:"px-6 py-3 bg-green-50 border-b border-green-200",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ua,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:" Gmail permission granted - Staff emails will be sent from your account"})]})}),s&&l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",required:!0,value:h.email,onChange:y=>p({...h,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"staff@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,value:h.name,onChange:y=>p({...h,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:h.permissions.can_check_in,onChange:y=>p({...h,permissions:{...h.permissions,can_check_in:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can check-in participants"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:h.permissions.can_view_stats,onChange:y=>p({...h,permissions:{...h.permissions,can_view_stats:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can view check-in statistics"})]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Staff Member"}),l.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),l.jsx("div",{className:"divide-y divide-gray-200",children:i?l.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:l.jsx("p",{children:"Loading staff..."})}):r.length===0?l.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[l.jsx(hh,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{children:"No staff members assigned to this event."}),l.jsx("p",{className:"text-sm",children:"Add staff members to help with check-in and event management."})]}):r.filter(y=>y&&y.user).map(y=>{var _,E,A,I,S,O;return l.jsx("div",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((E=(_=y.user)==null?void 0:_.name)==null?void 0:E.charAt(0).toUpperCase())||"?"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:((A=y.user)==null?void 0:A.name)||"Unknown User"}),l.jsx("p",{className:"text-sm text-gray-600",children:((I=y.user)==null?void 0:I.email)||"No email"}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Added"," ",new Date(y.assigned_at).toLocaleDateString()," by"," ",((S=y.assigned_by_user)==null?void 0:S.name)||"Unknown"]})]})]})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[y.permissions.can_check_in&&l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),y.permissions.can_view_stats&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(vf,{className:"h-3 w-3 mr-1"}),"Stats"]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:(O=y.user)!=null&&O.last_login_at?l.jsxs(l.Fragment,{children:["Last login:"," ",new Date(y.user.last_login_at).toLocaleDateString()]}):"Never logged in"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{var P,B;const j=encodeURIComponent(`Event Staff Access - ${t}`),H=encodeURIComponent(`Hi ${((P=y.user)==null?void 0:P.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((B=y.user)==null?void 0:B.email)||""}?subject=${j}&body=${H}`)},className:"text-blue-600 hover:text-blue-700",title:"Send email",children:l.jsx(ua,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>{var j;return x(((j=y.user)==null?void 0:j.id)||y.id)},className:"text-red-600 hover:text-red-700",title:"Remove staff",children:l.jsx(Ls,{className:"h-4 w-4"})})]})]})]})},y.id)})}),l.jsx("div",{className:"px-6 py-4 bg-blue-50 border-t border-blue-200",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(hh,{className:"h-5 w-5 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"Staff Access Information:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Staff members receive login credentials via email"}),l.jsx("li",{children:" They can access the check-in system with their assigned permissions"}),l.jsx("li",{children:" Staff accounts are created automatically if they don't exist"}),l.jsx("li",{children:" You can modify or revoke access at any time"})]})]})]})})]})}const p8=()=>{var I,S;const{id:t}=Mi(),e=$r(),{user:r}=sr(),[n,i]=N.useState(null),[a,s]=N.useState([]),[o,c]=N.useState(!0),[u,d]=N.useState(null),f=async()=>{if(r)try{const O=await Oi.getUserRegistrations();O.success&&O.data&&s(O.data.registrations)}catch(O){console.error("Failed to fetch user registrations:",O)}},h=O=>a.some(j=>{var H;return((H=j.event)==null?void 0:H.id)===O&&j.status!=="cancelled"}),p=O=>a.find(j=>{var H;return((H=j.event)==null?void 0:H.id)===O&&j.status!=="cancelled"});N.useEffect(()=>{(async()=>{if(!t){d("Event ID is required"),c(!1);return}try{c(!0);const j=await Zt.getEventById(t);j.success&&j.data?i(j.data.event):d(j.error||"Event not found")}catch(j){d("Failed to load event details"),console.error("Event details error:",j)}finally{c(!1)}})(),f()},[t]);const m=async()=>{if(!(!n||!t)&&confirm(`Are you sure you want to delete "${n.title}"? This action cannot be undone.`))try{const O=await Zt.deleteEvent(t);O.success?e("/dashboard"):alert(O.error||"Failed to delete event")}catch(O){alert("Failed to delete event"),console.error("Delete event error:",O)}};if(o)return l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading event details..."})]})});if(u||!n)return l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:u}),l.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});const w=r&&n.organizer&&r.id===n.organizer.id||(r==null?void 0:r.role)==="admin",g=new Date(n.start_date),x=new Date(n.end_date),y=n.registration_deadline?new Date(n.registration_deadline):null,_=g>new Date,E=new Date>=g&&new Date<=x,A=((I=n.registrations)==null?void 0:I.length)||0;return l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("button",{onClick:()=>e(-1),className:"text-gray-600 hover:text-gray-900 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),w&&l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(he,{to:`/events/${n.id}/form-builder`,className:"btn btn-primary",children:"Registration Form"}),l.jsxs(he,{to:`/events/${n.id}/registrations`,className:"btn btn-secondary",children:["View Registrations (",A,")"]}),l.jsx(he,{to:`/events/${n.id}/attendance`,className:"btn btn-secondary",children:"Manage Attendance"}),l.jsx(he,{to:`/events/${n.id}/certificates`,className:"btn btn-secondary",children:"Certificates"}),l.jsx("button",{onClick:m,className:"btn bg-red-600 hover:bg-red-700 text-white",children:"Delete Event"})]})]}),n.banner_url&&l.jsx("div",{className:"mb-8",children:l.jsx("img",{src:n.banner_url,alt:n.title,className:"w-full h-64 object-cover rounded-lg"})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E?"bg-green-100 text-green-800":_?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E?"Active":_?"Upcoming":"Past"}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${n.visibility==="public"?"bg-green-100 text-green-800":n.visibility==="private"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.visibility}),n.is_paid&&l.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800",children:["$",n.price]})]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.title}),l.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:n.description})]}),l.jsxs("div",{className:"card",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Details"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Date & Time"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[g.toLocaleDateString()," at"," ",g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),x.toDateString()!==g.toDateString()&&` - ${x.toLocaleDateString()} at ${x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`,x.toDateString()===g.toDateString()&&` - ${x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsxs("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location"}),l.jsx("p",{className:"text-sm text-gray-600",children:n.location})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Capacity"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[A," / ",n.capacity," registered"]}),l.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mt-1",children:l.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${Math.min(A/n.capacity*100,100)}%`}})})]})]}),y&&l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Registration Deadline"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[y.toLocaleDateString()," at"," ",y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),n.organizer&&l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Organizer"}),l.jsx("p",{className:"text-sm text-gray-600",children:n.organizer.name}),n.organizer.organization_name&&l.jsx("p",{className:"text-xs text-gray-500",children:n.organizer.organization_name})]})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[!w&&_&&l.jsx("div",{className:"card",children:r&&h(n.id)?l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"You're Registered!"}),l.jsx("div",{className:"mb-4",children:l.jsx("span",{className:"text-lg font-semibold text-green-600",children:"Registration Confirmed"})}),l.jsxs(he,{to:`/ticket/${(S=p(n.id))==null?void 0:S.id}`,className:"btn bg-green-600 hover:bg-green-700 text-white w-full flex items-center justify-center",children:[l.jsx(nx,{className:"w-4 h-4 mr-2"}),"View Ticket"]})]}):A<n.capacity?l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Register for Event"}),n.is_paid?l.jsxs("div",{className:"mb-4",children:[l.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",n.price]}),l.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"per ticket"})]}):l.jsx("div",{className:"mb-4",children:l.jsx("span",{className:"text-lg font-semibold text-green-600",children:"Free Event"})}),l.jsx(he,{to:`/events/${n.id}/register`,className:"btn btn-primary w-full",children:"Register Now"}),y&&new Date>y&&l.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Registration deadline has passed"})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Full"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"This event has reached its maximum capacity."}),l.jsx("button",{disabled:!0,className:"btn bg-gray-300 text-gray-500 w-full cursor-not-allowed",children:"Registration Closed"})]})}),w&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Statistics"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Registrations"}),l.jsx("span",{className:"text-sm font-medium",children:A})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Available Spots"}),l.jsx("span",{className:"text-sm font-medium",children:n.capacity-A})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Fill Rate"}),l.jsxs("span",{className:"text-sm font-medium",children:[Math.round(A/n.capacity*100),"%"]})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-2",children:[l.jsxs(he,{to:`/events/${n.id}/registrations`,className:"text-primary-600 hover:text-primary-500 text-sm font-medium flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Manage Registrations"]}),l.jsxs(he,{to:`/events/${n.id}/check-in`,className:"text-blue-600 hover:text-blue-500 text-sm font-medium flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Check-In Dashboard"]})]})]}),w&&l.jsx("div",{className:"card",children:l.jsx(h8,{eventId:n.id})}),n.category&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Category"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:n.category.color}}),l.jsx("span",{className:"text-sm text-gray-600",children:n.category.name})]})]})]})]})]})},m8=Kl({firstName:Fe().min(1,"First name is required"),lastName:Fe().min(1,"Last name is required"),email:Fe().email("Valid email is required"),phone:Fe().min(1,"Phone number is required"),organization:Fe().optional(),dietary:Fe().optional(),accessibility:Fe().optional(),comments:Fe().optional(),emergencyContact:Fe().optional(),emergencyPhone:Fe().optional()}),x8=()=>{const{id:t}=Mi(),e=$r(),{user:r}=sr(),[n,i]=N.useState(null),[a,s]=N.useState(!0),[o,c]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(!1),{register:p,handleSubmit:m,formState:{errors:v},setValue:w}=Zl({resolver:Yl(m8)});N.useEffect(()=>{(async()=>{var I;if(!t){d("Event ID is required"),s(!1);return}try{s(!0);const S=await Zt.getEventById(t);if(!S.success||!S.data){d(S.error||"Event not found"),s(!1);return}if(i(S.data.event),r&&(w("email",r.email),w("firstName",r.name.split(" ")[0]||""),w("lastName",r.name.split(" ").slice(1).join(" ")||"")),r){const O=await Oi.checkRegistrationStatus(t);O.success&&((I=O.data)!=null&&I.isRegistered)&&h(!0)}}catch(S){d("Failed to load event details"),console.error("Registration form error:",S)}finally{s(!1)}})()},[t,r,w]);const g=async A=>{if(!(!n||!t||!r))try{c(!0),d(null);const I=await Oi.registerForEvent(t,{formData:{firstName:A.firstName,lastName:A.lastName,email:A.email,phone:A.phone,organization:A.organization,dietary:A.dietary,accessibility:A.accessibility,comments:A.comments,emergencyContact:A.emergencyContact,emergencyPhone:A.emergencyPhone}});I.success?e(`/events/${t}`,{state:{message:"Successfully registered for the event!"}}):d(I.error||"Failed to register for event")}catch(I){d("Failed to register for event. Please try again."),console.error("Registration error:",I)}finally{c(!1)}};if(a)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading registration form..."})]})});if(u||!n)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:u}),l.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});if(!r)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Required"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to register for events."}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:()=>e("/login"),className:"btn btn-primary",children:"Login"}),l.jsx("button",{onClick:()=>e("/register"),className:"btn btn-secondary",children:"Create Account"})]})]})});if(f)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Already Registered"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You are already registered for this event."}),l.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-primary",children:"View Event Details"})]})});const x=new Date(n.start_date),y=n.registration_deadline?new Date(n.registration_deadline):null,_=y&&new Date>y,E=new Date>x;return _||E?l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Closed"}),l.jsx("p",{className:"text-gray-600 mb-6",children:E?"This event has already started.":"The registration deadline has passed."}),l.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-secondary",children:"View Event Details"})]})}):l.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e(`/events/${n.id}`),className:"text-gray-600 hover:text-gray-900 flex items-center mb-4",children:[l.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Event"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register for Event"}),l.jsx("h2",{className:"text-xl text-gray-700 mb-4",children:n.title}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),x.toLocaleDateString()," at"," ",x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.location]})]}),n.is_paid&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",n.price]}),l.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"per ticket"})]})]})]}),u&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),l.jsxs("form",{onSubmit:m(g),className:"card space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),l.jsx("input",{...p("firstName"),type:"text",id:"firstName",className:`input ${v.firstName?"border-red-500":""}`,placeholder:"Enter your first name"}),v.firstName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),l.jsx("input",{...p("lastName"),type:"text",id:"lastName",className:`input ${v.lastName?"border-red-500":""}`,placeholder:"Enter your last name"}),v.lastName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.lastName.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),l.jsx("input",{...p("email"),type:"email",id:"email",className:`input ${v.email?"border-red-500":""}`,placeholder:"Enter your email address"}),v.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.email.message})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),l.jsx("input",{...p("phone"),type:"tel",id:"phone",className:`input ${v.phone?"border-red-500":""}`,placeholder:"Enter your phone number"}),v.phone&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.phone.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization"}),l.jsx("input",{...p("organization"),type:"text",id:"organization",className:"input",placeholder:"Company or organization"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dietary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dietary Requirements"}),l.jsx("input",{...p("dietary"),type:"text",id:"dietary",className:"input",placeholder:"Any dietary restrictions or preferences"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"accessibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accessibility Needs"}),l.jsx("input",{...p("accessibility"),type:"text",id:"accessibility",className:"input",placeholder:"Any accessibility requirements"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),l.jsx("input",{...p("emergencyContact"),type:"text",id:"emergencyContact",className:"input",placeholder:"Emergency contact name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Phone"}),l.jsx("input",{...p("emergencyPhone"),type:"tel",id:"emergencyPhone",className:"input",placeholder:"Emergency contact phone"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments"}),l.jsx("textarea",{...p("comments"),id:"comments",rows:3,className:"input",placeholder:"Any additional information or comments"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx("button",{type:"button",onClick:()=>e(`/events/${n.id}`),className:"btn btn-secondary",disabled:o,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Registering..."]}):n.is_paid?`Register & Pay $${n.price}`:"Register for Event"})]})]})]})},v8=wf((t,e)=>({events:[],selectedEvent:null,isLoading:!1,error:null,loadEvents:async()=>{try{t({isLoading:!0,error:null});const r=await Zt.getEvents();r.success&&r.data?t({events:r.data.events}):t({error:r.error||"Failed to load events"})}catch{t({error:"Error loading events"})}finally{t({isLoading:!1})}},loadEvent:async r=>{try{t({isLoading:!0,error:null});const n=await Zt.getEventById(r);if(n.success&&n.data){t({selectedEvent:n.data.event});const{events:i}=e(),a=i.map(s=>s.id===r?n.data.event:s);t({events:a})}else t({error:n.error||"Failed to load event"})}catch{t({error:"Error loading event"})}finally{t({isLoading:!1})}},setSelectedEvent:r=>{t({selectedEvent:r})},createEvent:async r=>{try{t({isLoading:!0,error:null});const n=await Zt.createEvent(r);if(n.success&&n.data){const i=n.data.event;return t(a=>({events:[...a.events,i],selectedEvent:i})),i}else return t({error:n.error||"Failed to create event"}),null}catch{return t({error:"Error creating event"}),null}finally{t({isLoading:!1})}},updateEvent:async(r,n)=>{try{t({isLoading:!0,error:null});const i=await Zt.updateEvent(r,n);if(i.success&&i.data){const a=i.data.event;return t(s=>{var o;return{events:s.events.map(c=>c.id===r?a:c),selectedEvent:((o=s.selectedEvent)==null?void 0:o.id)===r?a:s.selectedEvent}}),a}else return t({error:i.error||"Failed to update event"}),null}catch{return t({error:"Error updating event"}),null}finally{t({isLoading:!1})}},deleteEvent:async r=>{try{t({isLoading:!0,error:null});const n=await Zt.deleteEvent(r);return n.success?(t(i=>{var a;return{events:i.events.filter(s=>s.id!==r),selectedEvent:((a=i.selectedEvent)==null?void 0:a.id)===r?null:i.selectedEvent}}),!0):(t({error:n.error||"Failed to delete event"}),!1)}catch{return t({error:"Error deleting event"}),!1}finally{t({isLoading:!1})}}})),Xa={async getFormTemplates(){return ze.get("/registration-forms/templates")},async createRegistrationForm(t,e){return ze.post(`/registration-forms/events/${t}/form`,e)},async getRegistrationForm(t){return ze.get(`/registration-forms/events/${t}/form`)},async updateRegistrationForm(t,e,r){return ze.put(`/registration-forms/events/${t}/form/${e}`,r)},async deleteRegistrationForm(t,e){return ze.delete(`/registration-forms/events/${t}/form/${e}`)}},g8=wf((t,e)=>({form:null,templates:[],activeFieldId:null,isMultiStep:!1,currentStep:0,isLoading:!1,isSaving:!1,setForm:r=>t({form:r}),setTemplates:r=>t({templates:r}),setActiveFieldId:r=>t({activeFieldId:r}),setIsMultiStep:r=>t({isMultiStep:r}),setCurrentStep:r=>t({currentStep:r}),addField:(r,n)=>{const{form:i,isMultiStep:a}=e();if(!i)return;const s=[...i.fields,r];let o=i.steps||[];a&&typeof n=="number"&&o[n]&&(o=o.map((c,u)=>u===n?{...c,fields:[...c.fields,r.id]}:c)),t({form:{...i,fields:s,steps:o.length>0?o:void 0}})},updateField:(r,n)=>{const{form:i}=e();if(!i)return;const a=i.fields.map(s=>s.id===r?{...s,...n}:s);t({form:{...i,fields:a}})},removeField:r=>{const{form:n}=e();if(!n)return;const i=n.fields.filter(s=>s.id!==r);let a=n.steps||[];a.length>0&&(a=a.map(s=>({...s,fields:s.fields.filter(o=>o!==r)}))),t({form:{...n,fields:i,steps:a.length>0?a:void 0},activeFieldId:null})},reorderFields:(r,n)=>{const{form:i}=e();if(!i)return;const a=[...i.fields],[s]=a.splice(r,1);a.splice(n,0,s),t({form:{...i,fields:a}})},addStep:r=>{const{form:n}=e();if(!n)return;const i=[...n.steps||[],r];t({form:{...n,is_multi_step:!0,steps:i},isMultiStep:!0})},updateStep:(r,n)=>{const{form:i}=e();if(!i||!i.steps)return;const a=i.steps.map((s,o)=>o===r?{...s,...n}:s);t({form:{...i,steps:a}})},removeStep:r=>{const{form:n}=e();if(!n||!n.steps)return;const i=n.steps.filter((a,s)=>s!==r);t({form:{...n,steps:i.length>0?i:void 0,is_multi_step:i.length>0},isMultiStep:i.length>0,currentStep:Math.min(e().currentStep,i.length-1)})},reorderSteps:(r,n)=>{const{form:i}=e();if(!i||!i.steps)return;const a=[...i.steps],[s]=a.splice(r,1);a.splice(n,0,s),t({form:{...i,steps:a}})},applyTemplate:r=>{const{form:n}=e();if(!n)return;const i={...n,fields:[...r.fields],is_multi_step:!1,steps:void 0};t({form:i,isMultiStep:!1,currentStep:0,activeFieldId:null})},loadFormTemplates:async()=>{try{t({isLoading:!0});const r=await Xa.getFormTemplates();r.success&&r.data?t({templates:r.data.templates}):console.error("Failed to load form templates:",r.error)}catch(r){console.error("Error loading form templates:",r)}finally{t({isLoading:!1})}},loadRegistrationForm:async r=>{try{t({isLoading:!0});const n=await Xa.getRegistrationForm(r);if(n.success&&n.data){const i=n.data.form;t({form:i,isMultiStep:i.is_multi_step,currentStep:0})}else console.error("Failed to load registration form:",n.error),t({form:null})}catch(n){console.error("Error loading registration form:",n),t({form:null})}finally{t({isLoading:!1})}},saveRegistrationForm:async r=>{const{form:n}=e();if(n)try{t({isSaving:!0});const i=await Xa.updateRegistrationForm(r,n.id,{title:n.title,description:n.description,fields:n.fields,is_multi_step:n.is_multi_step,steps:n.steps});i.success&&i.data?t({form:i.data.form}):console.error("Failed to save registration form:",i.error)}catch(i){console.error("Error saving registration form:",i)}finally{t({isSaving:!1})}},createRegistrationForm:async(r,n,i)=>{try{t({isSaving:!0});const a=await Xa.createRegistrationForm(r,{title:n,description:i,fields:[],is_multi_step:!1});a.success&&a.data?t({form:a.data.form,isMultiStep:a.data.form.is_multi_step,currentStep:0}):console.error("Failed to create registration form:",a.error)}catch(a){console.error("Error creating registration form:",a)}finally{t({isSaving:!1})}},deleteRegistrationForm:async(r,n)=>{try{t({isLoading:!0});const i=await Xa.deleteRegistrationForm(r,n);i.success?t({form:null,activeFieldId:null,isMultiStep:!1,currentStep:0}):console.error("Failed to delete registration form:",i.error)}catch(i){console.error("Error deleting registration form:",i)}finally{t({isLoading:!1})}}}));function y8({templates:t,onClose:e,onSelect:r}){const n=a=>{switch(a){case"basic":return st;case"detailed":return Ar;case"conference":return Nw;default:return st}},i=a=>{switch(a){case"basic":return"text-blue-600";case"detailed":return"text-green-600";case"conference":return"text-purple-600";default:return"text-gray-600"}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Choose a Template"}),l.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Fs,{className:"h-5 w-5"})})]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Start with a pre-built template and customize it to fit your event's needs. All templates can be fully edited after selection."})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>{const s=n(a.id),o=i(a.id);return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-gray-300 hover:shadow-sm cursor-pointer transition-all",onClick:()=>r(a),children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"p-2 rounded-md bg-gray-100",children:l.jsx(s,{className:`h-6 w-6 ${o}`})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"font-medium text-gray-900",children:a.name})})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:a.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:["Includes ",a.fields.length," fields:"]}),l.jsxs("div",{className:"space-y-1",children:[a.fields.slice(0,4).map((c,u)=>l.jsxs("div",{className:"text-xs text-gray-600 flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mr-2"}),c.label]},u)),a.fields.length>4&&l.jsxs("div",{className:"text-xs text-gray-500 pl-4",children:["+",a.fields.length-4," more fields"]})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsx("button",{onClick:()=>r(a),className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Use This Template"})})]},a.id)})}),t.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(st,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No templates available"})]})]}),l.jsx("div",{className:"p-6 border-t bg-gray-50",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"You can customize any template after selection"}),l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})})]})})}var ec={},Px={exports:{}},w8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_8=w8,b8=_8;function Mx(){}function Lx(){}Lx.resetWarningCache=Mx;var E8=function(){function t(n,i,a,s,o,c){if(c!==b8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Lx,resetWarningCache:Mx};return r.PropTypes=r,r};Px.exports=E8();var Fx=Px.exports,Bx={L:1,M:0,Q:3,H:2},Ux={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},N8=Ux;function Vx(t){this.mode=N8.MODE_8BIT_BYTE,this.data=t}Vx.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var C8=Vx,Eo=Bx;function Kr(t,e){this.totalCount=t,this.dataCount=e}Kr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Kr.getRSBlocks=function(t,e){var r=Kr.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=new Array,a=0;a<n;a++)for(var s=r[a*3+0],o=r[a*3+1],c=r[a*3+2],u=0;u<s;u++)i.push(new Kr(o,c));return i};Kr.getRsBlockTable=function(t,e){switch(e){case Eo.L:return Kr.RS_BLOCK_TABLE[(t-1)*4+0];case Eo.M:return Kr.RS_BLOCK_TABLE[(t-1)*4+1];case Eo.Q:return Kr.RS_BLOCK_TABLE[(t-1)*4+2];case Eo.H:return Kr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var A8=Kr;function zx(){this.buffer=new Array,this.length=0}zx.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var S8=zx,Br={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Br.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Br.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ct=0;Ct<8;Ct++)Br.EXP_TABLE[Ct]=1<<Ct;for(var Ct=8;Ct<256;Ct++)Br.EXP_TABLE[Ct]=Br.EXP_TABLE[Ct-4]^Br.EXP_TABLE[Ct-5]^Br.EXP_TABLE[Ct-6]^Br.EXP_TABLE[Ct-8];for(var Ct=0;Ct<255;Ct++)Br.LOG_TABLE[Br.EXP_TABLE[Ct]]=Ct;var $x=Br,hi=$x;function zo(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}zo.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=hi.gexp(hi.glog(this.get(r))+hi.glog(t.get(n)));return new zo(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=hi.glog(this.get(0))-hi.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=hi.gexp(hi.glog(t.get(n))+e);return new zo(r,0).mod(t)}};var Hx=zo,mr=Ux,C1=Hx,I8=$x,Sn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},_t={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;_t.getBCHDigit(e)-_t.getBCHDigit(_t.G15)>=0;)e^=_t.G15<<_t.getBCHDigit(e)-_t.getBCHDigit(_t.G15);return(t<<10|e)^_t.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;_t.getBCHDigit(e)-_t.getBCHDigit(_t.G18)>=0;)e^=_t.G18<<_t.getBCHDigit(e)-_t.getBCHDigit(_t.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return _t.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Sn.PATTERN000:return(e+r)%2==0;case Sn.PATTERN001:return e%2==0;case Sn.PATTERN010:return r%3==0;case Sn.PATTERN011:return(e+r)%3==0;case Sn.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Sn.PATTERN101:return e*r%2+e*r%3==0;case Sn.PATTERN110:return(e*r%2+e*r%3)%2==0;case Sn.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new C1([1],0),r=0;r<t;r++)e=e.multiply(new C1([1,I8.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case mr.MODE_NUMBER:return 10;case mr.MODE_ALPHA_NUM:return 9;case mr.MODE_8BIT_BYTE:return 8;case mr.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case mr.MODE_NUMBER:return 12;case mr.MODE_ALPHA_NUM:return 11;case mr.MODE_8BIT_BYTE:return 16;case mr.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case mr.MODE_NUMBER:return 14;case mr.MODE_ALPHA_NUM:return 13;case mr.MODE_8BIT_BYTE:return 16;case mr.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var a=0,s=t.isDark(n,i),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||o==0&&c==0||s==t.isDark(n+o,i+c)&&a++;a>5&&(r+=3+a-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var d=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&d++;var f=Math.abs(100*d/e/e-50)/5;return r+=f*10,r}},T8=_t,j8=C8,Wx=A8,Gx=S8,ui=T8,k8=Hx;function Jr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var ur=Jr.prototype;ur.addData=function(t){var e=new j8(t);this.dataList.push(e),this.dataCache=null};ur.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};ur.getModuleCount=function(){return this.moduleCount};ur.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=Wx.getRSBlocks(t,this.errorCorrectLevel),r=new Gx,n=0,i=0;i<e.length;i++)n+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var a=this.dataList[i];r.put(a.mode,4),r.put(a.getLength(),ui.getLengthInBits(a.mode,t)),a.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};ur.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Jr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};ur.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};ur.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ui.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};ur.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*i,o=0;o<this.modules[a].length;o++){var c=o*i,u=this.modules[a][o];u&&(n.beginFill(0,100),n.moveTo(c,s),n.lineTo(c+i,s),n.lineTo(c+i,s+i),n.lineTo(c,s+i),n.endFill())}return n};ur.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};ur.setupPositionAdjustPattern=function(){for(var t=ui.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)a==-2||a==2||s==-2||s==2||a==0&&s==0?this.modules[n+a][i+s]=!0:this.modules[n+a][i+s]=!1}};ur.setupTypeNumber=function(t){for(var e=ui.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};ur.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ui.getBCHTypeInfo(r),i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t};ur.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var o=0;o<2;o++)if(this.modules[n][s-o]==null){var c=!1;a<t.length&&(c=(t[a]>>>i&1)==1);var u=ui.getMask(e,n,s-o);u&&(c=!c),this.modules[n][s-o]=c,i--,i==-1&&(a++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};Jr.PAD0=236;Jr.PAD1=17;Jr.createData=function(t,e,r){for(var n=Wx.getRSBlocks(t,e),i=new Gx,a=0;a<r.length;a++){var s=r[a];i.put(s.mode,4),i.put(s.getLength(),ui.getLengthInBits(s.mode,t)),s.write(i)}for(var o=0,a=0;a<n.length;a++)o+=n[a].dataCount;if(i.getLengthInBits()>o*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+o*8+")");for(i.getLengthInBits()+4<=o*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=o*8||(i.put(Jr.PAD0,8),i.getLengthInBits()>=o*8));)i.put(Jr.PAD1,8);return Jr.createBytes(i,n)};Jr.createBytes=function(t,e){for(var r=0,n=0,i=0,a=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var c=e[o].dataCount,u=e[o].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),a[o]=new Array(c);for(var d=0;d<a[o].length;d++)a[o][d]=255&t.buffer[d+r];r+=c;var f=ui.getErrorCorrectPolynomial(u),h=new k8(a[o],f.getLength()-1),p=h.mod(f);s[o]=new Array(f.getLength()-1);for(var d=0;d<s[o].length;d++){var m=d+p.getLength()-s[o].length;s[o][d]=m>=0?p.get(m):0}}for(var v=0,d=0;d<e.length;d++)v+=e[d].totalCount;for(var w=new Array(v),g=0,d=0;d<n;d++)for(var o=0;o<e.length;o++)d<a[o].length&&(w[g++]=a[o][d]);for(var d=0;d<i;d++)for(var o=0;o<e.length;o++)d<s[o].length&&(w[g++]=s[o][d]);return w};var O8=Jr,Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});var R8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D8=Fx,xr=Zx(D8),Xx=N,No=Zx(Xx);function Zx(t){return t&&t.__esModule?t:{default:t}}function P8(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var M8={bgColor:xr.default.oneOfType([xr.default.object,xr.default.string]).isRequired,bgD:xr.default.string.isRequired,fgColor:xr.default.oneOfType([xr.default.object,xr.default.string]).isRequired,fgD:xr.default.string.isRequired,size:xr.default.number.isRequired,title:xr.default.string,viewBoxSize:xr.default.number.isRequired,xmlns:xr.default.string},Lf=(0,Xx.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,i=t.fgD,a=t.fgColor,s=t.size,o=t.title,c=t.viewBoxSize,u=t.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=P8(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return No.default.createElement("svg",R8({},f,{height:s,ref:e,viewBox:"0 0 "+c+" "+c,width:s,xmlns:d}),o?No.default.createElement("title",null,o):null,No.default.createElement("path",{d:n,fill:r}),No.default.createElement("path",{d:i,fill:a}))});Lf.displayName="QRCodeSvg";Lf.propTypes=M8;Mf.default=Lf;Object.defineProperty(ec,"__esModule",{value:!0});ec.QRCode=void 0;var L8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F8=Fx,ln=Qs(F8),B8=Bx,U8=Qs(B8),V8=O8,z8=Qs(V8),Yx=N,$8=Qs(Yx),H8=Mf,W8=Qs(H8);function Qs(t){return t&&t.__esModule?t:{default:t}}function G8(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var X8={bgColor:ln.default.oneOfType([ln.default.object,ln.default.string]),fgColor:ln.default.oneOfType([ln.default.object,ln.default.string]),level:ln.default.string,size:ln.default.number,value:ln.default.string.isRequired},tc=(0,Yx.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,i=t.fgColor,a=i===void 0?"#000000":i,s=t.level,o=s===void 0?"L":s,c=t.size,u=c===void 0?256:c,d=t.value,f=G8(t,["bgColor","fgColor","level","size","value"]),h=new z8.default(-1,U8.default[o]);h.addData(d),h.make();var p=h.modules;return $8.default.createElement(W8.default,L8({},f,{bgColor:n,bgD:p.map(function(m,v){return m.map(function(w,g){return w?"":"M "+g+" "+v+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:p.map(function(m,v){return m.map(function(w,g){return w?"M "+g+" "+v+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:u,viewBoxSize:p.length}))});ec.QRCode=tc;tc.displayName="QRCode";tc.propTypes=X8;var Kx=ec.default=tc;function Z8({form:t,eventId:e,onClose:r}){const[n,i]=N.useState(null),[a,s]=N.useState(!1),o=window.location.origin,c=`${o}/events/${e}/register`,u=`${o}/events/${e}/register?embed=true`,d=async(h,p)=>{try{await navigator.clipboard.writeText(h),i(p),setTimeout(()=>i(null),2e3)}catch(m){console.error("Failed to copy:",m)}},f=()=>`<iframe 
  src="${u}" 
  width="100%" 
  height="600" 
  frameborder="0" 
  style="border: none; border-radius: 8px;">
</iframe>`;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(yf,{className:"h-6 w-6 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Share Registration Form"}),l.jsx("p",{className:"text-sm text-gray-600",children:t.title})]})]}),l.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Fs,{className:"h-5 w-5"})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Registration Link"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-md bg-gray-50 text-gray-700"}),l.jsx("button",{onClick:()=>d(c,"url"),className:"px-4 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="url"?l.jsxs(l.Fragment,{children:[l.jsx(kc,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Oc,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy"})]})}),l.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-2",children:[l.jsx(rx,{className:"h-4 w-4"}),l.jsx("span",{children:"Preview"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to register for your event"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"QR Code"}),l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-gray-100 rounded-md",children:l.jsx(Ps,{className:"h-6 w-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:"QR Code for Easy Access"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Let participants scan to register quickly"})]})]}),l.jsx("button",{onClick:()=>s(!a),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100",children:a?"Hide QR Code":"Generate QR Code"})]}),a&&l.jsx("div",{className:"border-t border-gray-200 p-6 bg-white",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"qr-code-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:l.jsx(Kx,{value:c,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 200 200"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Scan to Register"}),l.jsx("p",{className:"text-xs text-gray-600 max-w-sm mx-auto",children:"Point your camera at this QR code to quickly access the registration form"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{const h=document.querySelector(".qr-code-container"),p=h==null?void 0:h.querySelector("svg");if(p)try{const m=new XMLSerializer().serializeToString(p),v=document.createElement("canvas"),w=v.getContext("2d"),g=new Image;v.width=200,v.height=200,g.onload=()=>{w&&(w.fillStyle="white",w.fillRect(0,0,200,200),w.drawImage(g,0,0));const x=document.createElement("a");x.download=`${t.title.replace(/\s+/g,"-")}-qr-code.png`,x.href=v.toDataURL("image/png"),x.click()},g.src="data:image/svg+xml;base64,"+btoa(m)}catch(m){console.error("Error downloading QR code:",m),alert("Failed to download QR code. Please try again.")}else alert("QR code not found. Please generate the QR code first.")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Download QR Code"}),l.jsx("button",{onClick:()=>d(c,"qr-url"),className:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-1",children:n==="qr-url"?l.jsxs(l.Fragment,{children:[l.jsx(kc,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Oc,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy URL"})]})})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Embed Code"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{value:f(),readOnly:!0,rows:6,className:"w-full p-3 border border-gray-300 rounded-md bg-gray-50 text-sm text-gray-700 font-mono"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Embed this form directly on your website"}),l.jsx("button",{onClick:()=>d(f(),"embed"),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="embed"?l.jsxs(l.Fragment,{children:[l.jsx(kc,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Oc,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy Code"})]})})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Form Statistics"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Total Registrations"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Form Views"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]})]})]})]}),l.jsx("div",{className:"p-6 border-t bg-gray-50",children:l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})})]})})}function Y8(){const{id:t}=Mi(),e=$r(),[r,n]=N.useState(!1),[i,a]=N.useState(!1),[s,o]=N.useState(!1),[c,u]=N.useState(null),{events:d,selectedEvent:f,loadEvent:h,isLoading:p}=v8(),{form:m,templates:v,activeFieldId:w,isMultiStep:g,currentStep:x,isLoading:y,isSaving:_,setActiveFieldId:E,setIsMultiStep:A,setCurrentStep:I,addField:S,updateField:O,removeField:j,reorderFields:H,addStep:P,removeStep:B,applyTemplate:X,loadFormTemplates:le,loadRegistrationForm:be,saveRegistrationForm:Xe,createRegistrationForm:$,deleteRegistrationForm:ne}=g8(),J=d.find(L=>L.id===t)||f;N.useEffect(()=>{t&&(console.log("RegistrationFormBuilder: Loading event ID:",t),h(t),le(),be(t))},[t]),N.useEffect(()=>{console.log("RegistrationFormBuilder Debug:",{eventId:t,event:J,selectedEvent:f,eventsCount:d.length,isLoading:y,eventLoading:p})},[t,J,f,d.length,y,p]);const ke=async()=>{if(!t)return;const L=`${(J==null?void 0:J.title)||"Event"} Registration Form`,ae=`Registration form for ${(J==null?void 0:J.title)||"this event"}`;await $(t,L,ae)},Ze=async()=>{!t||!m||await Xe(t)},an=async()=>{!t||!m||window.confirm("Are you sure you want to delete this form? This action cannot be undone.")&&await ne(t,m.id)},dr=L=>{const ae=`field_${Date.now()}`,Ue={id:ae,type:L,label:`New ${L} field`,required:!1},Ie=g&&(m!=null&&m.steps)?x:void 0;S(Ue,Ie),E(ae)},bn=()=>{if(m){if(g){if(m.steps)for(let L=m.steps.length-1;L>=0;L--)B(L)}else{const L={title:"Step 1",description:"Please fill out the following information",fields:m.fields.map(ae=>ae.id)};P(L)}A(!g),I(0)}},Ir=()=>{var Ue;const ae={title:`Step ${(((Ue=m==null?void 0:m.steps)==null?void 0:Ue.length)||0)+1}`,description:"Please fill out the following information",fields:[]};P(ae)},Wr=[{type:"text",label:"Text Input",icon:st},{type:"email",label:"Email",icon:st},{type:"phone",label:"Phone",icon:st},{type:"textarea",label:"Text Area",icon:st},{type:"select",label:"Dropdown",icon:st},{type:"radio",label:"Radio Buttons",icon:st},{type:"checkbox",label:"Checkboxes",icon:st},{type:"file",label:"File Upload",icon:st},{type:"date",label:"Date Picker",icon:st},{type:"number",label:"Number",icon:st},{type:"url",label:"URL",icon:st}];return y||p?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Rc,{className:"h-6 w-6 animate-spin text-blue-600"}),l.jsx("span",{children:"Loading form builder..."})]})}):!J&&!p&&!y?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event not found"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Event ID: ",t," | Events loaded: ",d.length]}),l.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800",children:"Return to Dashboard"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:l.jsx(xf,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Registration Form Builder"}),l.jsx("p",{className:"text-sm text-gray-600",children:J==null?void 0:J.title})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[!r&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>a(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Use Template"}),l.jsxs("button",{onClick:bn,className:`px-3 py-2 text-sm font-medium rounded-md ${g?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[l.jsx(Tw,{className:"h-4 w-4 inline mr-1"}),"Multi-Step"]})]}),l.jsxs("button",{onClick:()=>n(!r),className:`px-3 py-2 text-sm font-medium rounded-md ${r?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[l.jsx(vf,{className:"h-4 w-4 inline mr-1"}),r?"Edit":"Preview"]}),m&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(yf,{className:"h-4 w-4 inline mr-1"}),"Share"]}),l.jsx("button",{onClick:Ze,disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:_?l.jsxs(l.Fragment,{children:[l.jsx(Rc,{className:"h-4 w-4 inline mr-1 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ow,{className:"h-4 w-4 inline mr-1"}),"Save"]})}),l.jsx("button",{onClick:an,className:"px-3 py-2 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50",children:l.jsx(Ls,{className:"h-4 w-4"})})]})]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m?r?l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:m.title}),m.description&&l.jsx("p",{className:"text-gray-600 mb-6",children:m.description}),l.jsxs("div",{className:"space-y-6",children:[m.fields.map(L=>{var ae;return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[L.label,L.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),L.type==="textarea"?l.jsx("textarea",{placeholder:L.placeholder,className:"w-full p-3 border border-gray-300 rounded-md",rows:3}):L.type==="select"?l.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:L.placeholder||"Select an option"}),(ae=L.options)==null?void 0:ae.map((Ue,Ie)=>l.jsx("option",{value:Ue,children:Ue},Ie))]}):L.type==="radio"&&L.options?l.jsx("div",{className:"space-y-2",children:L.options.map((Ue,Ie)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:L.id,value:Ue,className:"mr-2"}),l.jsx("span",{className:"text-sm",children:Ue})]},Ie))}):L.type==="checkbox"&&L.options?l.jsx("div",{className:"space-y-2",children:L.options.map((Ue,Ie)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",value:Ue,className:"mr-2"}),l.jsx("span",{className:"text-sm",children:Ue})]},Ie))}):l.jsx("input",{type:L.type==="email"?"email":L.type==="number"?"number":L.type==="url"?"url":L.type==="date"?"date":"text",placeholder:L.placeholder,className:"w-full p-3 border border-gray-300 rounded-md"})]},L.id)}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700",children:"Submit Registration"})})]})]})}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Add Fields"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click on any field type to add it to your form"}),l.jsx("div",{className:"space-y-2",children:Wr.map(({type:L,label:ae,icon:Ue})=>l.jsxs("button",{onClick:()=>dr(L),className:"w-full flex items-center space-x-3 p-3 text-left text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 rounded-md border border-transparent transition-all duration-200 group",title:`Add ${ae} field`,children:[l.jsx(Ue,{className:"h-4 w-4 group-hover:text-blue-600"}),l.jsx("span",{className:"font-medium",children:ae}),l.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(ea,{className:"h-3 w-3 text-blue-600"})})]},L))}),g&&l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Steps"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Organize your form into multiple steps"}),l.jsxs("button",{onClick:Ir,className:"w-full flex items-center justify-center space-x-2 p-3 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md border border-blue-200 hover:border-blue-300 transition-all duration-200",children:[l.jsx(ea,{className:"h-4 w-4"}),l.jsx("span",{children:"Add New Step"})]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("h4",{className:"font-medium text-gray-800 mb-2 text-sm",children:" Quick Tips"}),l.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[l.jsx("p",{children:" Click on any field to edit its settings"}),l.jsx("p",{children:" Use Preview to test your form"}),l.jsx("p",{children:" Toggle Multi-Step for complex forms"}),l.jsx("p",{children:" Use templates for quick setup"})]})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:m.title}),m.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Ms,{className:"h-5 w-5"})})]}),g&&m.steps&&m.steps.length>0&&l.jsx("div",{className:"mt-4 flex space-x-2",children:m.steps.map((L,ae)=>l.jsx("button",{onClick:()=>I(ae),className:`px-3 py-2 text-sm rounded-md ${x===ae?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:L.title},ae))})]}),l.jsx("div",{className:"p-6",children:m.fields.length===0?l.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[l.jsx(st,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Building Your Form"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create a custom registration form by adding fields from the sidebar, or get started quickly with a pre-built template."}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsx("button",{onClick:()=>a(!0),className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"}),l.jsx("button",{onClick:()=>dr("text"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Add First Field"})]})]}):l.jsx("div",{className:"space-y-3 pl-8 relative",children:m.fields.filter(L=>{if(!g||!m.steps)return!0;const ae=m.steps[x];return ae==null?void 0:ae.fields.includes(L.id)}).map((L,ae)=>{var Ue;return l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"absolute -left-8 top-3 text-xs text-gray-400 font-medium bg-gray-100 rounded-full w-5 h-5 flex items-center justify-center",children:ae+1}),l.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all duration-200 ${w===L.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>E(L.id),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[L.label,L.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("span",{className:"px-2 py-1 text-xs text-gray-500 bg-gray-100 rounded-full capitalize",children:L.type})]}),L.placeholder&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Placeholder: ",L.placeholder]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[ae>0&&l.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),H(ae,ae-1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move up",children:l.jsx(Iw,{className:"h-4 w-4"})}),ae<m.fields.filter(Ie=>{if(!g||!m.steps)return!0;const fr=m.steps[x];return fr==null?void 0:fr.fields.includes(Ie.id)}).length-1&&l.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),H(ae,ae+1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move down",children:l.jsx(Aw,{className:"h-4 w-4"})}),l.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),j(L.id)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete field",children:l.jsx(Ls,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"mt-3 opacity-80",children:L.type==="textarea"?l.jsx("textarea",{placeholder:L.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",rows:2,disabled:!0}):L.type==="select"?l.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0,children:[l.jsx("option",{children:L.placeholder||"Select an option"}),(Ue=L.options)==null?void 0:Ue.slice(0,3).map((Ie,fr)=>l.jsx("option",{children:Ie},fr)),L.options&&L.options.length>3&&l.jsxs("option",{children:["... and ",L.options.length-3," ","more"]})]}):L.type==="radio"&&L.options?l.jsxs("div",{className:"space-y-1",children:[L.options.slice(0,3).map((Ie,fr)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",className:"mr-2",disabled:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:Ie})]},fr)),L.options.length>3&&l.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",L.options.length-3," more options"]})]}):L.type==="checkbox"&&L.options?l.jsxs("div",{className:"space-y-1",children:[L.options.slice(0,3).map((Ie,fr)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",disabled:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:Ie})]},fr)),L.options.length>3&&l.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",L.options.length-3," more options"]})]}):l.jsx("input",{type:L.type==="email"?"email":L.type==="number"?"number":L.type==="url"?"url":L.type==="date"?"date":"text",placeholder:L.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0})})]}),l.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:l.jsx("div",{className:"flex justify-center mt-2",children:l.jsxs("button",{onClick:()=>{const Ie={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"Enter value",required:!1,options:[]};S(Ie),E(Ie.id)},className:"flex items-center gap-1 px-3 py-1 text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full border border-blue-200 transition-colors",children:[l.jsx(ea,{className:"h-3 w-3"}),"Add Field Below"]})})})]},L.id)})})})]})}),l.jsx("div",{className:"lg:col-span-1",children:w&&(()=>{const L=m.fields.find(ae=>ae.id===w);return L?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Edit Field"}),l.jsx("button",{onClick:()=>E(null),className:"p-1 text-gray-400 hover:text-gray-600",children:l.jsx(Fs,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),l.jsx("input",{type:"text",value:L.label,onChange:ae=>O(w,{label:ae.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder"}),l.jsx("input",{type:"text",value:L.placeholder||"",onChange:ae=>O(w,{placeholder:ae.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:L.required,onChange:ae=>O(w,{required:ae.target.checked}),className:"mr-2"}),l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Required field"})]}),(L.type==="select"||L.type==="radio"||L.type==="checkbox")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options (one per line)"}),l.jsx("textarea",{value:(L.options||[]).join(`
`),onChange:ae=>{const Ue=ae.target.value.split(`
`).filter(Ie=>Ie.trim()!=="");O(w,{options:Ue})},rows:4,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:`Option 1
Option 2
Option 3`})]})]})]}):null})()})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(st,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Registration Form"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Create a registration form for participants to register for your event."}),l.jsx("button",{onClick:ke,disabled:_,className:"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:_?l.jsxs(l.Fragment,{children:[l.jsx(Rc,{className:"h-4 w-4 inline mr-2 animate-spin"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ea,{className:"h-4 w-4 inline mr-2"}),"Create Registration Form"]})})]})}),i&&l.jsx(y8,{templates:v,onClose:()=>a(!1),onSelect:L=>{X(L),a(!1),u(`Template "${L.name}" applied successfully! You can now edit the fields.`),setTimeout(()=>u(null),4e3)}}),m&&s&&l.jsx(Z8,{form:m,eventId:t,onClose:()=>o(!1)}),c&&l.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:l.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 max-w-sm",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("p",{className:"text-sm font-medium",children:c}),l.jsx("button",{onClick:()=>u(null),className:"flex-shrink-0 text-green-200 hover:text-white",children:l.jsx(Fs,{className:"h-4 w-4"})})]})})]})}const da=t=>{const e=new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},K8=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(null),s=async()=>{var u;try{n(!0),a(null);const d=await Oi.getUserRegistrations();e(((u=d.data)==null?void 0:u.registrations)||[])}catch(d){a(typeof d=="string"?d:"An error occurred")}finally{n(!1)}};N.useEffect(()=>{s()},[]);const o=async u=>{if(window.confirm("Are you sure you want to cancel your registration for this event?"))try{await Oi.cancelRegistration(u),s()}catch(d){console.error("Failed to cancel registration:",d),alert("Failed to cancel registration. Please try again.")}},c=u=>{switch(u){case"confirmed":return"bg-green-100 text-green-800";case"waitlisted":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):i?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Ew,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading registrations"}),l.jsx("p",{className:"mt-1 text-sm text-red-700",children:i||"An error occurred"}),l.jsx("button",{onClick:()=>s(),className:"mt-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded",children:"Try again"})]})]})})}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Registrations"}),l.jsx("p",{className:"text-gray-600",children:"View and manage your event registrations"})]}),!t||t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Dt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't registered for any events yet."}),l.jsx(he,{to:"/events",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700",children:"Browse Events"})]}):l.jsx("div",{className:"space-y-6",children:t.map(u=>{const d=u.event;return d?l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:d.title}),l.jsxs("div",{className:"ml-3 flex space-x-2",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(u.status)}`,children:u.status}),d.is_paid&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Paid Event"})]})]}),l.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:d.description}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"h-4 w-4 mr-2"}),da(d.start_date)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zs,{className:"h-4 w-4 mr-2"}),d.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ji,{className:"h-4 w-4 mr-2"}),"Registered ",da(u.created_at)]})]}),d.is_paid&&d.price&&l.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Event Price: $",d.price]})]}),l.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[l.jsxs(he,{to:`/events/${d.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(rx,{className:"h-4 w-4 mr-2"}),"View Event"]}),u.status!=="cancelled"&&l.jsxs("button",{onClick:()=>o(u.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[l.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})},u.id):null})})]})},Q8=()=>{const{id:t}=Mi(),e=$r(),[r,n]=N.useState(null),[i,a]=N.useState([]),[s,o]=N.useState(!0),[c,u]=N.useState(null),[d,f]=N.useState("all");N.useEffect(()=>{(async()=>{if(!t){u("Event ID is required"),o(!1);return}try{o(!0),u(null);const[x,y]=await Promise.all([Zt.getEventById(t),Oi.getEventRegistrations(t)]);if(x.success&&x.data)n(x.data.event);else{u(x.error||"Event not found");return}y.success&&y.data?a(y.data.registrations):u(y.error||"Failed to load registrations")}catch(x){u("Failed to load data"),console.error("Event registrations error:",x)}finally{o(!1)}})()},[t]);const h=g=>{switch(g){case"confirmed":return l.jsx(ka,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(ji,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return l.jsx(xl,{className:"h-5 w-5 text-red-500"});default:return l.jsx(ji,{className:"h-5 w-5 text-gray-500"})}},p=g=>{switch(g){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=i.filter(g=>d==="all"?!0:g.status===d),v=g=>g==="all"?i.length:i.filter(x=>x.status===g).length,w=()=>{if(!i.length)return;const x=[["Name","Email","Phone","Status","Registration Date"].join(","),...m.map(A=>{const I=A.user;return[(I==null?void 0:I.name)||"N/A",(I==null?void 0:I.email)||"N/A",(I==null?void 0:I.phone_number)||"N/A",A.status,da(A.created_at)].join(",")})].join(`
`),y=new Blob([x],{type:"text/csv"}),_=window.URL.createObjectURL(y),E=document.createElement("a");E.href=_,E.download=`${(r==null?void 0:r.title)||"event"}-registrations.csv`,E.click(),window.URL.revokeObjectURL(_)};return s?l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):c?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"text-red-800",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Error"}),l.jsx("p",{className:"mt-1",children:c}),l.jsx("button",{onClick:()=>e(-1),className:"mt-3 text-sm bg-red-100 hover:bg-red-200 px-3 py-1 rounded",children:"Go Back"})]})})}):r?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>e(`/events/${t}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(xf,{className:"h-5 w-5 mr-2"}),"Back to Event"]}),l.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:!m.length,children:[l.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Registrations"}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"h-4 w-4 mr-2"}),da(r.start_date)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zs,{className:"h-4 w-4 mr-2"}),r.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ar,{className:"h-4 w-4 mr-2"}),i.length," / ",r.capacity," registered"]})]})]})})})]}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Registrations"},{key:"confirmed",label:"Confirmed"},{key:"pending",label:"Pending"},{key:"cancelled",label:"Cancelled"}].map(g=>l.jsxs("button",{onClick:()=>f(g.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${d===g.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[g.label," (",v(g.key),")"]},g.key))})}),m.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ar,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations found"}),l.jsx("p",{className:"text-gray-500",children:d==="all"?"No one has registered for this event yet.":`No ${d} registrations for this event.`})]}):l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.jsx("ul",{className:"divide-y divide-gray-200",children:m.map(g=>{var x,y,_;return l.jsx("li",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[l.jsx("div",{className:"flex-shrink-0",children:h(g.status)}),l.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((x=g.user)==null?void 0:x.name)||"Unknown User"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(g.status)}`,children:g.status})]}),l.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ua,{className:"h-4 w-4 mr-1"}),((y=g.user)==null?void 0:y.email)||"No email"]}),((_=g.user)==null?void 0:_.phone_number)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(kw,{className:"h-4 w-4 mr-1"}),g.user.phone_number]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"h-4 w-4 mr-1"}),"Registered ",da(g.created_at)]})]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:g.responses&&Object.keys(g.responses).length>0&&l.jsx("button",{onClick:()=>{alert(`Form Data:
${JSON.stringify(g.responses,null,2)}`)},className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500",title:"View Form Data",children:l.jsx(st,{className:"h-4 w-4"})})})]})},g.id)})})})]}):null},q8=()=>l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Attendance Tracking"}),l.jsx("p",{className:"text-gray-600",children:"QR code scanning and attendance management will be implemented here."})]}),J8=()=>{const t=$r(),{clearAuth:e,setError:r}=sr();return{handleApiError:i=>{var a,s;return console.error("API Error:",i),((a=i==null?void 0:i.response)==null?void 0:a.code)==="TOKEN_EXPIRED"||(i==null?void 0:i.status)===401?(console.log(" Token expired, handling authentication error"),e(),r("Your session has expired. Please log in again."),setTimeout(()=>{t("/login",{replace:!0})},1500),"Your session has expired. Redirecting to login..."):(s=i==null?void 0:i.response)!=null&&s.error?i.response.error:"An unexpected error occurred. Please try again."}}};class ms{static async getEventCertificates(e){return ze.get(`/certificates/event/${e}`)}static async generateCertificates(e,r){return ze.post("/certificates/generate",{eventId:e,participantIds:r==null?void 0:r.participantIds,templateId:r==null?void 0:r.templateId})}static async verifyCertificate(e){return ze.get(`/certificates/verify/${e}`)}static downloadCertificate(e){return`http://localhost:3001/api/certificates/download/${e}`}}const Co="http://localhost:3001/api",Za={get:async t=>{const e=localStorage.getItem("token");return{data:await(await fetch(`${Co}${t}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).json()}},post:async(t,e)=>{const n={Authorization:`Bearer ${localStorage.getItem("token")}`};return e instanceof FormData||(n["Content-Type"]="application/json"),{data:await(await fetch(`${Co}${t}`,{method:"POST",headers:n,body:e instanceof FormData?e:JSON.stringify(e)})).json()}},put:async(t,e)=>{const r=localStorage.getItem("token");return{data:await(await fetch(`${Co}${t}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}},delete:async t=>{const e=localStorage.getItem("token");return{data:await(await fetch(`${Co}${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).json()}}},eE=({template:t,isOpen:e,onClose:r,onSave:n,dataFields:i})=>{var u;const[a,s]=N.useState({});N.useEffect(()=>{var d;(d=t==null?void 0:t.template)!=null&&d.placeholder_mapping&&s(t.template.placeholder_mapping)},[t]);const o=()=>{n(a),r()},c=((u=t==null?void 0:t.template)==null?void 0:u.placeholders)||[];return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold",children:["Map Placeholders - ",t==null?void 0:t.name]}),l.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[l.jsx(ri,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Map the placeholders found in your PowerPoint template to data fields that will be populated when generating certificates."})]})}),c.length===0?l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[l.jsx(ri,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm",children:["No placeholders found in the template. Make sure your PowerPoint file contains placeholders in the format ","{{placeholder_name}}","."]})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Placeholder Mapping"}),c.map(d=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg",children:[l.jsx("div",{children:l.jsxs("label",{className:"text-sm font-medium",children:["Placeholder: ",l.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"{{"+d+"}}"})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:`mapping-${d}`,className:"block text-sm font-medium mb-1",children:"Map to Data Field"}),l.jsxs("select",{id:`mapping-${d}`,value:a[d]||"",onChange:f=>s(h=>({...h,[d]:f.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:"-- No mapping --"}),i.map(f=>l.jsxs("option",{value:f.key,children:[f.label," - ",f.description]},f.key))]})]})]},d))]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Mapping"})]})]})]})})}):null},tE=({eventId:t})=>{const[e,r]=N.useState([]),[n,i]=N.useState([]),[a,s]=N.useState(!0),[o,c]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(null),[p,m]=N.useState(null),[v,w]=N.useState(""),[g,x]=N.useState(null),[y,_]=N.useState(!1);N.useEffect(()=>{E(),A()},[t]);const E=async()=>{var P,B;try{s(!0);const X=await Za.get(`/templates/event/${t}`);X.data.success&&r(X.data.data.templates)}catch(X){d(((B=(P=X.response)==null?void 0:P.data)==null?void 0:B.error)||"Failed to load templates")}finally{s(!1)}},A=async()=>{try{const P=await Za.get("/templates/data-fields");P.data.success&&i(P.data.data)}catch(P){console.error("Failed to load data fields:",P)}},I=P=>{var X;const B=(X=P.target.files)==null?void 0:X[0];B&&(B.type.includes("presentation")||B.name.endsWith(".pptx")||B.name.endsWith(".ppt")?(m(B),d(null),v||w(B.name.replace(/\.(pptx?|ppt)$/i,""))):(d("Please select a PowerPoint file (.ppt or .pptx)"),m(null)))},S=async()=>{var P,B;if(!p||!v.trim()){d("Please select a file and enter a template name");return}try{c(!0),d(null);const X=new FormData;X.append("template",p),X.append("eventId",t),X.append("templateName",v.trim());const le=await Za.post("/templates/upload",X);if(le.data.success){h("Template uploaded successfully!"),m(null),w("");const be=document.getElementById("template-file");if(be&&(be.value=""),await E(),le.data.data.needs_mapping){const Xe=le.data.data.template;x(Xe),_(!0)}}}catch(X){d(((B=(P=X.response)==null?void 0:P.data)==null?void 0:B.error)||"Failed to upload template")}finally{c(!1)}},O=async P=>{var B,X;if(confirm("Are you sure you want to delete this template?"))try{(await Za.delete(`/templates/${P}`)).data.success&&(h("Template deleted successfully!"),await E())}catch(le){d(((X=(B=le.response)==null?void 0:B.data)==null?void 0:X.error)||"Failed to delete template")}},j=async P=>{var B,X;if(g)try{(await Za.put(`/templates/${g.id}/mapping`,{placeholderMapping:P})).data.success&&(h("Placeholder mapping saved successfully!"),await E())}catch(le){d(((X=(B=le.response)==null?void 0:B.data)==null?void 0:X.error)||"Failed to save mapping")}},H=()=>{d(null),h(null)};return a?l.jsxs("div",{className:"space-y-4 p-6",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-64"}),l.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]}):l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h2",{className:"text-2xl font-bold",children:"Certificate Templates"})}),u&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[l.jsx(ri,{className:"h-4 w-4"}),l.jsx("span",{children:u}),l.jsx("button",{onClick:H,className:"ml-auto text-red-600 hover:text-red-800",children:""})]})}),f&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[l.jsx(ka,{className:"h-4 w-4"}),l.jsx("span",{children:f}),l.jsx("button",{onClick:H,className:"ml-auto text-green-600 hover:text-green-800",children:""})]})}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(Dw,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Upload PowerPoint Template"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name"}),l.jsx("input",{id:"template-name",type:"text",value:v,onChange:P=>w(P.target.value),placeholder:"Enter template name",disabled:o,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"template-file",className:"block text-sm font-medium text-gray-700 mb-1",children:"PowerPoint File (.ppt, .pptx)"}),l.jsx("input",{id:"template-file",type:"file",accept:".ppt,.pptx,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",onChange:I,disabled:o,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p&&l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",p.name," (",(p.size/1024/1024).toFixed(2)," MB)"]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-2 text-blue-800",children:[l.jsx(ri,{className:"h-4 w-4 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Tip:"})," Use placeholders like ","{{participant_name}}",", ","{{event_title}}",", ","{{certificate_code}}"," in your PowerPoint template. These will be replaced with actual data when generating certificates."]})]})}),l.jsx("button",{onClick:S,disabled:!p||!v.trim()||o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Uploading...":"Upload Template"})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Available Templates"}),e.map(P=>{var B,X,le;return l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(st,{className:"h-4 w-4"}),l.jsx("h4",{className:"font-medium",children:P.name}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P.type==="powerpoint"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:P.type==="powerpoint"?"PowerPoint":"Canvas"})]}),((B=P.template)==null?void 0:B.placeholders)&&P.template.placeholders.length>0&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:"Placeholders:"})," ",P.template.placeholders.map(be=>l.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs mx-0.5",children:"{{"+be+"}}"},be))]}),P.created_at&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(P.created_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[P.type==="powerpoint"&&((le=(X=P.template)==null?void 0:X.placeholders)==null?void 0:le.length)>0&&l.jsxs("button",{onClick:()=>{x(P),_(!0)},className:"flex items-center gap-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(Ms,{className:"h-4 w-4"}),"Map Data"]}),P.id!=="default"&&l.jsx("button",{onClick:()=>O(P.id),className:"flex items-center gap-1 px-3 py-2 text-sm bg-red-600 text-white rounded-md hover:bg-red-700",children:l.jsx(Ls,{className:"h-4 w-4"})})]})]})},P.id)})]}),g&&l.jsx(eE,{template:g,isOpen:y,onClose:()=>{_(!1),x(null)},onSave:j,dataFields:n})]})};function rE(){const{id:t}=Mi(),e=$r(),{user:r,isLoading:n}=Hr(),{handleApiError:i}=J8(),[a,s]=N.useState(null),[o,c]=N.useState([]),[u,d]=N.useState(!0),[f,h]=N.useState(!1),[p,m]=N.useState(null),[v,w]=N.useState(null),[g,x]=N.useState(!1),[y,_]=N.useState("certificates"),[E,A]=N.useState("default"),I=N.useCallback(async()=>{try{d(!0),m(null);const j=await Zt.getEventById(t);if(!j.success||!j.data){m("Event not found");return}s(j.data.event);const H=new Date(j.data.event.end_date),B=new Date>H;x(B);const X=await ms.getEventCertificates(t);X.success&&X.data&&c(X.data.certificates)}catch(j){console.error("Error fetching data:",j);const H=i(j);m(H)}finally{d(!1)}},[t]);N.useEffect(()=>{if(!t){m("Event ID is required"),d(!1);return}I()},[t,I]);const S=async()=>{if(t){if(!g){m("Cannot generate certificates until the event has ended.");return}try{h(!0),m(null),w(null);const j=await ms.generateCertificates(t,{templateId:E});j.success&&j.data?(w(`Successfully generated ${j.data.generated} certificate(s) out of ${j.data.total} eligible participants.`),j.data.errors&&j.data.errors.length>0&&console.warn("Certificate generation errors:",j.data.errors),await I()):m(j.error||"Failed to generate certificates")}catch(j){console.error("Error generating certificates:",j);const H=i(j);m(H)}finally{h(!1)}}},O=j=>{const H=ms.downloadCertificate(j);window.open(H,"_blank")};return n||u?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Hu,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading certificates..."})]})}):r?["organizer","admin"].includes(r.role)?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(xf,{className:"h-5 w-5 mr-1"}),"Back"]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[l.jsx(Bn,{className:"h-8 w-8 mr-3 text-blue-600"}),"Certificate Management"]}),a&&l.jsxs("p",{className:"text-gray-600 mt-2",children:["Managing certificates for:"," ",l.jsx("span",{className:"font-semibold",children:a.title})]})]})})]}),p&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(ri,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-red-700",children:p})]})}),v&&l.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(ka,{className:"h-5 w-5 text-green-400 mr-2"}),l.jsx("p",{className:"text-green-700",children:v})]})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>_("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${y==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Bn,{className:"h-4 w-4 inline-block mr-2"}),"Certificates"]}),l.jsxs("button",{onClick:()=>_("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${y==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Ms,{className:"h-4 w-4 inline-block mr-2"}),"Templates"]})]})})}),y==="templates"?l.jsx(tE,{eventId:t}):l.jsx(l.Fragment,{children:a&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),l.jsx("p",{className:"font-medium",children:new Date(a.start_date).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ji,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),l.jsx("p",{className:"font-medium text-green-600",children:"Event Ended"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ar,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"}),l.jsxs("p",{className:"font-medium",children:[o.length," Generated"]})]})]})]})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Certificate Generation"})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"template-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Template"}),l.jsx("select",{id:"template-select",value:E,onChange:j=>A(j.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:l.jsx("option",{value:"default",children:"Default Template"})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:S,disabled:f||!g,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[f?l.jsx(Hu,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(Bn,{className:"h-4 w-4 mr-2"}),f?"Generating...":g?"Generate Certificates":"Event Must End First"]})}),!g&&a?l.jsx("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ji,{className:"h-5 w-5 text-amber-600 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-amber-800 font-medium",children:"Event Still in Progress"}),l.jsxs("p",{className:"text-amber-700 text-sm mt-1",children:["Certificates can only be generated after the event ends on"," ",l.jsxs("span",{className:"font-medium",children:[new Date(a.end_date).toLocaleDateString()," at"," ",new Date(a.end_date).toLocaleTimeString()]})]})]})]})}):null,l.jsx("p",{className:"text-gray-600 text-sm",children:"Generate certificates for all participants who attended this event. Only participants who checked in will receive certificates."})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[l.jsx(st,{className:"h-5 w-5 mr-2"}),"Generated Certificates (",o.length,")"]})}),o.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(Bn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No certificates generated yet"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:'Click "Generate Certificates" to create certificates for attended participants'})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participant"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate Code"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(j=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:j.participant_name}),l.jsx("div",{className:"text-sm text-gray-500",children:j.participant_email})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:j.certificate_code})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.issued_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("button",{onClick:()=>O(j.certificate_code),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[l.jsx(Wl,{className:"h-4 w-4 mr-1"}),"Download"]})})]},j.id))})]})})]})]})})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx(ri,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"Only event organizers and administrators can manage certificates."})]})}):(e("/login"),null)}function nE(){const[t,e]=N.useState(""),[r,n]=N.useState(null),[i,a]=N.useState(!1),[s,o]=N.useState(null),c=async d=>{if(d.preventDefault(),!t.trim()){o("Please enter a certificate code");return}try{a(!0),o(null),n(null);const f=await ms.verifyCertificate(t.trim());f.success&&f.data?n(f.data):o(f.error||"Certificate not found")}catch(f){console.error("Error verifying certificate:",f),o("Failed to verify certificate")}finally{a(!1)}},u=()=>{if(r!=null&&r.certificate){const d=ms.downloadCertificate(r.certificate.code);window.open(d,"_blank")}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx(Bn,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Certificate Verification"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Verify the authenticity of event participation certificates"})]}),l.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8 mb-8",children:l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"certificate-code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Code"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("input",{type:"text",id:"certificate-code",value:t,onChange:d=>e(d.target.value),placeholder:"Enter certificate code (e.g., CERT-ABC12345)",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:i}),l.jsx("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:i?l.jsx(Hu,{className:"h-5 w-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(gf,{className:"h-5 w-5 mr-2"}),"Verify"]})})]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:l.jsx("p",{children:"Enter the certificate code found on your participation certificate to verify its authenticity. Certificate codes are in the format: CERT-XXXXXXXX"})})]})}),s&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-8",children:l.jsxs("div",{className:"flex",children:[l.jsx(xl,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-red-700",children:s})]})}),r&&l.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:r.valid&&r.certificate?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-green-50 border-b border-green-200 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ka,{className:"h-8 w-8 text-green-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"Certificate Verified "}),l.jsx("p",{className:"text-green-700",children:"This certificate is authentic and valid"})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Participant Information"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Gu,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantName})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ua,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantEmail})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Bn,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Certificate Code"}),l.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded inline-block",children:r.certificate.code})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Event Information"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Title"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.title})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.event.date).toLocaleDateString()})]})]}),r.certificate.event.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zs,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.location})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Issued Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.issuedAt).toLocaleDateString()})]})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t",children:l.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 flex items-center mx-auto",children:[l.jsx(Wl,{className:"h-5 w-5 mr-2"}),"Download Certificate"]})})]})]}):l.jsx("div",{className:"bg-red-50 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(xl,{className:"h-8 w-8 text-red-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-red-900",children:"Certificate Not Found"}),l.jsx("p",{className:"text-red-700",children:"The certificate code you entered is not valid or does not exist in our system."})]})]})})}),!r&&!s&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Verify Your Certificate"}),l.jsxs("ul",{className:"text-blue-800 space-y-2",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),"Locate your certificate code on your participation certificate"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),"Enter the complete code in the field above (format: CERT-XXXXXXXX)"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),`Click "Verify" to check the certificate's authenticity`]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),"Download the verified certificate if needed"]})]})]})]})})}function iE(){const{eventId:t}=Mi(),{user:e,isLoading:r}=Hr();return r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?["staff","organizer","admin"].includes(e.role)?t?l.jsx(Pf,{eventId:t}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600",children:"Invalid event ID provided."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the check-in system. Only event staff and organizers can check in participants."})]})}):l.jsx(Kn,{to:"/login",replace:!0})}function aE({eventTitle:t,participantName:e,participantEmail:r,qrCode:n}){const[i,a]=N.useState(null);N.useEffect(()=>{a({title:t,date:new Date().toLocaleDateString(),location:"Event Venue",time:"10:00 AM"})},[t]);const s=()=>{const o=document.querySelector(".participant-qr-code svg");if(o)try{const c=new XMLSerializer().serializeToString(o),u=document.createElement("canvas"),d=u.getContext("2d"),f=new Image;u.width=300,u.height=400,f.onload=()=>{d&&(d.fillStyle="white",d.fillRect(0,0,300,400),d.drawImage(f,50,50,200,200),d.fillStyle="black",d.font="16px Arial",d.textAlign="center",d.fillText(t,150,280),d.font="14px Arial",d.fillText(e,150,300),d.font="12px Arial",d.fillText("Show this QR code at check-in",150,330));const h=document.createElement("a");h.download=`${e.replace(/\s+/g,"-")}-ticket.png`,h.href=u.toDataURL("image/png"),h.click()},f.src="data:image/svg+xml;base64,"+btoa(c)}catch(c){console.error("Error downloading QR code:",c),alert("Failed to download QR code. Please try again.")}};return l.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-center",children:"Event Ticket"}),l.jsx("p",{className:"text-center text-blue-100 mt-1",children:(i==null?void 0:i.title)||t})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),l.jsx("p",{className:"text-gray-600",children:r})]}),i&&l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Date"}),l.jsx("p",{className:"font-medium",children:i.date})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Time"}),l.jsx("p",{className:"font-medium",children:i.time})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-gray-600",children:"Location"}),l.jsx("p",{className:"font-medium",children:i.location})]})]})}),l.jsx("div",{className:"participant-qr-code bg-white p-4 rounded-lg border-2 border-gray-200 mb-6",children:l.jsx("div",{className:"flex justify-center",children:l.jsx(Kx,{value:n,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),l.jsx("div",{className:"text-center mb-6",children:l.jsx("p",{className:"text-gray-600 text-sm",children:"Show this QR code at the event entrance for quick check-in"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(Wl,{className:"h-4 w-4"}),l.jsx("span",{children:"Download Ticket"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:`Ticket for ${t}`,text:`Here's my ticket for ${t}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Ticket link copied to clipboard!"))},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[l.jsx(yf,{className:"h-4 w-4"}),l.jsx("span",{children:"Share"})]}),l.jsxs("button",{onClick:()=>{const o=encodeURIComponent(`Ticket for ${t}`),c=encodeURIComponent(`Hi,

Here's my ticket for ${t}.

Event Details:
- Name: ${e}
- Email: ${r}
- QR Code: ${n}

See you at the event!`);window.open(`mailto:?subject=${o}&body=${c}`)},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[l.jsx(ua,{className:"h-4 w-4"}),l.jsx("span",{children:"Email"})]})]})]}),l.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded text-xs text-gray-500 break-all",children:[l.jsx("p",{className:"font-medium mb-1",children:"QR Code:"}),l.jsx("p",{children:n})]})]})]})}function sE(){const{registrationId:t}=Mi(),{user:e,isLoading:r}=Hr(),{accessToken:n}=sr(),[i,a]=N.useState(null),[s,o]=N.useState(!0),[c,u]=N.useState(null);N.useEffect(()=>{t&&n&&d()},[t,n]);const d=async()=>{try{if(!n){u("Authentication required"),o(!1);return}if(!t){u("Missing registration ID"),o(!1);return}const h=await fetch(`/api/registrations/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!h.ok)throw new Error("Registration not found");const p=await h.json();if(p.success)a(p.data);else throw new Error(p.error||"Failed to fetch registration")}catch(h){u(h.message)}finally{o(!1)}};return r||s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your ticket..."})]})}):e?c||!i?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ticket Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:c||"The ticket you're looking for doesn't exist or you don't have permission to view it."}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Back"})]})}):e.email===i.email||e.role==="admin"||e.role==="organizer"?l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-lg mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Event Ticket"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Present this QR code at the event entrance"})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.status==="confirmed"?"bg-green-100 text-green-800":i.status==="attended"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:[i.status==="confirmed"&&" Confirmed",i.status==="attended"&&" Attended",i.status==="pending"&&" Pending",i.status==="cancelled"&&" Cancelled"]})}),l.jsx(aE,{registrationId:i.id,eventTitle:i.event.title,participantName:i.name,participantEmail:i.email,qrCode:i.qr_code}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Important Information"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Keep this QR code safe and don't share it with others"}),l.jsx("li",{children:" Arrive at the venue 15 minutes before the event starts"}),l.jsx("li",{children:" Have your QR code ready for quick check-in"}),l.jsx("li",{children:" Take a screenshot or download the ticket for offline access"}),l.jsx("li",{children:" Contact support if you have any issues"})]})]}),l.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Event Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Event:"}),l.jsx("span",{className:"font-medium",children:i.event.title})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Date:"}),l.jsx("span",{className:"font-medium",children:new Date(i.event.start_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Time:"}),l.jsx("span",{className:"font-medium",children:new Date(i.event.start_date).toLocaleTimeString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Location:"}),l.jsx("span",{className:"font-medium",children:i.event.location})]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:" Back to Events"})})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this ticket."})]})}):l.jsx(Kn,{to:"/login",replace:!0})}function oE(){const{user:t}=Hr(),[e,r]=N.useState([]),[n,i]=N.useState(!0);N.useEffect(()=>{a()},[]);const a=async()=>{var s;try{const o=localStorage.getItem("token"),c=await fetch("/api/events",{headers:{Authorization:`Bearer ${o}`}});if(c.ok){const u=await c.json();r(((s=u.data)==null?void 0:s.events)||[])}}catch(o){console.error("Error fetching events:",o)}finally{i(!1)}};return!t||t.role!=="admin"?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"Only administrators can access this page."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Manage events, staff, and system settings"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:l.jsx(Dt,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:l.jsx(Ar,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>new Date(s.start_date)>new Date).length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:l.jsx($u,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>{const o=new Date(s.start_date),c=new Date;return o.getMonth()===c.getMonth()&&o.getFullYear()===c.getFullYear()}).length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-orange-100 rounded-md",children:l.jsx(Ms,{className:"h-6 w-6 text-orange-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Online"})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage events and their staff assignments"})]}),n?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((s,o)=>l.jsx("div",{className:"h-16 bg-gray-200 rounded"},o))})}):e.length===0?l.jsxs("div",{className:"p-6 text-center text-gray-500",children:[l.jsx(Dt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{children:"No events found."})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:e.map(s=>l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.title}),l.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[l.jsxs("p",{children:[" ",new Date(s.start_date).toLocaleDateString()]}),l.jsxs("p",{children:[" ",s.location]}),l.jsxs("p",{children:[" Organizer: ",s.organizer.name]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(he,{to:`/events/${s.id}`,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"View Event"}),l.jsx(he,{to:`/events/${s.id}/check-in`,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Check-in Dashboard"})]})]})},s.id))})]}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Ar,{className:"h-8 w-8 text-blue-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Staff Management"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Staff management is available on individual event pages. Navigate to any event to add or manage staff members."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Tip: Each event can have its own staff with custom permissions."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx($u,{className:"h-8 w-8 text-green-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"View check-in analytics and event performance metrics from individual event dashboards."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Real-time check-in statistics available for each event."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Ms,{className:"h-8 w-8 text-purple-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Settings"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Configure system-wide settings, email templates, and QR code generation parameters."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Advanced settings coming soon."})]})]})]})})}const lE=()=>{const{user:t}=Hr(),[e,r]=N.useState([]),[n,i]=N.useState([]),[a,s]=N.useState(!0),[o,c]=N.useState(null),[u,d]=N.useState(""),[f,h]=N.useState(1),[p,m]=N.useState(1),[v,w]=N.useState(!0),g=async()=>{if(t)try{const S=await Oi.getUserRegistrations();S.success&&S.data&&i(S.data.registrations)}catch(S){console.error("Failed to fetch user registrations:",S)}},x=async()=>{try{s(!0),c(null);const S=await Zt.getEvents({page:f,limit:12,search:u||void 0,upcoming:v});S.success&&S.data&&(r(S.data.events),m(S.data.pagination.pages))}catch(S){c(S.message||"Failed to fetch events")}finally{s(!1)}};N.useEffect(()=>{x(),g()},[f,v,t]);const y=S=>{S.preventDefault(),h(1),x()},_=S=>n.some(O=>{var j;return((j=O.event)==null?void 0:j.id)===S&&O.status!=="cancelled"}),E=S=>n.find(O=>{var j;return((j=O.event)==null?void 0:j.id)===S&&O.status!=="cancelled"}),A=S=>{const O=new Date,j=new Date(S.start_date),H=new Date(S.end_date);return H<O?{status:"ended",color:"gray"}:j<=O&&H>=O?{status:"ongoing",color:"blue"}:j>O?{status:"upcoming",color:"green"}:{status:"unknown",color:"gray"}},I=S=>{var O;return((O=S.registrations)==null?void 0:O.length)||0};return a&&e.length===0?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Discover and register for upcoming events"})]}),l.jsxs("div",{className:"mt-4 md:mt-0 flex gap-3",children:[t&&l.jsxs(he,{to:"/my-registrations",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(vf,{className:"w-4 h-4 mr-2"}),"My Registrations"]}),t&&(t.role==="organizer"||t.role==="admin")&&l.jsxs(he,{to:"/events/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(ea,{className:"w-4 h-4 mr-2"}),"Create Event"]})]})]}),l.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[l.jsxs("form",{onSubmit:y,className:"flex-1 flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search events...",value:u,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Search"})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:S=>w(S.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Upcoming only"})]})})]})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:l.jsx("p",{className:"text-red-800",children:o})}),!a&&e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Dt,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events found"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u?"Try adjusting your search terms.":"Be the first to create an event!"}),t&&(t.role==="organizer"||t.role==="admin")&&l.jsx("div",{className:"mt-6",children:l.jsxs(he,{to:"/events/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(ea,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(S=>{var H;const O=A(S),j=I(S);return l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[S.banner_url?l.jsx("img",{src:S.banner_url,alt:S.title,className:"w-full h-48 object-cover"}):l.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:l.jsx(Dt,{className:"w-16 h-16 text-white"})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.color==="green"?"bg-green-100 text-green-800":O.color==="blue"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:O.status}),S.is_paid&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["$",S.price]})]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:S.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:S.description}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:da(S.start_date)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ji,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:new Date(S.start_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zs,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"truncate",children:S.location})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ar,{className:"w-4 h-4 mr-2"}),l.jsxs("span",{children:[j," / ",S.capacity," registered"]})]})]}),l.jsx("div",{className:"mt-6",children:t&&_(S.id)?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(he,{to:`/ticket/${(H=E(S.id))==null?void 0:H.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[l.jsx(nx,{className:"w-4 h-4 mr-2"}),"View Ticket"]}),l.jsx(he,{to:`/events/${S.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Event Details"})]}):l.jsx(he,{to:`/events/${S.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:t?"Register Now":"View Details"})})]})]},S.id)})}),p>1&&l.jsx("div",{className:"mt-8 flex justify-center",children:l.jsxs("nav",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>h(Math.max(1,f-1)),disabled:f===1,className:"px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:p},(S,O)=>O+1).map(S=>l.jsx("button",{onClick:()=>h(S),className:`px-3 py-2 text-sm font-medium rounded-md ${f===S?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:S},S)),l.jsx("button",{onClick:()=>h(Math.min(p,f+1)),disabled:f===p,className:"px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})};function cE(){const{user:t,isLoading:e}=Hr(),[r,n]=N.useState([]),[i,a]=N.useState(null),[s,o]=N.useState(!0);if(e)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!t)return l.jsx(Kn,{to:"/login",replace:!0});if(!["organizer","admin"].includes(t.role))return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the QR scanner. Only organizers and administrators can use this feature."})]})});N.useEffect(()=>{(async()=>{try{o(!0);const h=await Zt.getMyEvents();if(h.success&&h.data){const p=h.data.events.filter(m=>{const v=new Date,w=new Date(m.end_date);return v<=w&&(!m.status||m.status==="published")});n(p)}}catch(h){console.error("Failed to fetch events:",h)}finally{o(!1)}})()},[]);const c=r.find(f=>f.id===i),u=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),d=f=>new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsxs("button",{onClick:()=>a(null),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[l.jsx(Sw,{className:"h-5 w-5 mr-1"}),"Back to Events"]}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[c==null?void 0:c.title," - Check-In"]})]}),l.jsx(Pf,{eventId:i})]}):l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"QR Code Scanner"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Select an event to start scanning participant QR codes for check-in."}),r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Dt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Available Events"}),l.jsx("p",{className:"text-gray-600",children:"You don't have any active or upcoming events to scan for."})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(f=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(f.id),children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f.title}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dt,{className:"h-4 w-4 mr-2"}),u(f.start_date)," at"," ",d(f.start_date)]}),f.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zs,{className:"h-4 w-4 mr-2"}),f.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Capacity: ",f.capacity]})]}),l.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Start Scanning"})]})},f.id))})]})})}function uE(){const t=sr(e=>e.validateToken);return N.useEffect(()=>{t()},[t]),l.jsx(m3,{children:l.jsxs(b2,{children:[l.jsx(nt,{path:"/",element:l.jsx(x3,{})}),l.jsx(nt,{path:"/login",element:l.jsx(g4,{})}),l.jsx(nt,{path:"/register",element:l.jsx(w4,{})}),l.jsx(nt,{path:"/events",element:l.jsx(lE,{})}),l.jsx(nt,{path:"/dashboard",element:l.jsx(pr,{children:l.jsx(u8,{})})}),l.jsx(nt,{path:"/events/create",element:l.jsx(pr,{requireOrganizer:!0,children:l.jsx(f8,{})})}),l.jsx(nt,{path:"/events/:id",element:l.jsx(pr,{children:l.jsx(p8,{})})}),l.jsx(nt,{path:"/events/:id/form-builder",element:l.jsx(pr,{requireOrganizer:!0,children:l.jsx(Y8,{})})}),l.jsx(nt,{path:"/events/:id/registrations",element:l.jsx(pr,{requireOrganizer:!0,children:l.jsx(Q8,{})})}),l.jsx(nt,{path:"/events/:id/attendance",element:l.jsx(pr,{requireOrganizer:!0,children:l.jsx(q8,{})})}),l.jsx(nt,{path:"/events/:id/certificates",element:l.jsx(pr,{requireOrganizer:!0,children:l.jsx(rE,{})})}),l.jsx(nt,{path:"/certificate/verify",element:l.jsx(nE,{})}),l.jsx(nt,{path:"/admin",element:l.jsx(pr,{requireAdmin:!0,children:l.jsx(oE,{})})}),l.jsx(nt,{path:"/events/:eventId/check-in",element:l.jsx(pr,{children:l.jsx(iE,{})})}),l.jsx(nt,{path:"/scanner",element:l.jsx(pr,{requireOrganizer:!0,children:l.jsx(cE,{})})}),l.jsx(nt,{path:"/ticket/:registrationId",element:l.jsx(pr,{children:l.jsx(sE,{})})}),l.jsx(nt,{path:"/my-registrations",element:l.jsx(pr,{children:l.jsx(K8,{})})}),l.jsx(nt,{path:"/events/:id/register",element:l.jsx(x8,{})})]})})}Bm(document.getElementById("root")).render(l.jsx(N.StrictMode,{children:l.jsxs(T2,{children:[l.jsx(uE,{}),l.jsx(ww,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}));
