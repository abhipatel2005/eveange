var Jm=Object.defineProperty;var eg=(t,e,r)=>e in t?Jm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var jf=(t,e,r)=>(eg(t,typeof e!="symbol"?e+"":e,r),r);function tg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gh={exports:{}},gl={},xh={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=Symbol.for("react.element"),rg=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),ig=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),sg=Symbol.for("react.provider"),og=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),cg=Symbol.for("react.suspense"),ug=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),Rf=Symbol.iterator;function fg(t){return t===null||typeof t!="object"?null:(t=Rf&&t[Rf]||t["@@iterator"],typeof t=="function"?t:null)}var yh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wh=Object.assign,_h={};function wa(t,e,r){this.props=t,this.context=e,this.refs=_h,this.updater=r||yh}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Eh(){}Eh.prototype=wa.prototype;function sd(t,e,r){this.props=t,this.context=e,this.refs=_h,this.updater=r||yh}var od=sd.prototype=new Eh;od.constructor=sd;wh(od,wa.prototype);od.isPureReactComponent=!0;var Df=Array.isArray,bh=Object.prototype.hasOwnProperty,ld={current:null},Ch={key:!0,ref:!0,__self:!0,__source:!0};function Nh(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)bh.call(e,n)&&!Ch.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ps,type:t,key:a,ref:s,props:i,_owner:ld.current}}function hg(t,e){return{$$typeof:Ps,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ps}function pg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Pf=/\/+/g;function Yl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pg(""+t.key):e.toString(36)}function go(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ps:case rg:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Yl(s,0):n,Df(i)?(r="",t!=null&&(r=t.replace(Pf,"$&/")+"/"),go(i,e,r,"",function(u){return u})):i!=null&&(cd(i)&&(i=hg(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Pf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Df(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Yl(a,o);s+=go(a,e,r,l,i)}else if(l=fg(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Yl(a,o++),s+=go(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ws(t,e,r){if(t==null)return t;var n=[],i=0;return go(t,n,"","",function(a){return e.call(r,a,i++)}),n}function vg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zt={current:null},xo={transition:null},mg={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:xo,ReactCurrentOwner:ld};function Ah(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Ws,forEach:function(t,e,r){Ws(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ws(t,function(){e++}),e},toArray:function(t){return Ws(t,function(e){return e})||[]},only:function(t){if(!cd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=wa;de.Fragment=ng;de.Profiler=ag;de.PureComponent=sd;de.StrictMode=ig;de.Suspense=cg;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mg;de.act=Ah;de.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wh({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=ld.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)bh.call(e,l)&&!Ch.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ps,type:t.type,key:i,ref:a,props:n,_owner:s}};de.createContext=function(t){return t={$$typeof:og,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sg,_context:t},t.Consumer=t};de.createElement=Nh;de.createFactory=function(t){var e=Nh.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:lg,render:t}};de.isValidElement=cd;de.lazy=function(t){return{$$typeof:dg,_payload:{_status:-1,_result:t},_init:vg}};de.memo=function(t,e){return{$$typeof:ug,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=xo.transition;xo.transition={};try{t()}finally{xo.transition=e}};de.unstable_act=Ah;de.useCallback=function(t,e){return zt.current.useCallback(t,e)};de.useContext=function(t){return zt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return zt.current.useDeferredValue(t)};de.useEffect=function(t,e){return zt.current.useEffect(t,e)};de.useId=function(){return zt.current.useId()};de.useImperativeHandle=function(t,e,r){return zt.current.useImperativeHandle(t,e,r)};de.useInsertionEffect=function(t,e){return zt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return zt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return zt.current.useMemo(t,e)};de.useReducer=function(t,e,r){return zt.current.useReducer(t,e,r)};de.useRef=function(t){return zt.current.useRef(t)};de.useState=function(t){return zt.current.useState(t)};de.useSyncExternalStore=function(t,e,r){return zt.current.useSyncExternalStore(t,e,r)};de.useTransition=function(){return zt.current.useTransition()};de.version="18.3.1";xh.exports=de;var N=xh.exports;const jt=mh(N),gg=tg({__proto__:null,default:jt},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=N,yg=Symbol.for("react.element"),wg=Symbol.for("react.fragment"),_g=Object.prototype.hasOwnProperty,Eg=xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bg={key:!0,ref:!0,__self:!0,__source:!0};function Sh(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)_g.call(e,n)&&!bg.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:yg,type:t,key:a,ref:s,props:i,_owner:Eg.current}}gl.Fragment=wg;gl.jsx=Sh;gl.jsxs=Sh;gh.exports=gl;var c=gh.exports,Ih={exports:{}},or={},Th={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,re){var q=z.length;z.push(re);e:for(;0<q;){var Oe=q-1>>>1,Ge=z[Oe];if(0<i(Ge,re))z[Oe]=re,z[q]=Ge,q=Oe;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var re=z[0],q=z.pop();if(q!==re){z[0]=q;e:for(var Oe=0,Ge=z.length,nn=Ge>>>1;Oe<nn;){var ur=2*(Oe+1)-1,En=z[ur],Ar=ur+1,$r=z[Ar];if(0>i(En,q))Ar<Ge&&0>i($r,En)?(z[Oe]=$r,z[Ar]=q,Oe=Ar):(z[Oe]=En,z[ur]=q,Oe=ur);else if(Ar<Ge&&0>i($r,q))z[Oe]=$r,z[Ar]=q,Oe=Ar;else break e}}return re}function i(z,re){var q=z.sortIndex-re.sortIndex;return q!==0?q:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(z){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=z)n(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=r(u)}}function _(z){if(g=!1,y(z),!v)if(r(l)!==null)v=!0,Be(b);else{var re=r(u);re!==null&&qe(_,re.startTime-z)}}function b(z,re){v=!1,g&&(g=!1,x(S),S=-1),p=!0;var q=h;try{for(y(re),f=r(l);f!==null&&(!(f.expirationTime>re)||z&&!K());){var Oe=f.callback;if(typeof Oe=="function"){f.callback=null,h=f.priorityLevel;var Ge=Oe(f.expirationTime<=re);re=t.unstable_now(),typeof Ge=="function"?f.callback=Ge:f===r(l)&&n(l),y(re)}else n(l);f=r(l)}if(f!==null)var nn=!0;else{var ur=r(u);ur!==null&&qe(_,ur.startTime-re),nn=!1}return nn}finally{f=null,h=q,p=!1}}var A=!1,I=null,S=-1,k=5,R=-1;function K(){return!(t.unstable_now()-R<k)}function U(){if(I!==null){var z=t.unstable_now();R=z;var re=!0;try{re=I(!0,z)}finally{re?X():(A=!1,I=null)}}else A=!1}var X;if(typeof m=="function")X=function(){m(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ae=oe.port2;oe.port1.onmessage=U,X=function(){Ae.postMessage(null)}}else X=function(){w(U,0)};function Be(z){I=z,A||(A=!0,X())}function qe(z,re){S=w(function(){z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Be(b))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var re=3;break;default:re=h}var q=h;h=re;try{return z()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=h;h=z;try{return re()}finally{h=q}},t.unstable_scheduleCallback=function(z,re,q){var Oe=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Oe+q:Oe):q=Oe,z){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=q+Ge,z={id:d++,callback:re,priorityLevel:z,startTime:q,expirationTime:Ge,sortIndex:-1},q>Oe?(z.sortIndex=q,e(u,z),r(l)===null&&z===r(u)&&(g?(x(S),S=-1):g=!0,qe(_,q-Oe))):(z.sortIndex=Ge,e(l,z),v||p||(v=!0,Be(b))),z},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(z){var re=h;return function(){var q=h;h=re;try{return z.apply(this,arguments)}finally{h=q}}}})(Oh);Th.exports=Oh;var Cg=Th.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=N,ar=Cg;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kh=new Set,us={};function Oi(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(us[t]=e,t=0;t<e.length;t++)kh.add(e[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=Object.prototype.hasOwnProperty,Ag=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mf={},Lf={};function Sg(t){return Lc.call(Lf,t)?!0:Lc.call(Mf,t)?!1:Ag.test(t)?Lf[t]=!0:(Mf[t]=!0,!1)}function Ig(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tg(t,e,r,n){if(e===null||typeof e>"u"||Ig(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function dd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ud,dd);It[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ud,dd);It[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ud,dd);It[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function fd(t,e,r,n){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tg(e,r,i,n)&&(r=null),n||i===null?Sg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var yn=Ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),Fc=Symbol.for("react.profiler"),jh=Symbol.for("react.provider"),Rh=Symbol.for("react.context"),pd=Symbol.for("react.forward_ref"),Bc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),vd=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),Dh=Symbol.for("react.offscreen"),Ff=Symbol.iterator;function Sa(t){return t===null||typeof t!="object"?null:(t=Ff&&t[Ff]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Kl;function za(t){if(Kl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Kl=e&&e[1]||""}return`
`+Kl+t}var Ql=!1;function ql(t,e){if(!t||Ql)return"";Ql=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ql=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?za(t):""}function Og(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=ql(t.type,!1),t;case 11:return t=ql(t.type.render,!1),t;case 1:return t=ql(t.type,!0),t;default:return""}}function Vc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Fi:return"Portal";case Fc:return"Profiler";case hd:return"StrictMode";case Bc:return"Suspense";case Uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rh:return(t.displayName||"Context")+".Consumer";case jh:return(t._context.displayName||"Context")+".Provider";case pd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vd:return e=t.displayName||null,e!==null?e:Vc(t.type)||"Memo";case In:e=t._payload,t=t._init;try{return Vc(t(e))}catch{}}return null}function kg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vc(e);case 8:return e===hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ph(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jg(t){var e=Ph(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xs(t){t._valueTracker||(t._valueTracker=jg(t))}function Mh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ph(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Do(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zc(t,e){var r=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Bf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Jn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lh(t,e){e=e.checked,e!=null&&fd(t,"checked",e,!1)}function $c(t,e){Lh(t,e);var r=Jn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Hc(t,e.type,Jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Hc(t,e,r){(e!=="number"||Do(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $a=Array.isArray;function Ji(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Jn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(P(92));if($a(r)){if(1<r.length)throw Error(P(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Jn(r)}}function Fh(t,e){var r=Jn(e.value),n=Jn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zs,Uh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ds(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rg=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(t){Rg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qa[e]=Qa[t]})});function Vh(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Qa.hasOwnProperty(t)&&Qa[t]?(""+e).trim():e+"px"}function zh(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Vh(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Dg=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xc(t,e){if(e){if(Dg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Zc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=null;function md(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kc=null,ea=null,ta=null;function $f(t){if(t=Fs(t)){if(typeof Kc!="function")throw Error(P(280));var e=t.stateNode;e&&(e=El(e),Kc(t.stateNode,t.type,e))}}function $h(t){ea?ta?ta.push(t):ta=[t]:ea=t}function Hh(){if(ea){var t=ea,e=ta;if(ta=ea=null,$f(t),e)for(t=0;t<e.length;t++)$f(e[t])}}function Wh(t,e){return t(e)}function Gh(){}var Jl=!1;function Xh(t,e,r){if(Jl)return t(e,r);Jl=!0;try{return Wh(t,e,r)}finally{Jl=!1,(ea!==null||ta!==null)&&(Gh(),Hh())}}function fs(t,e){var r=t.stateNode;if(r===null)return null;var n=El(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(P(231,e,typeof r));return r}var Qc=!1;if(hn)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Qc=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Qc=!1}function Pg(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var qa=!1,Po=null,Mo=!1,qc=null,Mg={onError:function(t){qa=!0,Po=t}};function Lg(t,e,r,n,i,a,s,o,l){qa=!1,Po=null,Pg.apply(Mg,arguments)}function Fg(t,e,r,n,i,a,s,o,l){if(Lg.apply(this,arguments),qa){if(qa){var u=Po;qa=!1,Po=null}else throw Error(P(198));Mo||(Mo=!0,qc=u)}}function ki(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Zh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hf(t){if(ki(t)!==t)throw Error(P(188))}function Bg(t){var e=t.alternate;if(!e){if(e=ki(t),e===null)throw Error(P(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Hf(i),t;if(a===n)return Hf(i),e;a=a.sibling}throw Error(P(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?t:e}function Yh(t){return t=Bg(t),t!==null?Kh(t):null}function Kh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kh(t);if(e!==null)return e;t=t.sibling}return null}var Qh=ar.unstable_scheduleCallback,Wf=ar.unstable_cancelCallback,Ug=ar.unstable_shouldYield,Vg=ar.unstable_requestPaint,Ye=ar.unstable_now,zg=ar.unstable_getCurrentPriorityLevel,gd=ar.unstable_ImmediatePriority,qh=ar.unstable_UserBlockingPriority,Lo=ar.unstable_NormalPriority,$g=ar.unstable_LowPriority,Jh=ar.unstable_IdlePriority,xl=null,qr=null;function Hg(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:Xg,Wg=Math.log,Gg=Math.LN2;function Xg(t){return t>>>=0,t===0?32:31-(Wg(t)/Gg|0)|0}var Ys=64,Ks=4194304;function Ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Ha(o):(a&=s,a!==0&&(n=Ha(a)))}else s=r&~i,s!==0?n=Ha(s):a!==0&&(n=Ha(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Fr(e),i=1<<r,n|=t[r],e&=~i;return n}function Zg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yg(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Fr(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=Zg(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Jc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ep(){var t=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),t}function ec(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ms(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=r}function Kg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Fr(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function xd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Fr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ne=0;function tp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rp,yd,np,ip,ap,eu=!1,Qs=[],Un=null,Vn=null,zn=null,hs=new Map,ps=new Map,jn=[],Qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gf(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":hs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(e.pointerId)}}function Ta(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Fs(e),e!==null&&yd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qg(t,e,r,n,i){switch(e){case"focusin":return Un=Ta(Un,t,e,r,n,i),!0;case"dragenter":return Vn=Ta(Vn,t,e,r,n,i),!0;case"mouseover":return zn=Ta(zn,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return hs.set(a,Ta(hs.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ps.set(a,Ta(ps.get(a)||null,t,e,r,n,i)),!0}return!1}function sp(t){var e=vi(t.target);if(e!==null){var r=ki(e);if(r!==null){if(e=r.tag,e===13){if(e=Zh(r),e!==null){t.blockedOn=e,ap(t.priority,function(){np(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Yc=n,r.target.dispatchEvent(n),Yc=null}else return e=Fs(r),e!==null&&yd(e),t.blockedOn=r,!1;e.shift()}return!0}function Xf(t,e,r){yo(t)&&r.delete(e)}function Jg(){eu=!1,Un!==null&&yo(Un)&&(Un=null),Vn!==null&&yo(Vn)&&(Vn=null),zn!==null&&yo(zn)&&(zn=null),hs.forEach(Xf),ps.forEach(Xf)}function Oa(t,e){t.blockedOn===e&&(t.blockedOn=null,eu||(eu=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,Jg)))}function vs(t){function e(i){return Oa(i,t)}if(0<Qs.length){Oa(Qs[0],t);for(var r=1;r<Qs.length;r++){var n=Qs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Un!==null&&Oa(Un,t),Vn!==null&&Oa(Vn,t),zn!==null&&Oa(zn,t),hs.forEach(e),ps.forEach(e),r=0;r<jn.length;r++)n=jn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<jn.length&&(r=jn[0],r.blockedOn===null);)sp(r),r.blockedOn===null&&jn.shift()}var ra=yn.ReactCurrentBatchConfig,Bo=!0;function ex(t,e,r,n){var i=Ne,a=ra.transition;ra.transition=null;try{Ne=1,wd(t,e,r,n)}finally{Ne=i,ra.transition=a}}function tx(t,e,r,n){var i=Ne,a=ra.transition;ra.transition=null;try{Ne=4,wd(t,e,r,n)}finally{Ne=i,ra.transition=a}}function wd(t,e,r,n){if(Bo){var i=tu(t,e,r,n);if(i===null)uc(t,e,n,Uo,r),Gf(t,n);else if(qg(i,t,e,r,n))n.stopPropagation();else if(Gf(t,n),e&4&&-1<Qg.indexOf(t)){for(;i!==null;){var a=Fs(i);if(a!==null&&rp(a),a=tu(t,e,r,n),a===null&&uc(t,e,n,Uo,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else uc(t,e,n,null,r)}}var Uo=null;function tu(t,e,r,n){if(Uo=null,t=md(n),t=vi(t),t!==null)if(e=ki(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Zh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uo=t,null}function op(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case gd:return 1;case qh:return 4;case Lo:case $g:return 16;case Jh:return 536870912;default:return 16}default:return 16}}var Mn=null,_d=null,wo=null;function lp(){if(wo)return wo;var t,e=_d,r=e.length,n,i="value"in Mn?Mn.value:Mn.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return wo=i.slice(t,1<n?1-n:void 0)}function _o(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qs(){return!0}function Zf(){return!1}function lr(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qs:Zf,this.isPropagationStopped=Zf,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ed=lr(_a),Ls=We({},_a,{view:0,detail:0}),rx=lr(Ls),tc,rc,ka,yl=We({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ka&&(ka&&t.type==="mousemove"?(tc=t.screenX-ka.screenX,rc=t.screenY-ka.screenY):rc=tc=0,ka=t),tc)},movementY:function(t){return"movementY"in t?t.movementY:rc}}),Yf=lr(yl),nx=We({},yl,{dataTransfer:0}),ix=lr(nx),ax=We({},Ls,{relatedTarget:0}),nc=lr(ax),sx=We({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),ox=lr(sx),lx=We({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cx=lr(lx),ux=We({},_a,{data:0}),Kf=lr(ux),dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function px(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hx[t])?!!e[t]:!1}function bd(){return px}var vx=We({},Ls,{key:function(t){if(t.key){var e=dx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_o(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(t){return t.type==="keypress"?_o(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_o(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mx=lr(vx),gx=We({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=lr(gx),xx=We({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),yx=lr(xx),wx=We({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),_x=lr(wx),Ex=We({},yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=lr(Ex),Cx=[9,13,27,32],Cd=hn&&"CompositionEvent"in window,Ja=null;hn&&"documentMode"in document&&(Ja=document.documentMode);var Nx=hn&&"TextEvent"in window&&!Ja,cp=hn&&(!Cd||Ja&&8<Ja&&11>=Ja),qf=String.fromCharCode(32),Jf=!1;function up(t,e){switch(t){case"keyup":return Cx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function Ax(t,e){switch(t){case"compositionend":return dp(e);case"keypress":return e.which!==32?null:(Jf=!0,qf);case"textInput":return t=e.data,t===qf&&Jf?null:t;default:return null}}function Sx(t,e){if(Ui)return t==="compositionend"||!Cd&&up(t,e)?(t=lp(),wo=_d=Mn=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cp&&e.locale!=="ko"?null:e.data;default:return null}}var Ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ix[t.type]:e==="textarea"}function fp(t,e,r,n){$h(n),e=Vo(e,"onChange"),0<e.length&&(r=new Ed("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var es=null,ms=null;function Tx(t){bp(t,0)}function wl(t){var e=$i(t);if(Mh(e))return t}function Ox(t,e){if(t==="change")return e}var hp=!1;if(hn){var ic;if(hn){var ac="oninput"in document;if(!ac){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),ac=typeof t0.oninput=="function"}ic=ac}else ic=!1;hp=ic&&(!document.documentMode||9<document.documentMode)}function r0(){es&&(es.detachEvent("onpropertychange",pp),ms=es=null)}function pp(t){if(t.propertyName==="value"&&wl(ms)){var e=[];fp(e,ms,t,md(t)),Xh(Tx,e)}}function kx(t,e,r){t==="focusin"?(r0(),es=e,ms=r,es.attachEvent("onpropertychange",pp)):t==="focusout"&&r0()}function jx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wl(ms)}function Rx(t,e){if(t==="click")return wl(e)}function Dx(t,e){if(t==="input"||t==="change")return wl(e)}function Px(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:Px;function gs(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Lc.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function n0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i0(t,e){var r=n0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n0(r)}}function vp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mp(){for(var t=window,e=Do();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Do(t.document)}return e}function Nd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mx(t){var e=mp(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&vp(r.ownerDocument.documentElement,r)){if(n!==null&&Nd(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=i0(r,a);var s=i0(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lx=hn&&"documentMode"in document&&11>=document.documentMode,Vi=null,ru=null,ts=null,nu=!1;function a0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Vi==null||Vi!==Do(n)||(n=Vi,"selectionStart"in n&&Nd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ts&&gs(ts,n)||(ts=n,n=Vo(ru,"onSelect"),0<n.length&&(e=new Ed("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Vi)))}function Js(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zi={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},sc={},gp={};hn&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function _l(t){if(sc[t])return sc[t];if(!zi[t])return t;var e=zi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gp)return sc[t]=e[r];return t}var xp=_l("animationend"),yp=_l("animationiteration"),wp=_l("animationstart"),_p=_l("transitionend"),Ep=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){Ep.set(t,e),Oi(e,[t])}for(var oc=0;oc<s0.length;oc++){var lc=s0[oc],Fx=lc.toLowerCase(),Bx=lc[0].toUpperCase()+lc.slice(1);ni(Fx,"on"+Bx)}ni(xp,"onAnimationEnd");ni(yp,"onAnimationIteration");ni(wp,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(_p,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function o0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Fg(n,e,void 0,t),t.currentTarget=null}function bp(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;o0(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;o0(i,o,u),a=l}}}if(Mo)throw t=qc,Mo=!1,qc=null,t}function De(t,e){var r=e[lu];r===void 0&&(r=e[lu]=new Set);var n=t+"__bubble";r.has(n)||(Cp(e,t,2,!1),r.add(n))}function cc(t,e,r){var n=0;e&&(n|=4),Cp(r,t,n,e)}var eo="_reactListening"+Math.random().toString(36).slice(2);function xs(t){if(!t[eo]){t[eo]=!0,kh.forEach(function(r){r!=="selectionchange"&&(Ux.has(r)||cc(r,!1,t),cc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eo]||(e[eo]=!0,cc("selectionchange",!1,e))}}function Cp(t,e,r,n){switch(op(e)){case 1:var i=ex;break;case 4:i=tx;break;default:i=wd}r=i.bind(null,e,r,t),i=void 0,!Qc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function uc(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=vi(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}Xh(function(){var u=a,d=md(r),f=[];e:{var h=Ep.get(t);if(h!==void 0){var p=Ed,v=t;switch(t){case"keypress":if(_o(r)===0)break e;case"keydown":case"keyup":p=mx;break;case"focusin":v="focus",p=nc;break;case"focusout":v="blur",p=nc;break;case"beforeblur":case"afterblur":p=nc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yx;break;case xp:case yp:case wp:p=ox;break;case _p:p=_x;break;case"scroll":p=rx;break;case"wheel":p=bx;break;case"copy":case"cut":case"paste":p=cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Qf}var g=(e&4)!==0,w=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=fs(m,x),_!=null&&g.push(ys(m,_,y)))),w)break;m=m.return}0<g.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==Yc&&(v=r.relatedTarget||r.fromElement)&&(vi(v)||v[pn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?vi(v):null,v!==null&&(w=ki(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=Yf,_="onMouseLeave",x="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Qf,_="onPointerLeave",x="onPointerEnter",m="pointer"),w=p==null?h:$i(p),y=v==null?h:$i(v),h=new g(_,m+"leave",p,r,d),h.target=w,h.relatedTarget=y,_=null,vi(d)===u&&(g=new g(x,m+"enter",v,r,d),g.target=y,g.relatedTarget=w,_=g),w=_,p&&v)t:{for(g=p,x=v,m=0,y=g;y;y=Ri(y))m++;for(y=0,_=x;_;_=Ri(_))y++;for(;0<m-y;)g=Ri(g),m--;for(;0<y-m;)x=Ri(x),y--;for(;m--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ri(g),x=Ri(x)}g=null}else g=null;p!==null&&l0(f,h,p,g,!1),v!==null&&w!==null&&l0(f,w,v,g,!0)}}e:{if(h=u?$i(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=Ox;else if(e0(h))if(hp)b=Dx;else{b=jx;var A=kx}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Rx);if(b&&(b=b(t,u))){fp(f,b,r,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Hc(h,"number",h.value)}switch(A=u?$i(u):window,t){case"focusin":(e0(A)||A.contentEditable==="true")&&(Vi=A,ru=u,ts=null);break;case"focusout":ts=ru=Vi=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,a0(f,r,d);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":a0(f,r,d)}var I;if(Cd)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ui?up(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(cp&&r.locale!=="ko"&&(Ui||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ui&&(I=lp()):(Mn=d,_d="value"in Mn?Mn.value:Mn.textContent,Ui=!0)),A=Vo(u,S),0<A.length&&(S=new Kf(S,t,null,r,d),f.push({event:S,listeners:A}),I?S.data=I:(I=dp(r),I!==null&&(S.data=I)))),(I=Nx?Ax(t,r):Sx(t,r))&&(u=Vo(u,"onBeforeInput"),0<u.length&&(d=new Kf("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=I))}bp(f,e)})}function ys(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Vo(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fs(t,r),a!=null&&n.unshift(ys(t,a,i)),a=fs(t,e),a!=null&&n.push(ys(t,a,i))),t=t.return}return n}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l0(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=fs(r,a),l!=null&&s.unshift(ys(r,l,o))):i||(l=fs(r,a),l!=null&&s.push(ys(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Vx=/\r\n?/g,zx=/\u0000|\uFFFD/g;function c0(t){return(typeof t=="string"?t:""+t).replace(Vx,`
`).replace(zx,"")}function to(t,e,r){if(e=c0(e),c0(t)!==e&&r)throw Error(P(425))}function zo(){}var iu=null,au=null;function su(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,$x=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(t){return u0.resolve(null).then(t).catch(Wx)}:ou;function Wx(t){setTimeout(function(){throw t})}function dc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),vs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);vs(e)}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Ea,ws="__reactProps$"+Ea,pn="__reactContainer$"+Ea,lu="__reactEvents$"+Ea,Gx="__reactListeners$"+Ea,Xx="__reactHandles$"+Ea;function vi(t){var e=t[Xr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pn]||r[Xr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=d0(t);t!==null;){if(r=t[Xr])return r;t=d0(t)}return e}t=r,r=t.parentNode}return null}function Fs(t){return t=t[Xr]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function El(t){return t[ws]||null}var cu=[],Hi=-1;function ii(t){return{current:t}}function Fe(t){0>Hi||(t.current=cu[Hi],cu[Hi]=null,Hi--)}function je(t,e){Hi++,cu[Hi]=t.current,t.current=e}var ei={},Dt=ii(ei),Yt=ii(!1),bi=ei;function oa(t,e){var r=t.type.contextTypes;if(!r)return ei;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function $o(){Fe(Yt),Fe(Dt)}function f0(t,e,r){if(Dt.current!==ei)throw Error(P(168));je(Dt,e),je(Yt,r)}function Np(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(P(108,kg(t)||"Unknown",i));return We({},r,n)}function Ho(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,bi=Dt.current,je(Dt,t),je(Yt,Yt.current),!0}function h0(t,e,r){var n=t.stateNode;if(!n)throw Error(P(169));r?(t=Np(t,e,bi),n.__reactInternalMemoizedMergedChildContext=t,Fe(Yt),Fe(Dt),je(Dt,t)):Fe(Yt),je(Yt,r)}var cn=null,bl=!1,fc=!1;function Ap(t){cn===null?cn=[t]:cn.push(t)}function Zx(t){bl=!0,Ap(t)}function ai(){if(!fc&&cn!==null){fc=!0;var t=0,e=Ne;try{var r=cn;for(Ne=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}cn=null,bl=!1}catch(i){throw cn!==null&&(cn=cn.slice(t+1)),Qh(gd,ai),i}finally{Ne=e,fc=!1}}return null}var Wi=[],Gi=0,Wo=null,Go=0,gr=[],xr=0,Ci=null,un=1,dn="";function fi(t,e){Wi[Gi++]=Go,Wi[Gi++]=Wo,Wo=t,Go=e}function Sp(t,e,r){gr[xr++]=un,gr[xr++]=dn,gr[xr++]=Ci,Ci=t;var n=un;t=dn;var i=32-Fr(n)-1;n&=~(1<<i),r+=1;var a=32-Fr(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,un=1<<32-Fr(e)+i|r<<i|n,dn=a+t}else un=1<<a|r<<i|n,dn=t}function Ad(t){t.return!==null&&(fi(t,1),Sp(t,1,0))}function Sd(t){for(;t===Wo;)Wo=Wi[--Gi],Wi[Gi]=null,Go=Wi[--Gi],Wi[Gi]=null;for(;t===Ci;)Ci=gr[--xr],gr[xr]=null,dn=gr[--xr],gr[xr]=null,un=gr[--xr],gr[xr]=null}var ir=null,nr=null,Ve=!1,jr=null;function Ip(t,e){var r=yr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function p0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,nr=$n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ci!==null?{id:un,overflow:dn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=yr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ir=t,nr=null,!0):!1;default:return!1}}function uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function du(t){if(Ve){var e=nr;if(e){var r=e;if(!p0(t,e)){if(uu(t))throw Error(P(418));e=$n(r.nextSibling);var n=ir;e&&p0(t,e)?Ip(n,r):(t.flags=t.flags&-4097|2,Ve=!1,ir=t)}}else{if(uu(t))throw Error(P(418));t.flags=t.flags&-4097|2,Ve=!1,ir=t}}}function v0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function ro(t){if(t!==ir)return!1;if(!Ve)return v0(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!su(t.type,t.memoizedProps)),e&&(e=nr)){if(uu(t))throw Tp(),Error(P(418));for(;e;)Ip(t,e),e=$n(e.nextSibling)}if(v0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){nr=$n(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}nr=null}}else nr=ir?$n(t.stateNode.nextSibling):null;return!0}function Tp(){for(var t=nr;t;)t=$n(t.nextSibling)}function la(){nr=ir=null,Ve=!1}function Id(t){jr===null?jr=[t]:jr.push(t)}var Yx=yn.ReactCurrentBatchConfig;function ja(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,t))}return t}function no(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m0(t){var e=t._init;return e(t._payload)}function Op(t){function e(x,m){if(t){var y=x.deletions;y===null?(x.deletions=[m],x.flags|=16):y.push(m)}}function r(x,m){if(!t)return null;for(;m!==null;)e(x,m),m=m.sibling;return null}function n(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function i(x,m){return x=Xn(x,m),x.index=0,x.sibling=null,x}function a(x,m,y){return x.index=y,t?(y=x.alternate,y!==null?(y=y.index,y<m?(x.flags|=2,m):y):(x.flags|=2,m)):(x.flags|=1048576,m)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,m,y,_){return m===null||m.tag!==6?(m=yc(y,x.mode,_),m.return=x,m):(m=i(m,y),m.return=x,m)}function l(x,m,y,_){var b=y.type;return b===Bi?d(x,m,y.props.children,_,y.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===In&&m0(b)===m.type)?(_=i(m,y.props),_.ref=ja(x,m,y),_.return=x,_):(_=Io(y.type,y.key,y.props,null,x.mode,_),_.ref=ja(x,m,y),_.return=x,_)}function u(x,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=wc(y,x.mode,_),m.return=x,m):(m=i(m,y.children||[]),m.return=x,m)}function d(x,m,y,_,b){return m===null||m.tag!==7?(m=_i(y,x.mode,_,b),m.return=x,m):(m=i(m,y),m.return=x,m)}function f(x,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yc(""+m,x.mode,y),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gs:return y=Io(m.type,m.key,m.props,null,x.mode,y),y.ref=ja(x,null,m),y.return=x,y;case Fi:return m=wc(m,x.mode,y),m.return=x,m;case In:var _=m._init;return f(x,_(m._payload),y)}if($a(m)||Sa(m))return m=_i(m,x.mode,y,null),m.return=x,m;no(x,m)}return null}function h(x,m,y,_){var b=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:o(x,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gs:return y.key===b?l(x,m,y,_):null;case Fi:return y.key===b?u(x,m,y,_):null;case In:return b=y._init,h(x,m,b(y._payload),_)}if($a(y)||Sa(y))return b!==null?null:d(x,m,y,_,null);no(x,y)}return null}function p(x,m,y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,o(m,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gs:return x=x.get(_.key===null?y:_.key)||null,l(m,x,_,b);case Fi:return x=x.get(_.key===null?y:_.key)||null,u(m,x,_,b);case In:var A=_._init;return p(x,m,y,A(_._payload),b)}if($a(_)||Sa(_))return x=x.get(y)||null,d(m,x,_,b,null);no(m,_)}return null}function v(x,m,y,_){for(var b=null,A=null,I=m,S=m=0,k=null;I!==null&&S<y.length;S++){I.index>S?(k=I,I=null):k=I.sibling;var R=h(x,I,y[S],_);if(R===null){I===null&&(I=k);break}t&&I&&R.alternate===null&&e(x,I),m=a(R,m,S),A===null?b=R:A.sibling=R,A=R,I=k}if(S===y.length)return r(x,I),Ve&&fi(x,S),b;if(I===null){for(;S<y.length;S++)I=f(x,y[S],_),I!==null&&(m=a(I,m,S),A===null?b=I:A.sibling=I,A=I);return Ve&&fi(x,S),b}for(I=n(x,I);S<y.length;S++)k=p(I,x,S,y[S],_),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),m=a(k,m,S),A===null?b=k:A.sibling=k,A=k);return t&&I.forEach(function(K){return e(x,K)}),Ve&&fi(x,S),b}function g(x,m,y,_){var b=Sa(y);if(typeof b!="function")throw Error(P(150));if(y=b.call(y),y==null)throw Error(P(151));for(var A=b=null,I=m,S=m=0,k=null,R=y.next();I!==null&&!R.done;S++,R=y.next()){I.index>S?(k=I,I=null):k=I.sibling;var K=h(x,I,R.value,_);if(K===null){I===null&&(I=k);break}t&&I&&K.alternate===null&&e(x,I),m=a(K,m,S),A===null?b=K:A.sibling=K,A=K,I=k}if(R.done)return r(x,I),Ve&&fi(x,S),b;if(I===null){for(;!R.done;S++,R=y.next())R=f(x,R.value,_),R!==null&&(m=a(R,m,S),A===null?b=R:A.sibling=R,A=R);return Ve&&fi(x,S),b}for(I=n(x,I);!R.done;S++,R=y.next())R=p(I,x,S,R.value,_),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?S:R.key),m=a(R,m,S),A===null?b=R:A.sibling=R,A=R);return t&&I.forEach(function(U){return e(x,U)}),Ve&&fi(x,S),b}function w(x,m,y,_){if(typeof y=="object"&&y!==null&&y.type===Bi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gs:e:{for(var b=y.key,A=m;A!==null;){if(A.key===b){if(b=y.type,b===Bi){if(A.tag===7){r(x,A.sibling),m=i(A,y.props.children),m.return=x,x=m;break e}}else if(A.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===In&&m0(b)===A.type){r(x,A.sibling),m=i(A,y.props),m.ref=ja(x,A,y),m.return=x,x=m;break e}r(x,A);break}else e(x,A);A=A.sibling}y.type===Bi?(m=_i(y.props.children,x.mode,_,y.key),m.return=x,x=m):(_=Io(y.type,y.key,y.props,null,x.mode,_),_.ref=ja(x,m,y),_.return=x,x=_)}return s(x);case Fi:e:{for(A=y.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(x,m.sibling),m=i(m,y.children||[]),m.return=x,x=m;break e}else{r(x,m);break}else e(x,m);m=m.sibling}m=wc(y,x.mode,_),m.return=x,x=m}return s(x);case In:return A=y._init,w(x,m,A(y._payload),_)}if($a(y))return v(x,m,y,_);if(Sa(y))return g(x,m,y,_);no(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(x,m.sibling),m=i(m,y),m.return=x,x=m):(r(x,m),m=yc(y,x.mode,_),m.return=x,x=m),s(x)):r(x,m)}return w}var ca=Op(!0),kp=Op(!1),Xo=ii(null),Zo=null,Xi=null,Td=null;function Od(){Td=Xi=Zo=null}function kd(t){var e=Xo.current;Fe(Xo),t._currentValue=e}function fu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function na(t,e){Zo=t,Td=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(Td!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(Zo===null)throw Error(P(308));Xi=t,Zo.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var mi=null;function jd(t){mi===null?mi=[t]:mi.push(t)}function jp(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,jd(e)):(r.next=i.next,i.next=r),e.interleaved=r,vn(t,n)}function vn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Tn=!1;function Rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,vn(t,r)}return i=n.interleaved,i===null?(e.next=e,jd(n)):(e.next=i.next,i.next=e),n.interleaved=e,vn(t,r)}function Eo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xd(t,r)}}function g0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Yo(t,e,r,n){var i=t.updateQueue;Tn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,g=o;switch(h=e,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=We({},f,h);break e;case 2:Tn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ai|=s,t.lanes=s,t.memoizedState=f}}function x0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(P(191,i));i.call(n)}}}var Bs={},Jr=ii(Bs),_s=ii(Bs),Es=ii(Bs);function gi(t){if(t===Bs)throw Error(P(174));return t}function Dd(t,e){switch(je(Es,e),je(_s,t),je(Jr,Bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gc(e,t)}Fe(Jr),je(Jr,e)}function ua(){Fe(Jr),Fe(_s),Fe(Es)}function Dp(t){gi(Es.current);var e=gi(Jr.current),r=Gc(e,t.type);e!==r&&(je(_s,t),je(Jr,r))}function Pd(t){_s.current===t&&(Fe(Jr),Fe(_s))}var ze=ii(0);function Ko(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hc=[];function Md(){for(var t=0;t<hc.length;t++)hc[t]._workInProgressVersionPrimary=null;hc.length=0}var bo=yn.ReactCurrentDispatcher,pc=yn.ReactCurrentBatchConfig,Ni=0,He=null,at=null,mt=null,Qo=!1,rs=!1,bs=0,Kx=0;function Tt(){throw Error(P(321))}function Ld(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ur(t[r],e[r]))return!1;return!0}function Fd(t,e,r,n,i,a){if(Ni=a,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bo.current=t===null||t.memoizedState===null?ey:ty,t=r(n,i),rs){a=0;do{if(rs=!1,bs=0,25<=a)throw Error(P(301));a+=1,mt=at=null,e.updateQueue=null,bo.current=ry,t=r(n,i)}while(rs)}if(bo.current=qo,e=at!==null&&at.next!==null,Ni=0,mt=at=He=null,Qo=!1,e)throw Error(P(300));return t}function Bd(){var t=bs!==0;return bs=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?He.memoizedState=mt=t:mt=mt.next=t,mt}function Cr(){if(at===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=mt===null?He.memoizedState:mt.next;if(e!==null)mt=e,at=t;else{if(t===null)throw Error(P(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},mt===null?He.memoizedState=mt=t:mt=mt.next=t}return mt}function Cs(t,e){return typeof e=="function"?e(t):e}function vc(t){var e=Cr(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=at,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Ni&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,He.lanes|=d,Ai|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,Ur(n,e.memoizedState)||(Zt=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,He.lanes|=a,Ai|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function mc(t){var e=Cr(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ur(a,e.memoizedState)||(Zt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Pp(){}function Mp(t,e){var r=He,n=Cr(),i=e(),a=!Ur(n.memoizedState,i);if(a&&(n.memoizedState=i,Zt=!0),n=n.queue,Ud(Bp.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||mt!==null&&mt.memoizedState.tag&1){if(r.flags|=2048,Ns(9,Fp.bind(null,r,n,i,e),void 0,null),yt===null)throw Error(P(349));Ni&30||Lp(r,e,i)}return i}function Lp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Fp(t,e,r,n){e.value=r,e.getSnapshot=n,Up(e)&&Vp(t)}function Bp(t,e,r){return r(function(){Up(e)&&Vp(t)})}function Up(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ur(t,r)}catch{return!0}}function Vp(t){var e=vn(t,1);e!==null&&Br(e,t,1,-1)}function y0(t){var e=Wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:t},e.queue=t,t=t.dispatch=Jx.bind(null,He,t),[e.memoizedState,t]}function Ns(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function zp(){return Cr().memoizedState}function Co(t,e,r,n){var i=Wr();He.flags|=t,i.memoizedState=Ns(1|e,r,void 0,n===void 0?null:n)}function Cl(t,e,r,n){var i=Cr();n=n===void 0?null:n;var a=void 0;if(at!==null){var s=at.memoizedState;if(a=s.destroy,n!==null&&Ld(n,s.deps)){i.memoizedState=Ns(e,r,a,n);return}}He.flags|=t,i.memoizedState=Ns(1|e,r,a,n)}function w0(t,e){return Co(8390656,8,t,e)}function Ud(t,e){return Cl(2048,8,t,e)}function $p(t,e){return Cl(4,2,t,e)}function Hp(t,e){return Cl(4,4,t,e)}function Wp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gp(t,e,r){return r=r!=null?r.concat([t]):null,Cl(4,4,Wp.bind(null,e,t),r)}function Vd(){}function Xp(t,e){var r=Cr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ld(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Zp(t,e){var r=Cr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ld(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Yp(t,e,r){return Ni&21?(Ur(r,e)||(r=ep(),He.lanes|=r,Ai|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=r)}function Qx(t,e){var r=Ne;Ne=r!==0&&4>r?r:4,t(!0);var n=pc.transition;pc.transition={};try{t(!1),e()}finally{Ne=r,pc.transition=n}}function Kp(){return Cr().memoizedState}function qx(t,e,r){var n=Gn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qp(t))qp(e,r);else if(r=jp(t,e,r,n),r!==null){var i=Vt();Br(r,t,n,i),Jp(r,e,n)}}function Jx(t,e,r){var n=Gn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qp(t))qp(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ur(o,s)){var l=e.interleaved;l===null?(i.next=i,jd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=jp(t,e,i,n),r!==null&&(i=Vt(),Br(r,t,n,i),Jp(r,e,n))}}function Qp(t){var e=t.alternate;return t===He||e!==null&&e===He}function qp(t,e){rs=Qo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Jp(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xd(t,r)}}var qo={readContext:br,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},ey={readContext:br,useCallback:function(t,e){return Wr().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:w0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Co(4194308,4,Wp.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Co(4194308,4,t,e)},useInsertionEffect:function(t,e){return Co(4,2,t,e)},useMemo:function(t,e){var r=Wr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=qx.bind(null,He,t),[n.memoizedState,t]},useRef:function(t){var e=Wr();return t={current:t},e.memoizedState=t},useState:y0,useDebugValue:Vd,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=y0(!1),e=t[0];return t=Qx.bind(null,t[1]),Wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=He,i=Wr();if(Ve){if(r===void 0)throw Error(P(407));r=r()}else{if(r=e(),yt===null)throw Error(P(349));Ni&30||Lp(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,w0(Bp.bind(null,n,a,t),[t]),n.flags|=2048,Ns(9,Fp.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Wr(),e=yt.identifierPrefix;if(Ve){var r=dn,n=un;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=bs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Kx++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ty={readContext:br,useCallback:Xp,useContext:br,useEffect:Ud,useImperativeHandle:Gp,useInsertionEffect:$p,useLayoutEffect:Hp,useMemo:Zp,useReducer:vc,useRef:zp,useState:function(){return vc(Cs)},useDebugValue:Vd,useDeferredValue:function(t){var e=Cr();return Yp(e,at.memoizedState,t)},useTransition:function(){var t=vc(Cs)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:Pp,useSyncExternalStore:Mp,useId:Kp,unstable_isNewReconciler:!1},ry={readContext:br,useCallback:Xp,useContext:br,useEffect:Ud,useImperativeHandle:Gp,useInsertionEffect:$p,useLayoutEffect:Hp,useMemo:Zp,useReducer:mc,useRef:zp,useState:function(){return mc(Cs)},useDebugValue:Vd,useDeferredValue:function(t){var e=Cr();return at===null?e.memoizedState=t:Yp(e,at.memoizedState,t)},useTransition:function(){var t=mc(Cs)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:Pp,useSyncExternalStore:Mp,useId:Kp,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function hu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:We({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nl={isMounted:function(t){return(t=t._reactInternals)?ki(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vt(),i=Gn(t),a=fn(n,i);a.payload=e,r!=null&&(a.callback=r),e=Hn(t,a,i),e!==null&&(Br(e,t,i,n),Eo(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vt(),i=Gn(t),a=fn(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Hn(t,a,i),e!==null&&(Br(e,t,i,n),Eo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vt(),n=Gn(t),i=fn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Hn(t,i,n),e!==null&&(Br(e,t,n,r),Eo(e,t,n))}};function _0(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!gs(r,n)||!gs(i,a):!0}function ev(t,e,r){var n=!1,i=ei,a=e.contextType;return typeof a=="object"&&a!==null?a=br(a):(i=Kt(e)?bi:Dt.current,n=e.contextTypes,a=(n=n!=null)?oa(t,i):ei),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function E0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Nl.enqueueReplaceState(e,e.state,null)}function pu(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Rd(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=br(a):(a=Kt(e)?bi:Dt.current,i.context=oa(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(hu(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nl.enqueueReplaceState(i,i.state,null),Yo(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e){try{var r="",n=e;do r+=Og(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function gc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function vu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ny=typeof WeakMap=="function"?WeakMap:Map;function tv(t,e,r){r=fn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){el||(el=!0,Nu=n),vu(t,e)},r}function rv(t,e,r){r=fn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){vu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){vu(t,e),typeof n!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function b0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ny;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=gy.bind(null,t,e,r),e.then(t,t))}function C0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N0(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fn(-1,1),e.tag=2,Hn(r,e,1))),r.lanes|=1),t)}var iy=yn.ReactCurrentOwner,Zt=!1;function Bt(t,e,r,n){e.child=t===null?kp(e,null,r,n):ca(e,t.child,r,n)}function A0(t,e,r,n,i){r=r.render;var a=e.ref;return na(e,i),n=Fd(t,e,r,n,a,i),r=Bd(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mn(t,e,i)):(Ve&&r&&Ad(e),e.flags|=1,Bt(t,e,n,i),e.child)}function S0(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Yd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,nv(t,e,a,n,i)):(t=Io(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:gs,r(s,n)&&t.ref===e.ref)return mn(t,e,i)}return e.flags|=1,t=Xn(a,n),t.ref=e.ref,t.return=e,e.child=t}function nv(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(gs(a,n)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,mn(t,e,i)}return mu(t,e,r,n,i)}function iv(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Yi,er),er|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Yi,er),er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,je(Yi,er),er|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,je(Yi,er),er|=n;return Bt(t,e,i,r),e.child}function av(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mu(t,e,r,n,i){var a=Kt(r)?bi:Dt.current;return a=oa(e,a),na(e,i),r=Fd(t,e,r,n,a,i),n=Bd(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mn(t,e,i)):(Ve&&n&&Ad(e),e.flags|=1,Bt(t,e,r,i),e.child)}function I0(t,e,r,n,i){if(Kt(r)){var a=!0;Ho(e)}else a=!1;if(na(e,i),e.stateNode===null)No(t,e),ev(e,r,n),pu(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=br(u):(u=Kt(r)?bi:Dt.current,u=oa(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&E0(e,s,n,u),Tn=!1;var h=e.memoizedState;s.state=h,Yo(e,n,s,i),l=e.memoizedState,o!==n||h!==l||Yt.current||Tn?(typeof d=="function"&&(hu(e,r,d,n),l=e.memoizedState),(o=Tn||_0(e,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Rp(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Or(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=br(l):(l=Kt(r)?bi:Dt.current,l=oa(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&E0(e,s,n,l),Tn=!1,h=e.memoizedState,s.state=h,Yo(e,n,s,i);var v=e.memoizedState;o!==f||h!==v||Yt.current||Tn?(typeof p=="function"&&(hu(e,r,p,n),v=e.memoizedState),(u=Tn||_0(e,r,u,n,h,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return gu(t,e,r,n,a,i)}function gu(t,e,r,n,i,a){av(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&h0(e,r,!1),mn(t,e,a);n=e.stateNode,iy.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=ca(e,t.child,null,a),e.child=ca(e,null,o,a)):Bt(t,e,o,a),e.memoizedState=n.state,i&&h0(e,r,!0),e.child}function sv(t){var e=t.stateNode;e.pendingContext?f0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f0(t,e.context,!1),Dd(t,e.containerInfo)}function T0(t,e,r,n,i){return la(),Id(i),e.flags|=256,Bt(t,e,r,n),e.child}var xu={dehydrated:null,treeContext:null,retryLane:0};function yu(t){return{baseLanes:t,cachePool:null,transitions:null}}function ov(t,e,r){var n=e.pendingProps,i=ze.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(ze,i&1),t===null)return du(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Il(s,n,0,null),t=_i(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=yu(r),e.memoizedState=xu,t):zd(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ay(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Xn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Xn(o,a):(a=_i(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?yu(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=xu,n}return a=t.child,t=a.sibling,n=Xn(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zd(t,e){return e=Il({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function io(t,e,r,n){return n!==null&&Id(n),ca(e,t.child,null,r),t=zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ay(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=gc(Error(P(422))),io(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Il({mode:"visible",children:n.children},i,0,null),a=_i(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ca(e,t.child,null,s),e.child.memoizedState=yu(s),e.memoizedState=xu,a);if(!(e.mode&1))return io(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(P(419)),n=gc(a,n,void 0),io(t,e,s,n)}if(o=(s&t.childLanes)!==0,Zt||o){if(n=yt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vn(t,i),Br(n,t,i,-1))}return Zd(),n=gc(Error(P(421))),io(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xy.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,nr=$n(i.nextSibling),ir=e,Ve=!0,jr=null,t!==null&&(gr[xr++]=un,gr[xr++]=dn,gr[xr++]=Ci,un=t.id,dn=t.overflow,Ci=e),e=zd(e,n.children),e.flags|=4096,e)}function O0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fu(t.return,e,r)}function xc(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function lv(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Bt(t,e,n.children,r),n=ze.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,r,e);else if(t.tag===19)O0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(ze,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ko(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),xc(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ko(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}xc(e,!0,r,null,a);break;case"together":xc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function No(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,r=Xn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sy(t,e,r){switch(e.tag){case 3:sv(e),la();break;case 5:Dp(e);break;case 1:Kt(e.type)&&Ho(e);break;case 4:Dd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;je(Xo,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(ze,ze.current&1),e.flags|=128,null):r&e.child.childLanes?ov(t,e,r):(je(ze,ze.current&1),t=mn(t,e,r),t!==null?t.sibling:null);je(ze,ze.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return lv(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(ze,ze.current),n)break;return null;case 22:case 23:return e.lanes=0,iv(t,e,r)}return mn(t,e,r)}var cv,wu,uv,dv;cv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wu=function(){};uv=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,gi(Jr.current);var a=null;switch(r){case"input":i=zc(t,i),n=zc(t,n),a=[];break;case"select":i=We({},i,{value:void 0}),n=We({},n,{value:void 0}),a=[];break;case"textarea":i=Wc(t,i),n=Wc(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zo)}Xc(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(us.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(us.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};dv=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ra(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function oy(t,e,r){var n=e.pendingProps;switch(Sd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return Kt(e.type)&&$o(),Ot(e),null;case 3:return n=e.stateNode,ua(),Fe(Yt),Fe(Dt),Md(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ro(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(Iu(jr),jr=null))),wu(t,e),Ot(e),null;case 5:Pd(e);var i=gi(Es.current);if(r=e.type,t!==null&&e.stateNode!=null)uv(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(P(166));return Ot(e),null}if(t=gi(Jr.current),ro(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Xr]=e,n[ws]=a,t=(e.mode&1)!==0,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(i=0;i<Wa.length;i++)De(Wa[i],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":Bf(n,a),De("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},De("invalid",n);break;case"textarea":Vf(n,a),De("invalid",n)}Xc(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&to(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&to(n.textContent,o,t),i=["children",""+o]):us.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&De("scroll",n)}switch(r){case"input":Xs(n),Uf(n,a,!0);break;case"textarea":Xs(n),zf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=zo)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bh(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Xr]=e,t[ws]=n,cv(t,e,!1,!1),e.stateNode=t;e:{switch(s=Zc(r,n),r){case"dialog":De("cancel",t),De("close",t),i=n;break;case"iframe":case"object":case"embed":De("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wa.length;i++)De(Wa[i],t);i=n;break;case"source":De("error",t),i=n;break;case"img":case"image":case"link":De("error",t),De("load",t),i=n;break;case"details":De("toggle",t),i=n;break;case"input":Bf(t,n),i=zc(t,n),De("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=We({},n,{value:void 0}),De("invalid",t);break;case"textarea":Vf(t,n),i=Wc(t,n),De("invalid",t);break;default:i=n}Xc(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?zh(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uh(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ds(t,l):typeof l=="number"&&ds(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(us.hasOwnProperty(a)?l!=null&&a==="onScroll"&&De("scroll",t):l!=null&&fd(t,a,l,s))}switch(r){case"input":Xs(t),Uf(t,n,!1);break;case"textarea":Xs(t),zf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Jn(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ji(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ji(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)dv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(P(166));if(r=gi(Es.current),gi(Jr.current),ro(e)){if(n=e.stateNode,r=e.memoizedProps,n[Xr]=e,(a=n.nodeValue!==r)&&(t=ir,t!==null))switch(t.tag){case 3:to(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&to(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xr]=e,e.stateNode=n}return Ot(e),null;case 13:if(Fe(ze),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&nr!==null&&e.mode&1&&!(e.flags&128))Tp(),la(),e.flags|=98560,a=!1;else if(a=ro(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(P(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[Xr]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),a=!1}else jr!==null&&(Iu(jr),jr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ut===0&&(ut=3):Zd())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return ua(),wu(t,e),t===null&&xs(e.stateNode.containerInfo),Ot(e),null;case 10:return kd(e.type._context),Ot(e),null;case 17:return Kt(e.type)&&$o(),Ot(e),null;case 19:if(Fe(ze),a=e.memoizedState,a===null)return Ot(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Ra(a,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ko(t),s!==null){for(e.flags|=128,Ra(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return je(ze,ze.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ye()>fa&&(e.flags|=128,n=!0,Ra(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ko(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ra(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ve)return Ot(e),null}else 2*Ye()-a.renderingStartTime>fa&&r!==1073741824&&(e.flags|=128,n=!0,Ra(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ye(),e.sibling=null,r=ze.current,je(ze,n?r&1|2:r&1),e):(Ot(e),null);case 22:case 23:return Xd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?er&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function ly(t,e){switch(Sd(e),e.tag){case 1:return Kt(e.type)&&$o(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),Fe(Yt),Fe(Dt),Md(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pd(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return ua(),null;case 10:return kd(e.type._context),null;case 22:case 23:return Xd(),null;case 24:return null;default:return null}}var ao=!1,Rt=!1,cy=typeof WeakSet=="function"?WeakSet:Set,W=null;function Zi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(t,e,n)}else r.current=null}function _u(t,e,r){try{r()}catch(n){Ze(t,e,n)}}var k0=!1;function uy(t,e){if(iu=Bo,t=mp(),Nd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(au={focusedElem:t,selectionRange:r},Bo=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,x=e.stateNode,m=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Or(e.type,g),w);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){Ze(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=k0,k0=!1,v}function ns(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&_u(e,r,a)}i=i.next}while(i!==n)}}function Al(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Eu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fv(t){var e=t.alternate;e!==null&&(t.alternate=null,fv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[ws],delete e[lu],delete e[Gx],delete e[Xx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hv(t){return t.tag===5||t.tag===3||t.tag===4}function j0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zo));else if(n!==4&&(t=t.child,t!==null))for(bu(t,e,r),t=t.sibling;t!==null;)bu(t,e,r),t=t.sibling}function Cu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Cu(t,e,r),t=t.sibling;t!==null;)Cu(t,e,r),t=t.sibling}var Ct=null,kr=!1;function Cn(t,e,r){for(r=r.child;r!==null;)pv(t,e,r),r=r.sibling}function pv(t,e,r){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(xl,r)}catch{}switch(r.tag){case 5:Rt||Zi(r,e);case 6:var n=Ct,i=kr;Ct=null,Cn(t,e,r),Ct=n,kr=i,Ct!==null&&(kr?(t=Ct,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(kr?(t=Ct,r=r.stateNode,t.nodeType===8?dc(t.parentNode,r):t.nodeType===1&&dc(t,r),vs(t)):dc(Ct,r.stateNode));break;case 4:n=Ct,i=kr,Ct=r.stateNode.containerInfo,kr=!0,Cn(t,e,r),Ct=n,kr=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&_u(r,e,s),i=i.next}while(i!==n)}Cn(t,e,r);break;case 1:if(!Rt&&(Zi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ze(r,e,o)}Cn(t,e,r);break;case 21:Cn(t,e,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,Cn(t,e,r),Rt=n):Cn(t,e,r);break;default:Cn(t,e,r)}}function R0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new cy),e.forEach(function(n){var i=yy.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Sr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ct=o.stateNode,kr=!1;break e;case 3:Ct=o.stateNode.containerInfo,kr=!0;break e;case 4:Ct=o.stateNode.containerInfo,kr=!0;break e}o=o.return}if(Ct===null)throw Error(P(160));pv(a,s,i),Ct=null,kr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vv(e,t),e=e.sibling}function vv(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(e,t),Hr(t),n&4){try{ns(3,t,t.return),Al(3,t)}catch(g){Ze(t,t.return,g)}try{ns(5,t,t.return)}catch(g){Ze(t,t.return,g)}}break;case 1:Sr(e,t),Hr(t),n&512&&r!==null&&Zi(r,r.return);break;case 5:if(Sr(e,t),Hr(t),n&512&&r!==null&&Zi(r,r.return),t.flags&32){var i=t.stateNode;try{ds(i,"")}catch(g){Ze(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Lh(i,a),Zc(o,s);var u=Zc(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?zh(i,f):d==="dangerouslySetInnerHTML"?Uh(i,f):d==="children"?ds(i,f):fd(i,d,f,u)}switch(o){case"input":$c(i,a);break;case"textarea":Fh(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ji(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ji(i,!!a.multiple,a.defaultValue,!0):Ji(i,!!a.multiple,a.multiple?[]:"",!1))}i[ws]=a}catch(g){Ze(t,t.return,g)}}break;case 6:if(Sr(e,t),Hr(t),n&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Ze(t,t.return,g)}}break;case 3:if(Sr(e,t),Hr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vs(e.containerInfo)}catch(g){Ze(t,t.return,g)}break;case 4:Sr(e,t),Hr(t);break;case 13:Sr(e,t),Hr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Wd=Ye())),n&4&&R0(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Rt=(u=Rt)||d,Sr(e,t),Rt=u):Sr(e,t),Hr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(f=W=d;W!==null;){switch(h=W,p=h.child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Ze(n,r,g)}}break;case 5:Zi(h,h.return);break;case 22:if(h.memoizedState!==null){P0(f);continue}}p!==null?(p.return=h,W=p):P0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Vh("display",s))}catch(g){Ze(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ze(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sr(e,t),Hr(t),n&4&&R0(t);break;case 21:break;default:Sr(e,t),Hr(t)}}function Hr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hv(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ds(i,""),n.flags&=-33);var a=j0(t);Cu(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=j0(t);bu(t,o,s);break;default:throw Error(P(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dy(t,e,r){W=t,mv(t)}function mv(t,e,r){for(var n=(t.mode&1)!==0;W!==null;){var i=W,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||ao;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Rt;o=ao;var u=Rt;if(ao=s,(Rt=l)&&!u)for(W=i;W!==null;)s=W,l=s.child,s.tag===22&&s.memoizedState!==null?M0(i):l!==null?(l.return=s,W=l):M0(i);for(;a!==null;)W=a,mv(a),a=a.sibling;W=i,ao=o,Rt=u}D0(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,W=a):D0(t)}}function D0(t){for(;W!==null;){var e=W;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Al(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Or(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&x0(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}x0(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Rt||e.flags&512&&Eu(e)}catch(h){Ze(e,e.return,h)}}if(e===t){W=null;break}if(r=e.sibling,r!==null){r.return=e.return,W=r;break}W=e.return}}function P0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var r=e.sibling;if(r!==null){r.return=e.return,W=r;break}W=e.return}}function M0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Al(4,e)}catch(l){Ze(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ze(e,i,l)}}var a=e.return;try{Eu(e)}catch(l){Ze(e,a,l)}break;case 5:var s=e.return;try{Eu(e)}catch(l){Ze(e,s,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){W=null;break}var o=e.sibling;if(o!==null){o.return=e.return,W=o;break}W=e.return}}var fy=Math.ceil,Jo=yn.ReactCurrentDispatcher,$d=yn.ReactCurrentOwner,_r=yn.ReactCurrentBatchConfig,ve=0,yt=null,tt=null,St=0,er=0,Yi=ii(0),ut=0,As=null,Ai=0,Sl=0,Hd=0,is=null,Gt=null,Wd=0,fa=1/0,ln=null,el=!1,Nu=null,Wn=null,so=!1,Ln=null,tl=0,as=0,Au=null,Ao=-1,So=0;function Vt(){return ve&6?Ye():Ao!==-1?Ao:Ao=Ye()}function Gn(t){return t.mode&1?ve&2&&St!==0?St&-St:Yx.transition!==null?(So===0&&(So=ep()),So):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:op(t.type)),t):1}function Br(t,e,r,n){if(50<as)throw as=0,Au=null,Error(P(185));Ms(t,r,n),(!(ve&2)||t!==yt)&&(t===yt&&(!(ve&2)&&(Sl|=r),ut===4&&Rn(t,St)),Qt(t,n),r===1&&ve===0&&!(e.mode&1)&&(fa=Ye()+500,bl&&ai()))}function Qt(t,e){var r=t.callbackNode;Yg(t,e);var n=Fo(t,t===yt?St:0);if(n===0)r!==null&&Wf(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wf(r),e===1)t.tag===0?Zx(L0.bind(null,t)):Ap(L0.bind(null,t)),Hx(function(){!(ve&6)&&ai()}),r=null;else{switch(tp(n)){case 1:r=gd;break;case 4:r=qh;break;case 16:r=Lo;break;case 536870912:r=Jh;break;default:r=Lo}r=Cv(r,gv.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gv(t,e){if(Ao=-1,So=0,ve&6)throw Error(P(327));var r=t.callbackNode;if(ia()&&t.callbackNode!==r)return null;var n=Fo(t,t===yt?St:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=rl(t,n);else{e=n;var i=ve;ve|=2;var a=yv();(yt!==t||St!==e)&&(ln=null,fa=Ye()+500,wi(t,e));do try{vy();break}catch(o){xv(t,o)}while(1);Od(),Jo.current=a,ve=i,tt!==null?e=0:(yt=null,St=0,e=ut)}if(e!==0){if(e===2&&(i=Jc(t),i!==0&&(n=i,e=Su(t,i))),e===1)throw r=As,wi(t,0),Rn(t,n),Qt(t,Ye()),r;if(e===6)Rn(t,n);else{if(i=t.current.alternate,!(n&30)&&!hy(i)&&(e=rl(t,n),e===2&&(a=Jc(t),a!==0&&(n=a,e=Su(t,a))),e===1))throw r=As,wi(t,0),Rn(t,n),Qt(t,Ye()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(P(345));case 2:hi(t,Gt,ln);break;case 3:if(Rn(t,n),(n&130023424)===n&&(e=Wd+500-Ye(),10<e)){if(Fo(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ou(hi.bind(null,t,Gt,ln),e);break}hi(t,Gt,ln);break;case 4:if(Rn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Fr(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fy(n/1960))-n,10<n){t.timeoutHandle=ou(hi.bind(null,t,Gt,ln),n);break}hi(t,Gt,ln);break;case 5:hi(t,Gt,ln);break;default:throw Error(P(329))}}}return Qt(t,Ye()),t.callbackNode===r?gv.bind(null,t):null}function Su(t,e){var r=is;return t.current.memoizedState.isDehydrated&&(wi(t,e).flags|=256),t=rl(t,e),t!==2&&(e=Gt,Gt=r,e!==null&&Iu(e)),t}function Iu(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function hy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ur(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~Hd,e&=~Sl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Fr(e),n=1<<r;t[r]=-1,e&=~n}}function L0(t){if(ve&6)throw Error(P(327));ia();var e=Fo(t,0);if(!(e&1))return Qt(t,Ye()),null;var r=rl(t,e);if(t.tag!==0&&r===2){var n=Jc(t);n!==0&&(e=n,r=Su(t,n))}if(r===1)throw r=As,wi(t,0),Rn(t,e),Qt(t,Ye()),r;if(r===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,Gt,ln),Qt(t,Ye()),null}function Gd(t,e){var r=ve;ve|=1;try{return t(e)}finally{ve=r,ve===0&&(fa=Ye()+500,bl&&ai())}}function Si(t){Ln!==null&&Ln.tag===0&&!(ve&6)&&ia();var e=ve;ve|=1;var r=_r.transition,n=Ne;try{if(_r.transition=null,Ne=1,t)return t()}finally{Ne=n,_r.transition=r,ve=e,!(ve&6)&&ai()}}function Xd(){er=Yi.current,Fe(Yi)}function wi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$x(r)),tt!==null)for(r=tt.return;r!==null;){var n=r;switch(Sd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$o();break;case 3:ua(),Fe(Yt),Fe(Dt),Md();break;case 5:Pd(n);break;case 4:ua();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:kd(n.type._context);break;case 22:case 23:Xd()}r=r.return}if(yt=t,tt=t=Xn(t.current,null),St=er=e,ut=0,As=null,Hd=Sl=Ai=0,Gt=is=null,mi!==null){for(e=0;e<mi.length;e++)if(r=mi[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}mi=null}return t}function xv(t,e){do{var r=tt;try{if(Od(),bo.current=qo,Qo){for(var n=He.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Qo=!1}if(Ni=0,mt=at=He=null,rs=!1,bs=0,$d.current=null,r===null||r.return===null){ut=1,As=e,tt=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=St,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=C0(s);if(p!==null){p.flags&=-257,N0(p,s,o,a,e),p.mode&1&&b0(a,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){b0(a,u,e),Zd();break e}l=Error(P(426))}}else if(Ve&&o.mode&1){var w=C0(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),N0(w,s,o,a,e),Id(da(l,o));break e}}a=l=da(l,o),ut!==4&&(ut=2),is===null?is=[a]:is.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=tv(a,l,e);g0(a,x);break e;case 1:o=l;var m=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wn===null||!Wn.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=rv(a,o,e);g0(a,_);break e}}a=a.return}while(a!==null)}_v(r)}catch(b){e=b,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(1)}function yv(){var t=Jo.current;return Jo.current=qo,t===null?qo:t}function Zd(){(ut===0||ut===3||ut===2)&&(ut=4),yt===null||!(Ai&268435455)&&!(Sl&268435455)||Rn(yt,St)}function rl(t,e){var r=ve;ve|=2;var n=yv();(yt!==t||St!==e)&&(ln=null,wi(t,e));do try{py();break}catch(i){xv(t,i)}while(1);if(Od(),ve=r,Jo.current=n,tt!==null)throw Error(P(261));return yt=null,St=0,ut}function py(){for(;tt!==null;)wv(tt)}function vy(){for(;tt!==null&&!Ug();)wv(tt)}function wv(t){var e=bv(t.alternate,t,er);t.memoizedProps=t.pendingProps,e===null?_v(t):tt=e,$d.current=null}function _v(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ly(r,e),r!==null){r.flags&=32767,tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,tt=null;return}}else if(r=oy(r,e,er),r!==null){tt=r;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ut===0&&(ut=5)}function hi(t,e,r){var n=Ne,i=_r.transition;try{_r.transition=null,Ne=1,my(t,e,r,n)}finally{_r.transition=i,Ne=n}return null}function my(t,e,r,n){do ia();while(Ln!==null);if(ve&6)throw Error(P(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Kg(t,a),t===yt&&(tt=yt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||so||(so=!0,Cv(Lo,function(){return ia(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=_r.transition,_r.transition=null;var s=Ne;Ne=1;var o=ve;ve|=4,$d.current=null,uy(t,r),vv(r,t),Mx(au),Bo=!!iu,au=iu=null,t.current=r,dy(r),Vg(),ve=o,Ne=s,_r.transition=a}else t.current=r;if(so&&(so=!1,Ln=t,tl=i),a=t.pendingLanes,a===0&&(Wn=null),Hg(r.stateNode),Qt(t,Ye()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(el)throw el=!1,t=Nu,Nu=null,t;return tl&1&&t.tag!==0&&ia(),a=t.pendingLanes,a&1?t===Au?as++:(as=0,Au=t):as=0,ai(),null}function ia(){if(Ln!==null){var t=tp(tl),e=_r.transition,r=Ne;try{if(_r.transition=null,Ne=16>t?16:t,Ln===null)var n=!1;else{if(t=Ln,Ln=null,tl=0,ve&6)throw Error(P(331));var i=ve;for(ve|=4,W=t.current;W!==null;){var a=W,s=a.child;if(W.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:ns(8,d,a)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var h=d.sibling,p=d.return;if(fv(d),d===u){W=null;break}if(h!==null){h.return=p,W=h;break}W=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}W=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,W=s;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,W=x;break e}W=a.return}}var m=t.current;for(W=m;W!==null;){s=W;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,W=y;else e:for(s=m;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Al(9,o)}}catch(b){Ze(o,o.return,b)}if(o===s){W=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,W=_;break e}W=o.return}}if(ve=i,ai(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(xl,t)}catch{}n=!0}return n}finally{Ne=r,_r.transition=e}}return!1}function F0(t,e,r){e=da(r,e),e=tv(t,e,1),t=Hn(t,e,1),e=Vt(),t!==null&&(Ms(t,1,e),Qt(t,e))}function Ze(t,e,r){if(t.tag===3)F0(t,t,r);else for(;e!==null;){if(e.tag===3){F0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wn===null||!Wn.has(n))){t=da(r,t),t=rv(e,t,1),e=Hn(e,t,1),t=Vt(),e!==null&&(Ms(e,1,t),Qt(e,t));break}}e=e.return}}function gy(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&r,yt===t&&(St&r)===r&&(ut===4||ut===3&&(St&130023424)===St&&500>Ye()-Wd?wi(t,0):Hd|=r),Qt(t,e)}function Ev(t,e){e===0&&(t.mode&1?(e=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):e=1);var r=Vt();t=vn(t,e),t!==null&&(Ms(t,e,r),Qt(t,r))}function xy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ev(t,r)}function yy(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(e),Ev(t,r)}var bv;bv=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Zt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Zt=!1,sy(t,e,r);Zt=!!(t.flags&131072)}else Zt=!1,Ve&&e.flags&1048576&&Sp(e,Go,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;No(t,e),t=e.pendingProps;var i=oa(e,Dt.current);na(e,r),i=Fd(null,e,n,t,i,r);var a=Bd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(n)?(a=!0,Ho(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rd(e),i.updater=Nl,e.stateNode=i,i._reactInternals=e,pu(e,n,t,r),e=gu(null,e,n,!0,a,r)):(e.tag=0,Ve&&a&&Ad(e),Bt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(No(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=_y(n),t=Or(n,t),i){case 0:e=mu(null,e,n,t,r);break e;case 1:e=I0(null,e,n,t,r);break e;case 11:e=A0(null,e,n,t,r);break e;case 14:e=S0(null,e,n,Or(n.type,t),r);break e}throw Error(P(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),mu(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),I0(t,e,n,i,r);case 3:e:{if(sv(e),t===null)throw Error(P(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Rp(t,e),Yo(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=da(Error(P(423)),e),e=T0(t,e,n,r,i);break e}else if(n!==i){i=da(Error(P(424)),e),e=T0(t,e,n,r,i);break e}else for(nr=$n(e.stateNode.containerInfo.firstChild),ir=e,Ve=!0,jr=null,r=kp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(la(),n===i){e=mn(t,e,r);break e}Bt(t,e,n,r)}e=e.child}return e;case 5:return Dp(e),t===null&&du(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,su(n,i)?s=null:a!==null&&su(n,a)&&(e.flags|=32),av(t,e),Bt(t,e,s,r),e.child;case 6:return t===null&&du(e),null;case 13:return ov(t,e,r);case 4:return Dd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ca(e,null,n,r):Bt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),A0(t,e,n,i,r);case 7:return Bt(t,e,e.pendingProps,r),e.child;case 8:return Bt(t,e,e.pendingProps.children,r),e.child;case 12:return Bt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,je(Xo,n._currentValue),n._currentValue=s,a!==null)if(Ur(a.value,s)){if(a.children===i.children&&!Yt.current){e=mn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=fn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),fu(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(P(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),fu(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Bt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,na(e,r),i=br(i),n=n(i),e.flags|=1,Bt(t,e,n,r),e.child;case 14:return n=e.type,i=Or(n,e.pendingProps),i=Or(n.type,i),S0(t,e,n,i,r);case 15:return nv(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Or(n,i),No(t,e),e.tag=1,Kt(n)?(t=!0,Ho(e)):t=!1,na(e,r),ev(e,n,i),pu(e,n,i,r),gu(null,e,n,!0,t,r);case 19:return lv(t,e,r);case 22:return iv(t,e,r)}throw Error(P(156,e.tag))};function Cv(t,e){return Qh(t,e)}function wy(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(t,e,r,n){return new wy(t,e,r,n)}function Yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _y(t){if(typeof t=="function")return Yd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pd)return 11;if(t===vd)return 14}return 2}function Xn(t,e){var r=t.alternate;return r===null?(r=yr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Io(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Yd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bi:return _i(r.children,i,a,e);case hd:s=8,i|=8;break;case Fc:return t=yr(12,r,e,i|2),t.elementType=Fc,t.lanes=a,t;case Bc:return t=yr(13,r,e,i),t.elementType=Bc,t.lanes=a,t;case Uc:return t=yr(19,r,e,i),t.elementType=Uc,t.lanes=a,t;case Dh:return Il(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jh:s=10;break e;case Rh:s=9;break e;case pd:s=11;break e;case vd:s=14;break e;case In:s=16,n=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=yr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function _i(t,e,r,n){return t=yr(7,t,n,e),t.lanes=r,t}function Il(t,e,r,n){return t=yr(22,t,n,e),t.elementType=Dh,t.lanes=r,t.stateNode={isHidden:!1},t}function yc(t,e,r){return t=yr(6,t,null,e),t.lanes=r,t}function wc(t,e,r){return e=yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ey(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kd(t,e,r,n,i,a,s,o,l){return t=new Ey(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=yr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(a),t}function by(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Nv(t){if(!t)return ei;t=t._reactInternals;e:{if(ki(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var r=t.type;if(Kt(r))return Np(t,r,e)}return e}function Av(t,e,r,n,i,a,s,o,l){return t=Kd(r,n,!0,t,i,a,s,o,l),t.context=Nv(null),r=t.current,n=Vt(),i=Gn(r),a=fn(n,i),a.callback=e??null,Hn(r,a,i),t.current.lanes=i,Ms(t,i,n),Qt(t,n),t}function Tl(t,e,r,n){var i=e.current,a=Vt(),s=Gn(i);return r=Nv(r),e.context===null?e.context=r:e.pendingContext=r,e=fn(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Hn(i,e,s),t!==null&&(Br(t,i,s,a),Eo(t,i,s)),s}function nl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Qd(t,e){B0(t,e),(t=t.alternate)&&B0(t,e)}function Cy(){return null}var Sv=typeof reportError=="function"?reportError:function(t){console.error(t)};function qd(t){this._internalRoot=t}Ol.prototype.render=qd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Tl(t,e,null,null)};Ol.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Si(function(){Tl(null,t,null,null)}),e[pn]=null}};function Ol(t){this._internalRoot=t}Ol.prototype.unstable_scheduleHydration=function(t){if(t){var e=ip();t={blockedOn:null,target:t,priority:e};for(var r=0;r<jn.length&&e!==0&&e<jn[r].priority;r++);jn.splice(r,0,t),r===0&&sp(t)}};function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U0(){}function Ny(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=nl(s);a.call(u)}}var s=Av(e,n,t,0,null,!1,!1,"",U0);return t._reactRootContainer=s,t[pn]=s.current,xs(t.nodeType===8?t.parentNode:t),Si(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=nl(l);o.call(u)}}var l=Kd(t,0,!1,null,null,!1,!1,"",U0);return t._reactRootContainer=l,t[pn]=l.current,xs(t.nodeType===8?t.parentNode:t),Si(function(){Tl(e,l,r,n)}),l}function jl(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=nl(s);o.call(l)}}Tl(e,s,t,i)}else s=Ny(r,e,t,i,n);return nl(s)}rp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ha(e.pendingLanes);r!==0&&(xd(e,r|1),Qt(e,Ye()),!(ve&6)&&(fa=Ye()+500,ai()))}break;case 13:Si(function(){var n=vn(t,1);if(n!==null){var i=Vt();Br(n,t,1,i)}}),Qd(t,1)}};yd=function(t){if(t.tag===13){var e=vn(t,134217728);if(e!==null){var r=Vt();Br(e,t,134217728,r)}Qd(t,134217728)}};np=function(t){if(t.tag===13){var e=Gn(t),r=vn(t,e);if(r!==null){var n=Vt();Br(r,t,e,n)}Qd(t,e)}};ip=function(){return Ne};ap=function(t,e){var r=Ne;try{return Ne=t,e()}finally{Ne=r}};Kc=function(t,e,r){switch(e){case"input":if($c(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=El(n);if(!i)throw Error(P(90));Mh(n),$c(n,i)}}}break;case"textarea":Fh(t,r);break;case"select":e=r.value,e!=null&&Ji(t,!!r.multiple,e,!1)}};Wh=Gd;Gh=Si;var Ay={usingClientEntryPoint:!1,Events:[Fs,$i,El,$h,Hh,Gd]},Da={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sy={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yh(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||Cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{xl=oo.inject(Sy),qr=oo}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ay;or.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(e))throw Error(P(200));return by(t,e,null,r)};or.createRoot=function(t,e){if(!Jd(t))throw Error(P(299));var r=!1,n="",i=Sv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kd(t,1,!1,null,null,r,!1,n,i),t[pn]=e.current,xs(t.nodeType===8?t.parentNode:t),new qd(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Yh(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return Si(t)};or.hydrate=function(t,e,r){if(!kl(e))throw Error(P(200));return jl(null,t,e,!0,r)};or.hydrateRoot=function(t,e,r){if(!Jd(t))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Sv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=Av(e,null,t,1,r??null,i,!1,a,s),t[pn]=e.current,xs(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ol(e)};or.render=function(t,e,r){if(!kl(e))throw Error(P(200));return jl(null,t,e,!1,r)};or.unmountComponentAtNode=function(t){if(!kl(t))throw Error(P(40));return t._reactRootContainer?(Si(function(){jl(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};or.unstable_batchedUpdates=Gd;or.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kl(r))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return jl(t,e,r,!1,n)};or.version="18.3.1-next-f1338f8080-20240426";function Iv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iv)}catch(t){console.error(t)}}Iv(),Ih.exports=or;var Iy=Ih.exports,Tv,V0=Iy;Tv=V0.createRoot,V0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ss.apply(this,arguments)}var Fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fn||(Fn={}));const z0="popstate";function Ty(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return Tu("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:il(i)}return ky(e,r,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ov(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Oy(){return Math.random().toString(36).substr(2,8)}function $0(t,e){return{usr:t.state,key:t.key,idx:e}}function Tu(t,e,r,n){return r===void 0&&(r=null),Ss({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ba(e):e,{state:r,key:e&&e.key||n||Oy()})}function il(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ba(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ky(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Fn.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Ss({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Fn.Pop;let w=d(),x=w==null?null:w-u;u=w,l&&l({action:o,location:g.location,delta:x})}function h(w,x){o=Fn.Push;let m=Tu(g.location,w,x);r&&r(m,w),u=d()+1;let y=$0(m,u),_=g.createHref(m);try{s.pushState(y,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(_)}a&&l&&l({action:o,location:g.location,delta:1})}function p(w,x){o=Fn.Replace;let m=Tu(g.location,w,x);r&&r(m,w),u=d();let y=$0(m,u),_=g.createHref(m);s.replaceState(y,"",_),a&&l&&l({action:o,location:g.location,delta:0})}function v(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:il(w);return m=m.replace(/ $/,"%20"),Qe(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let g={get action(){return o},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(z0,f),l=w,()=>{i.removeEventListener(z0,f),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let x=v(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(w){return s.go(w)}};return g}var H0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H0||(H0={}));function jy(t,e,r){return r===void 0&&(r="/"),Ry(t,e,r,!1)}function Ry(t,e,r,n){let i=typeof e=="string"?ba(e):e,a=ef(i.pathname||"/",r);if(a==null)return null;let s=kv(t);Dy(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Wy(a);o=$y(s[l],u,n)}return o}function kv(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Zn([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(Qe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kv(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Vy(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of jv(a.path))i(a,s,l)}),e}function jv(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=jv(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Dy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:zy(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Py=/^:[\w-]+$/,My=3,Ly=2,Fy=1,By=10,Uy=-2,W0=t=>t==="*";function Vy(t,e){let r=t.split("/"),n=r.length;return r.some(W0)&&(n+=Uy),e&&(n+=Ly),r.filter(i=>!W0(i)).reduce((i,a)=>i+(Py.test(a)?My:a===""?Fy:By),n)}function zy(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $y(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Zn([a,f.pathname]),pathnameBase:Yy(Zn([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Zn([a,f.pathnameBase]))}return s}function G0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Hy(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Hy(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ov(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Wy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ov(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ef(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Gy(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ba(t):t;return{pathname:r?r.startsWith("/")?r:Xy(r,e):e,search:Ky(n),hash:Qy(i)}}function Xy(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function _c(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tf(t,e){let r=Zy(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rf(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ba(t):(i=Ss({},t),Qe(!i.pathname||!i.pathname.includes("?"),_c("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),_c("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),_c("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=Gy(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Zn=t=>t.join("/").replace(/\/\/+/g,"/"),Yy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ky=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rv=["post","put","patch","delete"];new Set(Rv);const Jy=["get",...Rv];new Set(Jy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Is.apply(this,arguments)}const nf=N.createContext(null),e2=N.createContext(null),si=N.createContext(null),Rl=N.createContext(null),wn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Dv=N.createContext(null);function t2(t,e){let{relative:r}=e===void 0?{}:e;Ca()||Qe(!1);let{basename:n,navigator:i}=N.useContext(si),{hash:a,pathname:s,search:o}=Mv(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Zn([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Ca(){return N.useContext(Rl)!=null}function ji(){return Ca()||Qe(!1),N.useContext(Rl).location}function Pv(t){N.useContext(si).static||N.useLayoutEffect(t)}function _n(){let{isDataRoute:t}=N.useContext(wn);return t?p2():r2()}function r2(){Ca()||Qe(!1);let t=N.useContext(nf),{basename:e,future:r,navigator:n}=N.useContext(si),{matches:i}=N.useContext(wn),{pathname:a}=ji(),s=JSON.stringify(tf(i,r.v7_relativeSplatPath)),o=N.useRef(!1);return Pv(()=>{o.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=rf(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Zn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function Na(){let{matches:t}=N.useContext(wn),e=t[t.length-1];return e?e.params:{}}function Mv(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=N.useContext(si),{matches:i}=N.useContext(wn),{pathname:a}=ji(),s=JSON.stringify(tf(i,n.v7_relativeSplatPath));return N.useMemo(()=>rf(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function n2(t,e){return i2(t,e)}function i2(t,e,r,n){Ca()||Qe(!1);let{navigator:i}=N.useContext(si),{matches:a}=N.useContext(wn),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ji(),d;if(e){var f;let w=typeof e=="string"?ba(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Qe(!1),d=w}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=jy(t,{pathname:p}),g=c2(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Zn([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Zn([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return e&&g?N.createElement(Rl.Provider,{value:{location:Is({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fn.Pop}},g):g}function a2(){let t=h2(),e=qy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,a)}const s2=N.createElement(a2,null);class o2 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(wn.Provider,{value:this.props.routeContext},N.createElement(Dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l2(t){let{routeContext:e,match:r,children:n}=t,i=N.useContext(nf);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(wn.Provider,{value:e},n)}function c2(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Qe(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,v=!1,g=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||s2,l&&(u<0&&h===0?(v2("route-fallback",!1),v=!0,w=null):u===h&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),m=()=>{let y;return p?y=g:v?y=w:f.route.Component?y=N.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,N.createElement(l2,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(o2,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Lv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lv||{}),al=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(al||{});function u2(t){let e=N.useContext(nf);return e||Qe(!1),e}function d2(t){let e=N.useContext(e2);return e||Qe(!1),e}function f2(t){let e=N.useContext(wn);return e||Qe(!1),e}function Fv(t){let e=f2(),r=e.matches[e.matches.length-1];return r.route.id||Qe(!1),r.route.id}function h2(){var t;let e=N.useContext(Dv),r=d2(al.UseRouteError),n=Fv(al.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function p2(){let{router:t}=u2(Lv.UseNavigateStable),e=Fv(al.UseNavigateStable),r=N.useRef(!1);return Pv(()=>{r.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Is({fromRouteId:e},a)))},[t,e])}const X0={};function v2(t,e,r){!e&&!X0[t]&&(X0[t]=!0)}function m2(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Yn(t){let{to:e,replace:r,state:n,relative:i}=t;Ca()||Qe(!1);let{future:a,static:s}=N.useContext(si),{matches:o}=N.useContext(wn),{pathname:l}=ji(),u=_n(),d=rf(e,tf(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function ft(t){Qe(!1)}function g2(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Fn.Pop,navigator:a,static:s=!1,future:o}=t;Ca()&&Qe(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:a,static:s,future:Is({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=ba(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,g=N.useMemo(()=>{let w=ef(d,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:v},navigationType:i}},[l,d,f,h,p,v,i]);return g==null?null:N.createElement(si.Provider,{value:u},N.createElement(Rl.Provider,{children:r,value:g}))}function x2(t){let{children:e,location:r}=t;return n2(Ou(e),r)}new Promise(()=>{});function Ou(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let a=[...e,i];if(n.type===N.Fragment){r.push.apply(r,Ou(n.props.children,a));return}n.type!==ft&&Qe(!1),!n.props.index||!n.props.children||Qe(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Ou(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ku.apply(this,arguments)}function y2(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function w2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _2(t,e){return t.button===0&&(!e||e==="_self")&&!w2(t)}const E2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b2="6";try{window.__reactRouterVersion=b2}catch{}const C2="startTransition",Z0=gg[C2];function N2(t){let{basename:e,children:r,future:n,window:i}=t,a=N.useRef();a.current==null&&(a.current=Ty({window:i,v5Compat:!0}));let s=a.current,[o,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=N.useCallback(f=>{u&&Z0?Z0(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>s.listen(d),[s,d]),N.useEffect(()=>m2(n),[n]),N.createElement(g2,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const A2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=N.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=y2(e,E2),{basename:p}=N.useContext(si),v,g=!1;if(typeof u=="string"&&S2.test(u)&&(v=u,A2))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),b=ef(_.pathname,p);_.origin===y.origin&&b!=null?u=b+_.search+_.hash:g=!0}catch{}let w=t2(u,{relative:i}),x=I2(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function m(y){n&&n(y),y.defaultPrevented||x(y)}return N.createElement("a",ku({},h,{href:v||w,onClick:g||a?n:m,ref:r,target:l}))});var Y0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y0||(Y0={}));var K0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K0||(K0={}));function I2(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=_n(),u=ji(),d=Mv(t,{relative:s});return N.useCallback(f=>{if(_2(f,r)){f.preventDefault();let h=n!==void 0?n:il(u)===il(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}let T2={data:""},O2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||T2,k2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,j2=/\/\*[^]*?\*\/|  +/g,Q0=/\n+/g,Dn=(t,e)=>{let r="",n="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?Dn(s,a):a+"{"+Dn(s,a[1]=="k"?"":e)+"}":typeof s=="object"?n+=Dn(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Dn.p?Dn.p(a,s):a+":"+s+";")}return r+(e&&i?e+"{"+i+"}":i)+n},an={},Bv=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Bv(t[r]);return e}return t},R2=(t,e,r,n,i)=>{let a=Bv(t),s=an[a]||(an[a]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(a));if(!an[s]){let l=a!==t?t:(u=>{let d,f,h=[{}];for(;d=k2.exec(u.replace(j2,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Q0," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Q0," ").trim();return h[0]})(t);an[s]=Dn(i?{["@keyframes "+s]:l}:l,r?"":"."+s)}let o=r&&an.g?an.g:null;return r&&(an.g=an[s]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(an[s],e,n,o),s},D2=(t,e,r)=>t.reduce((n,i,a)=>{let s=e[a];if(s&&s.call){let o=s(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Dn(o,""):o===!1?"":o}return n+i+(s??"")},"");function Dl(t){let e=this||{},r=t.call?t(e.p):t;return R2(r.unshift?r.raw?D2(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,O2(e.target),e.g,e.o,e.k)}let Uv,ju,Ru;Dl.bind({g:1});let gn=Dl.bind({k:1});function P2(t,e,r,n){Dn.p=e,Uv=t,ju=r,Ru=n}function oi(t,e){let r=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;r.p=Object.assign({theme:ju&&ju()},o),r.o=/ *go\d+/.test(l),o.className=Dl.apply(r,n)+(l?" "+l:""),e&&(o.ref=s);let u=t;return t[0]&&(u=o.as||t,delete o.as),Ru&&u[0]&&Ru(o),Uv(u,o)}return e?e(i):i}}var M2=t=>typeof t=="function",sl=(t,e)=>M2(t)?t(e):t,L2=(()=>{let t=0;return()=>(++t).toString()})(),Vv=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),F2=20,af="default",zv=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return zv(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},To=[],$v={toasts:[],pausedAt:void 0,settings:{toastLimit:F2}},Yr={},Hv=(t,e=af)=>{Yr[e]=zv(Yr[e]||$v,t),To.forEach(([r,n])=>{r===e&&n(Yr[e])})},Wv=t=>Object.keys(Yr).forEach(e=>Hv(t,e)),B2=t=>Object.keys(Yr).find(e=>Yr[e].toasts.some(r=>r.id===t)),Pl=(t=af)=>e=>{Hv(e,t)},U2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V2=(t={},e=af)=>{let[r,n]=N.useState(Yr[e]||$v),i=N.useRef(Yr[e]);N.useEffect(()=>(i.current!==Yr[e]&&n(Yr[e]),To.push([e,n]),()=>{let s=To.findIndex(([o])=>o===e);s>-1&&To.splice(s,1)}),[e]);let a=r.toasts.map(s=>{var o,l,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||U2[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...r,toasts:a}},z2=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||L2()}),Us=t=>(e,r)=>{let n=z2(e,t,r);return Pl(n.toasterId||B2(n.id))({type:2,toast:n}),n.id},ot=(t,e)=>Us("blank")(t,e);ot.error=Us("error");ot.success=Us("success");ot.loading=Us("loading");ot.custom=Us("custom");ot.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Pl(e)(r):Wv(r)};ot.dismissAll=t=>ot.dismiss(void 0,t);ot.remove=(t,e)=>{let r={type:4,toastId:t};e?Pl(e)(r):Wv(r)};ot.removeAll=t=>ot.remove(void 0,t);ot.promise=(t,e,r)=>{let n=ot.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?sl(e.success,i):void 0;return a?ot.success(a,{id:n,...r,...r==null?void 0:r.success}):ot.dismiss(n),i}).catch(i=>{let a=e.error?sl(e.error,i):void 0;a?ot.error(a,{id:n,...r,...r==null?void 0:r.error}):ot.dismiss(n)}),t};var $2=1e3,H2=(t,e="default")=>{let{toasts:r,pausedAt:n}=V2(t,e),i=N.useRef(new Map).current,a=N.useCallback((f,h=$2)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),s({type:4,toastId:f})},h);i.set(f,p)},[]);N.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let v=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(v<0){p.visible&&ot.dismiss(p.id);return}return setTimeout(()=>ot.dismiss(p.id,e),v)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,e]);let s=N.useCallback(Pl(e),[e]),o=N.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=N.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),u=N.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),d=N.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:v=8,defaultPosition:g}=h||{},w=r.filter(y=>(y.position||g)===(f.position||g)&&y.height),x=w.findIndex(y=>y.id===f.id),m=w.filter((y,_)=>_<x&&y.visible).length;return w.filter(y=>y.visible).slice(...p?[m+1]:[0,m]).reduce((y,_)=>y+(_.height||0)+v,0)},[r]);return N.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:d}}},W2=gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,G2=gn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X2=gn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Z2=oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${W2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${G2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${X2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Y2=gn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,K2=oi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Y2} 1s linear infinite;
`,Q2=gn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q2=gn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,J2=oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Q2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ew=oi("div")`
  position: absolute;
`,tw=oi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rw=gn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nw=oi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iw=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?N.createElement(nw,null,e):e:r==="blank"?null:N.createElement(tw,null,N.createElement(K2,{...n}),r!=="loading"&&N.createElement(ew,null,r==="error"?N.createElement(Z2,{...n}):N.createElement(J2,{...n})))},aw=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,sw=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ow="0%{opacity:0;} 100%{opacity:1;}",lw="0%{opacity:1;} 100%{opacity:0;}",cw=oi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uw=oi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dw=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=Vv()?[ow,lw]:[aw(r),sw(r)];return{animation:e?`${gn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fw=N.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?dw(t.position||e||"top-center",t.visible):{opacity:0},a=N.createElement(iw,{toast:t}),s=N.createElement(uw,{...t.ariaProps},sl(t.message,t));return N.createElement(cw,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:s}):N.createElement(N.Fragment,null,a,s))});P2(N.createElement);var hw=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=N.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return N.createElement("div",{ref:a,className:e,style:r},i)},pw=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},vw=Dl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,lo=16,mw=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:u}=H2(r,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:lo,left:lo,right:lo,bottom:lo,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),p=pw(f,h);return N.createElement(hw,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?vw:"",style:p},d.type==="custom"?sl(d.message,d):i?i(d):N.createElement(fw,{toast:d,position:f}))}))},Pa=ot,gw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ne=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>N.createElement("svg",{ref:u,...gw,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${xw(t)}`,...l},[...e.map(([d,f])=>N.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r},Gv=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),yw=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Xv=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),q0=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Zv=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Du=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ww=ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),_w=ne("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),qt=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),J0=ne("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),e1=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),sf=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ec=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ew=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),bw=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Cw=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ts=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),bc=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Yv=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Kv=ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),of=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bt=ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Nw=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Cc=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),t1=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ss=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ml=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Aw=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Sw=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ki=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Os=ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Iw=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Qv=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Pu=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),lf=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),r1=ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),qv=ne("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),ol=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Tw=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Mu=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ow=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),n1=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Vr=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Jv=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ks=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i1=t=>{let e;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(v=>v(e,p))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{r.clear()}},u=e=t(n,i,l);return l},kw=t=>t?i1(t):i1;var em={exports:{}},tm={},rm={exports:{}},nm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=N;function jw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rw=typeof Object.is=="function"?Object.is:jw,Dw=ha.useState,Pw=ha.useEffect,Mw=ha.useLayoutEffect,Lw=ha.useDebugValue;function Fw(t,e){var r=e(),n=Dw({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Mw(function(){i.value=r,i.getSnapshot=e,Nc(i)&&a({inst:i})},[t,r,e]),Pw(function(){return Nc(i)&&a({inst:i}),t(function(){Nc(i)&&a({inst:i})})},[t]),Lw(r),r}function Nc(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Rw(t,r)}catch{return!0}}function Bw(t,e){return e()}var Uw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bw:Fw;nm.useSyncExternalStore=ha.useSyncExternalStore!==void 0?ha.useSyncExternalStore:Uw;rm.exports=nm;var Vw=rm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=N,zw=Vw;function $w(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hw=typeof Object.is=="function"?Object.is:$w,Ww=zw.useSyncExternalStore,Gw=Ll.useRef,Xw=Ll.useEffect,Zw=Ll.useMemo,Yw=Ll.useDebugValue;tm.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Gw(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Zw(function(){function l(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,Hw(d,p))return v;var g=n(p);return i!==void 0&&i(v,g)?(d=p,v):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var o=Ww(t,a[0],a[1]);return Xw(function(){s.hasValue=!0,s.value=o},[o]),Yw(o),o};em.exports=tm;var Kw=em.exports;const Qw=mh(Kw),{useDebugValue:qw}=jt,{useSyncExternalStoreWithSelector:Jw}=Qw;const e3=t=>t;function t3(t,e=e3,r){const n=Jw(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return qw(n),n}const a1=t=>{const e=typeof t=="function"?kw(t):t,r=(n,i)=>t3(e,n,i);return Object.assign(r,e),r},cf=t=>t?a1(t):a1;function r3(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var a;const s=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const js=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return js(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return js(n)(r)}}}},n3=(t,e)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...e},s=!1;const o=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...w)},n,i);const d=js(a.serialize),f=()=>{const w=a.partialize({...n()});let x;const m=d({state:w,version:a.version}).then(y=>u.setItem(a.name,y)).catch(y=>{x=y});if(x)throw x;return m},h=i.setState;i.setState=(w,x)=>{h(w,x),f()};const p=t((...w)=>{r(...w),f()},n,i);let v;const g=()=>{var w;if(!u)return;s=!1,o.forEach(m=>m(n()));const x=((w=a.onRehydrateStorage)==null?void 0:w.call(a,n()))||void 0;return js(u.getItem.bind(u))(a.name).then(m=>{if(m)return a.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return a.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var y;return v=a.merge(m,(y=n())!=null?y:p),r(v,!0),f()}).then(()=>{x==null||x(v,void 0),s=!0,l.forEach(m=>m(v))}).catch(m=>{x==null||x(void 0,m)})};return i.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(u=w.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},g(),v||p},i3=(t,e)=>(r,n,i)=>{let a={storage:r3(()=>localStorage),partialize:g=>g,version:0,merge:(g,w)=>({...w,...g}),...e},s=!1;const o=new Set,l=new Set;let u=a.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...g)},n,i);const d=()=>{const g=a.partialize({...n()});return u.setItem(a.name,{state:g,version:a.version})},f=i.setState;i.setState=(g,w)=>{f(g,w),d()};const h=t((...g)=>{r(...g),d()},n,i);i.getInitialState=()=>h;let p;const v=()=>{var g,w;if(!u)return;s=!1,o.forEach(m=>{var y;return m((y=n())!=null?y:h)});const x=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(g=n())!=null?g:h))||void 0;return js(u.getItem.bind(u))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return[!0,a.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var y;const[_,b]=m;if(p=a.merge(b,(y=n())!=null?y:h),r(p,!0),_)return d()}).then(()=>{x==null||x(p,void 0),p=n(),s=!0,l.forEach(m=>m(p))}).catch(m=>{x==null||x(void 0,m)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},a.skipHydration||v(),p||h},a3=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?n3(t,e):i3(t,e),s3=a3,o3=t=>{if(!t||typeof t!="string")return!1;const e=t.split(".");if(e.length!==3)return!1;try{return e.forEach(r=>{if(!r)throw new Error("Empty part");atob(r.replace(/-/g,"+").replace(/_/g,"/"))}),!0}catch{return!1}},zr=cf()(s3((t,e)=>({user:null,accessToken:null,isAuthenticated:!1,isLoading:!1,error:null,setAuth:(r,n)=>{t({user:r,accessToken:n,isAuthenticated:!0,error:null})},clearAuth:()=>{t({user:null,accessToken:null,isAuthenticated:!1,error:null})},setLoading:r=>{t({isLoading:r})},setError:r=>{t({error:r})},updateUser:r=>{const n=e().user;n&&t({user:{...n,...r}})},validateToken:()=>{const{accessToken:r}=e();return!r||!o3(r)?(e().clearAuth(),!1):!0}}),{name:"auth-store",partialize:t=>({user:t.user,accessToken:t.accessToken,isAuthenticated:t.isAuthenticated})})),l3="http://localhost:3001/api";class os extends Error{constructor(e,r,n){super(n||r.error||"An error occurred"),this.status=e,this.response=r,this.name="ApiError"}}class c3{constructor(e=l3){jf(this,"baseURL");this.baseURL=e}async request(e,r={}){const n=`${this.baseURL}${e}`,i={headers:{"Content-Type":"application/json",...r.headers},credentials:"include",...r},a=this.getStoredToken();a?(i.headers.Authorization=`Bearer ${a}`,console.log(" Request with token for:",e)):console.log(" No token found for request:",e);try{console.log(" Making request to:",n),console.log(" Headers:",i.headers);const s=await fetch(n,i),o=await s.json();if(!s.ok)throw console.log(" Request failed:",s.status,o),new os(s.status,o);return console.log(" Request successful:",o),o}catch(s){throw s instanceof os?s:new os(0,{success:!1,error:"Network error or server unavailable"})}}getStoredToken(){var e;try{const r=zr.getState();if(r.accessToken)return console.log("Retrieved token from store state: Token exists"),r.accessToken;const n=localStorage.getItem("auth-store");if(n){const i=JSON.parse(n),a=((e=i.state)==null?void 0:e.accessToken)||i.accessToken||null;return console.log("Retrieved token from localStorage:",a?"Token exists":"No token found"),a}}catch(r){console.error("Error retrieving token:",r)}return console.log("No token found in store or localStorage"),null}async get(e){return this.request(e,{method:"GET"})}async post(e,r){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(e,r){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}}const Ke=new c3;class Ma{static async login(e){return Ke.post("/auth/login",e)}static async register(e){return Ke.post("/auth/register",e)}static async logout(){return Ke.post("/auth/logout")}static async refreshToken(){return Ke.post("/auth/refresh")}static async getProfile(){return Ke.get("/auth/profile")}static isAuthenticated(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.isAuthenticated)||!1}catch{}return!1}static getCurrentUser(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.user)||null}catch{}return null}static getAccessToken(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.accessToken)||null}catch{}return null}}const rn=()=>{const t=_n(),{user:e,isAuthenticated:r,isLoading:n,error:i,setAuth:a,clearAuth:s,setLoading:o,setError:l,updateUser:u}=zr(),d=N.useCallback(async g=>{try{o(!0),l(null);const w=await Ma.login(g);if(w.success&&w.data)return a(w.data.user,w.data.accessToken),Pa.success("Login successful!"),t("/dashboard"),!0;throw new Error(w.error||"Login failed")}catch(w){const x=w instanceof os?w.response.error||"Login failed":"An unexpected error occurred";return l(x),Pa.error(x),!1}finally{o(!1)}},[a,o,l,t]),f=N.useCallback(async g=>{try{o(!0),l(null);const w=await Ma.register(g);if(w.success&&w.data)return a(w.data.user,w.data.accessToken),Pa.success("Account created successfully!"),t("/dashboard"),!0;throw new Error(w.error||"Registration failed")}catch(w){const x=w instanceof os?w.response.error||"Registration failed":"An unexpected error occurred";return l(x),Pa.error(x),!1}finally{o(!1)}},[a,o,l,t]),h=N.useCallback(async()=>{try{o(!0),await Ma.logout(),s(),Pa.success("Logged out successfully"),t("/")}catch{s(),t("/")}finally{o(!1)}},[s,o,t]),p=N.useCallback(async()=>{try{const g=await Ma.refreshToken();if(g.success&&g.data){const w=zr.getState().user;return w&&a(w,g.data.accessToken),!0}else throw new Error("Token refresh failed")}catch{return s(),t("/login"),!1}},[a,s,t]),v=N.useCallback(async()=>{try{o(!0);const g=await Ma.getProfile();g.success&&g.data?u(g.data.user):s()}catch{await p()||s()}finally{o(!1)}},[u,s,p,o]);return{user:e,isAuthenticated:r,isLoading:n,error:i,login:d,register:f,logout:h,refreshToken:p,checkAuthStatus:v,isOrganizer:(e==null?void 0:e.role)==="organizer"||(e==null?void 0:e.role)==="admin",isAdmin:(e==null?void 0:e.role)==="admin",clearError:()=>l(null)}},u3=({children:t})=>{const e=ji(),[r,n]=jt.useState(!1),{user:i,isAuthenticated:a,logout:s}=rn(),o=[{name:"Events",href:"/events",icon:Vr}],l=[{name:"Dashboard",href:"/dashboard",icon:_w}],u=(i==null?void 0:i.role)==="participant"?[{name:"My Registrations",href:"/my-registrations",icon:Mu}]:[],d=(i==null?void 0:i.role)==="organizer"||(i==null?void 0:i.role)==="admin"?[{name:"QR Scanner",href:"/scanner",icon:Os},{name:"Certificates",href:"/certificates",icon:Zv}]:[],f=[...l,...u,...d],h=a?[...o,...f]:o,p=["/login","/register"].includes(e.pathname),v=e.pathname==="/";return p?c.jsx("div",{className:"min-h-screen bg-gray-50",children:t}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("nav",{className:"bg-white shadow-sm border-b",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center",children:c.jsx(fe,{to:"/",className:"text-2xl font-bold text-primary-600",children:"EventPro"})}),c.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:h.map(g=>{const w=g.icon,x=e.pathname.startsWith(g.href);return o.includes(g)||a&&!v&&f.includes(g)?c.jsxs(fe,{to:g.href,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${x?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[c.jsx(w,{className:"w-4 h-4 mr-2"}),g.name]},g.name):null})})]}),c.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:v||!a?c.jsxs("div",{className:"space-x-4",children:[c.jsx(fe,{to:"/login",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Sign in"}),c.jsx(fe,{to:"/register",className:"btn-primary",children:"Get Started"})]}):c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[c.jsx(n1,{className:"w-4 h-4"}),c.jsx("span",{children:i==null?void 0:i.name}),c.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:i==null?void 0:i.role})]}),c.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 text-red-600",title:"Sign out",children:c.jsx(t1,{className:"w-5 h-5"})})]})}),c.jsx("div",{className:"sm:hidden flex items-center",children:c.jsx("button",{onClick:()=>n(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:r?c.jsx(ks,{className:"w-6 h-6"}):c.jsx(Aw,{className:"w-6 h-6"})})})]})}),r&&c.jsxs("div",{className:"sm:hidden",children:[c.jsx("div",{className:"pt-2 pb-3 space-y-1",children:h.map(g=>{const w=g.icon,x=e.pathname.startsWith(g.href);return o.includes(g)||a&&!v&&f.includes(g)?c.jsxs(fe,{to:g.href,className:`flex items-center px-3 py-2 border-l-4 text-base font-medium ${x?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:()=>n(!1),children:[c.jsx(w,{className:"w-5 h-5 mr-3"}),g.name]},g.name):null})}),v?c.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center px-4 space-y-2",children:[c.jsx(fe,{to:"/login",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900",onClick:()=>n(!1),children:"Sign in"}),c.jsx(fe,{to:"/register",className:"block btn-primary w-full text-center",onClick:()=>n(!1),children:"Get Started"})]})}):c.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center px-4 space-x-3",children:[c.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:c.jsx(n1,{className:"w-5 h-5"})}),c.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 text-red-600",children:c.jsx(t1,{className:"w-5 h-5"})})]})})]})]}),c.jsx("main",{className:"flex-1",children:t}),c.jsx("footer",{className:"bg-white border-t",children:c.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"text-center text-gray-500",children:c.jsxs("p",{children:[" ",new Date().getFullYear()," EventPro. All rights reserved."]})})})})]})},hr=({children:t,requireOrganizer:e=!1,requireAdmin:r=!1})=>{const{isAuthenticated:n,user:i,isLoading:a}=rn(),s=ji();return a?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?r&&(i==null?void 0:i.role)!=="admin"?c.jsx(Yn,{to:"/dashboard",replace:!0}):e&&!["organizer","admin"].includes((i==null?void 0:i.role)||"")?c.jsx(Yn,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:t}):c.jsx(Yn,{to:"/login",state:{from:s},replace:!0})},d3=()=>{const t=[{icon:qt,title:"Easy Event Creation",description:"Create and manage events with our intuitive event creation wizard."},{icon:Vr,title:"Flexible Registration",description:"Build custom registration forms with drag-and-drop form builder."},{icon:Os,title:"QR Code Attendance",description:"Track attendance with QR code scanning for seamless check-ins."},{icon:Zv,title:"Digital Certificates",description:"Generate and distribute certificates automatically to attendees."}],e=["Create unlimited events","Custom registration forms","Real-time attendance tracking","Automated certificate generation","Payment integration","Analytics dashboard"];return c.jsxs("div",{children:[c.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Manage Events Like a Pro"}),c.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Complete event management platform with registration, attendance tracking, and certificate generation - all in one place."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(fe,{to:"/events",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:["Browse Events",c.jsx(q0,{className:"w-5 h-5 ml-2"})]}),c.jsx(fe,{to:"/register",className:"border border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:"Get Started Free"})]})]})})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage events"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From creation to certification, we've got every aspect of event management covered."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,n)=>{const i=r.icon;return c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4",children:c.jsx(i,{className:"w-8 h-8 text-primary-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),c.jsx("p",{className:"text-gray-600",children:r.description})]},n)})})]})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Why choose EventPro?"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Our platform is designed to streamline every aspect of event management, from initial planning to post-event certificate distribution."}),c.jsx("div",{className:"space-y-4",children:e.map((r,n)=>c.jsxs("div",{className:"flex items-start",children:[c.jsx(sf,{className:"w-6 h-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:r})]},n))})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to get started?"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Join thousands of event organizers who trust EventPro to manage their events."}),c.jsx(fe,{to:"/register",className:"btn-primary w-full text-center block",children:"Start Your Free Trial"})]})]})})}),c.jsx("section",{className:"bg-primary-600 text-white py-20",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to revolutionize your event management?"}),c.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Start managing your events professionally with our comprehensive platform."}),c.jsxs(fe,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center",children:["Get Started Now",c.jsx(q0,{className:"w-5 h-5 ml-2"})]})]})})]})};var Vs=t=>t.type==="checkbox",xi=t=>t instanceof Date,Ut=t=>t==null;const im=t=>typeof t=="object";var rt=t=>!Ut(t)&&!Array.isArray(t)&&im(t)&&!xi(t),f3=t=>rt(t)&&t.target?Vs(t.target)?t.target.checked:t.target.value:t,h3=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,p3=(t,e)=>t.has(h3(e)),v3=t=>{const e=t.constructor&&t.constructor.prototype;return rt(e)&&e.hasOwnProperty("isPrototypeOf")},uf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ht(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(uf&&(t instanceof Blob||n))&&(r||rt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!v3(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ht(t[i]));else return t;return e}var Fl=t=>/^\w*$/.test(t),et=t=>t===void 0,df=t=>Array.isArray(t)?t.filter(Boolean):[],ff=t=>df(t.replace(/["|']|\]/g,"").split(/\.|\[/)),G=(t,e,r)=>{if(!e||!rt(t))return r;const n=(Fl(e)?[e]:ff(e)).reduce((i,a)=>Ut(i)?i:i[a],t);return et(n)||n===t?et(t[e])?r:t[e]:n},Gr=t=>typeof t=="boolean",Te=(t,e,r)=>{let n=-1;const i=Fl(e)?[e]:ff(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const u=t[o];l=rt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const s1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},m3=jt.createContext(null);m3.displayName="HookFormContext";var g3=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Rr.all&&(e._proxyFormState[s]=!n||Rr.all),r&&(r[s]=!0),t[s]}});return i};const x3=typeof window<"u"?jt.useLayoutEffect:jt.useEffect;var tr=t=>typeof t=="string",y3=(t,e,r,n,i)=>tr(t)?(n&&e.watch.add(t),G(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),G(r,a))):(n&&(e.watchAll=!0),r),Lu=t=>Ut(t)||!im(t);function Pn(t,e,r=new WeakSet){if(Lu(t)||Lu(e))return t===e;if(xi(t)&&xi(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const s=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=e[a];if(xi(s)&&xi(o)||rt(s)&&rt(o)||Array.isArray(s)&&Array.isArray(o)?!Pn(s,o,r):s!==o)return!1}}return!0}var am=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},ls=t=>Array.isArray(t)?t:[t],o1=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function sm(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],a=e[n];if(i&&rt(i)&&a){const s=sm(i,a);rt(s)&&(r[n]=s)}else t[n]&&(r[n]=a)}return r}var Wt=t=>rt(t)&&!Object.keys(t).length,hf=t=>t.type==="file",Dr=t=>typeof t=="function",ll=t=>{if(!uf)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},om=t=>t.type==="select-multiple",pf=t=>t.type==="radio",w3=t=>pf(t)||Vs(t),Ac=t=>ll(t)&&t.isConnected;function _3(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=et(t)?n++:t[e[n++]];return t}function E3(t){for(const e in t)if(t.hasOwnProperty(e)&&!et(t[e]))return!1;return!0}function Je(t,e){const r=Array.isArray(e)?e:Fl(e)?[e]:ff(e),n=r.length===1?t:_3(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(rt(n)&&Wt(n)||Array.isArray(n)&&E3(n))&&Je(t,r.slice(0,-1)),t}var b3=t=>{for(const e in t)if(Dr(t[e]))return!0;return!1};function lm(t){return Array.isArray(t)||rt(t)&&!b3(t)}function Fu(t,e={}){for(const r in t)lm(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Fu(t[r],e[r])):Ut(t[r])||(e[r]=!0);return e}function Mi(t,e,r){r||(r=Fu(e));for(const n in t)lm(t[n])?et(e)||Lu(r[n])?r[n]=Fu(t[n],Array.isArray(t[n])?[]:{}):Mi(t[n],Ut(e)?{}:e[n],r[n]):r[n]=!Pn(t[n],e[n]);return r}const l1={value:!1,isValid:!1},c1={value:!0,isValid:!0};var cm=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!et(t[0].attributes.value)?et(t[0].value)||t[0].value===""?c1:{value:t[0].value,isValid:!0}:c1:l1}return l1},um=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>et(t)?t:e?t===""?NaN:t&&+t:r&&tr(t)?new Date(t):n?n(t):t;const u1={isValid:!1,value:null};var dm=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,u1):u1;function d1(t){const e=t.ref;return hf(e)?e.files:pf(e)?dm(t.refs).value:om(e)?[...e.selectedOptions].map(({value:r})=>r):Vs(e)?cm(t.refs).value:um(et(e.value)?t.ref.value:e.value,t)}var C3=(t,e,r,n)=>{const i={};for(const a of t){const s=G(e,a);s&&Te(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},cl=t=>t instanceof RegExp,La=t=>et(t)?t:cl(t)?t.source:rt(t)?cl(t.value)?t.value.source:t.value:t,f1=t=>({isOnSubmit:!t||t===Rr.onSubmit,isOnBlur:t===Rr.onBlur,isOnChange:t===Rr.onChange,isOnAll:t===Rr.all,isOnTouch:t===Rr.onTouched});const h1="AsyncFunction";var N3=t=>!!t&&!!t.validate&&!!(Dr(t.validate)&&t.validate.constructor.name===h1||rt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===h1)),A3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),p1=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const cs=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=G(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(cs(o,e))break}else if(rt(o)&&cs(o,e))break}}};function v1(t,e,r){const n=G(t,r);if(n||Fl(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=G(e,a),o=G(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var S3=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Wt(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||Rr.all))},I3=(t,e,r)=>!t||!e||t===e||ls(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),T3=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,O3=(t,e)=>!df(G(t,e)).length&&Je(t,e),k3=(t,e,r)=>{const n=ls(G(t,r));return Te(n,"root",e[r]),Te(t,r,n),t};function m1(t,e,r="validate"){if(tr(t)||Array.isArray(t)&&t.every(tr)||Gr(t)&&!t)return{type:r,message:tr(t)?t:"",ref:e}}var Di=t=>rt(t)&&!cl(t)?t:{value:t,message:""},g1=async(t,e,r,n,i,a)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:g,valueAsNumber:w,mount:x}=t._f,m=G(r,g);if(!x||e.has(g))return{};const y=o?o[0]:s,_=U=>{i&&y.reportValidity&&(y.setCustomValidity(Gr(U)?"":U||""),y.reportValidity())},b={},A=pf(s),I=Vs(s),S=A||I,k=(w||hf(s))&&et(s.value)&&et(m)||ll(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,R=am.bind(null,g,n,b),K=(U,X,oe,Ae=sn.maxLength,Be=sn.minLength)=>{const qe=U?X:oe;b[g]={type:U?Ae:Be,message:qe,ref:s,...R(U?Ae:Be,qe)}};if(a?!Array.isArray(m)||!m.length:l&&(!S&&(k||Ut(m))||Gr(m)&&!m||I&&!cm(o).isValid||A&&!dm(o).isValid)){const{value:U,message:X}=tr(l)?{value:!!l,message:l}:Di(l);if(U&&(b[g]={type:sn.required,message:X,ref:y,...R(sn.required,X)},!n))return _(X),b}if(!k&&(!Ut(f)||!Ut(h))){let U,X;const oe=Di(h),Ae=Di(f);if(!Ut(m)&&!isNaN(m)){const Be=s.valueAsNumber||m&&+m;Ut(oe.value)||(U=Be>oe.value),Ut(Ae.value)||(X=Be<Ae.value)}else{const Be=s.valueAsDate||new Date(m),qe=q=>new Date(new Date().toDateString()+" "+q),z=s.type=="time",re=s.type=="week";tr(oe.value)&&m&&(U=z?qe(m)>qe(oe.value):re?m>oe.value:Be>new Date(oe.value)),tr(Ae.value)&&m&&(X=z?qe(m)<qe(Ae.value):re?m<Ae.value:Be<new Date(Ae.value))}if((U||X)&&(K(!!U,oe.message,Ae.message,sn.max,sn.min),!n))return _(b[g].message),b}if((u||d)&&!k&&(tr(m)||a&&Array.isArray(m))){const U=Di(u),X=Di(d),oe=!Ut(U.value)&&m.length>+U.value,Ae=!Ut(X.value)&&m.length<+X.value;if((oe||Ae)&&(K(oe,U.message,X.message),!n))return _(b[g].message),b}if(p&&!k&&tr(m)){const{value:U,message:X}=Di(p);if(cl(U)&&!m.match(U)&&(b[g]={type:sn.pattern,message:X,ref:s,...R(sn.pattern,X)},!n))return _(X),b}if(v){if(Dr(v)){const U=await v(m,r),X=m1(U,y);if(X&&(b[g]={...X,...R(sn.validate,X.message)},!n))return _(X.message),b}else if(rt(v)){let U={};for(const X in v){if(!Wt(U)&&!n)break;const oe=m1(await v[X](m,r),y,X);oe&&(U={...oe,...R(X,oe.message)},_(oe.message),n&&(b[g]=U))}if(!Wt(U)&&(b[g]={ref:y,...U},!n))return b}}return _(!0),b};const j3={mode:Rr.onSubmit,reValidateMode:Rr.onChange,shouldFocusError:!0};function R3(t={}){let e={...j3,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=rt(e.defaultValues)||rt(e.values)?ht(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ht(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:o1(),state:o1()},p=e.criteriaMode===Rr.all,v=C=>O=>{clearTimeout(u),u=setTimeout(C,O)},g=async C=>{if(!e.disabled&&(d.isValid||f.isValid||C)){const O=e.resolver?Wt((await I()).errors):await k(n,!0);O!==r.isValid&&h.state.next({isValid:O})}},w=(C,O)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((C||Array.from(o.mount)).forEach(D=>{D&&(O?Te(r.validatingFields,D,O):Je(r.validatingFields,D))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Wt(r.validatingFields)}))},x=(C,O=[],D,H,V=!0,F=!0)=>{if(H&&D&&!e.disabled){if(s.action=!0,F&&Array.isArray(G(n,C))){const J=D(G(n,C),H.argA,H.argB);V&&Te(n,C,J)}if(F&&Array.isArray(G(r.errors,C))){const J=D(G(r.errors,C),H.argA,H.argB);V&&Te(r.errors,C,J),O3(r.errors,C)}if((d.touchedFields||f.touchedFields)&&F&&Array.isArray(G(r.touchedFields,C))){const J=D(G(r.touchedFields,C),H.argA,H.argB);V&&Te(r.touchedFields,C,J)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Mi(i,a)),h.state.next({name:C,isDirty:K(C,O),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Te(a,C,O)},m=(C,O)=>{Te(r.errors,C,O),h.state.next({errors:r.errors})},y=C=>{r.errors=C,h.state.next({errors:r.errors,isValid:!1})},_=(C,O,D,H)=>{const V=G(n,C);if(V){const F=G(a,C,et(D)?G(i,C):D);et(F)||H&&H.defaultChecked||O?Te(a,C,O?F:d1(V._f)):oe(C,F),s.mount&&g()}},b=(C,O,D,H,V)=>{let F=!1,J=!1;const Ee={name:C};if(!e.disabled){if(!D||H){(d.isDirty||f.isDirty)&&(J=r.isDirty,r.isDirty=Ee.isDirty=K(),F=J!==Ee.isDirty);const ke=Pn(G(i,C),O);J=!!G(r.dirtyFields,C),ke?Je(r.dirtyFields,C):Te(r.dirtyFields,C,!0),Ee.dirtyFields=r.dirtyFields,F=F||(d.dirtyFields||f.dirtyFields)&&J!==!ke}if(D){const ke=G(r.touchedFields,C);ke||(Te(r.touchedFields,C,D),Ee.touchedFields=r.touchedFields,F=F||(d.touchedFields||f.touchedFields)&&ke!==D)}F&&V&&h.state.next(Ee)}return F?Ee:{}},A=(C,O,D,H)=>{const V=G(r.errors,C),F=(d.isValid||f.isValid)&&Gr(O)&&r.isValid!==O;if(e.delayError&&D?(l=v(()=>m(C,D)),l(e.delayError)):(clearTimeout(u),l=null,D?Te(r.errors,C,D):Je(r.errors,C)),(D?!Pn(V,D):V)||!Wt(H)||F){const J={...H,...F&&Gr(O)?{isValid:O}:{},errors:r.errors,name:C};r={...r,...J},h.state.next(J)}},I=async C=>{w(C,!0);const O=await e.resolver(a,e.context,C3(C||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(C),O},S=async C=>{const{errors:O}=await I(C);if(C)for(const D of C){const H=G(O,D);H?Te(r.errors,D,H):Je(r.errors,D)}else r.errors=O;return O},k=async(C,O,D={valid:!0})=>{for(const H in C){const V=C[H];if(V){const{_f:F,...J}=V;if(F){const Ee=o.array.has(F.name),ke=V._f&&N3(V._f);ke&&d.validatingFields&&w([F.name],!0);const fr=await g1(V,o.disabled,a,p,e.shouldUseNativeValidation&&!O,Ee);if(ke&&d.validatingFields&&w([F.name]),fr[F.name]&&(D.valid=!1,O))break;!O&&(G(fr,F.name)?Ee?k3(r.errors,fr,F.name):Te(r.errors,F.name,fr[F.name]):Je(r.errors,F.name))}!Wt(J)&&await k(J,O,D)}}return D.valid},R=()=>{for(const C of o.unMount){const O=G(n,C);O&&(O._f.refs?O._f.refs.every(D=>!Ac(D)):!Ac(O._f.ref))&&$r(C)}o.unMount=new Set},K=(C,O)=>!e.disabled&&(C&&O&&Te(a,C,O),!Pn(q(),i)),U=(C,O,D)=>y3(C,o,{...s.mount?a:et(O)?i:tr(C)?{[C]:O}:O},D,O),X=C=>df(G(s.mount?a:i,C,e.shouldUnregister?G(i,C,[]):[])),oe=(C,O,D={})=>{const H=G(n,C);let V=O;if(H){const F=H._f;F&&(!F.disabled&&Te(a,C,um(O,F)),V=ll(F.ref)&&Ut(O)?"":O,om(F.ref)?[...F.ref.options].forEach(J=>J.selected=V.includes(J.value)):F.refs?Vs(F.ref)?F.refs.forEach(J=>{(!J.defaultChecked||!J.disabled)&&(Array.isArray(V)?J.checked=!!V.find(Ee=>Ee===J.value):J.checked=V===J.value||!!V)}):F.refs.forEach(J=>J.checked=J.value===V):hf(F.ref)?F.ref.value="":(F.ref.value=V,F.ref.type||h.state.next({name:C,values:ht(a)})))}(D.shouldDirty||D.shouldTouch)&&b(C,V,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&re(C)},Ae=(C,O,D)=>{for(const H in O){if(!O.hasOwnProperty(H))return;const V=O[H],F=C+"."+H,J=G(n,F);(o.array.has(C)||rt(V)||J&&!J._f)&&!xi(V)?Ae(F,V,D):oe(F,V,D)}},Be=(C,O,D={})=>{const H=G(n,C),V=o.array.has(C),F=ht(O);Te(a,C,F),V?(h.array.next({name:C,values:ht(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&D.shouldDirty&&h.state.next({name:C,dirtyFields:Mi(i,a),isDirty:K(C,F)})):H&&!H._f&&!Ut(F)?Ae(C,F,D):oe(C,F,D),p1(C,o)&&h.state.next({...r,name:C}),h.state.next({name:s.mount?C:void 0,values:ht(a)})},qe=async C=>{s.mount=!0;const O=C.target;let D=O.name,H=!0;const V=G(n,D),F=ke=>{H=Number.isNaN(ke)||xi(ke)&&isNaN(ke.getTime())||Pn(ke,G(a,D,ke))},J=f1(e.mode),Ee=f1(e.reValidateMode);if(V){let ke,fr;const Hs=O.type?d1(V._f):f3(C),bn=C.type===s1.BLUR||C.type===s1.FOCUS_OUT,Km=!A3(V._f)&&!e.resolver&&!G(r.errors,D)&&!V._f.deps||T3(bn,G(r.touchedFields,D),r.isSubmitted,Ee,J),Xl=p1(D,o,bn);Te(a,D,Hs),bn?(!O||!O.readOnly)&&(V._f.onBlur&&V._f.onBlur(C),l&&l(0)):V._f.onChange&&V._f.onChange(C);const Zl=b(D,Hs,bn),Qm=!Wt(Zl)||Xl;if(!bn&&h.state.next({name:D,type:C.type,values:ht(a)}),Km)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?bn&&g():bn||g()),Qm&&h.state.next({name:D,...Xl?{}:Zl});if(!bn&&Xl&&h.state.next({...r}),e.resolver){const{errors:Of}=await I([D]);if(F(Hs),H){const qm=v1(r.errors,n,D),kf=v1(Of,n,qm.name||D);ke=kf.error,D=kf.name,fr=Wt(Of)}}else w([D],!0),ke=(await g1(V,o.disabled,a,p,e.shouldUseNativeValidation))[D],w([D]),F(Hs),H&&(ke?fr=!1:(d.isValid||f.isValid)&&(fr=await k(n,!0)));H&&(V._f.deps&&(!Array.isArray(V._f.deps)||V._f.deps.length>0)&&re(V._f.deps),A(D,fr,ke,Zl))}},z=(C,O)=>{if(G(r.errors,O)&&C.focus)return C.focus(),1},re=async(C,O={})=>{let D,H;const V=ls(C);if(e.resolver){const F=await S(et(C)?C:V);D=Wt(F),H=C?!V.some(J=>G(F,J)):D}else C?(H=(await Promise.all(V.map(async F=>{const J=G(n,F);return await k(J&&J._f?{[F]:J}:J)}))).every(Boolean),!(!H&&!r.isValid)&&g()):H=D=await k(n);return h.state.next({...!tr(C)||(d.isValid||f.isValid)&&D!==r.isValid?{}:{name:C},...e.resolver||!C?{isValid:D}:{},errors:r.errors}),O.shouldFocus&&!H&&cs(n,z,C?V:o.mount),H},q=(C,O)=>{let D={...s.mount?a:i};return O&&(D=sm(O.dirtyFields?r.dirtyFields:r.touchedFields,D)),et(C)?D:tr(C)?G(D,C):C.map(H=>G(D,H))},Oe=(C,O)=>({invalid:!!G((O||r).errors,C),isDirty:!!G((O||r).dirtyFields,C),error:G((O||r).errors,C),isValidating:!!G(r.validatingFields,C),isTouched:!!G((O||r).touchedFields,C)}),Ge=C=>{C&&ls(C).forEach(O=>Je(r.errors,O)),h.state.next({errors:C?r.errors:{}})},nn=(C,O,D)=>{const H=(G(n,C,{_f:{}})._f||{}).ref,V=G(r.errors,C)||{},{ref:F,message:J,type:Ee,...ke}=V;Te(r.errors,C,{...ke,...O,ref:H}),h.state.next({name:C,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&H&&H.focus&&H.focus()},ur=(C,O)=>Dr(C)?h.state.subscribe({next:D=>"values"in D&&C(U(void 0,O),D)}):U(C,O,!0),En=C=>h.state.subscribe({next:O=>{I3(C.name,O.name,C.exact)&&S3(O,C.formState||d,Ym,C.reRenderRoot)&&C.callback({values:{...a},...r,...O,defaultValues:i})}}).unsubscribe,Ar=C=>(s.mount=!0,f={...f,...C.formState},En({...C,formState:f})),$r=(C,O={})=>{for(const D of C?ls(C):o.mount)o.mount.delete(D),o.array.delete(D),O.keepValue||(Je(n,D),Je(a,D)),!O.keepError&&Je(r.errors,D),!O.keepDirty&&Je(r.dirtyFields,D),!O.keepTouched&&Je(r.touchedFields,D),!O.keepIsValidating&&Je(r.validatingFields,D),!e.shouldUnregister&&!O.keepDefaultValue&&Je(i,D);h.state.next({values:ht(a)}),h.state.next({...r,...O.keepDirty?{isDirty:K()}:{}}),!O.keepIsValid&&g()},M=({disabled:C,name:O})=>{(Gr(C)&&s.mount||C||o.disabled.has(O))&&(C?o.disabled.add(O):o.disabled.delete(O))},ie=(C,O={})=>{let D=G(n,C);const H=Gr(O.disabled)||Gr(e.disabled);return Te(n,C,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:C}},name:C,mount:!0,...O}}),o.mount.add(C),D?M({disabled:Gr(O.disabled)?O.disabled:e.disabled,name:C}):_(C,!0,O.value),{...H?{disabled:O.disabled||e.disabled}:{},...e.progressive?{required:!!O.required,min:La(O.min),max:La(O.max),minLength:La(O.minLength),maxLength:La(O.maxLength),pattern:La(O.pattern)}:{},name:C,onChange:qe,onBlur:qe,ref:V=>{if(V){ie(C,O),D=G(n,C);const F=et(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,J=w3(F),Ee=D._f.refs||[];if(J?Ee.find(ke=>ke===F):F===D._f.ref)return;Te(n,C,{_f:{...D._f,...J?{refs:[...Ee.filter(Ac),F,...Array.isArray(G(i,C))?[{}]:[]],ref:{type:F.type,name:C}}:{ref:F}}}),_(C,!1,void 0,F)}else D=G(n,C,{}),D._f&&(D._f.mount=!1),(e.shouldUnregister||O.shouldUnregister)&&!(p3(o.array,C)&&s.action)&&o.unMount.add(C)}}},Ue=()=>e.shouldFocusError&&cs(n,z,o.mount),Se=C=>{Gr(C)&&(h.state.next({disabled:C}),cs(n,(O,D)=>{const H=G(n,D);H&&(O.disabled=H._f.disabled||C,Array.isArray(H._f.refs)&&H._f.refs.forEach(V=>{V.disabled=H._f.disabled||C}))},0,!1))},dr=(C,O)=>async D=>{let H;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let V=ht(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:F,values:J}=await I();r.errors=F,V=ht(J)}else await k(n);if(o.disabled.size)for(const F of o.disabled)Je(V,F);if(Je(r.errors,"root"),Wt(r.errors)){h.state.next({errors:{}});try{await C(V,D)}catch(F){H=F}}else O&&await O({...r.errors},D),Ue(),setTimeout(Ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wt(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},Xm=(C,O={})=>{G(n,C)&&(et(O.defaultValue)?Be(C,ht(G(i,C))):(Be(C,O.defaultValue),Te(i,C,ht(O.defaultValue))),O.keepTouched||Je(r.touchedFields,C),O.keepDirty||(Je(r.dirtyFields,C),r.isDirty=O.defaultValue?K(C,ht(G(i,C))):K()),O.keepError||(Je(r.errors,C),d.isValid&&g()),h.state.next({...r}))},Sf=(C,O={})=>{const D=C?ht(C):i,H=ht(D),V=Wt(C),F=V?i:H;if(O.keepDefaultValues||(i=D),!O.keepValues){if(O.keepDirtyValues){const J=new Set([...o.mount,...Object.keys(Mi(i,a))]);for(const Ee of Array.from(J))G(r.dirtyFields,Ee)?Te(F,Ee,G(a,Ee)):Be(Ee,G(F,Ee))}else{if(uf&&et(C))for(const J of o.mount){const Ee=G(n,J);if(Ee&&Ee._f){const ke=Array.isArray(Ee._f.refs)?Ee._f.refs[0]:Ee._f.ref;if(ll(ke)){const fr=ke.closest("form");if(fr){fr.reset();break}}}}if(O.keepFieldsRef)for(const J of o.mount)Be(J,G(F,J));else n={}}a=e.shouldUnregister?O.keepDefaultValues?ht(i):{}:ht(F),h.array.next({values:{...F}}),h.state.next({values:{...F}})}o={mount:O.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:O.keepSubmitCount?r.submitCount:0,isDirty:V?!1:O.keepDirty?r.isDirty:!!(O.keepDefaultValues&&!Pn(C,i)),isSubmitted:O.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:V?{}:O.keepDirtyValues?O.keepDefaultValues&&a?Mi(i,a):r.dirtyFields:O.keepDefaultValues&&C?Mi(i,C):O.keepDirty?r.dirtyFields:{},touchedFields:O.keepTouched?r.touchedFields:{},errors:O.keepErrors?r.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},If=(C,O)=>Sf(Dr(C)?C(a):C,O),Zm=(C,O={})=>{const D=G(n,C),H=D&&D._f;if(H){const V=H.refs?H.refs[0]:H.ref;V.focus&&(V.focus(),O.shouldSelect&&Dr(V.select)&&V.select())}},Ym=C=>{r={...r,...C}},Tf={control:{register:ie,unregister:$r,getFieldState:Oe,handleSubmit:dr,setError:nn,_subscribe:En,_runSchema:I,_focusError:Ue,_getWatch:U,_getDirty:K,_setValid:g,_setFieldArray:x,_setDisabledField:M,_setErrors:y,_getFieldArray:X,_reset:Sf,_resetDefaultValues:()=>Dr(e.defaultValues)&&e.defaultValues().then(C=>{If(C,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Se,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(C){s=C},get _defaultValues(){return i},get _names(){return o},set _names(C){o=C},get _formState(){return r},get _options(){return e},set _options(C){e={...e,...C}}},subscribe:Ar,trigger:re,register:ie,handleSubmit:dr,watch:ur,setValue:Be,getValues:q,reset:If,resetField:Xm,clearErrors:Ge,unregister:$r,setError:nn,setFocus:Zm,getFieldState:Oe};return{...Tf,formControl:Tf}}function Bl(t={}){const e=jt.useRef(void 0),r=jt.useRef(void 0),[n,i]=jt.useState({isDirty:!1,isValidating:!1,isLoading:Dr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Dr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Dr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=R3(t);e.current={...o,formState:n}}const a=e.current.control;return a._options=t,x3(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),jt.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),jt.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),jt.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),jt.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),jt.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),jt.useEffect(()=>{t.values&&!Pn(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[a,t.values]),jt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=g3(n,a),e.current}const x1=(t,e,r)=>{if(t&&"reportValidity"in t){const n=G(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},fm=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?x1(n.ref,r,t):n.refs&&n.refs.forEach(i=>x1(i,r,t))}},D3=(t,e)=>{e.shouldUseNativeValidation&&fm(t,e);const r={};for(const n in t){const i=G(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(P3(e.names||Object.keys(t),n)){const s=Object.assign({},G(r,n));Te(s,"root",a),Te(r,n,s)}else Te(r,n,a)}return r},P3=(t,e)=>t.some(r=>r.startsWith(e+"."));var M3=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=r[s].types,u=l&&l[n.code];r[s]=am(s,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},Ul=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&fm({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:D3(M3(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},xe;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(xe||(xe={}));var y1;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(y1||(y1={}));const Z=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),On=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return Number.isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},L=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),n}static assert(e){if(!(e instanceof xn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xn.create=t=>new xn(t);const L3=(t,e)=>{let r;switch(t.code){case L.invalid_type:t.received===Z.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case L.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,xe.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:r=`Unrecognized key(s) in object: ${xe.joinValues(t.keys,", ")}`;break;case L.invalid_union:r="Invalid input";break;case L.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${xe.joinValues(t.options)}`;break;case L.invalid_enum_value:r=`Invalid enum value. Expected ${xe.joinValues(t.options)}, received '${t.received}'`;break;case L.invalid_arguments:r="Invalid function arguments";break;case L.invalid_return_type:r="Invalid function return type";break;case L.invalid_date:r="Invalid date";break;case L.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:xe.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case L.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case L.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case L.custom:r="Invalid input";break;case L.invalid_intersection_types:r="Intersection results could not be merged";break;case L.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case L.not_finite:r="Number must be finite";break;default:r=e.defaultError,xe.assertNever(t)}return{message:r}},Bu=L3;let F3=Bu;function B3(){return F3}const U3=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function $(t,e){const r=B3(),n=U3({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Bu?void 0:Bu].filter(i=>!!i)});t.common.issues.push(n)}class sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return ae;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return sr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return ae;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:e.value,value:n}}}const ae=Object.freeze({status:"aborted"}),Ga=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),w1=t=>t.status==="aborted",_1=t=>t.status==="dirty",pa=t=>t.status==="valid",ul=t=>typeof Promise<"u"&&t instanceof Promise;var Q;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Q||(Q={}));class ti{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const E1=(t,e)=>{if(pa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xn(t.common.issues);return this._error=r,this._error}}};function ue(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class me{get description(){return this._def.description}_getType(e){return On(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:On(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sr,ctx:{common:e.parent.common,data:e.data,parsedType:On(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ul(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:On(e)},i=this._parseSync({data:e,path:n.path,parent:n});return E1(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:On(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return pa(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>pa(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:On(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(ul(i)?i:Promise.resolve(i));return E1(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:L.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new ga({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Kn.create(this,this._def)}nullable(){return xa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return en.create(this)}promise(){return pl.create(this,this._def)}or(e){return fl.create([this,e],this._def)}and(e){return hl.create(this,e,this._def)}transform(e){return new ga({...ue(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new $u({...ue(this._def),innerType:this,defaultValue:r,typeName:se.ZodDefault})}brand(){return new c4({typeName:se.ZodBranded,type:this,...ue(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Hu({...ue(this._def),innerType:this,catchValue:r,typeName:se.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return vf.create(this,e)}readonly(){return Wu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const V3=/^c[^\s-]{8,}$/i,z3=/^[0-9a-z]+$/,$3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,H3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,W3=/^[a-z0-9_-]{21}$/i,G3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,X3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Y3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sc;const K3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Q3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,J3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,e4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,t4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",r4=new RegExp(`^${hm}$`);function pm(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function n4(t){return new RegExp(`^${pm(t)}$`)}function i4(t){let e=`${hm}T${pm(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function a4(t,e){return!!((e==="v4"||!e)&&K3.test(t)||(e==="v6"||!e)&&q3.test(t))}function s4(t,e){if(!G3.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function o4(t,e){return!!((e==="v4"||!e)&&Q3.test(t)||(e==="v6"||!e)&&J3.test(t))}class Bn extends me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:Z.string,received:a.parsedType}),ae}const n=new sr;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:L.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:L.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?$(i,{code:L.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&$(i,{code:L.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Z3.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"email",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Sc||(Sc=new RegExp(Y3,"u")),Sc.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"emoji",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")H3.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"uuid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")W3.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"nanoid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")V3.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cuid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")z3.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cuid2",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")$3.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"ulid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),$(i,{validation:"url",code:L.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"regex",code:L.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),$(i,{code:L.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),$(i,{code:L.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),$(i,{code:L.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?i4(a).test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:L.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?r4.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:L.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?n4(a).test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:L.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?X3.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"duration",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?a4(e.data,a.version)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"ip",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?s4(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"jwt",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?o4(e.data,a.version)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"cidr",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?e4.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"base64",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?t4.test(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{validation:"base64url",code:L.invalid_string,message:a.message}),n.dirty()):xe.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:L.invalid_string,...Q.errToObj(n)})}_addCheck(e){return new Bn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Q.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Q.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Q.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Q.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Q.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Q.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Q.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Q.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Q.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Q.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Q.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Q.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Q.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Q.errToObj(r)})}nonempty(e){return this.min(1,Q.errToObj(e))}trim(){return new Bn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Bn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Bn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Bn.create=t=>new Bn({checks:[],typeName:se.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ue(t)});function l4(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return a%s/10**i}class va extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:Z.number,received:a.parsedType}),ae}let n;const i=new sr;for(const a of this._def.checks)a.kind==="int"?xe.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?l4(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),$(n,{code:L.not_finite,message:a.message}),i.dirty()):xe.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Q.toString(r))}setLimit(e,r,n,i){return new va({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Q.toString(i)}]})}_addCheck(e){return new va({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Q.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xe.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}va.create=t=>new va({checks:[],typeName:se.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class Rs extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let n;const i=new sr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),$(n,{code:L.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):xe.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return $(r,{code:L.invalid_type,expected:Z.bigint,received:r.parsedType}),ae}gte(e,r){return this.setLimit("min",e,!0,Q.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Q.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Q.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Q.toString(r))}setLimit(e,r,n,i){return new Rs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Q.toString(i)}]})}_addCheck(e){return new Rs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Q.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Q.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Rs.create=t=>new Rs({checks:[],typeName:se.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ue(t)});class Uu extends me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const n=this._getOrReturnCtx(e);return $(n,{code:L.invalid_type,expected:Z.boolean,received:n.parsedType}),ae}return Nr(e.data)}}Uu.create=t=>new Uu({typeName:se.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class dl extends me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_type,expected:Z.date,received:a.parsedType}),ae}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return $(a,{code:L.invalid_date}),ae}const n=new sr;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:L.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),$(i,{code:L.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):xe.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dl({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Q.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Q.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}dl.create=t=>new dl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:se.ZodDate,...ue(t)});class b1 extends me{_parse(e){if(this._getType(e)!==Z.symbol){const n=this._getOrReturnCtx(e);return $(n,{code:L.invalid_type,expected:Z.symbol,received:n.parsedType}),ae}return Nr(e.data)}}b1.create=t=>new b1({typeName:se.ZodSymbol,...ue(t)});class C1 extends me{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return $(n,{code:L.invalid_type,expected:Z.undefined,received:n.parsedType}),ae}return Nr(e.data)}}C1.create=t=>new C1({typeName:se.ZodUndefined,...ue(t)});class N1 extends me{_parse(e){if(this._getType(e)!==Z.null){const n=this._getOrReturnCtx(e);return $(n,{code:L.invalid_type,expected:Z.null,received:n.parsedType}),ae}return Nr(e.data)}}N1.create=t=>new N1({typeName:se.ZodNull,...ue(t)});class A1 extends me{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}}A1.create=t=>new A1({typeName:se.ZodAny,...ue(t)});class S1 extends me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}}S1.create=t=>new S1({typeName:se.ZodUnknown,...ue(t)});class ri extends me{_parse(e){const r=this._getOrReturnCtx(e);return $(r,{code:L.invalid_type,expected:Z.never,received:r.parsedType}),ae}}ri.create=t=>new ri({typeName:se.ZodNever,...ue(t)});class I1 extends me{_parse(e){if(this._getType(e)!==Z.undefined){const n=this._getOrReturnCtx(e);return $(n,{code:L.invalid_type,expected:Z.void,received:n.parsedType}),ae}return Nr(e.data)}}I1.create=t=>new I1({typeName:se.ZodVoid,...ue(t)});class en extends me{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Z.array)return $(r,{code:L.invalid_type,expected:Z.array,received:r.parsedType}),ae;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&($(r,{code:s?L.too_big:L.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&($(r,{code:L.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&($(r,{code:L.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new ti(r,s,r.path,o)))).then(s=>sr.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new ti(r,s,r.path,o)));return sr.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new en({...this._def,minLength:{value:e,message:Q.toString(r)}})}max(e,r){return new en({...this._def,maxLength:{value:e,message:Q.toString(r)}})}length(e,r){return new en({...this._def,exactLength:{value:e,message:Q.toString(r)}})}nonempty(e){return this.min(1,e)}}en.create=(t,e)=>new en({type:t,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...ue(e)});function Li(t){if(t instanceof Xe){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Kn.create(Li(n))}return new Xe({...t._def,shape:()=>e})}else return t instanceof en?new en({...t._def,type:Li(t.element)}):t instanceof Kn?Kn.create(Li(t.unwrap())):t instanceof xa?xa.create(Li(t.unwrap())):t instanceof Ii?Ii.create(t.items.map(e=>Li(e))):t}class Xe extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=xe.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Z.object){const u=this._getOrReturnCtx(e);return $(u,{code:L.invalid_type,expected:Z.object,received:u.parsedType}),ae}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof ri&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const l=[];for(const u of s){const d=a[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new ti(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ri){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&($(i,{code:L.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new ti(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>sr.mergeObjectSync(n,u)):sr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Q.errToObj,new Xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Q.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:se.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xe({...this._def,catchall:e})}pick(e){const r={};for(const n of xe.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xe({...this._def,shape:()=>r})}omit(e){const r={};for(const n of xe.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Xe({...this._def,shape:()=>r})}deepPartial(){return Li(this)}partial(e){const r={};for(const n of xe.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Xe({...this._def,shape:()=>r})}required(e){const r={};for(const n of xe.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Kn;)a=a._def.innerType;r[n]=a}return new Xe({...this._def,shape:()=>r})}keyof(){return vm(xe.objectKeys(this.shape))}}Xe.create=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strip",catchall:ri.create(),typeName:se.ZodObject,...ue(e)});Xe.strictCreate=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strict",catchall:ri.create(),typeName:se.ZodObject,...ue(e)});Xe.lazycreate=(t,e)=>new Xe({shape:t,unknownKeys:"strip",catchall:ri.create(),typeName:se.ZodObject,...ue(e)});class fl extends me{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new xn(o.ctx.common.issues));return $(r,{code:L.invalid_union,unionErrors:s}),ae}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new xn(l));return $(r,{code:L.invalid_union,unionErrors:o}),ae}}get options(){return this._def.options}}fl.create=(t,e)=>new fl({options:t,typeName:se.ZodUnion,...ue(e)});function Vu(t,e){const r=On(t),n=On(e);if(t===e)return{valid:!0,data:t};if(r===Z.object&&n===Z.object){const i=xe.objectKeys(e),a=xe.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=Vu(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(r===Z.array&&n===Z.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=Vu(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Z.date&&n===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class hl extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,s)=>{if(w1(a)||w1(s))return ae;const o=Vu(a.value,s.value);return o.valid?((_1(a)||_1(s))&&r.dirty(),{status:r.value,value:o.data}):($(n,{code:L.invalid_intersection_types}),ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}hl.create=(t,e,r)=>new hl({left:t,right:e,typeName:se.ZodIntersection,...ue(r)});class Ii extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.array)return $(n,{code:L.invalid_type,expected:Z.array,received:n.parsedType}),ae;if(n.data.length<this._def.items.length)return $(n,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ae;!this._def.rest&&n.data.length>this._def.items.length&&($(n,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ti(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>sr.mergeArray(r,s)):sr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ii({...this._def,rest:e})}}Ii.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ii({items:t,typeName:se.ZodTuple,rest:null,...ue(e)})};class T1 extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.map)return $(n,{code:L.invalid_type,expected:Z.map,received:n.parsedType}),ae;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,l],u)=>({key:i._parse(new ti(n,o,n.path,[u,"key"])),value:a._parse(new ti(n,l,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of s){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}T1.create=(t,e,r)=>new T1({valueType:e,keyType:t,typeName:se.ZodMap,...ue(r)});class Ds extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Z.set)return $(n,{code:L.invalid_type,expected:Z.set,received:n.parsedType}),ae;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&($(n,{code:L.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&($(n,{code:L.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return ae;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((l,u)=>a._parse(new ti(n,l,n.path,u)));return n.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,r){return new Ds({...this._def,minSize:{value:e,message:Q.toString(r)}})}max(e,r){return new Ds({...this._def,maxSize:{value:e,message:Q.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ds.create=(t,e)=>new Ds({valueType:t,minSize:null,maxSize:null,typeName:se.ZodSet,...ue(e)});class O1 extends me{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}O1.create=(t,e)=>new O1({getter:t,typeName:se.ZodLazy,...ue(e)});class zu extends me{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return $(r,{received:r.data,code:L.invalid_literal,expected:this._def.value}),ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}zu.create=(t,e)=>new zu({value:t,typeName:se.ZodLiteral,...ue(e)});function vm(t,e){return new ma({values:t,typeName:se.ZodEnum,...ue(e)})}class ma extends me{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return $(r,{expected:xe.joinValues(n),received:r.parsedType,code:L.invalid_type}),ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return $(r,{received:r.data,code:L.invalid_enum_value,options:n}),ae}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ma.create(e,{...this._def,...r})}exclude(e,r=this._def){return ma.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ma.create=vm;class k1 extends me{_parse(e){const r=xe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Z.string&&n.parsedType!==Z.number){const i=xe.objectValues(r);return $(n,{expected:xe.joinValues(i),received:n.parsedType,code:L.invalid_type}),ae}if(this._cache||(this._cache=new Set(xe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=xe.objectValues(r);return $(n,{received:n.data,code:L.invalid_enum_value,options:i}),ae}return Nr(e.data)}get enum(){return this._def.values}}k1.create=(t,e)=>new k1({values:t,typeName:se.ZodNativeEnum,...ue(e)});class pl extends me{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.promise&&r.common.async===!1)return $(r,{code:L.invalid_type,expected:Z.promise,received:r.parsedType}),ae;const n=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return Nr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}pl.create=(t,e)=>new pl({type:t,typeName:se.ZodPromise,...ue(e)});class ga extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{$(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return ae;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?ae:l.status==="dirty"||r.value==="dirty"?Ga(l.value):l});{if(r.value==="aborted")return ae;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?ae:o.status==="dirty"||r.value==="dirty"?Ga(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ae:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pa(s))return ae;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>pa(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):ae);xe.assertNever(i)}}ga.create=(t,e,r)=>new ga({schema:t,typeName:se.ZodEffects,effect:e,...ue(r)});ga.createWithPreprocess=(t,e,r)=>new ga({schema:e,effect:{type:"preprocess",transform:t},typeName:se.ZodEffects,...ue(r)});class Kn extends me{_parse(e){return this._getType(e)===Z.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Kn.create=(t,e)=>new Kn({innerType:t,typeName:se.ZodOptional,...ue(e)});class xa extends me{_parse(e){return this._getType(e)===Z.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xa.create=(t,e)=>new xa({innerType:t,typeName:se.ZodNullable,...ue(e)});class $u extends me{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Z.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$u.create=(t,e)=>new $u({innerType:t,typeName:se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ue(e)});class Hu extends me{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ul(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Hu.create=(t,e)=>new Hu({innerType:t,typeName:se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ue(e)});class j1 extends me{_parse(e){if(this._getType(e)!==Z.nan){const n=this._getOrReturnCtx(e);return $(n,{code:L.invalid_type,expected:Z.nan,received:n.parsedType}),ae}return{status:"valid",value:e.data}}}j1.create=t=>new j1({typeName:se.ZodNaN,...ue(t)});class c4 extends me{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class vf extends me{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ae:a.status==="dirty"?(r.dirty(),Ga(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ae:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new vf({in:e,out:r,typeName:se.ZodPipeline})}}class Wu extends me{_parse(e){const r=this._def.innerType._parse(e),n=i=>(pa(i)&&(i.value=Object.freeze(i.value)),i);return ul(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Wu.create=(t,e)=>new Wu({innerType:t,typeName:se.ZodReadonly,...ue(e)});Xe.lazycreate;var se;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(se||(se={}));const Le=Bn.create,R1=va.create,u4=Uu.create;ri.create;en.create;const Vl=Xe.create;Xe.strictCreate;fl.create;hl.create;Ii.create;const d4=zu.create,mm=ma.create;pl.create;Kn.create;xa.create;const f4=Vl({email:Le().email("Invalid email address"),password:Le().min(1,"Password is required")}),h4=()=>{const{login:t,isLoading:e,error:r,isAuthenticated:n}=rn(),{register:i,handleSubmit:a,formState:{errors:s,isSubmitting:o}}=Bl({resolver:Ul(f4)});if(n)return c.jsx(Yn,{to:"/dashboard",replace:!0});const l=async u=>{await t(u)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",c.jsx(fe,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),r&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a(l),children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsx("input",{...i("email"),type:"email",className:"input-field",placeholder:"Enter your email"}),s.email&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{...i("password"),type:"password",className:"input-field",placeholder:"Enter your password"}),s.password&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),c.jsx("div",{className:"text-sm",children:c.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:o||e,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:o||e?"Signing in...":"Sign in"})})]})]})})},p4=Vl({name:Le().min(1,"Name is required"),email:Le().email("Invalid email address"),password:Le().min(8,"Password must be at least 8 characters"),confirmPassword:Le().min(1,"Please confirm your password"),role:mm(["participant","organizer"],{errorMap:()=>({message:"Please select a role"})}),organizationName:Le().optional(),phoneNumber:Le().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),v4=()=>{const{register:t,isLoading:e,error:r,isAuthenticated:n}=rn(),{register:i,handleSubmit:a,watch:s,formState:{errors:o,isSubmitting:l}}=Bl({resolver:Ul(p4),defaultValues:{role:"participant"}}),u=s("role");if(n)return c.jsx(Yn,{to:"/dashboard",replace:!0});const d=async f=>{const{confirmPassword:h,...p}=f;await t(p)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",c.jsx(fe,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]}),r&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a(d),children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),c.jsx("input",{...i("name"),type:"text",autoComplete:"name",className:"input-field",placeholder:"Enter your full name"}),o.name&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),c.jsx("input",{...i("email"),type:"email",autoComplete:"email",className:"input-field",placeholder:"Enter your email"}),o.email&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Account Type"}),c.jsxs("select",{...i("role"),className:"input-field",children:[c.jsx("option",{value:"participant",children:"Participant"}),c.jsx("option",{value:"organizer",children:"Event Organizer"})]}),o.role&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.role.message})]}),u==="organizer"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700",children:"Organization Name"}),c.jsx("input",{...i("organizationName"),type:"text",className:"input-field",placeholder:"Enter your organization name"}),o.organizationName&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.organizationName.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number (Optional)"}),c.jsx("input",{...i("phoneNumber"),type:"tel",autoComplete:"tel",className:"input-field",placeholder:"Enter your phone number"}),o.phoneNumber&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phoneNumber.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),c.jsx("input",{...i("password"),type:"password",autoComplete:"new-password",className:"input-field",placeholder:"Create a password (min. 8 characters)"}),o.password&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),c.jsx("input",{...i("confirmPassword"),type:"password",autoComplete:"new-password",className:"input-field",placeholder:"Confirm your password"}),o.confirmPassword&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirmPassword.message})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:l||e,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:l||e?"Creating Account...":"Create Account"})})]})]})})},rr={async createEvent(t){return Ke.post("/events",t)},async getEvents(t){const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.visibility&&e.append("visibility",t.visibility),t!=null&&t.categoryId&&e.append("categoryId",t.categoryId),t!=null&&t.organizerId&&e.append("organizerId",t.organizerId),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.upcoming&&e.append("upcoming",t.upcoming.toString());const r=e.toString()?`/events?${e.toString()}`:"/events";return Ke.get(r)},async getEventById(t){return Ke.get(`/events/${t}`)},async updateEvent(t,e){return Ke.put(`/events/${t}`,e)},async deleteEvent(t){return Ke.delete(`/events/${t}`)},async getMyEvents(){return Ke.get("/events/my/events")}};function m4(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function g4(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var x4=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y4=function(t){x4(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),m4(a,i.prototype),g4(a),a}return e}(Error),w4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jt=function(t){w4(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(y4),_4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tr=function(t){_4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Jt),E4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),te=function(t){E4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Jt),b4=function(){function t(e){if(this.binarizer=e,e===null)throw new te("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),C4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gt=function(t){C4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Jt),N4=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Re=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),A4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mf=function(t){A4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Jt),S4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D1=function(t){S4(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(mf),I4=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new te("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new D1(r);if(n>e)throw new D1(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=I4(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=31*i+o}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Re.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,o=n(r,e[s]);if(o>0)i=s+1;else if(o<0)a=s-1;else return s}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),ce=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),xt=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Re.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=n[i]}var o=i*32+ce.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var s=n.length;a===0;){if(++i===s)return r;a=~n[i]}var o=i*32+ce.numberOfTrailingZeros(a);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new te;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,s=n;s<=i;s++){var o=s>n?0:e&31,l=s<i?31:r&31,u=(2<<l)-(1<<o);a[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new te;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),s=this.bits,o=i;o<=a;o++){var l=o>i?0:e&31,u=o<a?31:r&31,d=(2<<u)-(1<<l)&4294967295;if((s[o]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new te("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new te("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+a]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-a]=s}if(this.size!==n*32){for(var o=n*32-this.size,l=e[0]>>>o,a=1;a<n;a++){var u=e[a];l|=u<<32-o,e[a-1]=l,l=u>>>o}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&ct.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+ct.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),Gu;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Gu||(Gu={}));const $e=Gu;var T4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(t){T4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Jt),O4=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},be;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(be||(be={}));var lt=function(){function t(e,r,n){for(var i,a,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,d=l.length;u!==d;u++){var f=l[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=O4(s),p=h.next();!p.done;p=h.next()){var v=p.value;t.NAME_TO_ECI.set(v,this)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new B("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new B("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new B("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(be.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(be.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(be.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(be.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(be.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(be.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(be.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(be.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(be.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(be.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(be.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(be.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(be.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(be.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(be.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(be.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(be.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(be.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(be.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(be.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(be.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(be.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(be.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(be.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(be.Big5,28,"Big5"),t.GB18030=new t(be.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(be.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),k4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oo=function(t){k4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Jt),Er=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof lt?e:lt.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,s=e.length;a<s;a++){var o=e[a].toString(16);o.length<2&&(o="0"+o),i+="%"+o}return decodeURIComponent(i)}if(n.equals(lt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Oo("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(lt.UTF8)||e.equals(lt.ISO8859_1)||e.equals(lt.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),he=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Er.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get($e.CHARACTER_SET)!==void 0)return r.get($e.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,s=!0,o=0,l=0,u=0,d=0,f=0,h=0,p=0,v=0,g=0,w=0,x=0,m=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,y=0;y<n&&(i||a||s);y++){var _=e[y]&255;s&&(o>0?_&128?o--:s=!1:_&128&&(_&64?(o++,_&32?(o++,_&16?(o++,_&8?s=!1:d++):u++):l++):s=!1)),i&&(_>127&&_<160?i=!1:_>159&&(_<192||_===215||_===247)&&x++),a&&(f>0?_<64||_===127||_>252?a=!1:f--:_===128||_===160||_>239?a=!1:_>160&&_<224?(h++,v=0,p++,p>g&&(g=p)):_>127?(f++,p=0,v++,v>w&&(w=v)):(p=0,v=0))}return s&&o>0&&(s=!1),a&&f>0&&(a=!1),s&&(m||l+u+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||w>=3)?t.SHIFT_JIS:i&&a?g===2&&h===2||x*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(o,l,u,d,f,h){if(o==="%%")return"%";if(r[++i]!==void 0){o=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,v;switch(h){case"s":v=r[i];break;case"c":v=r[i][0];break;case"f":v=parseFloat(r[i]).toFixed(o);break;case"p":v=parseFloat(r[i]).toPrecision(o);break;case"e":v=parseFloat(r[i]).toExponential(o);break;case"x":v=parseInt(r[i]).toString(p||16);break;case"d":v=parseFloat(parseInt(r[i],p||10).toPrecision(o)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(p);for(var g=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";v.length<g;)v=l!==void 0?v+w:w+v;return v}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},t.getBytes=function(e,r){return Er.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=lt.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=lt.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=lt.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),le=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=he.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),tn=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new te("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var s=e[a],o=0;o<n;o++)s[o]&&i.set(o,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new te("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,o=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new te("row lengths do not match");s=a,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new te("illegal character encountered: "+e.substring(u));if(a>s){if(o===-1)o=a-s;else if(a-s!==o)throw new te("row lengths do not match");l++}for(var d=new t(o,l),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%o),Math.floor(f/o));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new te("input matrix dimensions do not match");for(var r=new xt(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var o=a*n,l=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[o+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new te("Left and top must be nonnegative");if(i<1||n<1)throw new te("Height and width must be at least 1");var a=e+n,s=r+i;if(s>this.height||a>this.width)throw new te("The region must fit inside the matrix");for(var o=this.rowSize,l=this.bits,u=r;u<s;u++)for(var d=u*o,f=e;f<a;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new xt(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,s=0;s<n;s++)r.setBulk(s*32,i[a+s]);return r},t.prototype.setRow=function(e,r){Re.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new xt(e),i=new xt(e),a=0,s=Math.floor((r+1)/2);a<s;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,s=r,o=-1,l=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=i[u*n+d];if(f!==0){if(u<s&&(s=u),u>l&&(l=u),d*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<a&&(a=d*32+h)}if(d*32+31>o){for(var h=31;!(f>>>h);)h--;d*32+h>o&&(o=d*32+h)}}}return o<a||l<s?null:Int32Array.from([a,s,o-a+1,l-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return a+=o,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return a+=o,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&ct.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ct.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new le,a=0,s=this.height;a<s;a++){for(var o=0,l=this.width;o<l;o++)i.append(this.get(o,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),j4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(t){j4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Jt),R4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D4=function(t){R4(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new xt(a):n.clear(),this.initArrays(a);for(var s=i.getRow(r,this.luminances),o=this.buckets,l=0;l<a;l++)o[(s[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(a<3)for(var l=0;l<a;l++)(s[l]&255)<u&&n.set(l);else for(var d=s[0]&255,f=s[1]&255,l=1;l<a-1;l++){var h=s[l+1]&255;(f*4-d-h)/2<u&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new tn(n,i);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var l=Math.floor(i*o/5),u=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;s[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(s),v=r.getMatrix(),o=0;o<i;o++)for(var g=o*n,f=0;f<n;f++){var h=v[g+f]&255;h<p&&a.set(f,o)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,s=0,o=0;o<n;o++)r[o]>s&&(a=o,s=r[o]),r[o]>i&&(i=r[o]);for(var l=0,u=0,o=0;o<n;o++){var d=o-a,f=r[o]*d*d;f>u&&(l=o,u=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new j;for(var p=l-1,v=-1,o=l-1;o>a;o--){var g=o-a,f=g*g*(l-o)*(i-r[o]);f>v&&(p=o,v=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(N4),P4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M4=function(t){P4(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var o=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&o++;var l=e.calculateBlackPoints(a,s,o,n,i),u=new tn(n,i);e.calculateThresholdForBlock(a,s,o,n,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,s,o,l){for(var u=s-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,i-3),v=0;v<n;v++){var g=v<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var w=e.cap(v,2,n-3),x=0,m=-2;m<=2;m++){var y=o[p+m];x+=y[w-2]+y[w-1]+y[w]+y[w+1]+y[w+2]}var _=x/25;e.thresholdBlock(r,g,h,_,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,s,o){for(var l=0,u=i*s+n;l<e.BLOCK_SIZE;l++,u+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=a&&o.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,a,s){for(var o=s-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var v=0,g=255,w=0,x=0,m=f*a+p;x<e.BLOCK_SIZE;x++,m+=a){for(var y=0;y<e.BLOCK_SIZE;y++){var _=r[m+y]&255;v+=_,_<g&&(g=_),_>w&&(w=_)}if(w-g>e.MIN_DYNAMIC_RANGE)for(x++,m+=a;x<e.BLOCK_SIZE;x++,m+=a)for(var y=0;y<e.BLOCK_SIZE;y++)v+=r[m+y]&255}var b=v>>e.BLOCK_SIZE_POWER*2;if(w-g<=e.MIN_DYNAMIC_RANGE&&(b=g/2,d>0&&h>0)){var A=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;g<A&&(b=A)}u[d][h]=b}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(D4),zl=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Oo("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Oo("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Oo("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new le,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var s=i[a]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),L4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gf=function(t){L4(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(zl),F4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B4=function(t){F4(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var s=0,o=0,l=r.length;s<l;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}a[o]=u}else for(var s=0,o=0,v=r.length;s<v;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}a[o]=255-u}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new te("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*o),u=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*o);return n.width=l,n.height=u,i.translate(l/2,u/2),i.rotate(a),i.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new gf(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(zl),U4=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Mt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})},Lt=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},V4=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aa=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Mt(this,void 0,void 0,function(){var e,r,n,i,a,s,o,l,u,d,f,h;return Lt(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=V4(e),i=n.next();!i.done;i=n.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(o=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),u=a.groupId,d={deviceId:o,label:l,kind:s,groupId:u},r.push(d))}catch(v){f={error:v}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Mt(this,void 0,void 0,function(){var e;return Lt(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new U4(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Mt(this,void 0,void 0,function(){var r;return Lt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Mt(this,void 0,void 0,function(){return Lt(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Mt(this,void 0,void 0,function(){var n,i;return Lt(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Mt(this,void 0,void 0,function(){var n;return Lt(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Mt(this,void 0,void 0,function(){var n,i;return Lt(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Mt(this,void 0,void 0,function(){return Lt(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Mt(this,void 0,void 0,function(){var i,a;return Lt(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Mt(this,void 0,void 0,function(){var i;return Lt(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Mt(this,void 0,void 0,function(){var i;return Lt(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Mt(this,void 0,void 0,function(){var n;return Lt(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Mt(this,void 0,void 0,function(){return Lt(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Tr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Tr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Tr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Tr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Tr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Tr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Tr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Tr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Tr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Tr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Mt(this,void 0,void 0,function(){return Lt(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Mt(this,void 0,void 0,function(){return Lt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(s,o){if(i._stopAsyncDecode){o(new j("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);s(l)}catch(h){var u=r&&h instanceof j,d=h instanceof gt||h instanceof B,f=d&&n;if(u||f)return setTimeout(a,i._timeBetweenDecodingAttempts,s,o);o(h)}};return new Promise(function(s,o){return a(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var s=l instanceof gt||l instanceof B,o=l instanceof j;(s||o)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new B4(r),i=new M4(n);return new b4(i)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Pt=function(){function t(e,r,n,i,a,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Re.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Re.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Re.arraycopy(r,0,n,0,r.length),Re.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Xu;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xu||(Xu={}));const ee=Xu;var Zu;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Zu||(Zu={}));const At=Zu;var $l=function(){function t(e,r,n,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Xa=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new te;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Qn=function(){function t(e,r){if(r.length===0)throw new te;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Re.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var s=r[i];n=Xa.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,l=this.field,i=1;i<o;i++)n=Xa.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new te("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;Re.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=Xa.addOrSubtract(r[o-s],n[o]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new te("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=this.field,l=0;l<n;l++)for(var u=r[l],d=0;d<a;d++)s[l+d]=Xa.addOrSubtract(s[l+d],o.multiply(u,i[d]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,s=0;s<r;s++)i[s]=n.multiply(a[s],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new te;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),s=this.field,o=0;o<i;o++)a[o]=s.multiply(n[o],r);return new t(s,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new te("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new te("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var o=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),s),u=e.multiplyByMonomial(o,l),d=r.buildMonomial(o,l);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),z4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gm=function(t){z4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Jt),$4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xt=function(t){$4(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var s=new Int32Array(n),o=1,l=0;l<n;l++)s[l]=o,o*=2,o>=n&&(o^=r,o&=n-1);a.expTable=s;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[s[l]]=l;return a.logTable=u,a.zero=new Qn(a,Int32Array.from([0])),a.one=new Qn(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new te;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Qn(this,i)},e.prototype.inverse=function(r){if(r===0)throw new gm;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+ce.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Xa),H4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),co=function(t){H4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Jt),W4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zs=function(t){W4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Jt),Hl=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Qn(n,e),a=new Int32Array(r),s=!0,o=0;o<r;o++){var l=i.evaluateAt(n.exp(o+n.getGeneratorBase()));a[a.length-1-o]=l,l!==0&&(s=!1)}if(!s)for(var u=new Qn(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),v=this.findErrorMagnitudes(h,p),o=0;o<p.length;o++){var g=e.length-1-n.log(p[o]);if(g<0)throw new co("Bad error location");e[g]=Xt.addOrSubtract(e[g],v[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,s=e,o=r,l=a.getZero(),u=a.getOne();o.getDegree()>=(n/2|0);){var d=s,f=l;if(s=o,l=u,s.isZero())throw new co("r_{i-1} was zero");o=d;for(var h=a.getZero(),p=s.getCoefficient(s.getDegree()),v=a.inverse(p);o.getDegree()>=s.getDegree()&&!o.isZero();){var g=o.getDegree()-s.getDegree(),w=a.multiply(o.getCoefficient(o.getDegree()),v);h=h.addOrSubtract(a.buildMonomial(g,w)),o=o.addOrSubtract(s.multiplyByMonomial(g,w))}if(u=h.multiply(l).addOrSubtract(f),o.getDegree()>=s.getDegree())throw new zs("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new co("sigmaTilde(0) was zero");var m=a.inverse(x),y=u.multiplyScalar(m),_=o.multiplyScalar(m);return[y,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,s=1;s<a.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=a.inverse(s),i++);if(i!==r)throw new co("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,s=0;s<n;s++){for(var o=a.inverse(r[s]),l=1,u=0;u<n;u++)if(s!==u){var d=a.multiply(r[u],o),f=d&1?d&-2:d|1;l=a.multiply(l,f)}i[s]=a.multiply(e.evaluateAt(o),a.inverse(l)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],o))}return i},t}(),_t;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(_t||(_t={}));var P1=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),s=t.getEncodedData(i),o=new $l(a,s,null,null);return o.setNumBits(i.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=_t.UPPER,i=_t.UPPER,a="",s=0;s<r;)if(i===_t.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var l=0;l<o;l++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);a+=he.castAsNonUtf8Char(u),s+=8}i=n}else{var d=i===_t.DIGIT?4:5;if(r-s<d)break;var u=t.readCode(e,s,d);s+=d;var f=t.getCharacter(i,u);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}},t.getCharacter=function(e,r){switch(e){case _t.UPPER:return t.UPPER_TABLE[r];case _t.LOWER:return t.LOWER_TABLE[r];case _t.MIXED:return t.MIXED_TABLE[r];case _t.PUNCT:return t.PUNCT_TABLE[r];case _t.DIGIT:return t.DIGIT_TABLE[r];default:throw new zs("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Xt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Xt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Xt.AZTEC_DATA_10):(n=12,r=Xt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new B;for(var s=e.length%n,o=new Int32Array(a),l=0;l<a;l++,s+=n)o[l]=t.readCode(e,s,n);try{var u=new Hl(r);u.decode(o,a-i)}catch(w){throw new B(w)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var h=o[l];if(h===0||h===d)throw new B;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),v=0,l=0;l<i;l++){var h=o[l];if(h===1||h===d-1)p.fill(h>1,v,v+n-1),v+=n-1;else for(var g=n-1;g>=0;--g)p[v++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<a.length;o++)a[o]=o;else for(var l=i+1+2*ce.truncDivision(ce.truncDivision(i,2)-1,15),u=i/2,d=ce.truncDivision(l,2),o=0;o<u;o++){var f=o+ce.truncDivision(o,15);a[u-o-1]=d-f-1,a[u+o]=d+f+1}for(var o=0,h=0;o<n;o++){for(var p=(n-o)*4+(r?9:12),v=o*2,g=i-1-v,w=0;w<p;w++)for(var x=w*2,m=0;m<2;m++)s[h+x+m]=e.get(a[v+m],a[v+w]),s[h+2*p+x+m]=e.get(a[v+w],a[g-m]),s[h+4*p+x+m]=e.get(a[g-m],a[g-w]),s[h+6*p+x+m]=e.get(a[g-w],a[v+m]);h+=p*8}return s},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),ge=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,s=r-i;return Math.sqrt(a*a+s*s)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),Yu=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Y=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Yu.floatToIntBits(this.x)+Yu.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,o;if(n>=r&&n>=i?(s=e[0],a=e[1],o=e[2]):i>=n&&i>=r?(s=e[1],a=e[0],o=e[2]):(s=e[2],a=e[0],o=e[1]),this.crossProductZ(a,s,o)<0){var l=a;a=o,o=l}e[0]=a,e[1]=s,e[2]=o},t.distance=function(e,r){return ge.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),xf=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),G4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X4=function(t){G4(e,t);function e(r,n,i,a,s){var o=t.call(this,r,n)||this;return o.compact=i,o.nbDatablocks=a,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(xf),Ku=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,s=!0,o=!1,l=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;s;){s=!1;for(var v=!0;(v||!l)&&r<h;)v=this.containsBlackPoint(n,i,r,!1),v?(r++,s=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var g=!0;(g||!u)&&i<p;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,s=!0,u=!0):u||i++;if(i>=p){a=!0;break}for(var w=!0;(w||!d)&&e>=0;)w=this.containsBlackPoint(n,i,e,!1),w?(e--,s=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var x=!0;(x||!f)&&n>=0;)x=this.containsBlackPoint(e,r,n,!0),x?(n--,s=!0,f=!0):f||n--;if(n<0){a=!0;break}s&&(o=!0)}if(!a&&o){for(var m=r-e,y=null,_=1;y===null&&_<m;_++)y=this.getBlackPointOnSegment(e,i-_,e+_,i);if(y==null)throw new j;for(var b=null,_=1;b===null&&_<m;_++)b=this.getBlackPointOnSegment(e,n+_,e+_,n);if(b==null)throw new j;for(var A=null,_=1;A===null&&_<m;_++)A=this.getBlackPointOnSegment(r,n+_,r-_,n);if(A==null)throw new j;for(var I=null,_=1;I===null&&_<m;_++)I=this.getBlackPointOnSegment(r,i-_,r-_,i);if(I==null)throw new j;return this.centerEdges(I,y,A,b)}else throw new j},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=ge.round(ge.distance(e,r,n,i)),s=(n-e)/a,o=(i-r)/a,l=this.image,u=0;u<a;u++){var d=ge.round(e+u*s),f=ge.round(r+u*o);if(l.get(d,f))return new Y(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),s=e.getY(),o=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new Y(f-p,h+p),new Y(o+p,l+p),new Y(u-p,d-p),new Y(a+p,s-p)]:[new Y(f+p,h+p),new Y(o+p,l-p),new Y(u-p,d+p),new Y(a-p,s-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var s=e;s<=r;s++)if(a.get(s,n))return!0}else for(var o=e;o<=r;o++)if(a.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),M1=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<r.length&&a;s+=2){var o=Math.floor(r[s]),l=Math.floor(r[s+1]);if(o<-1||o>n||l<-1||l>i)throw new j;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),l===-1?(r[s+1]=0,a=!0):l===i&&(r[s+1]=i-1,a=!0)}a=!0;for(var s=r.length-2;s>=0&&a;s-=2){var o=Math.floor(r[s]),l=Math.floor(r[s+1]);if(o<-1||o>n||l<-1||l>i)throw new j;a=!1,o===-1?(r[s]=0,a=!0):o===n&&(r[s]=n-1,a=!0),l===-1?(r[s+1]=0,a=!0):l===i&&(r[s+1]=i-1,a=!0)}},t}(),xm=function(){function t(e,r,n,i,a,s,o,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=s,this.a13=o,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,s,o,l,u,d,f,h,p,v,g,w){var x=t.quadrilateralToSquare(e,r,n,i,a,s,o,l),m=t.squareToQuadrilateral(u,d,f,h,p,v,g,w);return m.times(x)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],v=e[h+1],g=a*p+l*v+f;e[h]=(n*p+s*v+u)/g,e[h+1]=(i*p+o*v+d)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,s=this.a21,o=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var v=e[p],g=r[p],w=a*v+l*g+f;e[p]=(n*v+s*g+u)/w,r[p]=(i*v+o*g+d)/w}},t.squareToQuadrilateral=function(e,r,n,i,a,s,o,l){var u=e-n+a-o,d=r-i+s-l;if(u===0&&d===0)return new t(n-e,a-n,e,i-r,s-i,r,0,0,1);var f=n-a,h=o-a,p=i-s,v=l-s,g=f*v-h*p,w=(u*v-h*d)/g,x=(f*d-u*p)/g;return new t(n-e+w*n,o-e+x*o,e,i-r+w*i,l-r+x*l,r,w,x,1)},t.quadrilateralToSquare=function(e,r,n,i,a,s,o,l){return t.squareToQuadrilateral(e,r,n,i,a,s,o,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Z4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y4=function(t){Z4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,s,o,l,u,d,f,h,p,v,g,w,x,m,y,_){var b=xm.quadrilateralToQuadrilateral(a,s,o,l,u,d,f,h,p,v,g,w,x,m,y,_);return this.sampleGridWithTransform(r,n,i,b)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new j;for(var s=new tn(n,i),o=new Float32Array(2*n),l=0;l<i;l++){for(var u=o.length,d=l+.5,f=0;f<u;f+=2)o[f]=f/2+.5,o[f+1]=d;a.transformPoints(o),M1.checkAndNudgePoints(r,o);try{for(var f=0;f<u;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&s.set(f/2,l)}catch{throw new j}}return s},e}(M1),yf=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Y4,t}(),Ht=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Y(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),K4=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new X4(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new j;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var s=n[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,s,o){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(ce.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new j},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var l=new Hl(Xt.AZTEC_PARAM);l.decode(s,a)}catch{throw new j}for(var u=0,o=0;o<i;o++)u=(u<<4)+s[o];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),l=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(i,s,-1,1),d=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,l,u,d))break}r=o,n=l,i=u,a=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;var h=new Y(r.getX()+.5,r.getY()-.5),p=new Y(n.getX()+.5,n.getY()+.5),v=new Y(i.getX()-.5,i.getY()+.5),g=new Y(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,v,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new Ku(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new Ht(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ht(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ht(s-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ht(s-7,o-7),!1,-1,-1).toResultPoint()}var l=ge.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=ge.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new Ku(this.image,15,l,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Ht(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ht(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ht(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ht(l-7,u-7),!1,-1,-1).toResultPoint()}return l=ge.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=ge.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Ht(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var s=yf.getInstance(),o=this.getDimension(),l=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),s=a/n,o=e.getX(),l=e.getY(),u=s*(r.getX()-e.getX())/a,d=s*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(ge.round(o+f*u),ge.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Ht(e.getX()-a,e.getY()+a),r=new Ht(r.getX()-a,r.getY()-a),n=new Ht(n.getX()+a,n.getY()-a),i=new Ht(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,i),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,s=0,o=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)o+=i,l+=a,this.image.get(ge.round(o),ge.round(l))!==u&&s++;var h=s/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n,s+=i;for(a-=n,s-=i;this.isValid(a,s)&&this.image.get(a,s)===r;)a+=n;for(a-=n;this.isValid(a,s)&&this.image.get(a,s)===r;)s+=i;return s-=i,new Ht(a,s)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new Y(o+i*a,l+i*s),d=new Y(o-i*a,l-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Y(o+i*a,l+i*s),h=new Y(o-i*a,l-i*s),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=ge.round(e.getX()),n=ge.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return ge.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return ge.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ce.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Qu=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new K4(e.getBlackMatrix()),a=null,s=null;try{var o=i.detectMirror(!1);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new P1().decode(o)}catch(f){n=f}if(s==null)try{var o=i.detectMirror(!0);a=o.getPoints(),this.reportFoundResultPoints(r,a),s=new P1().decode(o)}catch(f){throw n??f}var l=new Pt(s.getText(),s.getRawBytes(),s.getNumBits(),a,ee.AZTEC,Re.currentTimeMillis()),u=s.getByteSegments();u!=null&&l.putMetadata(At.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&l.putMetadata(At.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get($e.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,s){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),Q4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Q4(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Qu,r)||this}return e})(Aa);var dt=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get($e.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),s=a.getResultMetadata(),o=270;s!==null&&s.get(At.ORIENTATION)===!0&&(o=o+s.get(At.ORIENTATION)%360),a.putMetadata(At.ORIENTATION,o);var l=a.getResultPoints();if(l!==null)for(var u=i.getHeight(),d=0;d<l.length;d++)l[d]=new Y(u-l[d].getY()-1,l[d].getX());return a}else throw new j}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new xt(n),s=r&&r.get($e.TRY_HARDER)===!0,o=Math.max(1,i>>(s?8:5)),l;s?l=i:l=15;for(var u=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+o*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var v=function(m){if(m===1&&(a.reverse(),r&&r.get($e.NEED_RESULT_POINT_CALLBACK)===!0)){var y=new Map;r.forEach(function(A,I){return y.set(I,A)}),y.delete($e.NEED_RESULT_POINT_CALLBACK),r=y}try{var _=g.decodeRow(p,a,r);if(m===1){_.putMetadata(At.ORIENTATION,180);var b=_.getResultPoints();b!==null&&(b[0]=new Y(n-b[0].getX()-1,b[0].getY()),b[1]=new Y(n-b[1].getX()-1,b[1].getY()))}return{value:_}}catch{}},g=this,w=0;w<2;w++){var x=v(w);if(typeof x=="object")return x.value}}throw new j},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var s=e.getSize();if(r>=s)throw new j;for(var o=!e.get(r),l=0,u=r;u<s;){if(e.get(u)!==o)n[l]++;else{if(++l===i)break;n[l]=1,o=!o}u++}if(!(l===i||l===i-1&&u===s))throw new j},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new j;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return Number.POSITIVE_INFINITY;var l=a/s;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/a},t}(),q4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),L1=function(t){q4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),o=i,l=!1,u=6,d=i;d<n;d++)if(r.get(d)!==l)s[a]++;else{if(a===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var v=dt.patternMatchVariance(s,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);v<f&&(f=v,h=p)}if(h>=0&&r.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,h]);o+=s[0]+s[1],s=s.slice(2,s.length-1),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,l=!l}throw new j},e.decodeCode=function(r,n,i){dt.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var l=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,s=o)}if(s>=0)return s;throw new j},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get($e.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],l=0,u=new Uint8Array(20);u[l++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new B}for(var f=!1,h=!1,p="",v=s[0],g=s[1],w=Int32Array.from([0,0,0,0,0,0]),x=0,m=0,y=o,_=0,b=!0,A=!1,I=!1;!f;){var S=h;switch(h=!1,x=m,m=e.decodeCode(n,w,g),u[l++]=m,m!==e.CODE_STOP&&(b=!0),m!==e.CODE_STOP&&(_++,y+=_*m),v=g,g+=w.reduce(function(qe,z){return qe+z},0),m){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new B}switch(d){case e.CODE_CODE_A:if(m<64)I===A?p+=String.fromCharCode(" ".charCodeAt(0)+m):p+=String.fromCharCode(" ".charCodeAt(0)+m+128),I=!1;else if(m<96)I===A?p+=String.fromCharCode(m-64):p+=String.fromCharCode(m+64),I=!1;else switch(m!==e.CODE_STOP&&(b=!1),m){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!A&&I?(A=!0,I=!1):A&&I?(A=!1,I=!1):I=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(m<96)I===A?p+=String.fromCharCode(" ".charCodeAt(0)+m):p+=String.fromCharCode(" ".charCodeAt(0)+m+128),I=!1;else switch(m!==e.CODE_STOP&&(b=!1),m){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!A&&I?(A=!0,I=!1):A&&I?(A=!1,I=!1):I=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(m<100)m<10&&(p+="0"),p+=m;else switch(m!==e.CODE_STOP&&(b=!1),m){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var k=g-v;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-v)/2),!1))throw new j;if(y-=_*x,y%103!==x)throw new gt;var R=p.length;if(R===0)throw new j;R>0&&b&&(d===e.CODE_CODE_C?p=p.substring(0,R-2):p=p.substring(0,R-1));for(var K=(s[1]+s[0])/2,U=v+k/2,X=u.length,oe=new Uint8Array(X),Ae=0;Ae<X;Ae++)oe[Ae]=u[Ae];var Be=[new Y(K,r),new Y(U,r)];return new Pt(p,oe,0,Be,ee.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(dt),J4=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ic=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F1=function(t){J4(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,s,o,l,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,v;do{e.recordPattern(n,f,u);var g=e.toNarrowWidePattern(u);if(g<0)throw new j;p=e.patternToChar(g),this.decodeRowResult+=p,v=f;try{for(var w=(a=void 0,Ic(u)),x=w.next();!x.done;x=w.next()){var m=x.value;f+=m}}catch(X){a={error:X}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=Ic(u),b=_.next();!b.done;b=_.next()){var m=b.value;y+=m}}catch(X){o={error:X}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}var A=f-v-y;if(f!==h&&A*2<y)throw new j;if(this.usingCheckDigit){for(var I=this.decodeRowResult.length-1,S=0,k=0;k<I;k++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(k));if(this.decodeRowResult.charAt(I)!==e.ALPHABET_STRING.charAt(S%43))throw new gt;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new j;var R;this.extendedMode?R=e.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;var K=(d[1]+d[0])/2,U=v+y/2;return new Pt(R,null,0,[new Y(K,r),new Y(U,r)],ee.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),s=0,o=a,l=!1,u=n.length,d=a;d<i;d++)if(r.get(d)!==l)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,l=!l}throw new j},e.toNarrowWidePattern=function(r){var n,i,a=r.length,s=0,o;do{var l=2147483647;try{for(var u=(n=void 0,Ic(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<l&&f>s&&(l=f)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}s=l,o=0;for(var h=0,p=0,v=0;v<a;v++){var f=r[v];f>s&&(p|=1<<a-1-v,o++,h+=f)}if(o===3){for(var v=0;v<a&&o>0;v++){var f=r[v];if(f>s&&(o--,f*2>=h))return-1}return p}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new j},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var s=r.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(a+1),l="\0";switch(s){case"+":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new B;break;case"$":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new B;break;case"%":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o==="X"||o==="Y"||o==="Z")l="";else throw new B;break;case"/":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new B;break}i+=l,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(dt),e_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B1=function(t){e_(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,s,o,l,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,v;do{e.recordPattern(n,d,h);var g=this.toPattern(h);if(g<0)throw new j;p=this.patternToChar(g),this.decodeRowResult+=p,v=d;try{for(var w=(a=void 0,Tc(h)),x=w.next();!x.done;x=w.next()){var m=x.value;d+=m}}catch(k){a={error:k}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var y=0;try{for(var _=Tc(h),b=_.next();!b.done;b=_.next()){var m=b.value;y+=m}}catch(k){o={error:k}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}if(d===f||!n.get(d))throw new j;if(this.decodeRowResult.length<2)throw new j;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var A=this.decodeExtended(this.decodeRowResult),I=(u[1]+u[0])/2,S=v+y/2;return new Pt(A,null,0,[new Y(I,r),new Y(S,r)],ee.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,o=!1,l=a.length,u=0,d=i;d<n;d++)if(r.get(d)!==o)a[u]++;else{if(u===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,o=!o}throw new j},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var s=Tc(r),o=s.next();!o.done;o=s.next()){var l=o.value;a+=l}}catch(v){n={error:v}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new j},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var s=r.charAt(a);if(s>="a"&&s<="d"){if(a>=n-1)throw new B;var o=r.charAt(a+1),l="\0";switch(s){case"d":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new B;break;case"a":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new B;break;case"b":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o>="X"&&o<="Z")l=String.fromCharCode(127);else throw new B;break;case"c":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new B;break}i+=l,a++}else i+=s}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,s=0,o=n-1;o>=0;o--)s+=a*e.ALPHABET_STRING.indexOf(r.charAt(o)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new gt},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(dt),t_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U1=function(t){t_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,s,o=this.decodeStart(n),l=this.decodeEnd(n),u=new le;e.decodeMiddle(n,o[1],l[0],u);var d=u.toString(),f=null;i!=null&&(f=i.get($e.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,v=0;try{for(var g=r_(f),w=g.next();!w.done;w=g.next()){var x=w.value;if(h===x){p=!0;break}x>v&&(v=x)}}catch(_){a={error:_}}finally{try{w&&!w.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}if(!p&&h>v&&(p=!0),!p)throw new B;var m=[new Y(o[1],r),new Y(l[0],r)],y=new Pt(d,null,0,m,ee.ITF,new Date().getTime());return y},e.decodeMiddle=function(r,n,i,a){var s=new Int32Array(10),o=new Int32Array(5),l=new Int32Array(5);for(s.fill(0),o.fill(0),l.fill(0);n<i;){dt.recordPattern(r,n,s);for(var u=0;u<5;u++){var d=2*u;o[u]=s[d],l[u]=s[d+1]}var f=e.decodeDigit(o);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),s.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new j},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new j;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof j&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,s=new Int32Array(a),o=r.getSize(),l=!1,u=0,d=n;s.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==l)s[u]++;else{if(u===a-1){if(dt.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=s[0]+s[1],Re.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,l=!l}throw new j},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var o=e.PATTERNS[s],l=dt.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=s):l===n&&(i=-1)}if(i>=0)return i%10;throw new j},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(dt),n_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ya=function(t){n_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,s);var o=i[0];a=i[1];var l=o-(a-o);l>=0&&(n=r.isRange(l,o,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,s){var o=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,d=a.length,f=i,h=n;h<o;h++)if(r.get(h)!==f)s[l]++;else{if(l===d-1){if(dt.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=s[0]+s[1];for(var p=s.slice(2,s.length),v=0;v<l-1;v++)s[v]=p[v];s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,f=!f}throw new j},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,l=a.length,u=0;u<l;u++){var d=a[u],f=dt.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=u)}if(o>=0)return o;throw new j},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(dt),i_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a_=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),l=[new Y((n[0]+n[1])/2,e),new Y(a,e)],u=new Pt(s,null,0,l,ee.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),l=r[1],u=0,d=0;d<5&&l<o;d++){var f=ya.decodeDigit(e,s,l,ya.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(i=void 0,i_(s)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(w){i={error:w}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new j;var g=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==g)throw new j;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new j},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[At.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,s=a<10?"0"+a:a.toString();return r+i+"."+s},t}(),s_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o_=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),s=i.toString(),o=t.parseExtensionString(s),l=[new Y((n[0]+n[1])/2,e),new Y(a,e)],u=new Pt(s,null,0,l,ee.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),l=r[1],u=0,d=0;d<2&&l<o;d++){var f=ya.decodeDigit(e,s,l,ya.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(i=void 0,s_(s)),p=h.next();!p.done;p=h.next()){var v=p.value;l+=v}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new j;if(parseInt(n.toString())%4!==u)throw new j;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[At.ISSUE_NUMBER,parseInt(e)]])},t}(),l_=function(){function t(){}return t.decodeRow=function(e,r,n){var i=ya.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new a_;return a.decodeRow(e,r,i)}catch{var s=new o_;return s.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),c_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),st=function(t){c_(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),s=i==null?null:i.get($e.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new Y((a[0]+a[1])/2,r);s.foundPossibleResultPoint(o)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(s!=null){var f=new Y(u,r);s.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(s!=null){var p=new Y((h[0]+h[1])/2,r);s.foundPossibleResultPoint(p)}var v=h[1],g=v+(v-h[0]);if(g>=n.getSize()||!n.isRange(v,g,!1))throw new j;var w=d.toString();if(w.length<8)throw new B;if(!e.checkChecksum(w))throw new gt;var x=(a[1]+a[0])/2,m=(h[1]+h[0])/2,y=this.getBarcodeFormat(),_=[new Y(x,r),new Y(m,r)],b=new Pt(w,null,0,_,y,new Date().getTime()),A=0;try{var I=l_.decodeRow(r,n,h[1]);b.putMetadata(At.UPC_EAN_EXTENSION,I.getText()),b.putAllMetadata(I.getResultMetadata()),b.addResultPoints(I.getResultPoints()),A=I.getText().length}catch{}var S=i==null?null:i.get($e.ALLOWED_EAN_EXTENSIONS);if(S!=null){var k=!1;for(var R in S)if(A.toString()===R){k=!0;break}if(!k)throw new j}return y===ee.EAN_13||ee.UPC_A,b},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}i*=3;for(var a=n-2;a>=0;a-=2){var s=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(ya),u_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qu=function(t){u_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var v=st.decodeDigit(r,u,f,st.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+v%10);try{for(var g=(a=void 0,V1(u)),w=g.next();!w.done;w=g.next()){var x=w.value;f+=x}}catch(b){a={error:b}}finally{try{w&&!w.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}v>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var m=st.findGuardPattern(r,f,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0));f=m[1];for(var p=0;p<6&&f<d;p++){var v=st.decodeDigit(r,u,f,st.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+v);try{for(var y=(o=void 0,V1(u)),_=y.next();!_.done;_=y.next()){var x=_.value;f+=x}}catch(I){o={error:I}}finally{try{_&&!_.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ee.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode("0".charCodeAt(0)+i)+r,r;throw new j},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(st),d_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),z1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$1=function(t){d_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=st.decodeDigit(r,u,f,st.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var v=(a=void 0,z1(u)),g=v.next();!g.done;g=v.next()){var w=g.value;f+=w}}catch(_){a={error:_}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}}var x=st.findGuardPattern(r,f,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var h=0;h<4&&f<d;h++){var p=st.decodeDigit(r,u,f,st.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var m=(o=void 0,z1(u)),y=m.next();!y.done;y=m.next()){var w=y.value;f+=w}}catch(A){o={error:A}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ee.EAN_8},e}(st),f_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H1=function(t){f_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new qu,r}return e.prototype.getBarcodeFormat=function(){return ee.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Pt(n.substring(1),null,null,r.getResultPoints(),ee.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new j},e.prototype.reset=function(){this.ean13Reader.reset()},e}(st),h_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W1=function(t){h_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,s,o=this.decodeMiddleCounters.map(function(w){return w});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=r.getSize(),u=n[1],d=0,f=0;f<6&&u<l;f++){var h=e.decodeDigit(r,o,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var p=(a=void 0,p_(o)),v=p.next();!v.done;v=p.next()){var g=v.value;u+=g}}catch(w){a={error:w}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new le(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return st.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw j.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ee.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new le;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(st),v_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oc=function(t){v_(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get($e.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(ee.EAN_13)>-1&&a.push(new qu),i.indexOf(ee.UPC_A)>-1&&a.push(new H1),i.indexOf(ee.EAN_8)>-1&&a.push(new $1),i.indexOf(ee.UPC_E)>-1&&a.push(new W1)),a.length===0&&(a.push(new qu),a.push(new H1),a.push(new $1),a.push(new W1)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,s;try{for(var o=G1(this.readers),l=o.next();!l.done;l=o.next()){var u=l.value;try{var d=u.decodeRow(r,n,i),f=d.getBarcodeFormat()===ee.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get($e.POSSIBLE_FORMATS),p=h==null||h.includes(ee.UPC_A);if(f&&p){var v=d.getRawBytes(),g=new Pt(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),ee.UPC_A);return g.putAllMetadata(d.getResultMetadata()),g}return d}catch{}}}catch(w){a={error:w}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}throw new j},e.prototype.reset=function(){var r,n;try{for(var i=G1(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(dt),m_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),g_=function(t){m_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new j;var s=this.codaBarDecodeRow(a.row);if(!s)throw new j;return new Pt(s,null,0,[new Y(a.left,r),new Y(a.right,r)],ee.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var s=[],o=n[0],l=1,u=1;u<n.length;u++)n[u]===o?l++:(o=n[u],s.push(l),l=1);return s.push(l),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),s=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(dt),x_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),y_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pi=function(t){x_(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(dt.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new j},e.count=function(r){return ge.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]>a&&(a=n[s],i=s);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],s=1;s<r.length;s++)n[s]<a&&(a=n[s],i=s);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],s=a+r[2]+r[3],o=a/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=y_(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(dt),vl=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),ym=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Y(n,a)),this.resultPoints.push(new Y(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),w_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qi=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,s=0;try{for(var o=w_(e),l=o.next();!l.done;l=o.next()){var u=l.value;s+=u}}catch(m){i={error:m}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var v=void 0;for(v=1,f|=1<<p;v<e[p];v++,f&=~(1<<p)){var g=t.combins(s-v-1,h-p-2);if(n&&f===0&&s-v-(h-p-1)>=h-p-1&&(g-=t.combins(s-v-(h-p),h-p-2)),h-p-1>1){for(var w=0,x=s-v-(h-p-2);x>r;x--)w+=t.combins(s-v-x-1,h-p-3);g-=w*(h-1-p)}else s-v>r&&g--;d+=g}s-=v}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,s=1,o=e;o>n;o--)a*=o,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},t}(),__=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new xt(n),a=0,s=e[0],o=s.getRightChar().getValue(),l=11;l>=0;--l)o&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var u=e[l],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),ci=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),wf=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),E_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ir=function(t){E_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(wf),b_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ui=function(t){b_(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(wf),C_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pi=function(t){C_(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new B;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(wf),uo=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N_=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,s,o,l,u;if(!e)return null;if(e.length<2)throw new j;var d=e.substring(0,2);try{for(var f=uo(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(A){r={error:A}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new j;var v=e.substring(0,3);try{for(var g=uo(t.THREE_DIGIT_DATA_LENGTH),w=g.next();!w.done;w=g.next()){var p=w.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(A){i={error:A}}finally{try{w&&!w.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var x=uo(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),m=x.next();!m.done;m=x.next()){var p=m.value;if(p[0]===v)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){s={error:A}}finally{try{m&&!m.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}if(e.length<4)throw new j;var y=e.substring(0,4);try{for(var _=uo(t.FOUR_DIGIT_DATA_LENGTH),b=_.next();!b.done;b=_.next()){var p=b.value;if(p[0]===y)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){l={error:A}}finally{try{b&&!b.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}throw new j},t.processFixedAI=function(e,r,n){if(n.length<e)throw new j;var i=n.substring(0,e);if(n.length<e+r)throw new j;var a=n.substring(e,e+r),s=n.substring(e+r),o="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(s);return l==null?o:o+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var s=n.substring(e,a),o=n.substring(a),l="("+i+")"+s,u=t.parseFieldsInGeneralPurpose(o);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),ko=function(){function t(e){this.buffer=new le,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),s=N_.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Pi(this.information.getSize(),Pi.FNC1,Pi.FNC1):new Pi(this.information.getSize(),r-1,Pi.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Pi(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ui(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ui(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new ui(this.current.getPosition(),this.buffer.toString()):r=new ui(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ci(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ci(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ci(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ci(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ir(e+5,Ir.FNC1);if(r>=5&&r<15)return new Ir(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ir(e+7,""+(n+1));if(n>=90&&n<116)return new Ir(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new B}return new Ir(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ir(e+5,Ir.FNC1);if(r>=5&&r<15)return new Ir(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ir(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new zs("Decoding invalid alphanumeric value: "+n)}return new Ir(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),wm=function(){function t(e){this.information=e,this.generalDecoder=new ko(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),A_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pr=function(t){A_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var s=r.charAt(a+n).charCodeAt(0)-"0".charCodeAt(0);i+=a&1?s:3*s}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(wm),S_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I_=function(t){S_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new le;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Pr),T_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O_=function(t){T_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new le;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(wm),k_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jo=function(t){k_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var s=this.checkWeight(a),o=1e5,l=0;l<5;++l)s/o===0&&r.append("0"),o/=10;r.append(s)},e}(Pr),j_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_m=function(t){j_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+jo.GTIN_SIZE+e.WEIGHT_SIZE)throw new j;var r=new le;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+jo.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(jo),R_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D_=function(t){R_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(_m),P_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M_=function(t){P_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(_m),L_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F_=function(t){L_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Pr.GTIN_SIZE)throw new j;var r=new le;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Pr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Pr),B_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U_=function(t){B_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Pr.GTIN_SIZE)throw new j;var r=new le;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Pr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Pr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Pr),V_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nn=function(t){V_(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new j;var r=new le;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var o=i;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(jo);function z_(t){try{if(t.get(1))return new I_(t);if(!t.get(2))return new O_(t);var e=ko.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new D_(t);case 5:return new M_(t)}var r=ko.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new F_(t);case 13:return new U_(t)}var n=ko.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Nn(t,"310","11");case 57:return new Nn(t,"320","11");case 58:return new Nn(t,"310","13");case 59:return new Nn(t,"320","13");case 60:return new Nn(t,"310","15");case 61:return new Nn(t,"320","15");case 62:return new Nn(t,"310","17");case 63:return new Nn(t,"320","17")}}catch(i){throw console.log(i),new zs("unknown decoder: "+t)}}var X1=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),$_=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),H_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),An=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W_=function(t){H_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof j){if(!this.pairs.length)throw new j;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new j},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var l=(i=void 0,An(r)),u=l.next();!u.done;u=l.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,s+1)}catch(h){console.log(h)}}}throw new j},e.isValidSequence=function(r){var n,i;try{for(var a=An(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var o=s.value;if(!(r.length>o.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==o[u]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,s=!1;i<this.rows.length;){var o=this.rows[i];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}a=o.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new $_(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,s,o,l,u;try{for(var d=An(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var v=(s=void 0,An(h.getPairs())),g=v.next();!g.done;g=v.next()){var w=g.value,x=!1;try{for(var m=(l=void 0,An(r)),y=m.next();!y.done;y=m.next()){var _=y.value;if(X1.equals(w,_)){x=!0;break}}}catch(b){l={error:b}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(l)throw l.error}}x||(p=!1)}}catch(b){s={error:b}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}}}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,s,o,l,u;try{for(var d=An(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var v=(s=void 0,An(r)),g=v.next();!g.done;g=v.next()){var w=g.value,x=!1;try{for(var m=(l=void 0,An(h.getPairs())),y=m.next();!y.done;y=m.next()){var _=y.value;if(w.equals(_)){x=!0;break}}}catch(b){l={error:b}}finally{try{y&&!y.done&&(u=m.return)&&u.call(m)}finally{if(l)throw l.error}}if(!x){p=!1;break}}}catch(b){s={error:b}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}if(p)return!0}}catch(b){i={error:b}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=__.buildBitArray(r),i=z_(n),a=i.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),l=[s[0],s[1],o[0],o[1]];return new Pt(a,null,null,l,ee.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var l=this.pairs.get(o);a+=l.getLeftChar().getChecksumPortion(),s++;var u=l.getRightChar();u!=null&&(a+=u.getChecksumPortion(),s++)}a%=211;var d=211*(s-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var s,o=!0,l=-1;do this.findNextPair(r,n,l),s=this.parseFoundFinderPattern(r,i,a),s===null?l=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(r,s,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new j;var d;try{d=this.decodeDataCharacter(r,s,a,!1)}catch(f){d=null,console.log(f)}return new X1(u,d,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=r.getSize(),o;if(i>=0)o=i;else if(this.isEmptyPair(n))o=0;else{var l=n[n.length-1];o=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;o<s&&(d=!r.get(o),!!d);)o++;for(var f=0,h=o,p=o;p<s;p++)if(r.get(p)!==d)a[f]++;else{if(f===3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new j},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,s,o;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,s=l,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),a=o-this.startEnd[1];var u=this.getDecodeFinderCounters();Re.arraycopy(u,0,u,1,u.length-1),u[0]=a;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new ym(d,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var l=0,u=s.length-1;l<u;l++,u--){var d=s[l];s[l]=s[u],s[u]=d}}var f=17,h=ge.sum(new Int32Array(s))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new j;for(var v=this.getOddCounts(),g=this.getEvenCounts(),w=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var m=1*s[l]/h,y=m+.5;if(y<1){if(m<.3)throw new j;y=1}else if(y>8){if(m>8.7)throw new j;y=8}var _=l/2;l&1?(g[_]=y,x[_]=m-y):(v[_]=y,w[_]=m-y)}this.adjustOddEvenCounts(f);for(var b=4*n.getValue()+(i?0:2)+(a?0:1)-1,A=0,I=0,l=v.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[b][2*l];I+=v[l]*S}A+=v[l]}for(var k=0,l=g.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var S=e.WEIGHTS[b][2*l+1];k+=g[l]*S}var R=I+k;if(A&1||A>13||A<4)throw new j;var K=(13-A)/2,U=e.SYMBOL_WIDEST[K],X=9-U,oe=Qi.getRSSvalue(v,U,!0),Ae=Qi.getRSSvalue(g,X,!1),Be=e.EVEN_TOTAL_SUBSET[K],qe=e.GSUM[K],z=oe*Be+Ae+qe;return new vl(z,R)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=ge.sum(new Int32Array(this.getOddCounts())),i=ge.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;n>13?s=!0:n<4&&(a=!0);var o=!1,l=!1;i>13?l=!0:i<4&&(o=!0);var u=n+i-r,d=(n&1)===1,f=(i&1)===0;if(u===1)if(d){if(f)throw new j;s=!0}else{if(!f)throw new j;l=!0}else if(u===-1)if(d){if(f)throw new j;a=!0}else{if(!f)throw new j;o=!0}else if(u===0){if(d){if(!f)throw new j;n<i?(a=!0,l=!0):(s=!0,o=!0)}else if(f)throw new j}else throw new j;if(a){if(s)throw new j;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(l)throw new j;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(pi),G_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X_=function(t){G_(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(vl),Z_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z1=function(t){Z_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,s,o,l,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=kc(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var v=(o=void 0,kc(this.possibleRightPairs)),g=v.next();!g.done;g=v.next()){var w=g.value;if(w.getCount()>1&&e.checkChecksum(p,w))return e.constructResult(p,w)}}catch(x){o={error:x}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}}}catch(x){a={error:x}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}throw new j},e.addOrTally=function(r,n){var i,a;if(n!=null){var s=!1;try{for(var o=kc(r),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),s=new le,o=13-a.length;o>0;o--)s.append("0");s.append(a);for(var l=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-"0".charCodeAt(0);l+=o&1?u:3*u}l=10-l%10,l===10&&(l=0),s.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Pt(s.toString(),null,0,[d[0],d[1],f[0],f[1]],ee.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,i,n,s),l=a==null?null:a.get($e.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new Y(u,i))}var d=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new X_(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)dt.recordPatternInReverse(r,n.getStartEnd()[0],a);else{dt.recordPattern(r,n.getStartEnd()[1]+1,a);for(var o=0,l=a.length-1;o<l;o++,l--){var u=a[o];a[o]=a[l],a[l]=u}}for(var d=i?16:15,f=ge.sum(new Int32Array(a))/d,h=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),o=0;o<a.length;o++){var w=a[o]/f,x=Math.floor(w+.5);x<1?x=1:x>8&&(x=8);var m=Math.floor(o/2);o&1?(p[m]=x,g[m]=w-x):(h[m]=x,v[m]=w-x)}this.adjustOddEvenCounts(i,d);for(var y=0,_=0,o=h.length-1;o>=0;o--)_*=9,_+=h[o],y+=h[o];for(var b=0,A=0,o=p.length-1;o>=0;o--)b*=9,b+=p[o],A+=p[o];var I=_+3*b;if(i){if(y&1||y>12||y<4)throw new j;var S=(12-y)/2,k=e.OUTSIDE_ODD_WIDEST[S],R=9-k,K=Qi.getRSSvalue(h,k,!1),U=Qi.getRSSvalue(p,R,!0),X=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],oe=e.OUTSIDE_GSUM[S];return new vl(K*X+U+oe,I)}else{if(A&1||A>10||A<4)throw new j;var S=(10-A)/2,k=e.INSIDE_ODD_WIDEST[S],R=9-k,K=Qi.getRSSvalue(h,k,!0),U=Qi.getRSSvalue(p,R,!1),Ae=e.INSIDE_ODD_TOTAL_SUBSET[S],oe=e.INSIDE_GSUM[S];return new vl(U*Ae+K+oe,I)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),s=!1,o=0;o<a&&(s=!r.get(o),n!==s);)o++;for(var l=0,u=o,d=o;d<a;d++)if(r.get(d)!==s)i[l]++;else{if(l===3){if(pi.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,s=!s}throw new j},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var s=r.get(a[0]),o=a[0]-1;o>=0&&s!==r.get(o);)o--;o++;var l=a[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Re.arraycopy(u,0,d,1,u.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=o,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new ym(f,[o,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=ge.sum(new Int32Array(this.getOddCounts())),a=ge.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,l=!1,u=!1;r?(i>12?o=!0:i<4&&(s=!0),a>12?u=!0:a<4&&(l=!0)):(i>11?o=!0:i<5&&(s=!0),a>10?u=!0:a<4&&(l=!0));var d=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(d===1)if(f){if(h)throw new j;o=!0}else{if(!h)throw new j;u=!0}else if(d===-1)if(f){if(h)throw new j;s=!0}else{if(!h)throw new j;l=!0}else if(d===0){if(f){if(!h)throw new j;i<a?(s=!0,u=!0):(o=!0,l=!0)}else if(h)throw new j}else throw new j;if(s){if(o)throw new j;pi.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&pi.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new j;pi.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&pi.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(pi),Y_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Za=function(t){Y_(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get($e.POSSIBLE_FORMATS):null,a=r&&r.get($e.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(ee.EAN_13)||i.includes(ee.UPC_A)||i.includes(ee.EAN_8)||i.includes(ee.UPC_E))&&n.readers.push(new Oc(r)),i.includes(ee.CODE_39)&&n.readers.push(new F1(a)),i.includes(ee.CODE_93)&&n.readers.push(new B1),i.includes(ee.CODE_128)&&n.readers.push(new L1),i.includes(ee.ITF)&&n.readers.push(new U1),i.includes(ee.CODABAR)&&n.readers.push(new g_),i.includes(ee.RSS_14)&&n.readers.push(new Z1),i.includes(ee.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new W_))),n.readers.length===0&&(n.readers.push(new Oc(r)),n.readers.push(new F1),n.readers.push(new B1),n.readers.push(new Oc(r)),n.readers.push(new L1),n.readers.push(new U1),n.readers.push(new Z1)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new j},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(dt),K_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){K_(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Za(n),r,n)||this}return e})(Aa);var Y1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_e=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),ye=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Q_=function(){function t(e,r,n,i,a,s){var o,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var u=0,d=s.getECCodewords(),f=s.getECBlocks();try{for(var h=Y1(f),p=h.next();!p.done;p=h.next()){var v=p.value;u+=v.getCount()*(v.getDataCodewords()+d)}}catch(g){o={error:g}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new B;try{for(var a=Y1(t.VERSIONS),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new B},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new _e(5,new ye(1,3))),new t(2,12,12,10,10,new _e(7,new ye(1,5))),new t(3,14,14,12,12,new _e(10,new ye(1,8))),new t(4,16,16,14,14,new _e(12,new ye(1,12))),new t(5,18,18,16,16,new _e(14,new ye(1,18))),new t(6,20,20,18,18,new _e(18,new ye(1,22))),new t(7,22,22,20,20,new _e(20,new ye(1,30))),new t(8,24,24,22,22,new _e(24,new ye(1,36))),new t(9,26,26,24,24,new _e(28,new ye(1,44))),new t(10,32,32,14,14,new _e(36,new ye(1,62))),new t(11,36,36,16,16,new _e(42,new ye(1,86))),new t(12,40,40,18,18,new _e(48,new ye(1,114))),new t(13,44,44,20,20,new _e(56,new ye(1,144))),new t(14,48,48,22,22,new _e(68,new ye(1,174))),new t(15,52,52,24,24,new _e(42,new ye(2,102))),new t(16,64,64,14,14,new _e(56,new ye(2,140))),new t(17,72,72,16,16,new _e(36,new ye(4,92))),new t(18,80,80,18,18,new _e(48,new ye(4,114))),new t(19,88,88,20,20,new _e(56,new ye(4,144))),new t(20,96,96,22,22,new _e(68,new ye(4,174))),new t(21,104,104,24,24,new _e(56,new ye(6,136))),new t(22,120,120,18,18,new _e(68,new ye(6,175))),new t(23,132,132,20,20,new _e(62,new ye(8,163))),new t(24,144,144,22,22,new _e(62,new ye(8,156),new ye(2,155))),new t(25,8,18,6,16,new _e(7,new ye(1,5))),new t(26,8,32,6,14,new _e(11,new ye(1,10))),new t(27,12,26,10,24,new _e(14,new ye(1,16))),new t(28,12,36,10,16,new _e(18,new ye(1,22))),new t(29,16,36,14,16,new _e(24,new ye(1,32))),new t(30,16,48,14,22,new _e(28,new ye(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),q_=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new B;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new tn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return Q_.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,l=!1,u=!1,d=!1;do if(n===a&&i===0&&!o)e[r++]=this.readCorner1(a,s)&255,n-=2,i+=2,o=!0;else if(n===a-2&&i===0&&s&3&&!l)e[r++]=this.readCorner2(a,s)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(s&7)&&!u)e[r++]=this.readCorner3(a,s)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(s&7)===4&&!d)e[r++]=this.readCorner4(a,s)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n-=2,i+=2;while(n>=0&&i<s);n+=1,i+=3;do n>=0&&i<s&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,s)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<s);if(r!==this.version.getTotalCodewords())throw new B;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new te("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=r/i|0,o=n/a|0,l=s*i,u=o*a,d=new tn(u,l),f=0;f<s;++f)for(var h=f*i,p=0;p<o;++p)for(var v=p*a,g=0;g<i;++g)for(var w=f*(i+2)+1+g,x=h+g,m=0;m<a;++m){var y=p*(a+2)+1+m;if(e.get(y,w)){var _=v+m;d.set(_,x)}}return d},t}(),K1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J_=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,s,o=r.getECBlocks(),l=0,u=o.getECBlocks();try{for(var d=K1(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(oe){n={error:oe}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(l),v=0;try{for(var g=K1(u),w=g.next();!w.done;w=g.next())for(var h=w.value,x=0;x<h.getCount();x++){var m=h.getDataCodewords(),y=o.getECCodewords()+m;p[v++]=new t(m,new Uint8Array(y))}}catch(oe){a={error:oe}}finally{try{w&&!w.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}for(var _=p[0].codewords.length,b=_-o.getECCodewords(),A=b-1,I=0,x=0;x<A;x++)for(var S=0;S<v;S++)p[S].codewords[x]=e[I++];for(var k=r.getVersionNumber()===24,R=k?8:v,S=0;S<R;S++)p[S].codewords[b-1]=e[I++];for(var K=p[0].codewords.length,x=b;x<K;x++)for(var S=0;S<v;S++){var U=k?(S+8)%v:S,X=k&&U>7?x-1:x;p[U].codewords[X]=e[I++]}if(I!==e.length)throw new te;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Em=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new te(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,l=s-o,u=255>>8-o<<l;r=(a[i]&u)>>l,e-=o,n+=o,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(a[i]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),nt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(nt||(nt={}));var e8=function(){function t(){}return t.decode=function(e){var r=new Em(e),n=new le,i=new le,a=new Array,s=nt.ASCII_ENCODE;do if(s===nt.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,i);else{switch(s){case nt.C40_ENCODE:this.decodeC40Segment(r,n);break;case nt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case nt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case nt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case nt.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new B}s=nt.ASCII_ENCODE}while(s!==nt.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new $l(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new B;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),nt.ASCII_ENCODE;if(a===129)return nt.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&r.append("0"),r.append(""+s)}else switch(a){case 230:return nt.C40_ENCODE;case 231:return nt.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return nt.ANSIX12_ENCODE;case 239:return nt.TEXT_ENCODE;case 240:return nt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new B;break}}while(e.available()>0);return nt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new B;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new B}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new B}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new B;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new B}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new B;break;default:throw new B}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var s=n[a];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new B;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new B;for(var o=new Uint8Array(s),l=0;l<s;l++){if(e.available()<8)throw new B;o[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(o);try{r.append(Er.decode(o,he.ISO88591))}catch(u){throw new zs("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),t8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r8=function(){function t(){this.rsDecoder=new Hl(Xt.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new q_(e),a=i.getVersion(),s=i.readCodewords(),o=J_.getDataBlocks(s,a),l=0;try{for(var u=t8(o),d=u.next();!d.done;d=u.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(y){r={error:y}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=o.length,v=0;v<p;v++){var g=o[v],w=g.getCodewords(),x=g.getNumDataCodewords();this.correctErrors(w,x);for(var m=0;m<x;m++)h[m*p+v]=w[m]}return e8.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gt}for(var i=0;i<r;i++)e[i]=n[i]},t}(),n8=function(){function t(e){this.image=e,this.rectangleDetector=new Ku(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new j;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,l=this.transitionsBetween(a,s)+1;(o&1)===1&&(o+=1),(l&1)===1&&(l+=1),4*o<7*l&&4*l<7*o&&(o=l=Math.max(o,l));var u=t.sampleGrid(this.image,n,i,a,s,o,l);return new xf(u,[n,i,a,s])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Y(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Y(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),d=s,f=[a,r,n,i];return d>o&&(d=o,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>u&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=t.shiftPoint(n,i,(s+1)*4),l=t.shiftPoint(i,n,(s+1)*4),u=this.transitionsBetween(o,r),d=this.transitionsBetween(l,a);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a),o=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(o+1)*4),u=t.shiftPoint(i,n,(s+1)*4);s=this.transitionsBetween(l,a),o=this.transitionsBetween(u,a);var d=new Y(a.getX()+(i.getX()-n.getX())/(s+1),a.getY()+(i.getY()-n.getY())/(s+1)),f=new Y(a.getX()+(r.getX()-n.getX())/(o+1),a.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],s=this.transitionsBetween(r,a)+1,o=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,o*4),u=t.shiftPoint(i,n,s*4);s=this.transitionsBetween(l,a)+1,o=this.transitionsBetween(u,a)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var h,p;return l=t.shiftPoint(r,n,o*4),l=t.shiftPoint(l,a,s*4),h=t.shiftPoint(n,r,o*4),h=t.shiftPoint(h,i,s*4),u=t.shiftPoint(i,a,o*4),u=t.shiftPoint(u,n,s*4),p=t.shiftPoint(a,i,o*4),p=t.shiftPoint(p,r,s*4),[l,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,s,o){var l=yf.getInstance();return l.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-i)>Math.abs(a-n);if(o){var l=n;n=i,i=l,l=a,a=s,s=l}for(var u=Math.abs(a-n),d=Math.abs(s-i),f=-u/2,h=i<s?1:-1,p=n<a?1:-1,v=0,g=this.image.get(o?i:n,o?n:i),w=n,x=i;w!==a;w+=p){var m=this.image.get(o?x:w,o?w:x);if(m!==g&&(v++,g=m),f+=d,f>0){if(x===s)break;x+=h,f-=u}}return v},t}(),Ju=function(){function t(){this.decoder=new r8}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has($e.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var s=new n8(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),i=s.getPoints()}var o=n.getRawBytes(),l=new Pt(n.getText(),o,8*o.length,i,ee.DATA_MATRIX,Re.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(At.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&l.putMetadata(At.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new j;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],l=n[0],u=(l-o+1)/i,d=(s-a+1)/i;if(u<=0||d<=0)throw new j;var f=i/2;a+=f,o+=f;for(var h=new tn(u,d),p=0;p<d;p++)for(var v=a+p*i,g=0;g<u;g++)e.get(o+g*i,v)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new j;var s=i-e[0];if(s===0)throw new j;return s},t.NO_POINTS=[],t}(),i8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){i8(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Ju,r)||this}return e})(Aa);var qi;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(qi||(qi={}));var a8=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Tr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new te;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(qi.L,"L",1),t.M=new t(qi.M,"M",0),t.Q=new t(qi.Q,"Q",3),t.H=new t(qi.H,"H",2),t}(),s8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bm=function(){function t(e){this.errorCorrectionLevel=a8.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return ce.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=s8(t.FORMAT_INFO_DECODE_LOOKUP),l=o.next();!l.done;l=o.next()){var u=l.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<a&&(s=u[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(s=u[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),o8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=o8(i),s=a.next();!s.done;s=a.next()){var o=s.value;n+=o.getCount()}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),E=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),l8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ei=function(){function t(e,r){for(var n,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var o=0,l=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var d=l8(u),f=d.next();!f.done;f=d.next()){var h=f.value;o+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new B;try{return this.getVersionForNumber((e-17)/4)}catch{throw new B}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new te;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var s=bm.numBitsDiffering(e,a);s<r&&(n=i+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new tn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<n;s++)i===0&&(s===0||s===n-1)||i===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new T(7,new E(1,19)),new T(10,new E(1,16)),new T(13,new E(1,13)),new T(17,new E(1,9))),new t(2,Int32Array.from([6,18]),new T(10,new E(1,34)),new T(16,new E(1,28)),new T(22,new E(1,22)),new T(28,new E(1,16))),new t(3,Int32Array.from([6,22]),new T(15,new E(1,55)),new T(26,new E(1,44)),new T(18,new E(2,17)),new T(22,new E(2,13))),new t(4,Int32Array.from([6,26]),new T(20,new E(1,80)),new T(18,new E(2,32)),new T(26,new E(2,24)),new T(16,new E(4,9))),new t(5,Int32Array.from([6,30]),new T(26,new E(1,108)),new T(24,new E(2,43)),new T(18,new E(2,15),new E(2,16)),new T(22,new E(2,11),new E(2,12))),new t(6,Int32Array.from([6,34]),new T(18,new E(2,68)),new T(16,new E(4,27)),new T(24,new E(4,19)),new T(28,new E(4,15))),new t(7,Int32Array.from([6,22,38]),new T(20,new E(2,78)),new T(18,new E(4,31)),new T(18,new E(2,14),new E(4,15)),new T(26,new E(4,13),new E(1,14))),new t(8,Int32Array.from([6,24,42]),new T(24,new E(2,97)),new T(22,new E(2,38),new E(2,39)),new T(22,new E(4,18),new E(2,19)),new T(26,new E(4,14),new E(2,15))),new t(9,Int32Array.from([6,26,46]),new T(30,new E(2,116)),new T(22,new E(3,36),new E(2,37)),new T(20,new E(4,16),new E(4,17)),new T(24,new E(4,12),new E(4,13))),new t(10,Int32Array.from([6,28,50]),new T(18,new E(2,68),new E(2,69)),new T(26,new E(4,43),new E(1,44)),new T(24,new E(6,19),new E(2,20)),new T(28,new E(6,15),new E(2,16))),new t(11,Int32Array.from([6,30,54]),new T(20,new E(4,81)),new T(30,new E(1,50),new E(4,51)),new T(28,new E(4,22),new E(4,23)),new T(24,new E(3,12),new E(8,13))),new t(12,Int32Array.from([6,32,58]),new T(24,new E(2,92),new E(2,93)),new T(22,new E(6,36),new E(2,37)),new T(26,new E(4,20),new E(6,21)),new T(28,new E(7,14),new E(4,15))),new t(13,Int32Array.from([6,34,62]),new T(26,new E(4,107)),new T(22,new E(8,37),new E(1,38)),new T(24,new E(8,20),new E(4,21)),new T(22,new E(12,11),new E(4,12))),new t(14,Int32Array.from([6,26,46,66]),new T(30,new E(3,115),new E(1,116)),new T(24,new E(4,40),new E(5,41)),new T(20,new E(11,16),new E(5,17)),new T(24,new E(11,12),new E(5,13))),new t(15,Int32Array.from([6,26,48,70]),new T(22,new E(5,87),new E(1,88)),new T(24,new E(5,41),new E(5,42)),new T(30,new E(5,24),new E(7,25)),new T(24,new E(11,12),new E(7,13))),new t(16,Int32Array.from([6,26,50,74]),new T(24,new E(5,98),new E(1,99)),new T(28,new E(7,45),new E(3,46)),new T(24,new E(15,19),new E(2,20)),new T(30,new E(3,15),new E(13,16))),new t(17,Int32Array.from([6,30,54,78]),new T(28,new E(1,107),new E(5,108)),new T(28,new E(10,46),new E(1,47)),new T(28,new E(1,22),new E(15,23)),new T(28,new E(2,14),new E(17,15))),new t(18,Int32Array.from([6,30,56,82]),new T(30,new E(5,120),new E(1,121)),new T(26,new E(9,43),new E(4,44)),new T(28,new E(17,22),new E(1,23)),new T(28,new E(2,14),new E(19,15))),new t(19,Int32Array.from([6,30,58,86]),new T(28,new E(3,113),new E(4,114)),new T(26,new E(3,44),new E(11,45)),new T(26,new E(17,21),new E(4,22)),new T(26,new E(9,13),new E(16,14))),new t(20,Int32Array.from([6,34,62,90]),new T(28,new E(3,107),new E(5,108)),new T(26,new E(3,41),new E(13,42)),new T(30,new E(15,24),new E(5,25)),new T(28,new E(15,15),new E(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new T(28,new E(4,116),new E(4,117)),new T(26,new E(17,42)),new T(28,new E(17,22),new E(6,23)),new T(30,new E(19,16),new E(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new T(28,new E(2,111),new E(7,112)),new T(28,new E(17,46)),new T(30,new E(7,24),new E(16,25)),new T(24,new E(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new T(30,new E(4,121),new E(5,122)),new T(28,new E(4,47),new E(14,48)),new T(30,new E(11,24),new E(14,25)),new T(30,new E(16,15),new E(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new T(30,new E(6,117),new E(4,118)),new T(28,new E(6,45),new E(14,46)),new T(30,new E(11,24),new E(16,25)),new T(30,new E(30,16),new E(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new T(26,new E(8,106),new E(4,107)),new T(28,new E(8,47),new E(13,48)),new T(30,new E(7,24),new E(22,25)),new T(30,new E(22,15),new E(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new T(28,new E(10,114),new E(2,115)),new T(28,new E(19,46),new E(4,47)),new T(28,new E(28,22),new E(6,23)),new T(30,new E(33,16),new E(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new T(30,new E(8,122),new E(4,123)),new T(28,new E(22,45),new E(3,46)),new T(30,new E(8,23),new E(26,24)),new T(30,new E(12,15),new E(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new T(30,new E(3,117),new E(10,118)),new T(28,new E(3,45),new E(23,46)),new T(30,new E(4,24),new E(31,25)),new T(30,new E(11,15),new E(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new T(30,new E(7,116),new E(7,117)),new T(28,new E(21,45),new E(7,46)),new T(30,new E(1,23),new E(37,24)),new T(30,new E(19,15),new E(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new T(30,new E(5,115),new E(10,116)),new T(28,new E(19,47),new E(10,48)),new T(30,new E(15,24),new E(25,25)),new T(30,new E(23,15),new E(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new T(30,new E(13,115),new E(3,116)),new T(28,new E(2,46),new E(29,47)),new T(30,new E(42,24),new E(1,25)),new T(30,new E(23,15),new E(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new T(30,new E(17,115)),new T(28,new E(10,46),new E(23,47)),new T(30,new E(10,24),new E(35,25)),new T(30,new E(19,15),new E(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new T(30,new E(17,115),new E(1,116)),new T(28,new E(14,46),new E(21,47)),new T(30,new E(29,24),new E(19,25)),new T(30,new E(11,15),new E(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new T(30,new E(13,115),new E(6,116)),new T(28,new E(14,46),new E(23,47)),new T(30,new E(44,24),new E(7,25)),new T(30,new E(59,16),new E(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new T(30,new E(12,121),new E(7,122)),new T(28,new E(12,47),new E(26,48)),new T(30,new E(39,24),new E(14,25)),new T(30,new E(22,15),new E(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new T(30,new E(6,121),new E(14,122)),new T(28,new E(6,47),new E(34,48)),new T(30,new E(46,24),new E(10,25)),new T(30,new E(2,15),new E(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new T(30,new E(17,122),new E(4,123)),new T(28,new E(29,46),new E(14,47)),new T(30,new E(49,24),new E(10,25)),new T(30,new E(24,15),new E(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new T(30,new E(4,122),new E(18,123)),new T(28,new E(13,46),new E(32,47)),new T(30,new E(48,24),new E(14,25)),new T(30,new E(42,15),new E(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new T(30,new E(20,117),new E(4,118)),new T(28,new E(40,47),new E(7,48)),new T(30,new E(43,24),new E(22,25)),new T(30,new E(10,15),new E(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new T(30,new E(19,118),new E(6,119)),new T(28,new E(18,47),new E(31,48)),new T(30,new E(34,24),new E(34,25)),new T(30,new E(20,15),new E(61,16)))],t}(),pt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(pt||(pt={}));var Q1=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[pt.DATA_MASK_000,new t(pt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[pt.DATA_MASK_001,new t(pt.DATA_MASK_001,function(e,r){return(e&1)===0})],[pt.DATA_MASK_010,new t(pt.DATA_MASK_010,function(e,r){return r%3===0})],[pt.DATA_MASK_011,new t(pt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[pt.DATA_MASK_100,new t(pt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[pt.DATA_MASK_101,new t(pt.DATA_MASK_101,function(e,r){return e*r%6===0})],[pt.DATA_MASK_110,new t(pt.DATA_MASK_110,function(e,r){return e*r%6<3})],[pt.DATA_MASK_111,new t(pt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),c8=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new B;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,n=i-1;n>=s;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=bm.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ei.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)n=this.copyBit(s,a,n);var o=Ei.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(s,a,n);if(o=Ei.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new B},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Q1.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),l=0,u=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=s?i-1-h:h,v=0;v<2;v++)a.get(f-v,p)||(d++,u<<=1,this.bitMatrix.get(f-v,p)&&(u|=1),d===8&&(o[l++]=u,d=0,u=0));s=!s}if(l!==r.getTotalCodewords())throw new B;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Q1.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),q1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u8=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,s,o;if(e.length!==r.getTotalCodewords())throw new te;var l=r.getECBlocksForLevel(n),u=0,d=l.getECBlocks();try{for(var f=q1(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(X){i={error:X}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var v=new Array(u),g=0;try{for(var w=q1(d),x=w.next();!x.done;x=w.next())for(var p=x.value,m=0;m<p.getCount();m++){var y=p.getDataCodewords(),_=l.getECCodewordsPerBlock()+y;v[g++]=new t(y,new Uint8Array(_))}}catch(X){s={error:X}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}for(var b=v[0].codewords.length,A=v.length-1;A>=0;){var I=v[A].codewords.length;if(I===b)break;A--}A++;for(var S=b-l.getECCodewordsPerBlock(),k=0,m=0;m<S;m++)for(var R=0;R<g;R++)v[R].codewords[m]=e[k++];for(var R=A;R<g;R++)v[R].codewords[S]=e[k++];for(var K=v[0].codewords.length,m=S;m<K;m++)for(var R=0;R<g;R++){var U=R<A?m:m+1;v[R].codewords[U]=e[k++]}return v},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),mr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(mr||(mr={}));var Me=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new te;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(mr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(mr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(mr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(mr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(mr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(mr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(mr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(mr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(mr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(mr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),d8=function(){function t(){}return t.decode=function(e,r,n,i){var a=new Em(e),s=new le,o=new Array,l=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(a.available()<4)h=Me.TERMINATOR;else{var p=a.readBits(4);h=Me.forBits(p)}switch(h){case Me.TERMINATOR:break;case Me.FNC1_FIRST_POSITION:case Me.FNC1_SECOND_POSITION:f=!0;break;case Me.STRUCTURED_APPEND:if(a.available()<16)throw new B;l=a.readBits(8),u=a.readBits(8);break;case Me.ECI:var v=t.parseECIValue(a);if(d=lt.getCharacterSetECIByValue(v),d===null)throw new B;break;case Me.HANZI:var g=a.readBits(4),w=a.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,s,w);break;default:var x=a.readBits(h.getCharacterCountBits(r));switch(h){case Me.NUMERIC:t.decodeNumericSegment(a,s,x);break;case Me.ALPHANUMERIC:t.decodeAlphanumericSegment(a,s,x,f);break;case Me.BYTE:t.decodeByteSegment(a,s,x,d,o,i);break;case Me.KANJI:t.decodeKanjiSegment(a,s,x);break;default:throw new B}break}}while(h!==Me.TERMINATOR)}catch{throw new B}return new $l(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new B;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,i[a]=o>>8&255,i[a+1]=o&255,a+=2,n--}try{r.append(Er.decode(i,he.GB2312))}catch(l){throw new B(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new B;for(var i=new Uint8Array(2*n),a=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,i[a]=o>>8,i[a+1]=o,a+=2,n--}try{r.append(Er.decode(i,he.SHIFT_JIS))}catch(l){throw new B(l)}},t.decodeByteSegment=function(e,r,n,i,a,s){if(8*n>e.available())throw new B;for(var o=new Uint8Array(n),l=0;l<n;l++)o[l]=e.readBits(8);var u;i===null?u=he.guessEncoding(o,s):u=i.getName();try{r.append(Er.decode(o,u))}catch(d){throw new B(d)}a.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new B;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new B;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new B;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var o=a;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new B;var i=e.readBits(10);if(i>=1e3)throw new B;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new B;var a=e.readBits(7);if(a>=100)throw new B;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new B;var s=e.readBits(4);if(s>=10)throw new B;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new B},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),Cm=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),J1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f8=function(){function t(){this.rsDecoder=new Hl(Xt.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(tn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new c8(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new Cm(!0)),a}catch(s){throw i!==null?i:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,s,o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=u8.getDataBlocks(u,o,l),f=0;try{for(var h=J1(d),p=h.next();!p.done;p=h.next()){var v=p.value;f+=v.getNumDataCodewords()}}catch(A){n={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),w=0;try{for(var x=J1(d),m=x.next();!m.done;m=x.next()){var v=m.value,y=v.getCodewords(),_=v.getNumDataCodewords();this.correctErrors(y,_);for(var b=0;b<_;b++)g[w++]=y[b]}}catch(A){a={error:A}}finally{try{m&&!m.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}return d8.decode(g,o,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gt}for(var i=0;i<r;i++)e[i]=n[i]},t}(),h8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p8=function(t){h8(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+i)/2;return new e(a,s,o)},e}(Y),v8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m8=function(){function t(e,r,n,i,a,s,o){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,s=new Int32Array(3),o=this.image,l=0;l<r;l++){var u=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<i&&!o.get(d,u);)d++;for(var f=0;d<i;){if(o.get(d,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,d);if(h!==null)return h}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;d++}if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,s=a.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var l=e;l>=0&&a.get(r,l)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<s&&a.get(r,l)&&o[1]<=n;)o[1]++,l++;if(l===s||o[1]>n)return NaN;for(;l<s&&!a.get(r,l)&&o[2]<=n;)o[2]++,l++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=v8(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,l,o))return h.combineEstimate(l,o,u)}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var p=new p8(o,l,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),g8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x8=function(t){g8(e,t);function e(r,n,i,a){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,s=(this.count*this.getX()+n)/a,o=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(s,o,l,a)},e}(Y),y8=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Fa=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w8=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get($e.TRY_HARDER)!==void 0,n=e!=null&&e.get($e.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),o=Math.floor(3*a/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),d=o-1;d<a&&!l;d+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<s;h++)if(i.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(o=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var v=this.findRowSkip();v>u[2]&&(d+=v-u[2]-o,h=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,s,n);p===!0&&(o=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return Y.orderBestPatterns(g),new y8(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)a[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&a[1]<=n;)a[1]++,s++;if(e<s||r<s||a[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&a[0]<=n;)a[0]++,s++;if(a[0]>n)return!1;var l=o.getHeight(),u=o.getWidth();for(s=1;e+s<l&&r+s<u&&o.get(r+s,e+s);)a[2]++,s++;if(e+s>=l||r+s>=u)return!1;for(;e+s<l&&r+s<u&&!o.get(r+s,e+s)&&a[3]<n;)a[3]++,s++;if(e+s>=l||r+s>=u||a[3]>=n)return!1;for(;e+s<l&&r+s<u&&o.get(r+s,e+s)&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,s=a.getHeight(),o=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<s&&a.get(r,l);)o[2]++,l++;if(l===s)return NaN;for(;l<s&&!a.get(r,l)&&o[3]<n;)o[3]++,l++;if(l===s||o[3]>=n)return NaN;for(;l<s&&a.get(r,l)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,s=a.getWidth(),o=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<s&&a.get(l,r);)o[2]++,l++;if(l===s)return NaN;for(;l<s&&!a.get(l,r)&&o[3]<n;)o[3]++,l++;if(l===s||o[3]>=n)return NaN;for(;l<s&&a.get(l,r)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],a);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],a)))){for(var l=a/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,o,s)){d[f]=p.combineEstimate(o,s,l),u=!0;break}}if(!u){var v=new x8(s,o,l);d.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Fa(this.possibleCenters),s=a.next();!s.done;s=a.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,s=0,o=this.possibleCenters.length;try{for(var l=Fa(this.possibleCenters),u=l.next();!u.done;u=l.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(a++,s+=d.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=s/o,h=0;try{for(var p=Fa(this.possibleCenters),v=p.next();!v.done;v=p.next()){var d=v.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new j;var s=this.possibleCenters,o;if(a>3){var l=0,u=0;try{for(var d=Fa(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,u+=p*p}}catch(b){e={error:b}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}o=l/a;var v=Math.sqrt(u/a-o*o);s.sort(function(b,A){var I=Math.abs(A.getEstimatedModuleSize()-o),S=Math.abs(b.getEstimatedModuleSize()-o);return I<S?-1:I>S?1:0});for(var g=Math.max(.2*o,v),w=0;w<s.length&&s.length>3;w++){var x=s[w];Math.abs(x.getEstimatedModuleSize()-o)>g&&(s.splice(w,1),w--)}}if(s.length>3){var l=0;try{for(var m=Fa(s),y=m.next();!y.done;y=m.next()){var _=y.value;l+=_.getEstimatedModuleSize()}}catch(A){n={error:A}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}o=l/s.length,s.sort(function(A,I){if(I.getCount()===A.getCount()){var S=Math.abs(I.getEstimatedModuleSize()-o),k=Math.abs(A.getEstimatedModuleSize()-o);return S<k?1:S>k?-1:0}else return I.getCount()-A.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),_8=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get($e.NEED_RESULT_POINT_CALLBACK);var r=new w8(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new j("No pattern found in proccess finder.");var s=t.computeDimension(r,n,i,a),o=Ei.getProvisionalVersionForDimension(s),l=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),v=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{u=this.findAlignmentInRegion(a,p,v,g);break}catch(y){if(!(y instanceof j))throw y}var w=t.createTransform(r,n,i,u,s),x=t.sampleGrid(this.image,w,s),m;return u===null?m=[i,r,n]:m=[i,r,n,u],new xf(x,m)},t.createTransform=function(e,r,n,i,a){var s=a-3.5,o,l,u,d;return i!==null?(o=i.getX(),l=i.getY(),u=s-3,d=u):(o=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=s,d=s),xm.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=yf.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=ge.round(Y.distance(e,r)/i),s=ge.round(Y.distance(e,n)/i),o=Math.floor((a+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new j("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*s);return s=1,l<0?(s=r/(r-l),l=0):l>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,r,o,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var s=e;e=r,r=s,s=n,n=i,i=s}for(var o=Math.abs(n-e),l=Math.abs(i-r),u=-o/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,v=e,g=r;v!==p;v+=d){var w=a?g:v,x=a?v:g;if(h===1===this.image.get(w,x)){if(h===2)return ge.distance(v,g,e,r);h++}if(u+=l,u>0){if(g===i)break;g+=f,u-=o}}return h===2?ge.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),s=Math.max(0,r-a),o=Math.min(this.image.getWidth()-1,r+a);if(o-s<e*3)throw new j("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-l<e*3)throw new j("Alignment bottom exceeds estimated module size.");var d=new m8(this.image,s,l,o-s,u-l,e,this.resultPointCallback);return d.find()},t}(),ed=function(){function t(){this.decoder=new f8}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get($e.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var s=new _8(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),i=s.getPoints()}n.getOther()instanceof Cm&&n.getOther().applyMirroredCorrection(i);var o=new Pt(n.getText(),n.getRawBytes(),void 0,i,ee.QR_CODE,void 0),l=n.getByteSegments();l!==null&&o.putMetadata(At.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&o.putMetadata(At.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(At.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(At.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new j;var i=this.moduleSize(r,e),a=r[1],s=n[1],o=r[0],l=n[0];if(o>=l||a>=s)throw new j;if(s-a!==l-o&&(l=o+(s-a),l>=e.getWidth()))throw new j;var u=Math.round((l-o+1)/i),d=Math.round((s-a+1)/i);if(u<=0||d<=0)throw new j;if(d!==u)throw new j;var f=Math.floor(i/2);a+=f,o+=f;var h=o+Math.floor((u-1)*i)-l;if(h>0){if(h>f)throw new j;o-=h}var p=a+Math.floor((d-1)*i)-s;if(p>0){if(p>f)throw new j;a-=p}for(var v=new tn(u,d),g=0;g<d;g++)for(var w=a+Math.floor(g*i),x=0;x<u;x++)e.get(o+Math.floor(x*i),w)&&v.set(x,g);return v},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],s=e[1],o=!0,l=0;a<i&&s<n;){if(o!==r.get(a,s)){if(++l===5)break;o=!o}a++,s++}if(a===i||s===n)throw new j;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),E8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pe=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return ge.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=E8(e),o=s.next();!o.done;o=s.next()){var l=o.value;i[a++]=l}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=ct.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),b8=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),C8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N8=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new b8(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,s=0,o=0,l=!1;s<r.getHeight();){var u=t.findVertices(r,s,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;try{for(var d=(n=void 0,C8(a)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(l=!0,a.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,s){for(var o=new Array(4),l=!1,u=new Int32Array(s.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,s,u);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,s,u);if(f!=null)d=f;else{i++;break}}o[0]=new Y(d[0],i),o[1]=new Y(d[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,s,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,o[2]=new Y(f[0],h),o[3]=new Y(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&ct.fill(o,null),o},t.findGuardPattern=function(e,r,n,i,a,s,o){ct.fillWithin(o,0,o.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=s.length,p=a;d<i;d++){var v=e.get(d,n);if(v!==p)o[f]++;else{if(f===h-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=o[0]+o[1],Re.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,s=0,o=0;o<i;o++)a+=e[o],s+=r[o];if(a<s)return 1/0;var l=a/s;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),A8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yi=function(){function t(e,r){if(r.length===0)throw new te;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Re.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=A8(this.coefficients),s=a.next();!s.done;s=a.next()){var o=s.value;i=this.field.add(i,o)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new te("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),s=n.length-r.length;Re.arraycopy(n,0,a,0,s);for(var o=s;o<n.length;o++)a[o]=this.field.add(r[o-s],n[o]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new te("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new te("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,s=new Int32Array(n+a-1),o=0;o<n;o++)for(var l=r[o],u=0;u<a;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(l,i[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new te;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new le,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),S8=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new te;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new gm;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),I8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T8=function(t){I8(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,s=0;s<r;s++)i.expTable[s]=a,a=a*n%r;for(var s=0;s<r-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new yi(i,new Int32Array([0])),i.one=new yi(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new te;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new yi(this,i)},e.PDF417_GF=new e(pe.NUMBER_OF_CODEWORDS,3),e}(S8),O8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k8=function(){function t(){this.field=T8.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,s=new yi(this.field,e),o=new Int32Array(r),l=!1,u=r;u>0;u--){var d=s.evaluateAt(this.field.exp(u));o[r-u]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=O8(n),p=h.next();!p.done;p=h.next()){var v=p.value,g=this.field.exp(e.length-1-v),w=new yi(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(w)}}catch(S){i={error:S}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var x=new yi(this.field,o),m=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),y=m[0],_=m[1],b=this.findErrorLocations(y),A=this.findErrorMagnitudes(_,y,b),u=0;u<b.length;u++){var I=e.length-1-this.field.log(b[u]);if(I<0)throw gt.getChecksumInstance();e[I]=this.field.subtract(e[I],A[u])}return b.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,s=r,o=this.field.getZero(),l=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=a,d=o;if(a=s,o=l,a.isZero())throw gt.getChecksumInstance();s=u;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);s.getDegree()>=a.getDegree()&&!s.isZero();){var v=s.getDegree()-a.getDegree(),g=this.field.multiply(s.getCoefficient(s.getDegree()),p);f=f.add(this.field.buildMonomial(v,g)),s=s.subtract(a.multiplyByMonomial(v,g))}l=f.multiply(o).subtract(d).negative()}var w=l.getCoefficient(0);if(w===0)throw gt.getChecksumInstance();var x=this.field.inverse(w),m=l.multiply(x),y=s.multiply(x);return[m,y]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw gt.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new yi(this.field,a),l=n.length,u=new Int32Array(l),s=0;s<l;s++){var d=this.field.inverse(n[s]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(o.evaluateAt(d));u[s]=this.field.multiply(f,h)}return u},t}(),td=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var s=r==null||n==null,o=i==null||a==null;if(s&&o)throw new j;s?(r=new Y(0,i.getY()),n=new Y(0,a.getY())):o&&(i=new Y(e.getWidth()-1,r.getY()),a=new Y(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var d=new Y(l.getX(),u);n?i=d:s=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Y(f.getX(),h);n?a=p:o=p}return new t(this.image,i,a,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),j8=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),_f=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(s,o,l,u,d,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(s);break;case"p":p=parseFloat(r[n]).toPrecision(s);break;case"e":p=parseFloat(r[n]).toExponential(s);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var v=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";p.length<v;)p=o!==void 0?p+g:g+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),R8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nm=function(){function t(e){this.boundingBox=new td(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new _f,i=0;try{for(var a=R8(this.codewords),s=a.next();!s.done;s=a.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),D8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P8=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},Ya=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var s=D8(this.values.entries()),o=s.next();!o.done;o=s.next()){var l=P8(o.value,2),u=l[0],d=l[1];a(u,d)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return pe.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),M8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eh=function(t){M8(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=jc(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,f=0,h=o;h<l;h++)if(n[h]!=null){var p=n[h],v=p.getRowNumber()-u;if(v===0)f++;else if(v===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(v<0||p.getRowNumber()>=r.getRowCount()||v>h)n[h]=null;else{var g=void 0;d>2?g=(d-2)*v:g=v;for(var w=g>=h,x=1;x<=g&&!w;x++)w=n[h-x]!=null;w?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=jc(this.getCodewords()),o=s.next();!o.done;o=s.next()){var l=o.value;if(l!=null){var u=l.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),u=-1,d=s;d<o;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Ya,s=new Ya,o=new Ya,l=new Ya;try{for(var u=jc(i),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<pe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>pe.MAX_ROWS_IN_BARCODE)return null;var v=new j8(a.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,v),v},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var s=a.getValue()%30,o=a.getRowNumber();if(o>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:s+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(Nm),L8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F8=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=pe.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(a=t.adjustRowNumberIfValid(i,a,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=o[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=o[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=o[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=o[r+2],u[13]=l[r+2]);try{for(var d=L8(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(s,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new _f,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),B8=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),U8=function(){function t(){}return t.initialize=function(){for(var e=0;e<pe.SYMBOL_TABLE.length;e++)for(var r=pe.SYMBOL_TABLE[e],n=r&1,i=0;i<pe.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(pe.BARS_IN_MODULE)),t.RATIOS_TABLE[e][pe.BARS_IN_MODULE-i-1]=Math.fround(a/pe.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=ge.sum(e),n=new Int32Array(pe.BARS_IN_MODULE),i=0,a=0,s=0;s<pe.MODULES_IN_CODEWORD;s++){var o=r/(2*pe.MODULES_IN_CODEWORD)+s*r/pe.MODULES_IN_CODEWORD;a+e[i]<=o&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return pe.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=ge.sum(e),n=new Array(pe.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=Yu.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var l=0,u=t.RATIOS_TABLE[o],d=0;d<pe.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,s=pe.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(pe.SYMBOL_TABLE.length).map(function(e){return new Array(pe.BARS_IN_MODULE)}),t}(),V8=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),th=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),z8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$8=function(t){z8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Jt),H8=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new $8;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new mf;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),W8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G8=function(t){W8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Jt),X8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z8=function(t){X8(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new te("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new G8;i=ce.MAX_VALUE}this.buf=ct.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new mf;this.ensureCapacity(this.count+i),Re.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ct.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(H8),Ie;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ie||(Ie={}));function Am(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var fo;function kn(t){if(typeof fo>"u"&&(fo=Am()),fo===null)throw new Error("BigInt is not supported!");return fo(t)}function Y8(){var t=[];t[0]=kn(1);var e=kn(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var K8=function(){function t(){}return t.decode=function(e,r){var n=new le(""),i=lt.ISO8859_1;n.enableDecoding(i);for(var a=1,s=e[a++],o=new V8;a<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(s,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:lt.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new B;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)s=e[a++];else throw B.getFormatInstance()}if(n.length()===0)throw B.getFormatInstance();var l=new $l(null,n.toString(),null,r);return l.setOther(o),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw B.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(ce.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new le;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new le;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new le;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new le;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new le;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(ce.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new le;r=t.numericCompaction(e,r+1,h),n.setTimestamp(th.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new le;r=t.numericCompaction(e,r+1,p),n.setChecksum(ce.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var v=new le;r=t.numericCompaction(e,r+1,v),n.setFileSize(th.parseLong(v.toString()));break;default:throw B.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(o!==-1){var g=r-o;n.isLastSegment()&&g--,n.setOptionalData(ct.copyOfRange(e,o,o+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[s]=l/30,i[s+1]=l%30,s+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[s]=l,s++;break}}return t.decodeTextCompaction(i,a,s,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Ie.ALPHA,s=Ie.ALPHA,o=0;o<n;){var l=e[o],u="";switch(a){case Ie.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:a=Ie.LOWER;break;case t.ML:a=Ie.MIXED;break;case t.PS:s=a,a=Ie.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ie.ALPHA;break}break;case Ie.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:s=a,a=Ie.ALPHA_SHIFT;break;case t.ML:a=Ie.MIXED;break;case t.PS:s=a,a=Ie.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ie.ALPHA;break}break;case Ie.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Ie.PUNCT;break;case 26:u=" ";break;case t.LL:a=Ie.LOWER;break;case t.AL:a=Ie.ALPHA;break;case t.PS:s=a,a=Ie.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ie.ALPHA;break}break;case Ie.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Ie.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ie.ALPHA;break}break;case Ie.ALPHA_SHIFT:if(a=s,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ie.ALPHA;break}break;case Ie.PUNCT_SHIFT:if(a=s,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Ie.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Ie.ALPHA;break}break}u!==""&&i.append(u),o++}},t.byteCompaction=function(e,r,n,i,a){var s=new Z8,o=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!u;)switch(d[o++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(kn(l)>>kn(8*(5-h))));l=0,o=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=f);for(var p=0;p<o;p++)s.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var v=r[i++];if(v<t.TEXT_COMPACTION_MODE_LATCH)o++,l=900*l+v;else switch(v){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(kn(l)>>kn(8*(5-h))));l=0,o=0}}break}return a.append(Er.decode(s.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var o=e[r++];if(r===e[0]&&(a=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[i]=o,i++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(s,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=kn(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*kn(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new B;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=Am()?Y8():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Ba=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q8=function(){function t(){}return t.decode=function(e,r,n,i,a,s,o){for(var l=new td(e,r,n,i,a),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,s,o)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,s,o)),f=t.merge(u,d),f==null)throw j.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var v=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(v,d);for(var g=u!=null,w=1;w<=v;w++){var x=g?w:v-w;if(f.getDetectionResultColumn(x)===void 0){var m=void 0;x===0||x===v?m=new eh(l,x===0):m=new Nm(l),f.setDetectionResultColumn(x,m);for(var y=-1,_=y,b=l.getMinY();b<=l.getMaxY();b++){if(y=t.getStartColumn(f,x,b,g),y<0||y>l.getMaxX()){if(_===-1)continue;y=_}var A=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,y,b,s,o);A!=null&&(m.setCodeword(b,A),_=y,s=Math.min(s,A.getWidth()),o=Math.max(o,A.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=td.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new F8(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),s=0;try{for(var o=Ba(i),l=o.next();!l.done;l=o.next()){var u=l.value;if(s+=a-u,u>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;s>0&&d[f]==null;f++)s--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(s,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Ba(e),s=a.next();!s.done;s=a.next()){var o=s.value;i=Math.max(i,o)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,s){for(var o=new eh(r,i),l=0;l<2;l++)for(var u=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,s);h!=null&&(o.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>pe.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[o][l+1].getValue(),d=o*e.getBarcodeColumnCount()+l;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(s.push(d),a.push(u))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,pe.toIntArray(n),pe.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var s=new Int32Array(i.length),o=100;o-- >0;){for(var l=0;l<s.length;l++)r[i[l]]=a[l][s[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof gt;if(!u)throw d}if(s.length===0)throw gt.getChecksumInstance();for(var l=0;l<s.length;l++)if(s[l]<a[l].length-1){s[l]++;break}else if(s[l]=0,l===s.length-1)throw gt.getChecksumInstance()}throw gt.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var l=0;l<s[o].length;l++)s[o][l]=new Ya;var u=0;try{for(var d=Ba(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,Ba(h.getCodewords())),v=p.next();!v.done;v=p.next()){var g=v.value;if(g!=null){var w=g.getRowNumber();if(w>=0){if(w>=s.length)continue;s[w][u].setValue(g.getValue())}}}}catch(x){i={error:x}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}u++}}catch(x){r={error:x}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,s,o=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-o)&&(l=e.getDetectionResultColumn(r-o).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(l=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var d=(a=void 0,Ba(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+o*u*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,s,o,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,s);var u=t.getModuleBitCount(e,r,n,i,a,s);if(u==null)return null;var d,f=ge.sum(u);if(i)d=a+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=a,a=d-f}if(!t.checkCodewordSkew(f,o,l))return null;var v=U8.getDecodedValue(u),g=pe.getCodeword(v);return g===-1?null:new B8(a,d,t.getCodewordBucketNumber(v),g)},t.getModuleBitCount=function(e,r,n,i,a,s){for(var o=a,l=new Int32Array(8),u=0,d=i?1:-1,f=i;(i?o<n:o>=r)&&u<l.length;)e.get(o,s)===f?(l[u]++,o+=d):(u++,f=!f);return u===l.length||o===(i?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,s){for(var o=a,l=i?-1:1,u=0;u<2;u++){for(;(i?o>=r:o<n)&&i===e.get(o,s);){if(Math.abs(a-o)>t.CODEWORD_SKEW_SIZE)return a;o+=l}l=-l,i=!i}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw B.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var s=K8.decode(e,""+r);return s.setErrorsCorrected(a),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw gt.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw B.getFormatInstance();var n=e[0];if(n>e.length)throw B.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw B.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new _f,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new k8,t}(),q8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw j.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof B||n instanceof gt?j.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,s=new Array,o=N8.detectMultiple(e,r,n);try{for(var l=q8(o.getPoints()),u=l.next();!u.done;u=l.next()){var d=u.value,f=Q8.decode(o.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new Pt(f.getText(),f.getRawBytes(),void 0,d,ee.PDF_417);h.putMetadata(At.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(At.PDF417_EXTRA_METADATA,p),s.push(h)}}catch(v){i={error:v}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return s.map(function(v){return v})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?ce.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),J8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rh=function(t){J8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Jt),nh=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e6=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get($e.TRY_HARDER)!==void 0,n=e==null?null:e.get($e.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(s){return s===ee.UPC_A||s===ee.UPC_E||s===ee.EAN_13||s===ee.EAN_8||s===ee.CODABAR||s===ee.CODE_39||s===ee.CODE_93||s===ee.CODE_128||s===ee.ITF||s===ee.RSS_14||s===ee.RSS_EXPANDED});a&&!r&&i.push(new Za(e)),n.includes(ee.QR_CODE)&&i.push(new ed),n.includes(ee.DATA_MATRIX)&&i.push(new Ju),n.includes(ee.AZTEC)&&i.push(new Qu),n.includes(ee.PDF_417)&&i.push(new rd),a&&r&&i.push(new Za(e))}i.length===0&&(r||i.push(new Za(e)),i.push(new ed),i.push(new Ju),i.push(new Qu),i.push(new rd),r&&i.push(new Za(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=nh(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new rh("No readers where selected, nothing can be read.");try{for(var i=nh(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof rh)continue}}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new j("No MultiFormat Readers were able to detect the code.")},t}(),t6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r6=function(t){t6(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new e6;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Aa),n6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){n6(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new rd,r)||this}return e})(Aa);var i6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){i6(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ed,r)||this}return e})(Aa);var nd;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(nd||(nd={}));const ho=nd;var Sm=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Qn(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var s=n.multiply(new Qn(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new te("No error correction bytes");var n=e.length-r;if(n<=0)throw new te("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Re.arraycopy(e,0,a,0,n);var s=new Qn(this.field,a);s=s.multiplyByMonomial(r,1);for(var o=s.divide(i)[1],l=o.getCoefficients(),u=r-l.length,d=0;d<u;d++)e[n+d]=0;Re.arraycopy(l,0,e,n+u,l.length)},t}(),Ka=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var o=n[s],l=0;l<i-1;l++){var u=o[l];u===o[l+1]&&u===n[s+1][l]&&u===n[s+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=0;o<i;o++){var l=n[s];o+6<i&&l[o]===1&&l[o+1]===0&&l[o+2]===1&&l[o+3]===1&&l[o+4]===1&&l[o+5]===0&&l[o+6]===1&&(t.isWhiteHorizontal(l,o-4,o)||t.isWhiteHorizontal(l,o+7,o+11))&&r++,s+6<a&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var o=n[s],l=0;l<i;l++)o[l]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new te("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<i;o++){for(var l=0,u=-1,d=0;d<a;d++){var f=r?s[o][d]:s[d][o];f===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),a6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s6=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=a6(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;ct.fill(s,e)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],s=r.bytes[n],o=0,l=this.width;o<l;++o)if(a[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new le,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),id=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new le;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),o6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pe=function(t){o6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Jt),ih=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new xt;t.makeTypeInfoBits(e,r,i);for(var a=0,s=i.getSize();a<s;++a){var o=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],u=l[0],d=l[1];if(n.setBoolean(u,d,o),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,o)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new xt;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var o=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,a,o)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var l=0;l<2;++l){var u=s-l;if(t.isEmpty(n.get(u,o))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&Ka.getDataMaskBit(r,u,o)&&(d=!d),n.setBoolean(u,o,d)}}o+=a}a=-a,o+=a,s-=2}if(i!==e.getSize())throw new Pe("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-ce.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new te("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!id.isValidMaskPattern(r))throw new Pe("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var s=new xt;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Pe("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Pe("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Pe;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Pe;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Pe;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)n.setNumber(e+s,r+i,a[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,s=i.length;a!==s;a++){var o=i[a];if(o>=0)for(var l=0;l!==s;l++){var u=i[l];u>=0&&t.isEmpty(r.get(u,o))&&t.embedPositionAdjustmentPattern(u-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),l6=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),ah=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Ka.applyMaskPenaltyRule1(e)+Ka.applyMaskPenaltyRule2(e)+Ka.applyMaskPenaltyRule3(e)+Ka.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(ho.CHARACTER_SET)!==void 0;a&&(i=n.get(ho.CHARACTER_SET).toString());var s=this.chooseMode(e,i),o=new xt;if(s===Me.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=lt.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,o)}this.appendModeInfo(s,o);var u=new xt;this.appendBytes(e,s,u,i);var d;if(n!==null&&n.get(ho.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(ho.QR_VERSION).toString(),10);d=Ei.getVersionForNumber(f);var h=this.calculateBitsNeeded(s,o,u,d);if(!this.willFit(h,d,r))throw new Pe("Data too big for requested version")}else d=this.recommendVersion(r,s,o,u);var p=new xt;p.appendBitArray(o);var v=s===Me.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(v,d,s,p),p.appendBitArray(u);var g=d.getECBlocksForLevel(r),w=d.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(w,p);var x=this.interleaveWithECBytes(p,d.getTotalCodewords(),w,g.getNumBlocks()),m=new id;m.setECLevel(r),m.setMode(s),m.setVersion(d);var y=d.getDimensionForVersion(),_=new s6(y,y),b=this.chooseMaskPattern(x,r,d,_);return m.setMaskPattern(b),ih.buildMatrix(x,r,d,b,_),m.setMatrix(_),m},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Ei.getVersionForNumber(1)),s=this.chooseVersion(a,e),o=this.calculateBitsNeeded(r,n,i,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),lt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Me.KANJI;for(var n=!1,i=!1,a=0,s=e.length;a<s;++a){var o=e.charAt(a);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)i=!0;else return Me.BYTE}return i?Me.ALPHANUMERIC:n?Me.NUMERIC:Me.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Er.encode(e,lt.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<id.NUM_MASK_PATTERNS;o++){ih.buildMatrix(e,r,n,o,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Ei.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Pe("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),s=a.getTotalECCodewords(),o=i-s,l=(e+7)/8;return o>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Pe("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),i=0;i<s;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Pe("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,s){if(i>=n)throw new Pe("Block ID too large");var o=e%n,l=n-o,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,v=d-h;if(p!==v)throw new Pe("EC bytes mismatch");if(n!==l+o)throw new Pe("RS blocks mismatch");if(e!==(f+p)*l+(h+v)*o)throw new Pe("Total bytes mismatch");i<l?(a[0]=f,s[0]=p):(a[0]=h,s[0]=v)},t.interleaveWithECBytes=function(e,r,n,i){var a,s,o,l;if(e.getSizeInBytes()!==n)throw new Pe("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<i;++p){var v=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,v,g);var w=v[0],x=new Uint8Array(w);e.toBytes(8*u,x,0,w);var m=t.generateECBytes(x,g[0]);h.push(new l6(x,m)),d=Math.max(d,w),f=Math.max(f,m.length),u+=v[0]}if(n!==u)throw new Pe("Data bytes does not match offset");for(var y=new xt,p=0;p<d;++p)try{for(var _=(a=void 0,ah(h)),b=_.next();!b.done;b=_.next()){var A=b.value,x=A.getDataBytes();p<x.length&&y.appendBits(x[p],8)}}catch(R){a={error:R}}finally{try{b&&!b.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var I=(o=void 0,ah(h)),S=I.next();!S.done;S=I.next()){var A=S.value,m=A.getErrorCorrectionBytes();p<m.length&&y.appendBits(m[p],8)}}catch(R){o={error:R}}finally{try{S&&!S.done&&(l=I.return)&&l.call(I)}finally{if(o)throw o.error}}if(r!==y.getSizeInBytes())throw new Pe("Interleaving error: "+r+" and "+y.getSizeInBytes()+" differ.");return y},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new Sm(Xt.QR_CODE_FIELD_256).encode(i,r);for(var s=new Uint8Array(r),a=0;a<r;a++)s[a]=i[n+a];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Pe(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Me.NUMERIC:t.appendNumericBytes(e,n);break;case Me.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Me.BYTE:t.append8BitBytes(e,n,i);break;case Me.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Pe("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var s=t.getDigit(e.charAt(i+1)),o=t.getDigit(e.charAt(i+2));r.appendBits(a*100+s*10+o,10),i+=3}else if(i+1<n){var s=t.getDigit(e.charAt(i+1));r.appendBits(a*10+s,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Pe;if(i+1<n){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Pe;r.appendBits(a*45+s,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Er.encode(e,n)}catch(l){throw new Pe(l)}for(var a=0,s=i.length;a!==s;a++){var o=i[a];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Er.encode(e,lt.SJIS)}catch(f){throw new Pe(f)}for(var i=n.length,a=0;a<i;a+=2){var s=n[a]&255,o=n[a+1]&255,l=s<<8&4294967295|o,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new Pe("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Me.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=lt.UTF8.getName(),t})();var c6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){c6(e,t);function e(r,n,i,a,s,o,l,u){var d=t.call(this,o,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=s,a+o>n||s+l>i)throw new te("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(o,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new te("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Re.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Re.arraycopy(this.yuvData,s,a,0,i),a;for(var o=0;o<n;o++){var l=o*r;Re.arraycopy(this.yuvData,s,a,l,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var l=o*r,u=0;u<r;u++){var d=a[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<n;a++,s+=this.dataWidth)for(var o=s+r/2,l=s,u=s+r-1;l<o;l++,u--){var d=i[l];i[l]=i[u],i[u]=d}},e.prototype.invert=function(){return new gf(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(zl);var u6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){u6(e,t);function e(r,n,i,a,s,o,l){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=s,u.left=o,u.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],v=p>>16&255,g=p>>7&510,w=p&255;f[h]=(v+g+w)/4&255}u.luminances=f}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=i),o===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new te("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new te("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Re.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Re.arraycopy(this.luminances,s,a,0,i),a;for(var o=0;o<n;o++){var l=o*r;Re.arraycopy(this.luminances,s,a,l,r),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new gf(this)},e})(zl);var d6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f6=function(t){d6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(lt),h6=function(){function t(){}return t.ISO_8859_1=lt.ISO8859_1,t}(),ad,p6=301,v6=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=p6);return{LOG:t,ALOG:e}};ad=v6([],[]),ad.LOG;ad.ALOG;var sh;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(sh||(sh={}));var oh=129,Im=230,m6=231,g6=235,x6=236,y6=237,w6=238,_6=239,E6=240,Rc=254,b6=254,lh="[)>05",ch="[)>06",uh="",Ce=0,Et=1,Ft=2,it=3,vt=4,kt=5,C6=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ce},t.prototype.encode=function(e){var r=Mr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Mr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case kt:e.writeCodeword(m6),e.signalEncoderChange(kt);return;case Et:e.writeCodeword(Im),e.signalEncoderChange(Et);return;case it:e.writeCodeword(w6),e.signalEncoderChange(it);break;case Ft:e.writeCodeword(_6),e.signalEncoderChange(Ft);break;case vt:e.writeCodeword(E6),e.signalEncoderChange(vt);break;default:throw new Error("Illegal mode: "+i)}else Mr.isExtendedASCII(n)?(e.writeCodeword(g6),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Mr.isDigit(e)&&Mr.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),N6=function(){function t(){}return t.prototype.getEncodingMode=function(){return kt},t.prototype.encode=function(e){var r=new le;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Mr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Ce);break}}var a=r.length()-1,s=1,o=e.getCodewordCount()+a+s;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,he.getCharAt(a));else if(a<=1555)r.setCharAt(0,he.getCharAt(Math.floor(a/250)+249)),r.insert(1,he.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),Ef=function(){function t(){}return t.prototype.getEncodingMode=function(){return Et},t.prototype.encodeMaximal=function(e){for(var r=new le,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var o=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(Im),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new le;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var l=new le;for(r.length()%3===2&&o!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||o!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var u=r.length();if(u%3===0){var d=Mr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Ce);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),s=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(s),e.pos--;var o=e.getCurrentChar();return i=this.encodeChar(o,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Rc)}else if(s===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Rc),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Rc)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Ce)},t.prototype.encodeChar=function(e,r){if(e===" ".charCodeAt(0))return r.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return r.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return r.append(e-65+14),1;if(e<" ".charCodeAt(0))return r.append(0),r.append(e),2;if(e<="/".charCodeAt(0))return r.append(1),r.append(e-33),2;if(e<="@".charCodeAt(0))return r.append(1),r.append(e-58+15),2;if(e<="_".charCodeAt(0))return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new le;return a.append(n),a.append(i),a.toString()},t}(),A6=function(){function t(){}return t.prototype.getEncodingMode=function(){return vt},t.prototype.encode=function(e){for(var r=new le;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var s=Mr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Ce);break}}}r.append(he.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(Ce)}},t.prototype.encodeChar=function(e,r){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?r.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?r.append(he.getCharAt(e-64)):Mr.illegalCharacter(he.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(i<<12)+(a<<6)+s,l=o>>16&255,u=o>>8&255,d=o&255,f=new le;return f.append(l),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),S6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},we=function(){function t(e,r,n,i,a,s,o,l){o===void 0&&(o=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=I6(O6),u=l.next();!u.done;u=l.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),T6=function(t){S6(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(we),O6=[new we(!1,3,5,8,8,1),new we(!1,5,7,10,10,1),new we(!0,5,7,16,6,1),new we(!1,8,10,12,12,1),new we(!0,10,11,14,6,2),new we(!1,12,12,14,14,1),new we(!0,16,14,24,10,1),new we(!1,18,14,16,16,1),new we(!1,22,18,18,18,1),new we(!0,22,18,16,10,2),new we(!1,30,20,20,20,1),new we(!0,32,24,16,14,2),new we(!1,36,24,22,22,1),new we(!1,44,28,24,24,1),new we(!0,49,28,22,14,2),new we(!1,62,36,14,14,4),new we(!1,86,42,16,16,4),new we(!1,114,48,18,18,4),new we(!1,144,56,20,20,4),new we(!1,174,68,22,22,4),new we(!1,204,84,24,24,4,102,42),new we(!1,280,112,14,14,16,140,56),new we(!1,368,144,16,16,16,92,36),new we(!1,456,192,18,18,16,114,48),new we(!1,576,224,20,20,16,144,56),new we(!1,696,272,22,22,16,174,68),new we(!1,816,336,24,24,16,136,56),new we(!1,1050,408,18,18,36,175,68),new we(!1,1304,496,20,20,36,163,62),new T6],k6=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new le,i=0,a=r.length;i<a;i++){var s=String.fromCharCode(r[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new le,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=we.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),j6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R6=function(t){j6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return it},e.prototype.encode=function(r){for(var n=new le;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var s=Mr.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Ce);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case"*".charCodeAt(0):n.append(1);break;case">".charCodeAt(0):n.append(2);break;case" ".charCodeAt(0):n.append(3);break;default:r>="0".charCodeAt(0)&&r<="9".charCodeAt(0)?n.append(r-48+4):r>="A".charCodeAt(0)&&r<="Z".charCodeAt(0)?n.append(r-65+14):Mr.illegalCharacter(he.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(b6),r.getNewEncoding()<0&&r.signalEncoderChange(Ce)},e}(Ef),D6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P6=function(t){D6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ft},e.prototype.encodeChar=function(r,n){if(r===" ".charCodeAt(0))return n.append(3),1;if(r>="0".charCodeAt(0)&&r<="9".charCodeAt(0))return n.append(r-48+4),1;if(r>="a".charCodeAt(0)&&r<="z".charCodeAt(0))return n.append(r-97+14),1;if(r<" ".charCodeAt(0))return n.append(0),n.append(r),2;if(r<="/".charCodeAt(0))return n.append(1),n.append(r-33),2;if(r<="@".charCodeAt(0))return n.append(1),n.append(r-58+15),2;if(r>="[".charCodeAt(0)&&r<="_".charCodeAt(0))return n.append(1),n.append(r-91+22),2;if(r==="`".charCodeAt(0))return n.append(2),n.append(0),2;if(r<="Z".charCodeAt(0))return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(Ef),M6=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=oh+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new Ef,o=[new C6,s,new P6,new R6,new A6,new N6],l=new k6(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(lh)&&e.endsWith(uh)?(l.writeCodeword(x6),l.setSkipAtEnd(2),l.pos+=lh.length):e.startsWith(ch)&&e.endsWith(uh)&&(l.writeCodeword(y6),l.setSkipAtEnd(2),l.pos+=ch.length);var u=Ce;for(a&&(s.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)o[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&u!==Ce&&u!==kt&&u!==vt&&l.writeCodeword("");var h=l.getCodewords();for(h.length()<f&&h.append(oh);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===it&&i===it){for(var a=Math.min(r+3,e.length),s=r;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Ce}else if(n===vt&&i===vt){for(var a=Math.min(r+4,e.length),s=r;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Ce}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Ce?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,s=new Uint8Array(6),o=[];;){if(r+a===e.length){ct.fill(s,0),ct.fill(o,0);var l=this.findMinimums(i,o,ce.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[Ce]===l)return Ce;if(u===1){if(s[kt]>0)return kt;if(s[vt]>0)return vt;if(s[Ft]>0)return Ft;if(s[it]>0)return it}return Et}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[Ce]+=.5:this.isExtendedASCII(d)?(i[Ce]=Math.ceil(i[Ce]),i[Ce]+=2):(i[Ce]=Math.ceil(i[Ce]),i[Ce]++),this.isNativeC40(d)?i[Et]+=2/3:this.isExtendedASCII(d)?i[Et]+=8/3:i[Et]+=4/3,this.isNativeText(d)?i[Ft]+=2/3:this.isExtendedASCII(d)?i[Ft]+=8/3:i[Ft]+=4/3,this.isNativeX12(d)?i[it]+=2/3:this.isExtendedASCII(d)?i[it]+=13/3:i[it]+=10/3,this.isNativeEDIFACT(d)?i[vt]+=3/4:this.isExtendedASCII(d)?i[vt]+=17/4:i[vt]+=13/4,this.isSpecialB256(d)?i[kt]+=4:i[kt]++,a>=4){if(ct.fill(s,0),ct.fill(o,0),this.findMinimums(i,o,ce.MAX_VALUE,s),o[Ce]<this.min(o[kt],o[Et],o[Ft],o[it],o[vt]))return Ce;if(o[kt]<o[Ce]||o[kt]+1<this.min(o[Et],o[Ft],o[it],o[vt]))return kt;if(o[vt]+1<this.min(o[kt],o[Et],o[Ft],o[it],o[Ce]))return vt;if(o[Ft]+1<this.min(o[kt],o[Et],o[vt],o[it],o[Ce]))return Ft;if(o[it]+1<this.min(o[kt],o[Et],o[vt],o[Ft],o[Ce]))return it;if(o[Et]+1<this.min(o[Ce],o[kt],o[vt],o[Ft])){if(o[Et]<o[it])return Et;if(o[Et]===o[it]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return it;if(!this.isNativeX12(h))break;f++}return Et}}}}},t.min=function(e,r,n,i,a){var s=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?s:Math.min(s,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var s=r[a]=Math.ceil(e[a]);n>s&&(n=s,ct.fill(i,0)),n===s&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return e===13||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=ce.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}();const Mr=M6;var Dc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dh=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Er.encode(e,this.charset)!=null}catch{return!1}},t}(),L6=function(){function t(e,r,n){var i,a,s,o,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(k){return new dh(f6.forName(k))}),this.encoders=[];var d=[];d.push(new dh(h6.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var v=(i=void 0,Dc(d)),g=v.next();!g.done;g=v.next()){var w=g.value,x=e.charAt(h),m=x.charCodeAt(0);if(m===n||w.canEncode(x)){p=!0;break}}}catch(k){i={error:k}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}if(!p)try{for(var y=(s=void 0,Dc(this.ENCODERS)),_=y.next();!_.done;_=y.next()){var w=_.value;if(w.canEncode(e.charAt(h))){d.push(w),p=!0;break}}}catch(k){s={error:k}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var b=0;try{for(var A=Dc(d),I=A.next();!I.done;I=A.next()){var w=I.value;this.encoders[b++]=w}}catch(k){l={error:k}}finally{try{I&&!I.done&&(u=A.return)&&u.call(A)}finally{if(l)throw l.error}}}var S=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){S=h;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Er.encode(he.getCharAt(e),this.encoders[r].name)},t}(),F6=3,B6=function(){function t(e,r,n){this.fnc1=n;var i=new L6(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new le,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,s){var o=e.charAt(i).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var d=l;d<u;d++)(o===s||r.canEncode(o,d))&&this.addEdge(n,i+1,new fh(o,r,d,a,s))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new fh[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var s=1;s<=i;s++){for(var o=0;o<r.length();o++)a[s][o]!=null&&s<i&&this.addEdges(e,r,a,s,a[s][o],n);for(var o=0;o<r.length();o++)a[s-1][o]=null}for(var l=-1,u=ce.MAX_VALUE,o=0;o<r.length();o++)if(a[i][o]!=null){var d=a[i][o];d.cachedTotalSize<u&&(u=d.cachedTotalSize,l=o)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),s=p.length-1;s>=0;s--)f.unshift(p[s]&255);var v=h.previous===null?0:h.previous.encoderIndex;v!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],s=0;s<g.length;s++)g[s]=f[s];return g},t}(),fh=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,o=i===null?0:i.encoderIndex;o!==n&&(s+=F6),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),U6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__values;var V6=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a};globalThis&&globalThis.__spread;var hh;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(hh||(hh={}));(function(t){U6(e,t);function e(r,n,i,a,s){var o=t.call(this,r,n,i)||this;return o.shape=a,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(B6);var z6=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),ph=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),$6=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),H6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bf=function(t){H6(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+ce.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}($6),W6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G6=function(t){W6(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(bf);function X6(t,e,r){return new G6(t,e,r)}function Ua(t,e,r){return new bf(t,e,r)}var Z6=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qn=0,ml=1,wr=2,Tm=3,Kr=4,Y6=new bf(null,0,0),Pc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])],K6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Q6(t){var e,r;try{for(var n=K6(t),i=n.next();!i.done;i=n.next()){var a=i.value;ct.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[qn][Kr]=0,t[ml][Kr]=0,t[ml][qn]=28,t[Tm][Kr]=0,t[wr][Kr]=0,t[wr][qn]=15,t}var Om=Q6(ct.createInt32Array(6,6)),q6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J6=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=Pc[this.mode][e];i=Ua(i,a&65535,a>>16),n+=a>>16}var s=e===wr?4:5;return i=Ua(i,r,s),new t(i,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===wr?4:5;return n=Ua(n,Om[this.mode][e],i),n=Ua(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Kr||this.mode===wr){var a=Pc[n][qn];r=Ua(r,a&65535,a>>16),i+=a>>16,n=qn}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,i+s);return o.binaryShiftByteCount===2047+31&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=X6(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Pc[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new xt;try{for(var o=q6(i),l=o.next();!l.done;l=o.next()){var u=l.value;u.appendTo(s,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return he.format("%s bits=%d bytes=%d",Z6[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(Y6,qn,0,0),t}();function eE(t){var e=he.getCharCode(" "),r=he.getCharCode("."),n=he.getCharCode(",");t[qn][e]=1;for(var i=he.getCharCode("Z"),a=he.getCharCode("A"),s=a;s<=i;s++)t[qn][s]=s-a+2;t[ml][e]=1;for(var o=he.getCharCode("z"),l=he.getCharCode("a"),s=l;s<=o;s++)t[ml][s]=s-l+2;t[wr][e]=1;for(var u=he.getCharCode("9"),d=he.getCharCode("0"),s=d;s<=u;s++)t[wr][s]=s-d+2;t[wr][n]=12,t[wr][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[Tm][he.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)he.getCharCode(p[h])>0&&(t[Kr][he.getCharCode(p[h])]=h);return t}var Mc=eE(ct.createInt32Array(5,256)),po=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tE=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=he.getCharCode(" "),r=he.getCharCode(`
`),n=ph.singletonList(J6.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case he.getCharCode("\r"):a=s===r?2:0;break;case he.getCharCode("."):a=s===e?3:0;break;case he.getCharCode(","):a=s===e?4:0;break;case he.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var o=ph.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var s=po(e),o=s.next();!o.done;o=s.next()){var l=o.value;this.updateStateForChar(l,r,a)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=Mc[e.getMode()][i]>0,s=null,o=0;o<=Kr;o++){var l=Mc[o][i];if(l>0){if(s==null&&(s=e.endBinaryShift(r)),!a||o===e.getMode()||o===wr){var u=s.latchAndAppend(o,l);n.push(u)}if(!a&&Om[e.getMode()][o]>=0){var d=s.shiftAndAppend(o,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||Mc[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,s=[];try{for(var o=po(e),l=o.next();!l.done;l=o.next()){var u=l.value;this.updateStateForPair(u,r,n,s)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Kr,n)),e.getMode()!==Kr&&i.push(a.shiftAndAppend(Kr,n)),n===3||n===4){var s=a.latchAndAppend(wr,16-n).latchAndAppend(wr,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(o)}},t.simplifyStates=function(e){var r,n,i,a,s=[];try{for(var o=po(e),l=o.next();!l.done;l=o.next()){var u=l.value,d=!0,f=function(w){if(w.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(w)&&(s=s.filter(function(x){return x!==w}))};try{for(var h=(i=void 0,po(s)),p=h.next();!p.done;p=h.next()){var v=p.value,g=f(v);if(g==="break")break}}catch(w){i={error:w}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}d&&s.push(u)}}catch(w){r={error:w}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t}(),rE=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new tE(e).encode(),a=ce.truncDivision(i.getSize()*r,100)+11,s=i.getSize()+a,o,l,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,l=Math.abs(n),l>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new te(he.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,o),d=t.WORD_SIZE[l];var h=u-u%d;if(f=t.stuffBits(i,d),f.getSize()+a>h)throw new te("Data to large for user specified layer");if(o&&f.getSize()>d*64)throw new te("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new te("Data too large for an Aztec code");if(o=p<=3,l=o?p+1:p,u=t.totalBitsInLayer(l,o),!(s>u)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var h=u-u%d;if(!(o&&f.getSize()>d*64)&&f.getSize()+a<=h)break}}}var v=t.generateCheckWords(f,u,d),g=f.getSize()/d,w=t.generateModeMessage(o,l,g),x=(o?11:14)+l*4,m=new Int32Array(x),y;if(o){y=x;for(var p=0;p<m.length;p++)m[p]=p}else{y=x+1+2*ce.truncDivision(ce.truncDivision(x,2)-1,15);for(var _=ce.truncDivision(x,2),b=ce.truncDivision(y,2),p=0;p<_;p++){var A=p+ce.truncDivision(p,15);m[_-p-1]=b-A-1,m[_+p]=b+A+1}}for(var I=new tn(y),p=0,S=0;p<l;p++){for(var k=(l-p)*4+(o?9:12),R=0;R<k;R++)for(var K=R*2,U=0;U<2;U++)v.get(S+K+U)&&I.set(m[p*2+U],m[p*2+R]),v.get(S+k*2+K+U)&&I.set(m[p*2+R],m[x-1-p*2-U]),v.get(S+k*4+K+U)&&I.set(m[x-1-p*2-U],m[x-1-p*2-R]),v.get(S+k*6+K+U)&&I.set(m[x-1-p*2-R],m[p*2+U]);S+=k*8}if(t.drawModeMessage(I,o,y,w),o)t.drawBullsEye(I,ce.truncDivision(y,2),5);else{t.drawBullsEye(I,ce.truncDivision(y,2),7);for(var p=0,R=0;p<ce.truncDivision(x,2)-1;p+=15,R+=16)for(var U=ce.truncDivision(y,2)&1;U<y;U+=2)I.set(ce.truncDivision(y,2)-R,U),I.set(ce.truncDivision(y,2)+R,U),I.set(U,ce.truncDivision(y,2)-R),I.set(U,ce.truncDivision(y,2)+R)}var X=new z6;return X.setCompact(o),X.setSize(y),X.setLayers(l),X.setCodeWords(g),X.setMatrix(I),X},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new xt;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=ce.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=a-3+s;i.get(s)&&e.set(o,a-5),i.get(s+7)&&e.set(a+5,o),i.get(20-s)&&e.set(o,a+5),i.get(27-s)&&e.set(a-5,o)}else for(var s=0;s<10;s++){var o=a-5+s+ce.truncDivision(s,5);i.get(s)&&e.set(o,a-7),i.get(s+10)&&e.set(a+7,o),i.get(29-s)&&e.set(o,a+7),i.get(39-s)&&e.set(a-7,o)}},t.generateCheckWords=function(e,r,n){var i,a,s=e.getSize()/n,o=new Sm(t.getGF(n)),l=ce.truncDivision(r,n),u=t.bitsToWords(e,n,l);o.encode(u,l-s);var d=r%n,f=new xt;f.appendBits(0,d);try{for(var h=rE(Array.from(u)),p=h.next();!p.done;p=h.next()){var v=p.value;f.appendBits(v,n)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,s;for(a=0,s=e.getSize()/r;a<s;a++){for(var o=0,l=0;l<r;l++)o|=e.get(a*r+l)?1<<r-l-1:0;i[a]=o}return i},t.getGF=function(e){switch(e){case 4:return Xt.AZTEC_PARAM;case 6:return Xt.AZTEC_DATA_6;case 8:return Xt.AZTEC_DATA_8;case 10:return Xt.AZTEC_DATA_10;case 12:return Xt.AZTEC_DATA_12;default:throw new te("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new xt,i=e.getSize(),a=(1<<r)-2,s=0;s<i;s+=r){for(var o=0,l=0;l<r;l++)(s+l>=i||e.get(s+l))&&(o|=1<<r-1-l);(o&a)===a?(n.appendBits(o&a,r),s--):o&a?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();function nE({onScan:t,isScanning:e,setIsScanning:r}){const n=N.useRef(null),i=N.useRef(null),[a,s]=N.useState(null),[o,l]=N.useState(null),[u,d]=N.useState(!1),f=N.useRef(!0);N.useEffect(()=>(f.current=e,e?h():p(),()=>{f.current=!1,p()}),[e]);const h=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});s(!0),n.current&&(n.current.srcObject=w),i.current=new r6,n.current&&i.current.decodeFromVideoDevice(null,n.current,async(x,m)=>{if(f.current){if(x&&!u){d(!0);const y=x.getText();try{await v(y)}catch(_){console.error("Scan error:",_),l({type:"error",message:"Failed to process scan"})}finally{setTimeout(()=>{d(!1)},2e3)}}if(m&&f.current){if(m.name==="NotFoundException")return;m.name==="NotAllowedError"?(l({type:"error",message:"Camera permission denied"}),r(!1)):m.name==="NotFoundError"?(l({type:"error",message:"No camera found"}),r(!1)):m.name!=="ChecksumException"&&console.error("QR Scanner error:",m.name,m.message)}}})}catch(w){console.error("Camera access error:",w),s(!1)}},p=()=>{i.current&&i.current.reset(),n.current&&n.current.srcObject&&(n.current.srcObject.getTracks().forEach(x=>x.stop()),n.current.srcObject=null)},v=async w=>{var x;try{await t(w)}catch(m){(x=m.message)!=null&&x.includes("already checked in")?l({type:"duplicate",message:"Participant already checked in"}):l({type:"error",message:m.message||"Invalid QR code"})}},g=()=>{r(!e),l(null)};return a===!1?c.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx(J0,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Camera Permission Required"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Please allow camera access to scan QR codes for check-in."}),c.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]})}):c.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"QR Code Scanner"}),c.jsx("button",{onClick:g,className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium ${e?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e?c.jsxs(c.Fragment,{children:[c.jsx(J0,{className:"h-4 w-4"}),c.jsx("span",{children:"Stop Scanning"})]}):c.jsxs(c.Fragment,{children:[c.jsx(e1,{className:"h-4 w-4"}),c.jsx("span",{children:"Start Scanning"})]})})]})}),c.jsx("div",{className:"relative",children:e?c.jsxs("div",{className:"relative",children:[c.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover bg-black"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"border-2 border-white border-dashed rounded-lg w-48 h-48 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-sm font-medium",children:"Point camera at QR code"})})}),u&&c.jsx("div",{className:"absolute top-4 left-4 right-4",children:c.jsx("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-md text-sm",children:"Processing scan..."})})]}):c.jsx("div",{className:"h-64 bg-gray-100 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(e1,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:'Click "Start Scanning" to begin'})]})})}),o&&c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-md ${o.type==="success"?"bg-green-50 text-green-800":o.type==="duplicate"?"bg-yellow-50 text-yellow-800":"bg-red-50 text-red-800"}`,children:[o.type==="success"&&c.jsx(sf,{className:"h-5 w-5"}),o.type==="duplicate"&&c.jsx(Gv,{className:"h-5 w-5"}),o.type==="error"&&c.jsx(Jv,{className:"h-5 w-5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:o.message}),o.participantName&&c.jsxs("p",{className:"text-sm opacity-75",children:["Participant: ",o.participantName]})]})]})}),c.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Instructions:"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[c.jsx("li",{children:" Point the camera at the participant's QR code"}),c.jsx("li",{children:" Ensure good lighting for better scanning"}),c.jsx("li",{children:" Hold steady until the scan completes"}),c.jsx("li",{children:" Each participant can only be checked in once"})]})]})]})}function Cf({eventId:t}){const{accessToken:e}=zr(),[r,n]=N.useState({total_registrations:0,total_check_ins:0,check_in_rate:"0"}),[i,a]=N.useState([]),[s,o]=N.useState(!0),[l,u]=N.useState(!1),[d,f]=N.useState(""),[h,p]=N.useState(null);N.useEffect(()=>{v();const x=setInterval(v,3e4);return()=>clearInterval(x)},[t]);const v=async()=>{try{const x=await fetch(`/api/checkin/events/${t}/check-in-stats`,{headers:{Authorization:`Bearer ${e}`}});if(!x.ok)throw new Error("Failed to fetch stats");const m=await x.json();n(m.stats),a(m.recent_check_ins),o(!1)}catch(x){console.error("Error fetching stats:",x),o(!1)}},g=async x=>{const m=await fetch(`/api/checkin/events/${t}/check-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({qr_code:x,location:"Main Entrance",device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})});if(!m.ok){const _=await m.json();throw new Error(_.error||"Failed to check in participant")}const y=await m.json();return p({name:y.participant.name,time:new Date().toLocaleTimeString()}),v(),y},w=i.filter(x=>x.registration.name.toLowerCase().includes(d.toLowerCase())||x.registration.email.toLowerCase().includes(d.toLowerCase()));return s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading check-in dashboard..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Check-In"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Scan QR codes to check in participants"})]}),h&&c.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Mu,{className:"h-6 w-6 text-green-600"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-green-800 font-medium",children:[" ",h.name," checked in successfully"]}),c.jsxs("p",{className:"text-green-600 text-sm",children:["at ",h.time]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:c.jsx(Vr,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Registrations"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_registrations})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:c.jsx(Mu,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked In"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_check_ins})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:c.jsx(Tw,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-in Rate"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.check_in_rate,"%"]})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsx("div",{children:c.jsx(nE,{onScan:g,isScanning:l,setIsScanning:u,eventId:t})}),c.jsxs("div",{className:"bg-white rounded-lg shadow",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Check-ins"}),c.jsx("button",{onClick:v,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Refresh"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search participants...",value:d,onChange:x=>f(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:w.length===0?c.jsx("div",{className:"p-6 text-center text-gray-500",children:d?"No participants found":"No check-ins yet"}):c.jsx("div",{className:"divide-y divide-gray-200",children:w.map(x=>c.jsx("div",{className:"p-4 hover:bg-gray-50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:x.registration.name}),c.jsx("p",{className:"text-sm text-gray-600",children:x.registration.email}),x.location&&c.jsxs("p",{className:"text-xs text-gray-500",children:[" ",x.location]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ts,{className:"h-4 w-4 text-gray-400"}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(x.checked_in_at).toLocaleTimeString()})]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["by ",x.checked_in_by_user.name]})]})]})},x.id))})})]})]}),c.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[c.jsx("h4",{className:"text-lg font-medium text-blue-900 mb-3",children:" How to Use Check-In System"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium mb-2",children:"For Staff:"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsx("li",{children:' Click "Start Scanning" to activate camera'}),c.jsx("li",{children:" Point camera at participant's QR code"}),c.jsx("li",{children:" Wait for automatic scan and confirmation"}),c.jsx("li",{children:" Monitor real-time check-in statistics"})]})]}),c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium mb-2",children:"For Participants:"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsx("li",{children:" Show QR code from registration email"}),c.jsx("li",{children:" Ensure QR code is clearly visible"}),c.jsx("li",{children:" One-time check-in per registration"}),c.jsx("li",{children:" Get instant confirmation when checked in"})]})]})]})]})]})})}function iE(){const{user:t}=rn(),{accessToken:e}=zr(),[r,n]=N.useState([]),[i,a]=N.useState(null),[s,o]=N.useState(!1),[l,u]=N.useState(!0),[d,f]=N.useState(null);N.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{if(!e)throw new Error("No authentication token found");const g=await fetch("/api/staff/assigned-events",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!g.ok)throw new Error(`Failed to fetch assigned events: ${g.status}`);const w=await g.json();n(w.events||[])}catch(g){console.error("Error fetching assigned events:",g),f(g instanceof Error?g.message:"Failed to load assigned events")}finally{u(!1)}},p=g=>{a(g),o(!0)},v=()=>{o(!1),a(null)};if(l)return c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})});if(d)return c.jsxs("div",{className:"max-w-md mx-auto mt-8 p-6 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gv,{className:"h-5 w-5 text-red-600 mr-2"}),c.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading Events"})]}),c.jsx("p",{className:"text-red-600 mt-2",children:d}),c.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Retry"})]});if(s&&i){const g=r.find(w=>w.id===i);return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center py-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"QR Code Scanner"}),c.jsx("p",{className:"text-gray-600",children:g?`Scanning for: ${g.title}`:"Event Scanner"})]}),c.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx(Cf,{eventId:i})})]})}return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"flex justify-between items-center py-6",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Dashboard"}),c.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",t==null?void 0:t.name]})]})})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(qt,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Events Assigned"}),c.jsx("p",{className:"mt-1 text-gray-500",children:"You haven't been assigned to any events yet. Contact your event organizer."})]}):c.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(g=>{var w,x,m;return c.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx(qt,{className:"h-8 w-8 text-indigo-600 flex-shrink-0"}),c.jsxs("div",{className:"ml-4 flex-1",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:g.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.location})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:g.description}),c.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[c.jsx("strong",{children:"Starts:"})," ",new Date(g.start_date).toLocaleString()]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[c.jsx("strong",{children:"Ends:"})," ",new Date(g.end_date).toLocaleString()]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[((w=g.permissions)==null?void 0:w.can_check_in)&&c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[c.jsx(Vr,{className:"w-3 h-3 mr-1"}),"Check-in"]}),((x=g.permissions)==null?void 0:x.can_view_stats)&&c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(Du,{className:"w-3 h-3 mr-1"}),"View Stats"]})]}),c.jsx("div",{className:"mt-6",children:(m=g.permissions)!=null&&m.can_check_in?c.jsxs("button",{onClick:()=>p(g.id),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[c.jsx(Os,{className:"w-4 h-4 mr-2"}),"Start QR Scanning"]}):c.jsxs("div",{className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-500 bg-gray-50 cursor-not-allowed",children:[c.jsx(Os,{className:"w-4 h-4 mr-2"}),"No Check-in Permission"]})})]})},g.id)})})})]})}const aE=()=>{const{user:t,accessToken:e,isAuthenticated:r,clearAuth:n}=zr(),i=_n(),[a,s]=N.useState([]),[o,l]=N.useState(!0),[u,d]=N.useState(null);N.useEffect(()=>{const h=async()=>{var p,v,g;try{if(l(!0),d(null),!r||!e){d("Authentication required"),n(),i("/login");return}const w=await rr.getMyEvents();if(w.success&&w.data)s(w.data.events);else{if((p=w.error)!=null&&p.includes("403")||(v=w.error)!=null&&v.includes("Invalid or expired token")){console.log("Token expired, redirecting to login"),n(),i("/login");return}d(w.error||"Failed to fetch events")}}catch(w){if(console.error("Dashboard events error:",w),(g=w.message)!=null&&g.includes("Invalid or expired token")||w.status===403){console.log("Authentication failed, clearing auth and redirecting"),n(),i("/login");return}d("Failed to fetch events")}finally{l(!1)}};(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin"?h():l(!1)},[r,e,t,i]),N.useEffect(()=>{console.log("Dashboard Auth Debug:",{user:t==null?void 0:t.email,userRole:t==null?void 0:t.role,hasToken:!!e,isAuthenticated:r,tokenPreview:e?e.substring(0,20)+"...":"No token"})},[t,e,r]);const f=(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin";return(t==null?void 0:t.role)==="staff"?c.jsx(iE,{}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),f&&c.jsxs(fe,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Events"}),c.jsx("p",{className:"text-3xl font-bold text-primary-600",children:o?"...":a.length})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Registrations"}),c.jsx("p",{className:"text-3xl font-bold text-green-600",children:o?"...":a.reduce((h,p)=>{var v;return h+(((v=p.registrations)==null?void 0:v.length)||0)},0)})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Events"}),c.jsx("p",{className:"text-3xl font-bold text-blue-600",children:o?"...":a.filter(h=>new Date(h.start_date)>new Date).length})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Events"}),c.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o?"...":a.filter(h=>{const p=new Date,v=new Date(h.start_date),g=new Date(h.end_date);return v<=p&&p<=g}).length})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f?"My Events":"Welcome to Event Management"})}),o?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):u?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-red-600",children:u})}):f?a.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first event."}),c.jsx("div",{className:"mt-6",children:c.jsx(fe,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg",children:"Create Event"})})]}):c.jsx("div",{className:"space-y-4",children:a.slice(0,5).map(h=>{const p=new Date(h.start_date),v=p>new Date;return c.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c.jsx(fe,{to:`/events/${h.id}`,className:"hover:text-primary-600",children:h.title})}),c.jsx("p",{className:"text-gray-600 text-sm mb-2",children:h.description}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),p.toLocaleDateString()]}),c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),h.location]})]})]}),c.jsx("div",{className:"ml-4",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v?"Upcoming":"Past"})})]})},h.id)})}):c.jsxs("div",{className:"text-center py-8",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Welcome, ",t==null?void 0:t.name,"!"]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Explore upcoming events and register for events you're interested in."}),c.jsx(fe,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg",children:"Browse Events"})]})]})]})},sE=Vl({title:Le().min(1,"Title is required"),description:Le().min(1,"Description is required"),startDate:Le().min(1,"Start date is required"),endDate:Le().min(1,"End date is required"),location:Le().min(1,"Location is required"),capacity:R1().min(1,"Capacity must be at least 1"),bannerUrl:Le().url("Must be a valid URL").optional().or(d4("")),visibility:mm(["public","private","invite-only"]),registrationDeadline:Le().optional(),isPaid:u4(),price:R1().min(0,"Price must be 0 or greater").optional()}),oE=()=>{const t=_n(),[e,r]=N.useState(!1),[n,i]=N.useState(null),{register:a,handleSubmit:s,watch:o,formState:{errors:l}}=Bl({resolver:Ul(sE),defaultValues:{visibility:"public",isPaid:!1,capacity:50}}),u=o("isPaid"),d=async f=>{try{r(!0),i(null);const h=new Date(f.startDate);if(new Date(f.endDate)<=h){i("End date must be after start date");return}if(f.registrationDeadline&&new Date(f.registrationDeadline)>=h){i("Registration deadline must be before the event start date");return}const v={title:f.title,description:f.description,startDate:f.startDate,endDate:f.endDate,location:f.location,capacity:f.capacity,bannerUrl:f.bannerUrl||void 0,visibility:f.visibility,registrationDeadline:f.registrationDeadline||void 0,isPaid:f.isPaid,price:f.isPaid?f.price:void 0},g=await rr.createEvent(v);g.success&&g.data?t(`/events/${g.data.event.id}`):i(g.error||"Failed to create event")}catch(h){i("Failed to create event. Please try again."),console.error("Create event error:",h)}finally{r(!1)}};return c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),c.jsx("button",{type:"button",onClick:()=>t(-1),className:"text-gray-600 hover:text-gray-900",children:" Back"})]}),n&&c.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),c.jsxs("form",{onSubmit:s(d),className:"card space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),c.jsx("input",{...a("title"),type:"text",id:"title",className:`input ${l.title?"border-red-500":""}`,placeholder:"Enter event title"}),l.title&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.title.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),c.jsx("textarea",{...a("description"),id:"description",rows:4,className:`input ${l.description?"border-red-500":""}`,placeholder:"Describe your event"}),l.description&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),c.jsx("input",{...a("location"),type:"text",id:"location",className:`input ${l.location?"border-red-500":""}`,placeholder:"Event location or venue"}),l.location&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.location.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"bannerUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Image URL"}),c.jsx("input",{...a("bannerUrl"),type:"url",id:"bannerUrl",className:`input ${l.bannerUrl?"border-red-500":""}`,placeholder:"https://example.com/banner.jpg"}),l.bannerUrl&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.bannerUrl.message})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Date & Time"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time *"}),c.jsx("input",{...a("startDate"),type:"datetime-local",id:"startDate",className:`input ${l.startDate?"border-red-500":""}`}),l.startDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.startDate.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time *"}),c.jsx("input",{...a("endDate"),type:"datetime-local",id:"endDate",className:`input ${l.endDate?"border-red-500":""}`}),l.endDate&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.endDate.message})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"registrationDeadline",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Deadline"}),c.jsx("input",{...a("registrationDeadline"),type:"datetime-local",id:"registrationDeadline",className:"input"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: Set a deadline for registrations"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Event Settings"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Capacity *"}),c.jsx("input",{...a("capacity",{valueAsNumber:!0}),type:"number",id:"capacity",min:"1",className:`input ${l.capacity?"border-red-500":""}`}),l.capacity&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.capacity.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"visibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Visibility *"}),c.jsxs("select",{...a("visibility"),id:"visibility",className:"input",children:[c.jsx("option",{value:"public",children:"Public"}),c.jsx("option",{value:"private",children:"Private"}),c.jsx("option",{value:"invite-only",children:"Invite Only"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{...a("isPaid"),type:"checkbox",id:"isPaid",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),c.jsx("label",{htmlFor:"isPaid",className:"ml-2 text-sm font-medium text-gray-700",children:"This is a paid event"})]}),u&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Price *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),c.jsx("input",{...a("price",{valueAsNumber:!0}),type:"number",id:"price",min:"0",step:"0.01",className:`input pl-8 ${l.price?"border-red-500":""}`,placeholder:"0.00"})]}),l.price&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.price.message})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[c.jsx("button",{type:"button",onClick:()=>t(-1),className:"btn btn-secondary",disabled:e,children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:e,children:e?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Event"})]})]})]})},Ti={async registerForEvent(t,e){return Ke.post(`/registrations/events/${t}/register`,e)},async getEventRegistrations(t){return Ke.get(`/registrations/events/${t}/registrations`)},async checkRegistrationStatus(t){return Ke.get(`/registrations/events/${t}/registration-status`)},async getUserRegistrations(){return Ke.get("/registrations/my-registrations")},async cancelRegistration(t){return Ke.put(`/registrations/${t}/cancel`)}};function lE({eventId:t}){const{accessToken:e}=zr(),[r,n]=N.useState([]),[i,a]=N.useState(!0),[s,o]=N.useState(!1),[l,u]=N.useState(!1),[d,f]=N.useState(!1),[h,p]=N.useState({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}});N.useEffect(()=>{v(),g()},[t]);const v=async()=>{try{const y=await fetch(`/api/checkin/events/${t}/staff`,{headers:{Authorization:`Bearer ${e}`}});if(y.ok){const _=await y.json();console.log("Staff data received:",_),n(Array.isArray(_.staff)?_.staff:[])}else console.error("Failed to fetch staff:",y.status),n([])}catch(y){console.error("Error fetching staff:",y)}finally{a(!1)}},g=async()=>{try{f(!0);const y=await fetch("/api/email/status",{headers:{Authorization:`Bearer ${e}`}});if(y.ok){const _=await y.json();u(_.hasGmailPermission)}}catch(y){console.error("Error checking Gmail permission:",y)}finally{f(!1)}},w=async()=>{try{const y=await fetch("/api/email/authorize",{headers:{Authorization:`Bearer ${e}`}});if(y.ok){const _=await y.json();window.location.href=_.authUrl}else console.error("Failed to get Gmail authorization URL")}catch(y){console.error("Error requesting Gmail permission:",y)}},x=async y=>{y.preventDefault(),console.log(" Frontend newStaff state:",h);try{const _=[];h.permissions.can_check_in&&_.push("check-in"),h.permissions.can_view_stats&&_.push("view-stats");const b={email:h.email,name:h.name,permissions:_};console.log(" Sending staff data:",b);const A=await fetch(`/api/checkin/events/${t}/staff`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(b)});if(A.ok)await v(),p({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}}),o(!1),alert("Staff member added successfully! Login credentials will be sent via email.");else{const I=await A.json();alert(I.error||"Failed to add staff member")}}catch(_){console.error("Error adding staff:",_),alert("Failed to add staff member")}},m=async y=>{if(confirm("Are you sure you want to remove this staff member?"))try{const _=localStorage.getItem("token"),b=await fetch(`/api/checkin/events/${t}/staff/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${_}`}});if(b.ok)await v(),alert("Staff member removed successfully");else{const A=await b.json();alert(A.error||"Failed to remove staff member")}}catch(_){console.error("Error removing staff:",_),alert("Failed to remove staff member")}};return i?c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):c.jsxs("div",{className:"bg-white rounded-lg shadow",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Staff Management"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Manage staff access for check-in and event management"})]}),c.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[c.jsx(Ow,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Staff"})]})]})}),!l&&c.jsx("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ss,{className:"h-5 w-5 text-amber-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Gmail Permission Required"}),c.jsx("p",{className:"text-sm text-amber-700",children:"Grant Gmail access to automatically send staff credentials from your email account"})]})]}),c.jsx("button",{onClick:w,disabled:d,className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 disabled:opacity-50",children:d?"Checking...":"Grant Permission"})]})}),l&&c.jsx("div",{className:"px-6 py-3 bg-green-50 border-b border-green-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ss,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{className:"text-sm text-green-800",children:" Gmail permission granted - Staff emails will be sent from your account"})]})}),s&&c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),c.jsx("input",{type:"email",required:!0,value:h.email,onChange:y=>p({...h,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"staff@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",required:!0,value:h.name,onChange:y=>p({...h,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:h.permissions.can_check_in,onChange:y=>p({...h,permissions:{...h.permissions,can_check_in:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can check-in participants"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:h.permissions.can_view_stats,onChange:y=>p({...h,permissions:{...h.permissions,can_view_stats:y.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can view check-in statistics"})]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Staff Member"}),c.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:i?c.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:c.jsx("p",{children:"Loading staff..."})}):r.length===0?c.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[c.jsx(r1,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),c.jsx("p",{children:"No staff members assigned to this event."}),c.jsx("p",{className:"text-sm",children:"Add staff members to help with check-in and event management."})]}):r.filter(y=>y&&y.user).map(y=>{var _,b,A,I,S,k;return c.jsx("div",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((b=(_=y.user)==null?void 0:_.name)==null?void 0:b.charAt(0).toUpperCase())||"?"})})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:((A=y.user)==null?void 0:A.name)||"Unknown User"}),c.jsx("p",{className:"text-sm text-gray-600",children:((I=y.user)==null?void 0:I.email)||"No email"}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Added"," ",new Date(y.assigned_at).toLocaleDateString()," by"," ",((S=y.assigned_by_user)==null?void 0:S.name)||"Unknown"]})]})]})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex space-x-2",children:[y.permissions.can_check_in&&c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),y.permissions.can_view_stats&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx(of,{className:"h-3 w-3 mr-1"}),"Stats"]})]}),c.jsx("div",{className:"text-xs text-gray-500",children:(k=y.user)!=null&&k.last_login_at?c.jsxs(c.Fragment,{children:["Last login:"," ",new Date(y.user.last_login_at).toLocaleDateString()]}):"Never logged in"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{var U,X;const R=encodeURIComponent(`Event Staff Access - ${t}`),K=encodeURIComponent(`Hi ${((U=y.user)==null?void 0:U.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((X=y.user)==null?void 0:X.email)||""}?subject=${R}&body=${K}`)},className:"text-blue-600 hover:text-blue-700",title:"Send email",children:c.jsx(ss,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>{var R;return m(((R=y.user)==null?void 0:R.id)||y.id)},className:"text-red-600 hover:text-red-700",title:"Remove staff",children:c.jsx(ol,{className:"h-4 w-4"})})]})]})]})},y.id)})}),c.jsx("div",{className:"px-6 py-4 bg-blue-50 border-t border-blue-200",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(r1,{className:"h-5 w-5 text-blue-600 mt-0.5"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("p",{className:"font-medium mb-1",children:"Staff Access Information:"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsx("li",{children:" Staff members receive login credentials via email"}),c.jsx("li",{children:" They can access the check-in system with their assigned permissions"}),c.jsx("li",{children:" Staff accounts are created automatically if they don't exist"}),c.jsx("li",{children:" You can modify or revoke access at any time"})]})]})]})})]})}const cE=()=>{var I,S;const{id:t}=Na(),e=_n(),{user:r}=zr(),[n,i]=N.useState(null),[a,s]=N.useState([]),[o,l]=N.useState(!0),[u,d]=N.useState(null),f=async()=>{if(r)try{const k=await Ti.getUserRegistrations();k.success&&k.data&&s(k.data.registrations)}catch(k){console.error("Failed to fetch user registrations:",k)}},h=k=>a.some(R=>{var K;return((K=R.event)==null?void 0:K.id)===k&&R.status!=="cancelled"}),p=k=>a.find(R=>{var K;return((K=R.event)==null?void 0:K.id)===k&&R.status!=="cancelled"});N.useEffect(()=>{(async()=>{if(!t){d("Event ID is required"),l(!1);return}try{l(!0);const R=await rr.getEventById(t);R.success&&R.data?i(R.data.event):d(R.error||"Event not found")}catch(R){d("Failed to load event details"),console.error("Event details error:",R)}finally{l(!1)}})(),f()},[t]);const v=async()=>{if(!(!n||!t)&&confirm(`Are you sure you want to delete "${n.title}"? This action cannot be undone.`))try{const k=await rr.deleteEvent(t);k.success?e("/dashboard"):alert(k.error||"Failed to delete event")}catch(k){alert("Failed to delete event"),console.error("Delete event error:",k)}};if(o)return c.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading event details..."})]})});if(u||!n)return c.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-red-600 mb-4",children:u}),c.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});const w=r&&n.organizer&&r.id===n.organizer.id||(r==null?void 0:r.role)==="admin",x=new Date(n.start_date),m=new Date(n.end_date),y=n.registration_deadline?new Date(n.registration_deadline):null,_=x>new Date,b=new Date>=x&&new Date<=m,A=((I=n.registrations)==null?void 0:I.length)||0;return c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("button",{onClick:()=>e(-1),className:"text-gray-600 hover:text-gray-900 flex items-center",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),w&&c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(fe,{to:`/events/${n.id}/form-builder`,className:"btn btn-primary",children:"Registration Form"}),c.jsxs(fe,{to:`/events/${n.id}/registrations`,className:"btn btn-secondary",children:["View Registrations (",A,")"]}),c.jsx(fe,{to:`/events/${n.id}/attendance`,className:"btn btn-secondary",children:"Manage Attendance"}),c.jsx(fe,{to:`/events/${n.id}/certificates`,className:"btn btn-secondary",children:"Certificates"}),c.jsx("button",{onClick:v,className:"btn bg-red-600 hover:bg-red-700 text-white",children:"Delete Event"})]})]}),n.banner_url&&c.jsx("div",{className:"mb-8",children:c.jsx("img",{src:n.banner_url,alt:n.title,className:"w-full h-64 object-cover rounded-lg"})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b?"bg-green-100 text-green-800":_?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:b?"Active":_?"Upcoming":"Past"}),c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${n.visibility==="public"?"bg-green-100 text-green-800":n.visibility==="private"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.visibility}),n.is_paid&&c.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800",children:["$",n.price]})]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.title}),c.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:n.description})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Details"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Date & Time"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[x.toLocaleDateString()," at"," ",x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),m.toDateString()!==x.toDateString()&&` - ${m.toLocaleDateString()} at ${m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`,m.toDateString()===x.toDateString()&&` - ${m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`]})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsxs("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location"}),c.jsx("p",{className:"text-sm text-gray-600",children:n.location})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Capacity"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[A," / ",n.capacity," registered"]}),c.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mt-1",children:c.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${Math.min(A/n.capacity*100,100)}%`}})})]})]}),y&&c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Registration Deadline"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[y.toLocaleDateString()," at"," ",y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),n.organizer&&c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("svg",{className:"w-5 h-5 text-gray-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Organizer"}),c.jsx("p",{className:"text-sm text-gray-600",children:n.organizer.name}),n.organizer.organization_name&&c.jsx("p",{className:"text-xs text-gray-500",children:n.organizer.organization_name})]})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[!w&&_&&c.jsx("div",{className:"card",children:r&&h(n.id)?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"You're Registered!"}),c.jsx("div",{className:"mb-4",children:c.jsx("span",{className:"text-lg font-semibold text-green-600",children:"Registration Confirmed"})}),c.jsxs(fe,{to:`/ticket/${(S=p(n.id))==null?void 0:S.id}`,className:"btn bg-green-600 hover:bg-green-700 text-white w-full flex items-center justify-center",children:[c.jsx(qv,{className:"w-4 h-4 mr-2"}),"View Ticket"]})]}):A<n.capacity?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Register for Event"}),n.is_paid?c.jsxs("div",{className:"mb-4",children:[c.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",n.price]}),c.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"per ticket"})]}):c.jsx("div",{className:"mb-4",children:c.jsx("span",{className:"text-lg font-semibold text-green-600",children:"Free Event"})}),c.jsx(fe,{to:`/events/${n.id}/register`,className:"btn btn-primary w-full",children:"Register Now"}),y&&new Date>y&&c.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Registration deadline has passed"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Full"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"This event has reached its maximum capacity."}),c.jsx("button",{disabled:!0,className:"btn bg-gray-300 text-gray-500 w-full cursor-not-allowed",children:"Registration Closed"})]})}),w&&c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Statistics"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Registrations"}),c.jsx("span",{className:"text-sm font-medium",children:A})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Available Spots"}),c.jsx("span",{className:"text-sm font-medium",children:n.capacity-A})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Fill Rate"}),c.jsxs("span",{className:"text-sm font-medium",children:[Math.round(A/n.capacity*100),"%"]})]})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-2",children:[c.jsxs(fe,{to:`/events/${n.id}/registrations`,className:"text-primary-600 hover:text-primary-500 text-sm font-medium flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Manage Registrations"]}),c.jsxs(fe,{to:`/events/${n.id}/check-in`,className:"text-blue-600 hover:text-blue-500 text-sm font-medium flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Check-In Dashboard"]})]})]}),w&&c.jsx("div",{className:"card",children:c.jsx(lE,{eventId:n.id})}),n.category&&c.jsxs("div",{className:"card",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Category"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:n.category.color}}),c.jsx("span",{className:"text-sm text-gray-600",children:n.category.name})]})]})]})]})]})},uE=Vl({firstName:Le().min(1,"First name is required"),lastName:Le().min(1,"Last name is required"),email:Le().email("Valid email is required"),phone:Le().min(1,"Phone number is required"),organization:Le().optional(),dietary:Le().optional(),accessibility:Le().optional(),comments:Le().optional(),emergencyContact:Le().optional(),emergencyPhone:Le().optional()}),dE=()=>{const{id:t}=Na(),e=_n(),{user:r}=zr(),[n,i]=N.useState(null),[a,s]=N.useState(!0),[o,l]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(!1),{register:p,handleSubmit:v,formState:{errors:g},setValue:w}=Bl({resolver:Ul(uE)});N.useEffect(()=>{(async()=>{var I;if(!t){d("Event ID is required"),s(!1);return}try{s(!0);const S=await rr.getEventById(t);if(!S.success||!S.data){d(S.error||"Event not found"),s(!1);return}if(i(S.data.event),r&&(w("email",r.email),w("firstName",r.name.split(" ")[0]||""),w("lastName",r.name.split(" ").slice(1).join(" ")||"")),r){const k=await Ti.checkRegistrationStatus(t);k.success&&((I=k.data)!=null&&I.isRegistered)&&h(!0)}}catch(S){d("Failed to load event details"),console.error("Registration form error:",S)}finally{s(!1)}})()},[t,r,w]);const x=async A=>{if(!(!n||!t||!r))try{l(!0),d(null);const I=await Ti.registerForEvent(t,{formData:{firstName:A.firstName,lastName:A.lastName,email:A.email,phone:A.phone,organization:A.organization,dietary:A.dietary,accessibility:A.accessibility,comments:A.comments,emergencyContact:A.emergencyContact,emergencyPhone:A.emergencyPhone}});I.success?e(`/events/${t}`,{state:{message:"Successfully registered for the event!"}}):d(I.error||"Failed to register for event")}catch(I){d("Failed to register for event. Please try again."),console.error("Registration error:",I)}finally{l(!1)}};if(a)return c.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading registration form..."})]})});if(u||!n)return c.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-red-600 mb-4",children:u}),c.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});if(!r)return c.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Required"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to register for events."}),c.jsxs("div",{className:"space-x-4",children:[c.jsx("button",{onClick:()=>e("/login"),className:"btn btn-primary",children:"Login"}),c.jsx("button",{onClick:()=>e("/register"),className:"btn btn-secondary",children:"Create Account"})]})]})});if(f)return c.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:c.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Already Registered"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You are already registered for this event."}),c.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-primary",children:"View Event Details"})]})});const m=new Date(n.start_date),y=n.registration_deadline?new Date(n.registration_deadline):null,_=y&&new Date>y,b=new Date>m;return _||b?c.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Closed"}),c.jsx("p",{className:"text-gray-600 mb-6",children:b?"This event has already started.":"The registration deadline has passed."}),c.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-secondary",children:"View Event Details"})]})}):c.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:()=>e(`/events/${n.id}`),className:"text-gray-600 hover:text-gray-900 flex items-center mb-4",children:[c.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Event"]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register for Event"}),c.jsx("h2",{className:"text-xl text-gray-700 mb-4",children:n.title}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),m.toLocaleDateString()," at"," ",m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),c.jsxs("span",{className:"flex items-center",children:[c.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.location]})]}),n.is_paid&&c.jsxs("div",{className:"mt-2",children:[c.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",n.price]}),c.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"per ticket"})]})]})]}),u&&c.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),c.jsxs("form",{onSubmit:v(x),className:"card space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),c.jsx("input",{...p("firstName"),type:"text",id:"firstName",className:`input ${g.firstName?"border-red-500":""}`,placeholder:"Enter your first name"}),g.firstName&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.firstName.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),c.jsx("input",{...p("lastName"),type:"text",id:"lastName",className:`input ${g.lastName?"border-red-500":""}`,placeholder:"Enter your last name"}),g.lastName&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),c.jsx("input",{...p("email"),type:"email",id:"email",className:`input ${g.email?"border-red-500":""}`,placeholder:"Enter your email address"}),g.email&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.email.message})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),c.jsx("input",{...p("phone"),type:"tel",id:"phone",className:`input ${g.phone?"border-red-500":""}`,placeholder:"Enter your phone number"}),g.phone&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.phone.message})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization"}),c.jsx("input",{...p("organization"),type:"text",id:"organization",className:"input",placeholder:"Company or organization"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"dietary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dietary Requirements"}),c.jsx("input",{...p("dietary"),type:"text",id:"dietary",className:"input",placeholder:"Any dietary restrictions or preferences"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"accessibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accessibility Needs"}),c.jsx("input",{...p("accessibility"),type:"text",id:"accessibility",className:"input",placeholder:"Any accessibility requirements"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),c.jsx("input",{...p("emergencyContact"),type:"text",id:"emergencyContact",className:"input",placeholder:"Emergency contact name"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"emergencyPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Phone"}),c.jsx("input",{...p("emergencyPhone"),type:"tel",id:"emergencyPhone",className:"input",placeholder:"Emergency contact phone"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments"}),c.jsx("textarea",{...p("comments"),id:"comments",rows:3,className:"input",placeholder:"Any additional information or comments"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[c.jsx("button",{type:"button",onClick:()=>e(`/events/${n.id}`),className:"btn btn-secondary",disabled:o,children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Registering..."]}):n.is_paid?`Register & Pay $${n.price}`:"Register for Event"})]})]})]})},fE=cf((t,e)=>({events:[],selectedEvent:null,isLoading:!1,error:null,loadEvents:async()=>{try{t({isLoading:!0,error:null});const r=await rr.getEvents();r.success&&r.data?t({events:r.data.events}):t({error:r.error||"Failed to load events"})}catch{t({error:"Error loading events"})}finally{t({isLoading:!1})}},loadEvent:async r=>{try{t({isLoading:!0,error:null});const n=await rr.getEventById(r);if(n.success&&n.data){t({selectedEvent:n.data.event});const{events:i}=e(),a=i.map(s=>s.id===r?n.data.event:s);t({events:a})}else t({error:n.error||"Failed to load event"})}catch{t({error:"Error loading event"})}finally{t({isLoading:!1})}},setSelectedEvent:r=>{t({selectedEvent:r})},createEvent:async r=>{try{t({isLoading:!0,error:null});const n=await rr.createEvent(r);if(n.success&&n.data){const i=n.data.event;return t(a=>({events:[...a.events,i],selectedEvent:i})),i}else return t({error:n.error||"Failed to create event"}),null}catch{return t({error:"Error creating event"}),null}finally{t({isLoading:!1})}},updateEvent:async(r,n)=>{try{t({isLoading:!0,error:null});const i=await rr.updateEvent(r,n);if(i.success&&i.data){const a=i.data.event;return t(s=>{var o;return{events:s.events.map(l=>l.id===r?a:l),selectedEvent:((o=s.selectedEvent)==null?void 0:o.id)===r?a:s.selectedEvent}}),a}else return t({error:i.error||"Failed to update event"}),null}catch{return t({error:"Error updating event"}),null}finally{t({isLoading:!1})}},deleteEvent:async r=>{try{t({isLoading:!0,error:null});const n=await rr.deleteEvent(r);return n.success?(t(i=>{var a;return{events:i.events.filter(s=>s.id!==r),selectedEvent:((a=i.selectedEvent)==null?void 0:a.id)===r?null:i.selectedEvent}}),!0):(t({error:n.error||"Failed to delete event"}),!1)}catch{return t({error:"Error deleting event"}),!1}finally{t({isLoading:!1})}}})),Va={async getFormTemplates(){return Ke.get("/registration-forms/templates")},async createRegistrationForm(t,e){return Ke.post(`/registration-forms/events/${t}/form`,e)},async getRegistrationForm(t){return Ke.get(`/registration-forms/events/${t}/form`)},async updateRegistrationForm(t,e,r){return Ke.put(`/registration-forms/events/${t}/form/${e}`,r)},async deleteRegistrationForm(t,e){return Ke.delete(`/registration-forms/events/${t}/form/${e}`)}},hE=cf((t,e)=>({form:null,templates:[],activeFieldId:null,isMultiStep:!1,currentStep:0,isLoading:!1,isSaving:!1,setForm:r=>t({form:r}),setTemplates:r=>t({templates:r}),setActiveFieldId:r=>t({activeFieldId:r}),setIsMultiStep:r=>t({isMultiStep:r}),setCurrentStep:r=>t({currentStep:r}),addField:(r,n)=>{const{form:i,isMultiStep:a}=e();if(!i)return;const s=[...i.fields,r];let o=i.steps||[];a&&typeof n=="number"&&o[n]&&(o=o.map((l,u)=>u===n?{...l,fields:[...l.fields,r.id]}:l)),t({form:{...i,fields:s,steps:o.length>0?o:void 0}})},updateField:(r,n)=>{const{form:i}=e();if(!i)return;const a=i.fields.map(s=>s.id===r?{...s,...n}:s);t({form:{...i,fields:a}})},removeField:r=>{const{form:n}=e();if(!n)return;const i=n.fields.filter(s=>s.id!==r);let a=n.steps||[];a.length>0&&(a=a.map(s=>({...s,fields:s.fields.filter(o=>o!==r)}))),t({form:{...n,fields:i,steps:a.length>0?a:void 0},activeFieldId:null})},reorderFields:(r,n)=>{const{form:i}=e();if(!i)return;const a=[...i.fields],[s]=a.splice(r,1);a.splice(n,0,s),t({form:{...i,fields:a}})},addStep:r=>{const{form:n}=e();if(!n)return;const i=[...n.steps||[],r];t({form:{...n,is_multi_step:!0,steps:i},isMultiStep:!0})},updateStep:(r,n)=>{const{form:i}=e();if(!i||!i.steps)return;const a=i.steps.map((s,o)=>o===r?{...s,...n}:s);t({form:{...i,steps:a}})},removeStep:r=>{const{form:n}=e();if(!n||!n.steps)return;const i=n.steps.filter((a,s)=>s!==r);t({form:{...n,steps:i.length>0?i:void 0,is_multi_step:i.length>0},isMultiStep:i.length>0,currentStep:Math.min(e().currentStep,i.length-1)})},reorderSteps:(r,n)=>{const{form:i}=e();if(!i||!i.steps)return;const a=[...i.steps],[s]=a.splice(r,1);a.splice(n,0,s),t({form:{...i,steps:a}})},applyTemplate:r=>{const{form:n}=e();if(!n)return;const i={...n,fields:[...r.fields],is_multi_step:!1,steps:void 0};t({form:i,isMultiStep:!1,currentStep:0,activeFieldId:null})},loadFormTemplates:async()=>{try{t({isLoading:!0});const r=await Va.getFormTemplates();r.success&&r.data?t({templates:r.data.templates}):console.error("Failed to load form templates:",r.error)}catch(r){console.error("Error loading form templates:",r)}finally{t({isLoading:!1})}},loadRegistrationForm:async r=>{try{t({isLoading:!0});const n=await Va.getRegistrationForm(r);if(n.success&&n.data){const i=n.data.form;t({form:i,isMultiStep:i.is_multi_step,currentStep:0})}else console.error("Failed to load registration form:",n.error),t({form:null})}catch(n){console.error("Error loading registration form:",n),t({form:null})}finally{t({isLoading:!1})}},saveRegistrationForm:async r=>{const{form:n}=e();if(n)try{t({isSaving:!0});const i=await Va.updateRegistrationForm(r,n.id,{title:n.title,description:n.description,fields:n.fields,is_multi_step:n.is_multi_step,steps:n.steps});i.success&&i.data?t({form:i.data.form}):console.error("Failed to save registration form:",i.error)}catch(i){console.error("Error saving registration form:",i)}finally{t({isSaving:!1})}},createRegistrationForm:async(r,n,i)=>{try{t({isSaving:!0});const a=await Va.createRegistrationForm(r,{title:n,description:i,fields:[],is_multi_step:!1});a.success&&a.data?t({form:a.data.form,isMultiStep:a.data.form.is_multi_step,currentStep:0}):console.error("Failed to create registration form:",a.error)}catch(a){console.error("Error creating registration form:",a)}finally{t({isSaving:!1})}},deleteRegistrationForm:async(r,n)=>{try{t({isLoading:!0});const i=await Va.deleteRegistrationForm(r,n);i.success?t({form:null,activeFieldId:null,isMultiStep:!1,currentStep:0}):console.error("Failed to delete registration form:",i.error)}catch(i){console.error("Error deleting registration form:",i)}finally{t({isLoading:!1})}}}));function pE({templates:t,onClose:e,onSelect:r}){const n=a=>{switch(a){case"basic":return bt;case"detailed":return Vr;case"conference":return ww;default:return bt}},i=a=>{switch(a){case"basic":return"text-blue-600";case"detailed":return"text-green-600";case"conference":return"text-purple-600";default:return"text-gray-600"}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Choose a Template"}),c.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(ks,{className:"h-5 w-5"})})]}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Start with a pre-built template and customize it to fit your event's needs. All templates can be fully edited after selection."})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>{const s=n(a.id),o=i(a.id);return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-gray-300 hover:shadow-sm cursor-pointer transition-all",onClick:()=>r(a),children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-2 rounded-md bg-gray-100",children:c.jsx(s,{className:`h-6 w-6 ${o}`})}),c.jsx("div",{className:"ml-3",children:c.jsx("h3",{className:"font-medium text-gray-900",children:a.name})})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:a.description}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:["Includes ",a.fields.length," fields:"]}),c.jsxs("div",{className:"space-y-1",children:[a.fields.slice(0,4).map((l,u)=>c.jsxs("div",{className:"text-xs text-gray-600 flex items-center",children:[c.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mr-2"}),l.label]},u)),a.fields.length>4&&c.jsxs("div",{className:"text-xs text-gray-500 pl-4",children:["+",a.fields.length-4," more fields"]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t",children:c.jsx("button",{onClick:()=>r(a),className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Use This Template"})})]},a.id)})}),t.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"No templates available"})]})]}),c.jsx("div",{className:"p-6 border-t bg-gray-50",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"You can customize any template after selection"}),c.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})})]})})}var Wl={},km={exports:{}},vE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mE=vE,gE=mE;function jm(){}function Rm(){}Rm.resetWarningCache=jm;var xE=function(){function t(n,i,a,s,o,l){if(l!==gE){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Rm,resetWarningCache:jm};return r.PropTypes=r,r};km.exports=xE();var Dm=km.exports,Pm={L:1,M:0,Q:3,H:2},Mm={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},yE=Mm;function Lm(t){this.mode=yE.MODE_8BIT_BYTE,this.data=t}Lm.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var wE=Lm,vo=Pm;function Zr(t,e){this.totalCount=t,this.dataCount=e}Zr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Zr.getRSBlocks=function(t,e){var r=Zr.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=new Array,a=0;a<n;a++)for(var s=r[a*3+0],o=r[a*3+1],l=r[a*3+2],u=0;u<s;u++)i.push(new Zr(o,l));return i};Zr.getRsBlockTable=function(t,e){switch(e){case vo.L:return Zr.RS_BLOCK_TABLE[(t-1)*4+0];case vo.M:return Zr.RS_BLOCK_TABLE[(t-1)*4+1];case vo.Q:return Zr.RS_BLOCK_TABLE[(t-1)*4+2];case vo.H:return Zr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var _E=Zr;function Fm(){this.buffer=new Array,this.length=0}Fm.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var EE=Fm,Lr={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Lr.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Lr.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Nt=0;Nt<8;Nt++)Lr.EXP_TABLE[Nt]=1<<Nt;for(var Nt=8;Nt<256;Nt++)Lr.EXP_TABLE[Nt]=Lr.EXP_TABLE[Nt-4]^Lr.EXP_TABLE[Nt-5]^Lr.EXP_TABLE[Nt-6]^Lr.EXP_TABLE[Nt-8];for(var Nt=0;Nt<255;Nt++)Lr.LOG_TABLE[Lr.EXP_TABLE[Nt]]=Nt;var Bm=Lr,di=Bm;function Ro(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Ro.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=di.gexp(di.glog(this.get(r))+di.glog(t.get(n)));return new Ro(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=di.glog(this.get(0))-di.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=di.gexp(di.glog(t.get(n))+e);return new Ro(r,0).mod(t)}};var Um=Ro,pr=Mm,vh=Um,bE=Bm,Sn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},wt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;wt.getBCHDigit(e)-wt.getBCHDigit(wt.G15)>=0;)e^=wt.G15<<wt.getBCHDigit(e)-wt.getBCHDigit(wt.G15);return(t<<10|e)^wt.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;wt.getBCHDigit(e)-wt.getBCHDigit(wt.G18)>=0;)e^=wt.G18<<wt.getBCHDigit(e)-wt.getBCHDigit(wt.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return wt.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Sn.PATTERN000:return(e+r)%2==0;case Sn.PATTERN001:return e%2==0;case Sn.PATTERN010:return r%3==0;case Sn.PATTERN011:return(e+r)%3==0;case Sn.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Sn.PATTERN101:return e*r%2+e*r%3==0;case Sn.PATTERN110:return(e*r%2+e*r%3)%2==0;case Sn.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new vh([1],0),r=0;r<t;r++)e=e.multiply(new vh([1,bE.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case pr.MODE_NUMBER:return 10;case pr.MODE_ALPHA_NUM:return 9;case pr.MODE_8BIT_BYTE:return 8;case pr.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case pr.MODE_NUMBER:return 12;case pr.MODE_ALPHA_NUM:return 11;case pr.MODE_8BIT_BYTE:return 16;case pr.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case pr.MODE_NUMBER:return 14;case pr.MODE_ALPHA_NUM:return 13;case pr.MODE_8BIT_BYTE:return 16;case pr.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var a=0,s=t.isDark(n,i),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||o==0&&l==0||s==t.isDark(n+o,i+l)&&a++;a>5&&(r+=3+a-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var d=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&d++;var f=Math.abs(100*d/e/e-50)/5;return r+=f*10,r}},CE=wt,NE=wE,Vm=_E,zm=EE,li=CE,AE=Um;function Qr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var cr=Qr.prototype;cr.addData=function(t){var e=new NE(t);this.dataList.push(e),this.dataCache=null};cr.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};cr.getModuleCount=function(){return this.moduleCount};cr.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=Vm.getRSBlocks(t,this.errorCorrectLevel),r=new zm,n=0,i=0;i<e.length;i++)n+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var a=this.dataList[i];r.put(a.mode,4),r.put(a.getLength(),li.getLengthInBits(a.mode,t)),a.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};cr.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Qr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};cr.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};cr.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=li.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};cr.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var a=0;a<this.modules.length;a++)for(var s=a*i,o=0;o<this.modules[a].length;o++){var l=o*i,u=this.modules[a][o];u&&(n.beginFill(0,100),n.moveTo(l,s),n.lineTo(l+i,s),n.lineTo(l+i,s+i),n.lineTo(l,s+i),n.endFill())}return n};cr.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};cr.setupPositionAdjustPattern=function(){for(var t=li.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var a=-2;a<=2;a++)for(var s=-2;s<=2;s++)a==-2||a==2||s==-2||s==2||a==0&&s==0?this.modules[n+a][i+s]=!0:this.modules[n+a][i+s]=!1}};cr.setupTypeNumber=function(t){for(var e=li.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};cr.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=li.getBCHTypeInfo(r),i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(var i=0;i<15;i++){var a=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!t};cr.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,a=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var o=0;o<2;o++)if(this.modules[n][s-o]==null){var l=!1;a<t.length&&(l=(t[a]>>>i&1)==1);var u=li.getMask(e,n,s-o);u&&(l=!l),this.modules[n][s-o]=l,i--,i==-1&&(a++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};Qr.PAD0=236;Qr.PAD1=17;Qr.createData=function(t,e,r){for(var n=Vm.getRSBlocks(t,e),i=new zm,a=0;a<r.length;a++){var s=r[a];i.put(s.mode,4),i.put(s.getLength(),li.getLengthInBits(s.mode,t)),s.write(i)}for(var o=0,a=0;a<n.length;a++)o+=n[a].dataCount;if(i.getLengthInBits()>o*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+o*8+")");for(i.getLengthInBits()+4<=o*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=o*8||(i.put(Qr.PAD0,8),i.getLengthInBits()>=o*8));)i.put(Qr.PAD1,8);return Qr.createBytes(i,n)};Qr.createBytes=function(t,e){for(var r=0,n=0,i=0,a=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var l=e[o].dataCount,u=e[o].totalCount-l;n=Math.max(n,l),i=Math.max(i,u),a[o]=new Array(l);for(var d=0;d<a[o].length;d++)a[o][d]=255&t.buffer[d+r];r+=l;var f=li.getErrorCorrectPolynomial(u),h=new AE(a[o],f.getLength()-1),p=h.mod(f);s[o]=new Array(f.getLength()-1);for(var d=0;d<s[o].length;d++){var v=d+p.getLength()-s[o].length;s[o][d]=v>=0?p.get(v):0}}for(var g=0,d=0;d<e.length;d++)g+=e[d].totalCount;for(var w=new Array(g),x=0,d=0;d<n;d++)for(var o=0;o<e.length;o++)d<a[o].length&&(w[x++]=a[o][d]);for(var d=0;d<i;d++)for(var o=0;o<e.length;o++)d<s[o].length&&(w[x++]=s[o][d]);return w};var SE=Qr,Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});var IE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TE=Dm,vr=Hm(TE),$m=N,mo=Hm($m);function Hm(t){return t&&t.__esModule?t:{default:t}}function OE(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var kE={bgColor:vr.default.oneOfType([vr.default.object,vr.default.string]).isRequired,bgD:vr.default.string.isRequired,fgColor:vr.default.oneOfType([vr.default.object,vr.default.string]).isRequired,fgD:vr.default.string.isRequired,size:vr.default.number.isRequired,title:vr.default.string,viewBoxSize:vr.default.number.isRequired,xmlns:vr.default.string},Af=(0,$m.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,i=t.fgD,a=t.fgColor,s=t.size,o=t.title,l=t.viewBoxSize,u=t.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=OE(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return mo.default.createElement("svg",IE({},f,{height:s,ref:e,viewBox:"0 0 "+l+" "+l,width:s,xmlns:d}),o?mo.default.createElement("title",null,o):null,mo.default.createElement("path",{d:n,fill:r}),mo.default.createElement("path",{d:i,fill:a}))});Af.displayName="QRCodeSvg";Af.propTypes=kE;Nf.default=Af;Object.defineProperty(Wl,"__esModule",{value:!0});Wl.QRCode=void 0;var jE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RE=Dm,on=$s(RE),DE=Pm,PE=$s(DE),ME=SE,LE=$s(ME),Wm=N,FE=$s(Wm),BE=Nf,UE=$s(BE);function $s(t){return t&&t.__esModule?t:{default:t}}function VE(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var zE={bgColor:on.default.oneOfType([on.default.object,on.default.string]),fgColor:on.default.oneOfType([on.default.object,on.default.string]),level:on.default.string,size:on.default.number,value:on.default.string.isRequired},Gl=(0,Wm.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,i=t.fgColor,a=i===void 0?"#000000":i,s=t.level,o=s===void 0?"L":s,l=t.size,u=l===void 0?256:l,d=t.value,f=VE(t,["bgColor","fgColor","level","size","value"]),h=new LE.default(-1,PE.default[o]);h.addData(d),h.make();var p=h.modules;return FE.default.createElement(UE.default,jE({},f,{bgColor:n,bgD:p.map(function(v,g){return v.map(function(w,x){return w?"":"M "+x+" "+g+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:p.map(function(v,g){return v.map(function(w,x){return w?"M "+x+" "+g+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:u,viewBoxSize:p.length}))});Wl.QRCode=Gl;Gl.displayName="QRCode";Gl.propTypes=zE;var Gm=Wl.default=Gl;function $E({form:t,eventId:e,onClose:r}){const[n,i]=N.useState(null),[a,s]=N.useState(!1),o=window.location.origin,l=`${o}/events/${e}/register`,u=`${o}/events/${e}/register?embed=true`,d=async(h,p)=>{try{await navigator.clipboard.writeText(h),i(p),setTimeout(()=>i(null),2e3)}catch(v){console.error("Failed to copy:",v)}},f=()=>`<iframe 
  src="${u}" 
  width="100%" 
  height="600" 
  frameborder="0" 
  style="border: none; border-radius: 8px;">
</iframe>`;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(lf,{className:"h-6 w-6 text-blue-600"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Share Registration Form"}),c.jsx("p",{className:"text-sm text-gray-600",children:t.title})]})]}),c.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(ks,{className:"h-5 w-5"})})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Registration Link"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"text",value:l,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-md bg-gray-50 text-gray-700"}),c.jsx("button",{onClick:()=>d(l,"url"),className:"px-4 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="url"?c.jsxs(c.Fragment,{children:[c.jsx(Ec,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{children:"Copied!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(bc,{className:"h-4 w-4"}),c.jsx("span",{children:"Copy"})]})}),c.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-2",children:[c.jsx(Kv,{className:"h-4 w-4"}),c.jsx("span",{children:"Preview"})]})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to register for your event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"QR Code"}),c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-100 rounded-md",children:c.jsx(Os,{className:"h-6 w-6 text-gray-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:"QR Code for Easy Access"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Let participants scan to register quickly"})]})]}),c.jsx("button",{onClick:()=>s(!a),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100",children:a?"Hide QR Code":"Generate QR Code"})]}),a&&c.jsx("div",{className:"border-t border-gray-200 p-6 bg-white",children:c.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[c.jsx("div",{className:"qr-code-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:c.jsx(Gm,{value:l,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 200 200"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Scan to Register"}),c.jsx("p",{className:"text-xs text-gray-600 max-w-sm mx-auto",children:"Point your camera at this QR code to quickly access the registration form"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const h=document.querySelector(".qr-code-container"),p=h==null?void 0:h.querySelector("svg");if(p)try{const v=new XMLSerializer().serializeToString(p),g=document.createElement("canvas"),w=g.getContext("2d"),x=new Image;g.width=200,g.height=200,x.onload=()=>{w&&(w.fillStyle="white",w.fillRect(0,0,200,200),w.drawImage(x,0,0));const m=document.createElement("a");m.download=`${t.title.replace(/\s+/g,"-")}-qr-code.png`,m.href=g.toDataURL("image/png"),m.click()},x.src="data:image/svg+xml;base64,"+btoa(v)}catch(v){console.error("Error downloading QR code:",v),alert("Failed to download QR code. Please try again.")}else alert("QR code not found. Please generate the QR code first.")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Download QR Code"}),c.jsx("button",{onClick:()=>d(l,"qr-url"),className:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-1",children:n==="qr-url"?c.jsxs(c.Fragment,{children:[c.jsx(Ec,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{children:"Copied!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(bc,{className:"h-4 w-4"}),c.jsx("span",{children:"Copy URL"})]})})]})]})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Embed Code"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("textarea",{value:f(),readOnly:!0,rows:6,className:"w-full p-3 border border-gray-300 rounded-md bg-gray-50 text-sm text-gray-700 font-mono"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Embed this form directly on your website"}),c.jsx("button",{onClick:()=>d(f(),"embed"),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="embed"?c.jsxs(c.Fragment,{children:[c.jsx(Ec,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{children:"Copied!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(bc,{className:"h-4 w-4"}),c.jsx("span",{children:"Copy Code"})]})})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Form Statistics"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total Registrations"}),c.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Form Views"}),c.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]})]})]})]}),c.jsx("div",{className:"p-6 border-t bg-gray-50",children:c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})})]})})}function HE(){const{id:t}=Na(),e=_n(),[r,n]=N.useState(!1),[i,a]=N.useState(!1),[s,o]=N.useState(!1),[l,u]=N.useState(null),{events:d,selectedEvent:f,loadEvent:h,isLoading:p}=fE(),{form:v,templates:g,activeFieldId:w,isMultiStep:x,currentStep:m,isLoading:y,isSaving:_,setActiveFieldId:b,setIsMultiStep:A,setCurrentStep:I,addField:S,updateField:k,removeField:R,reorderFields:K,addStep:U,removeStep:X,applyTemplate:oe,loadFormTemplates:Ae,loadRegistrationForm:Be,saveRegistrationForm:qe,createRegistrationForm:z,deleteRegistrationForm:re}=hE(),q=d.find(M=>M.id===t)||f;N.useEffect(()=>{t&&(console.log("RegistrationFormBuilder: Loading event ID:",t),h(t),Ae(),Be(t))},[t]),N.useEffect(()=>{console.log("RegistrationFormBuilder Debug:",{eventId:t,event:q,selectedEvent:f,eventsCount:d.length,isLoading:y,eventLoading:p})},[t,q,f,d.length,y,p]);const Oe=async()=>{if(!t)return;const M=`${(q==null?void 0:q.title)||"Event"} Registration Form`,ie=`Registration form for ${(q==null?void 0:q.title)||"this event"}`;await z(t,M,ie)},Ge=async()=>{!t||!v||await qe(t)},nn=async()=>{!t||!v||window.confirm("Are you sure you want to delete this form? This action cannot be undone.")&&await re(t,v.id)},ur=M=>{const ie=`field_${Date.now()}`,Ue={id:ie,type:M,label:`New ${M} field`,required:!1},Se=x&&(v!=null&&v.steps)?m:void 0;S(Ue,Se),b(ie)},En=()=>{if(v){if(x){if(v.steps)for(let M=v.steps.length-1;M>=0;M--)X(M)}else{const M={title:"Step 1",description:"Please fill out the following information",fields:v.fields.map(ie=>ie.id)};U(M)}A(!x),I(0)}},Ar=()=>{var Ue;const ie={title:`Step ${(((Ue=v==null?void 0:v.steps)==null?void 0:Ue.length)||0)+1}`,description:"Please fill out the following information",fields:[]};U(ie)},$r=[{type:"text",label:"Text Input",icon:bt},{type:"email",label:"Email",icon:bt},{type:"phone",label:"Phone",icon:bt},{type:"textarea",label:"Text Area",icon:bt},{type:"select",label:"Dropdown",icon:bt},{type:"radio",label:"Radio Buttons",icon:bt},{type:"checkbox",label:"Checkboxes",icon:bt},{type:"file",label:"File Upload",icon:bt},{type:"date",label:"Date Picker",icon:bt},{type:"number",label:"Number",icon:bt},{type:"url",label:"URL",icon:bt}];return y||p?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Cc,{className:"h-6 w-6 animate-spin text-blue-600"}),c.jsx("span",{children:"Loading form builder..."})]})}):!q&&!p&&!y?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event not found"}),c.jsxs("p",{className:"text-gray-600 mb-4",children:["Event ID: ",t," | Events loaded: ",d.length]}),c.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800",children:"Return to Dashboard"})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:c.jsx(Xv,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Registration Form Builder"}),c.jsx("p",{className:"text-sm text-gray-600",children:q==null?void 0:q.title})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[!r&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>a(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Use Template"}),c.jsxs("button",{onClick:En,className:`px-3 py-2 text-sm font-medium rounded-md ${x?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[c.jsx(Nw,{className:"h-4 w-4 inline mr-1"}),"Multi-Step"]})]}),c.jsxs("button",{onClick:()=>n(!r),className:`px-3 py-2 text-sm font-medium rounded-md ${r?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[c.jsx(of,{className:"h-4 w-4 inline mr-1"}),r?"Edit":"Preview"]}),v&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[c.jsx(lf,{className:"h-4 w-4 inline mr-1"}),"Share"]}),c.jsx("button",{onClick:Ge,disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:_?c.jsxs(c.Fragment,{children:[c.jsx(Cc,{className:"h-4 w-4 inline mr-1 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Iw,{className:"h-4 w-4 inline mr-1"}),"Save"]})}),c.jsx("button",{onClick:nn,className:"px-3 py-2 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50",children:c.jsx(ol,{className:"h-4 w-4"})})]})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:v?r?c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:v.title}),v.description&&c.jsx("p",{className:"text-gray-600 mb-6",children:v.description}),c.jsxs("div",{className:"space-y-6",children:[v.fields.map(M=>{var ie;return c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[M.label,M.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),M.type==="textarea"?c.jsx("textarea",{placeholder:M.placeholder,className:"w-full p-3 border border-gray-300 rounded-md",rows:3}):M.type==="select"?c.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-md",children:[c.jsx("option",{value:"",children:M.placeholder||"Select an option"}),(ie=M.options)==null?void 0:ie.map((Ue,Se)=>c.jsx("option",{value:Ue,children:Ue},Se))]}):M.type==="radio"&&M.options?c.jsx("div",{className:"space-y-2",children:M.options.map((Ue,Se)=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:M.id,value:Ue,className:"mr-2"}),c.jsx("span",{className:"text-sm",children:Ue})]},Se))}):M.type==="checkbox"&&M.options?c.jsx("div",{className:"space-y-2",children:M.options.map((Ue,Se)=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",value:Ue,className:"mr-2"}),c.jsx("span",{className:"text-sm",children:Ue})]},Se))}):c.jsx("input",{type:M.type==="email"?"email":M.type==="number"?"number":M.type==="url"?"url":M.type==="date"?"date":"text",placeholder:M.placeholder,className:"w-full p-3 border border-gray-300 rounded-md"})]},M.id)}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700",children:"Submit Registration"})})]})]})}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Add Fields"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click on any field type to add it to your form"}),c.jsx("div",{className:"space-y-2",children:$r.map(({type:M,label:ie,icon:Ue})=>c.jsxs("button",{onClick:()=>ur(M),className:"w-full flex items-center space-x-3 p-3 text-left text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 rounded-md border border-transparent transition-all duration-200 group",title:`Add ${ie} field`,children:[c.jsx(Ue,{className:"h-4 w-4 group-hover:text-blue-600"}),c.jsx("span",{className:"font-medium",children:ie}),c.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Ki,{className:"h-3 w-3 text-blue-600"})})]},M))}),x&&c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Steps"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Organize your form into multiple steps"}),c.jsxs("button",{onClick:Ar,className:"w-full flex items-center justify-center space-x-2 p-3 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md border border-blue-200 hover:border-blue-300 transition-all duration-200",children:[c.jsx(Ki,{className:"h-4 w-4"}),c.jsx("span",{children:"Add New Step"})]})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsx("h4",{className:"font-medium text-gray-800 mb-2 text-sm",children:" Quick Tips"}),c.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[c.jsx("p",{children:" Click on any field to edit its settings"}),c.jsx("p",{children:" Use Preview to test your form"}),c.jsx("p",{children:" Toggle Multi-Step for complex forms"}),c.jsx("p",{children:" Use templates for quick setup"})]})]})]})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[c.jsxs("div",{className:"p-6 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:v.title}),v.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]}),c.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(Pu,{className:"h-5 w-5"})})]}),x&&v.steps&&v.steps.length>0&&c.jsx("div",{className:"mt-4 flex space-x-2",children:v.steps.map((M,ie)=>c.jsx("button",{onClick:()=>I(ie),className:`px-3 py-2 text-sm rounded-md ${m===ie?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:M.title},ie))})]}),c.jsx("div",{className:"p-6",children:v.fields.length===0?c.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[c.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Building Your Form"}),c.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create a custom registration form by adding fields from the sidebar, or get started quickly with a pre-built template."}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsx("button",{onClick:()=>a(!0),className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"}),c.jsx("button",{onClick:()=>ur("text"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Add First Field"})]})]}):c.jsx("div",{className:"space-y-3 pl-8 relative",children:v.fields.filter(M=>{if(!x||!v.steps)return!0;const ie=v.steps[m];return ie==null?void 0:ie.fields.includes(M.id)}).map((M,ie)=>{var Ue;return c.jsxs("div",{className:"group relative",children:[c.jsx("div",{className:"absolute -left-8 top-3 text-xs text-gray-400 font-medium bg-gray-100 rounded-full w-5 h-5 flex items-center justify-center",children:ie+1}),c.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all duration-200 ${w===M.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>b(M.id),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[M.label,M.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsx("span",{className:"px-2 py-1 text-xs text-gray-500 bg-gray-100 rounded-full capitalize",children:M.type})]}),M.placeholder&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Placeholder: ",M.placeholder]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[ie>0&&c.jsx("button",{onClick:Se=>{Se.stopPropagation(),K(ie,ie-1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move up",children:c.jsx(Cw,{className:"h-4 w-4"})}),ie<v.fields.filter(Se=>{if(!x||!v.steps)return!0;const dr=v.steps[m];return dr==null?void 0:dr.fields.includes(Se.id)}).length-1&&c.jsx("button",{onClick:Se=>{Se.stopPropagation(),K(ie,ie+1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move down",children:c.jsx(Ew,{className:"h-4 w-4"})}),c.jsx("button",{onClick:Se=>{Se.stopPropagation(),R(M.id)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete field",children:c.jsx(ol,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"mt-3 opacity-80",children:M.type==="textarea"?c.jsx("textarea",{placeholder:M.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",rows:2,disabled:!0}):M.type==="select"?c.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0,children:[c.jsx("option",{children:M.placeholder||"Select an option"}),(Ue=M.options)==null?void 0:Ue.slice(0,3).map((Se,dr)=>c.jsx("option",{children:Se},dr)),M.options&&M.options.length>3&&c.jsxs("option",{children:["... and ",M.options.length-3," ","more"]})]}):M.type==="radio"&&M.options?c.jsxs("div",{className:"space-y-1",children:[M.options.slice(0,3).map((Se,dr)=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",className:"mr-2",disabled:!0}),c.jsx("span",{className:"text-sm text-gray-600",children:Se})]},dr)),M.options.length>3&&c.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",M.options.length-3," more options"]})]}):M.type==="checkbox"&&M.options?c.jsxs("div",{className:"space-y-1",children:[M.options.slice(0,3).map((Se,dr)=>c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"mr-2",disabled:!0}),c.jsx("span",{className:"text-sm text-gray-600",children:Se})]},dr)),M.options.length>3&&c.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",M.options.length-3," more options"]})]}):c.jsx("input",{type:M.type==="email"?"email":M.type==="number"?"number":M.type==="url"?"url":M.type==="date"?"date":"text",placeholder:M.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0})})]}),c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:c.jsx("div",{className:"flex justify-center mt-2",children:c.jsxs("button",{onClick:()=>{const Se={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"Enter value",required:!1,options:[]};S(Se),b(Se.id)},className:"flex items-center gap-1 px-3 py-1 text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full border border-blue-200 transition-colors",children:[c.jsx(Ki,{className:"h-3 w-3"}),"Add Field Below"]})})})]},M.id)})})})]})}),c.jsx("div",{className:"lg:col-span-1",children:w&&(()=>{const M=v.fields.find(ie=>ie.id===w);return M?c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Edit Field"}),c.jsx("button",{onClick:()=>b(null),className:"p-1 text-gray-400 hover:text-gray-600",children:c.jsx(ks,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),c.jsx("input",{type:"text",value:M.label,onChange:ie=>k(w,{label:ie.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder"}),c.jsx("input",{type:"text",value:M.placeholder||"",onChange:ie=>k(w,{placeholder:ie.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:M.required,onChange:ie=>k(w,{required:ie.target.checked}),className:"mr-2"}),c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Required field"})]}),(M.type==="select"||M.type==="radio"||M.type==="checkbox")&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options (one per line)"}),c.jsx("textarea",{value:(M.options||[]).join(`
`),onChange:ie=>{const Ue=ie.target.value.split(`
`).filter(Se=>Se.trim()!=="");k(w,{options:Ue})},rows:4,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:`Option 1
Option 2
Option 3`})]})]})]}):null})()})]}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Registration Form"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Create a registration form for participants to register for your event."}),c.jsx("button",{onClick:Oe,disabled:_,className:"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:_?c.jsxs(c.Fragment,{children:[c.jsx(Cc,{className:"h-4 w-4 inline mr-2 animate-spin"}),"Creating..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ki,{className:"h-4 w-4 inline mr-2"}),"Create Registration Form"]})})]})}),i&&c.jsx(pE,{templates:g,onClose:()=>a(!1),onSelect:M=>{oe(M),a(!1),u(`Template "${M.name}" applied successfully! You can now edit the fields.`),setTimeout(()=>u(null),4e3)}}),v&&s&&c.jsx($E,{form:v,eventId:t,onClose:()=>o(!1)}),l&&c.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:c.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 max-w-sm",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),c.jsx("p",{className:"text-sm font-medium",children:l}),c.jsx("button",{onClick:()=>u(null),className:"flex-shrink-0 text-green-200 hover:text-white",children:c.jsx(ks,{className:"h-4 w-4"})})]})})]})}const aa=t=>{const e=new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},WE=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!0),[i,a]=N.useState(null),s=async()=>{var u;try{n(!0),a(null);const d=await Ti.getUserRegistrations();e(((u=d.data)==null?void 0:u.registrations)||[])}catch(d){a(typeof d=="string"?d:"An error occurred")}finally{n(!1)}};N.useEffect(()=>{s()},[]);const o=async u=>{if(window.confirm("Are you sure you want to cancel your registration for this event?"))try{await Ti.cancelRegistration(u),s()}catch(d){console.error("Failed to cancel registration:",d),alert("Failed to cancel registration. Please try again.")}},l=u=>{switch(u){case"confirmed":return"bg-green-100 text-green-800";case"waitlisted":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?c.jsx("div",{className:"flex items-center justify-center min-h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):i?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx(yw,{className:"h-5 w-5 text-red-400"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading registrations"}),c.jsx("p",{className:"mt-1 text-sm text-red-700",children:i||"An error occurred"}),c.jsx("button",{onClick:()=>s(),className:"mt-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded",children:"Try again"})]})]})})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Registrations"}),c.jsx("p",{className:"text-gray-600",children:"View and manage your event registrations"})]}),!t||t.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(qt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations yet"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't registered for any events yet."}),c.jsx(fe,{to:"/events",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700",children:"Browse Events"})]}):c.jsx("div",{className:"space-y-6",children:t.map(u=>{const d=u.event;return d?c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:d.title}),c.jsxs("div",{className:"ml-3 flex space-x-2",children:[c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(u.status)}`,children:u.status}),d.is_paid&&c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Paid Event"})]})]}),c.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:d.description}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),aa(d.start_date)]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ml,{className:"h-4 w-4 mr-2"}),d.location]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Registered ",aa(u.created_at)]})]}),d.is_paid&&d.price&&c.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Event Price: $",d.price]})]}),c.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[c.jsxs(fe,{to:`/events/${d.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(Kv,{className:"h-4 w-4 mr-2"}),"View Event"]}),u.status!=="cancelled"&&c.jsxs("button",{onClick:()=>o(u.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[c.jsx(ol,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})},u.id):null})})]})},GE=()=>{const{id:t}=Na(),e=_n(),[r,n]=N.useState(null),[i,a]=N.useState([]),[s,o]=N.useState(!0),[l,u]=N.useState(null),[d,f]=N.useState("all");N.useEffect(()=>{(async()=>{if(!t){u("Event ID is required"),o(!1);return}try{o(!0),u(null);const[m,y]=await Promise.all([rr.getEventById(t),Ti.getEventRegistrations(t)]);if(m.success&&m.data)n(m.data.event);else{u(m.error||"Event not found");return}y.success&&y.data?a(y.data.registrations):u(y.error||"Failed to load registrations")}catch(m){u("Failed to load data"),console.error("Event registrations error:",m)}finally{o(!1)}})()},[t]);const h=x=>{switch(x){case"confirmed":return c.jsx(sf,{className:"h-5 w-5 text-green-500"});case"pending":return c.jsx(Ts,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return c.jsx(Jv,{className:"h-5 w-5 text-red-500"});default:return c.jsx(Ts,{className:"h-5 w-5 text-gray-500"})}},p=x=>{switch(x){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=i.filter(x=>d==="all"?!0:x.status===d),g=x=>x==="all"?i.length:i.filter(m=>m.status===x).length,w=()=>{if(!i.length)return;const m=[["Name","Email","Phone","Status","Registration Date"].join(","),...v.map(A=>{const I=A.user;return[(I==null?void 0:I.name)||"N/A",(I==null?void 0:I.email)||"N/A",(I==null?void 0:I.phone_number)||"N/A",A.status,aa(A.created_at)].join(",")})].join(`
`),y=new Blob([m],{type:"text/csv"}),_=window.URL.createObjectURL(y),b=document.createElement("a");b.href=_,b.download=`${(r==null?void 0:r.title)||"event"}-registrations.csv`,b.click(),window.URL.revokeObjectURL(_)};return s?c.jsx("div",{className:"flex items-center justify-center min-h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsxs("div",{className:"text-red-800",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Error"}),c.jsx("p",{className:"mt-1",children:l}),c.jsx("button",{onClick:()=>e(-1),className:"mt-3 text-sm bg-red-100 hover:bg-red-200 px-3 py-1 rounded",children:"Go Back"})]})})}):r?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("button",{onClick:()=>e(`/events/${t}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(Xv,{className:"h-5 w-5 mr-2"}),"Back to Event"]}),c.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:!v.length,children:[c.jsx(Yv,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Registrations"}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),c.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),aa(r.start_date)]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ml,{className:"h-4 w-4 mr-2"}),r.location]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Vr,{className:"h-4 w-4 mr-2"}),i.length," / ",r.capacity," registered"]})]})]})})})]}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Registrations"},{key:"confirmed",label:"Confirmed"},{key:"pending",label:"Pending"},{key:"cancelled",label:"Cancelled"}].map(x=>c.jsxs("button",{onClick:()=>f(x.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${d===x.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[x.label," (",g(x.key),")"]},x.key))})}),v.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Vr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations found"}),c.jsx("p",{className:"text-gray-500",children:d==="all"?"No one has registered for this event yet.":`No ${d} registrations for this event.`})]}):c.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:c.jsx("ul",{className:"divide-y divide-gray-200",children:v.map(x=>{var m,y,_;return c.jsx("li",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[c.jsx("div",{className:"flex-shrink-0",children:h(x.status)}),c.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((m=x.user)==null?void 0:m.name)||"Unknown User"}),c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(x.status)}`,children:x.status})]}),c.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ss,{className:"h-4 w-4 mr-1"}),((y=x.user)==null?void 0:y.email)||"No email"]}),((_=x.user)==null?void 0:_.phone_number)&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sw,{className:"h-4 w-4 mr-1"}),x.user.phone_number]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-1"}),"Registered ",aa(x.created_at)]})]})]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:x.responses&&Object.keys(x.responses).length>0&&c.jsx("button",{onClick:()=>{alert(`Form Data:
${JSON.stringify(x.responses,null,2)}`)},className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500",title:"View Form Data",children:c.jsx(bt,{className:"h-4 w-4"})})})]})},x.id)})})})]}):null},XE=()=>c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Attendance Tracking"}),c.jsx("p",{className:"text-gray-600",children:"QR code scanning and attendance management will be implemented here."})]}),ZE=()=>c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Certificates"}),c.jsx("p",{className:"text-gray-600",children:"Certificate generation and management will be implemented here."})]});function YE(){const{eventId:t}=Na(),{user:e,isLoading:r}=rn();return r?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?["staff","organizer","admin"].includes(e.role)?t?c.jsx(Cf,{eventId:t}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),c.jsx("p",{className:"text-gray-600",children:"Invalid event ID provided."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the check-in system. Only event staff and organizers can check in participants."})]})}):c.jsx(Yn,{to:"/login",replace:!0})}function KE({eventTitle:t,participantName:e,participantEmail:r,qrCode:n}){const[i,a]=N.useState(null);N.useEffect(()=>{a({title:t,date:new Date().toLocaleDateString(),location:"Event Venue",time:"10:00 AM"})},[t]);const s=()=>{const o=document.querySelector(".participant-qr-code svg");if(o)try{const l=new XMLSerializer().serializeToString(o),u=document.createElement("canvas"),d=u.getContext("2d"),f=new Image;u.width=300,u.height=400,f.onload=()=>{d&&(d.fillStyle="white",d.fillRect(0,0,300,400),d.drawImage(f,50,50,200,200),d.fillStyle="black",d.font="16px Arial",d.textAlign="center",d.fillText(t,150,280),d.font="14px Arial",d.fillText(e,150,300),d.font="12px Arial",d.fillText("Show this QR code at check-in",150,330));const h=document.createElement("a");h.download=`${e.replace(/\s+/g,"-")}-ticket.png`,h.href=u.toDataURL("image/png"),h.click()},f.src="data:image/svg+xml;base64,"+btoa(l)}catch(l){console.error("Error downloading QR code:",l),alert("Failed to download QR code. Please try again.")}};return c.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-center",children:"Event Ticket"}),c.jsx("p",{className:"text-center text-blue-100 mt-1",children:(i==null?void 0:i.title)||t})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),c.jsx("p",{className:"text-gray-600",children:r})]}),i&&c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Date"}),c.jsx("p",{className:"font-medium",children:i.date})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Time"}),c.jsx("p",{className:"font-medium",children:i.time})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("p",{className:"text-gray-600",children:"Location"}),c.jsx("p",{className:"font-medium",children:i.location})]})]})}),c.jsx("div",{className:"participant-qr-code bg-white p-4 rounded-lg border-2 border-gray-200 mb-6",children:c.jsx("div",{className:"flex justify-center",children:c.jsx(Gm,{value:n,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),c.jsx("div",{className:"text-center mb-6",children:c.jsx("p",{className:"text-gray-600 text-sm",children:"Show this QR code at the event entrance for quick check-in"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Yv,{className:"h-4 w-4"}),c.jsx("span",{children:"Download Ticket"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:`Ticket for ${t}`,text:`Here's my ticket for ${t}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Ticket link copied to clipboard!"))},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[c.jsx(lf,{className:"h-4 w-4"}),c.jsx("span",{children:"Share"})]}),c.jsxs("button",{onClick:()=>{const o=encodeURIComponent(`Ticket for ${t}`),l=encodeURIComponent(`Hi,

Here's my ticket for ${t}.

Event Details:
- Name: ${e}
- Email: ${r}
- QR Code: ${n}

See you at the event!`);window.open(`mailto:?subject=${o}&body=${l}`)},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[c.jsx(ss,{className:"h-4 w-4"}),c.jsx("span",{children:"Email"})]})]})]}),c.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded text-xs text-gray-500 break-all",children:[c.jsx("p",{className:"font-medium mb-1",children:"QR Code:"}),c.jsx("p",{children:n})]})]})]})}function QE(){const{registrationId:t}=Na(),{user:e,isLoading:r}=rn(),{accessToken:n}=zr(),[i,a]=N.useState(null),[s,o]=N.useState(!0),[l,u]=N.useState(null);N.useEffect(()=>{t&&n&&d()},[t,n]);const d=async()=>{try{if(!n){u("Authentication required"),o(!1);return}if(!t){u("Missing registration ID"),o(!1);return}const h=await fetch(`/api/registrations/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!h.ok)throw new Error("Registration not found");const p=await h.json();if(p.success)a(p.data);else throw new Error(p.error||"Failed to fetch registration")}catch(h){u(h.message)}finally{o(!1)}};return r||s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your ticket..."})]})}):e?l||!i?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ticket Not Found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:l||"The ticket you're looking for doesn't exist or you don't have permission to view it."}),c.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Back"})]})}):e.email===i.email||e.role==="admin"||e.role==="organizer"?c.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:c.jsxs("div",{className:"max-w-lg mx-auto px-4",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Event Ticket"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Present this QR code at the event entrance"})]}),c.jsx("div",{className:"text-center mb-6",children:c.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.status==="confirmed"?"bg-green-100 text-green-800":i.status==="attended"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:[i.status==="confirmed"&&" Confirmed",i.status==="attended"&&" Attended",i.status==="pending"&&" Pending",i.status==="cancelled"&&" Cancelled"]})}),c.jsx(KE,{registrationId:i.id,eventTitle:i.event.title,participantName:i.name,participantEmail:i.email,qrCode:i.qr_code}),c.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Important Information"}),c.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[c.jsx("li",{children:" Keep this QR code safe and don't share it with others"}),c.jsx("li",{children:" Arrive at the venue 15 minutes before the event starts"}),c.jsx("li",{children:" Have your QR code ready for quick check-in"}),c.jsx("li",{children:" Take a screenshot or download the ticket for offline access"}),c.jsx("li",{children:" Contact support if you have any issues"})]})]}),c.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Event Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Event:"}),c.jsx("span",{className:"font-medium",children:i.event.title})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Date:"}),c.jsx("span",{className:"font-medium",children:new Date(i.event.start_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Time:"}),c.jsx("span",{className:"font-medium",children:new Date(i.event.start_date).toLocaleTimeString()})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Location:"}),c.jsx("span",{className:"font-medium",children:i.event.location})]})]})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:" Back to Events"})})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this ticket."})]})}):c.jsx(Yn,{to:"/login",replace:!0})}function qE(){const{user:t}=rn(),[e,r]=N.useState([]),[n,i]=N.useState(!0);N.useEffect(()=>{a()},[]);const a=async()=>{var s;try{const o=localStorage.getItem("token"),l=await fetch("/api/events",{headers:{Authorization:`Bearer ${o}`}});if(l.ok){const u=await l.json();r(((s=u.data)==null?void 0:s.events)||[])}}catch(o){console.error("Error fetching events:",o)}finally{i(!1)}};return!t||t.role!=="admin"?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600",children:"Only administrators can access this page."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage events, staff, and system settings"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:c.jsx(qt,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:c.jsx(Vr,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>new Date(s.start_date)>new Date).length})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:c.jsx(Du,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>{const o=new Date(s.start_date),l=new Date;return o.getMonth()===l.getMonth()&&o.getFullYear()===l.getFullYear()}).length})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-2 bg-orange-100 rounded-md",children:c.jsx(Pu,{className:"h-6 w-6 text-orange-600"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Online"})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Management"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Manage events and their staff assignments"})]}),n?c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((s,o)=>c.jsx("div",{className:"h-16 bg-gray-200 rounded"},o))})}):e.length===0?c.jsxs("div",{className:"p-6 text-center text-gray-500",children:[c.jsx(qt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),c.jsx("p",{children:"No events found."})]}):c.jsx("div",{className:"divide-y divide-gray-200",children:e.map(s=>c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.title}),c.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[c.jsxs("p",{children:[" ",new Date(s.start_date).toLocaleDateString()]}),c.jsxs("p",{children:[" ",s.location]}),c.jsxs("p",{children:[" Organizer: ",s.organizer.name]})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(fe,{to:`/events/${s.id}`,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"View Event"}),c.jsx(fe,{to:`/events/${s.id}/check-in`,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Check-in Dashboard"})]})]})},s.id))})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Vr,{className:"h-8 w-8 text-blue-600"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Staff Management"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Staff management is available on individual event pages. Navigate to any event to add or manage staff members."}),c.jsx("p",{className:"text-sm text-gray-500",children:" Tip: Each event can have its own staff with custom permissions."})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Du,{className:"h-8 w-8 text-green-600"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"View check-in analytics and event performance metrics from individual event dashboards."}),c.jsx("p",{className:"text-sm text-gray-500",children:" Real-time check-in statistics available for each event."})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(Pu,{className:"h-8 w-8 text-purple-600"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Settings"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Configure system-wide settings, email templates, and QR code generation parameters."}),c.jsx("p",{className:"text-sm text-gray-500",children:" Advanced settings coming soon."})]})]})]})})}const JE=()=>{const{user:t}=rn(),[e,r]=N.useState([]),[n,i]=N.useState([]),[a,s]=N.useState(!0),[o,l]=N.useState(null),[u,d]=N.useState(""),[f,h]=N.useState(1),[p,v]=N.useState(1),[g,w]=N.useState(!0),x=async()=>{if(t)try{const S=await Ti.getUserRegistrations();S.success&&S.data&&i(S.data.registrations)}catch(S){console.error("Failed to fetch user registrations:",S)}},m=async()=>{try{s(!0),l(null);const S=await rr.getEvents({page:f,limit:12,search:u||void 0,upcoming:g});S.success&&S.data&&(r(S.data.events),v(S.data.pagination.pages))}catch(S){l(S.message||"Failed to fetch events")}finally{s(!1)}};N.useEffect(()=>{m(),x()},[f,g,t]);const y=S=>{S.preventDefault(),h(1),m()},_=S=>n.some(k=>{var R;return((R=k.event)==null?void 0:R.id)===S&&k.status!=="cancelled"}),b=S=>n.find(k=>{var R;return((R=k.event)==null?void 0:R.id)===S&&k.status!=="cancelled"}),A=S=>{const k=new Date,R=new Date(S.start_date),K=new Date(S.end_date);return K<k?{status:"ended",color:"gray"}:R<=k&&K>=k?{status:"ongoing",color:"blue"}:R>k?{status:"upcoming",color:"green"}:{status:"unknown",color:"gray"}},I=S=>{var k;return((k=S.registrations)==null?void 0:k.length)||0};return a&&e.length===0?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Discover and register for upcoming events"})]}),c.jsxs("div",{className:"mt-4 md:mt-0 flex gap-3",children:[t&&c.jsxs(fe,{to:"/my-registrations",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(of,{className:"w-4 h-4 mr-2"}),"My Registrations"]}),t&&(t.role==="organizer"||t.role==="admin")&&c.jsxs(fe,{to:"/events/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Create Event"]})]})]}),c.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[c.jsxs("form",{onSubmit:y,className:"flex-1 flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search events...",value:u,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Search"})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:g,onChange:S=>w(S.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Upcoming only"})]})})]})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o&&c.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:c.jsx("p",{className:"text-red-800",children:o})}),!a&&e.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(qt,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u?"Try adjusting your search terms.":"Be the first to create an event!"}),t&&(t.role==="organizer"||t.role==="admin")&&c.jsx("div",{className:"mt-6",children:c.jsxs(fe,{to:"/events/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[c.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(S=>{var K;const k=A(S),R=I(S);return c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[S.banner_url?c.jsx("img",{src:S.banner_url,alt:S.title,className:"w-full h-48 object-cover"}):c.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:c.jsx(qt,{className:"w-16 h-16 text-white"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.color==="green"?"bg-green-100 text-green-800":k.color==="blue"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:k.status}),S.is_paid&&c.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["$",S.price]})]}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:S.title}),c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:S.description}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(qt,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:aa(S.start_date)})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ts,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:new Date(S.start_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ml,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"truncate",children:S.location})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Vr,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:[R," / ",S.capacity," registered"]})]})]}),c.jsx("div",{className:"mt-6",children:t&&_(S.id)?c.jsxs("div",{className:"space-y-2",children:[c.jsxs(fe,{to:`/ticket/${(K=b(S.id))==null?void 0:K.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[c.jsx(qv,{className:"w-4 h-4 mr-2"}),"View Ticket"]}),c.jsx(fe,{to:`/events/${S.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Event Details"})]}):c.jsx(fe,{to:`/events/${S.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:t?"Register Now":"View Details"})})]})]},S.id)})}),p>1&&c.jsx("div",{className:"mt-8 flex justify-center",children:c.jsxs("nav",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>h(Math.max(1,f-1)),disabled:f===1,className:"px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:p},(S,k)=>k+1).map(S=>c.jsx("button",{onClick:()=>h(S),className:`px-3 py-2 text-sm font-medium rounded-md ${f===S?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:S},S)),c.jsx("button",{onClick:()=>h(Math.min(p,f+1)),disabled:f===p,className:"px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})};function eb(){const{user:t,isLoading:e}=rn(),[r,n]=N.useState([]),[i,a]=N.useState(null),[s,o]=N.useState(!0);if(e)return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!t)return c.jsx(Yn,{to:"/login",replace:!0});if(!["organizer","admin"].includes(t.role))return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the QR scanner. Only organizers and administrators can use this feature."})]})});N.useEffect(()=>{(async()=>{try{o(!0);const h=await rr.getMyEvents();if(h.success&&h.data){const p=h.data.events.filter(v=>{const g=new Date;return new Date(v.end_date)>=g});n(p)}}catch(h){console.error("Failed to fetch events:",h)}finally{o(!1)}})()},[]);const l=r.find(f=>f.id===i),u=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),d=f=>new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsxs("button",{onClick:()=>a(null),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[c.jsx(bw,{className:"h-5 w-5 mr-1"}),"Back to Events"]}),c.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[l==null?void 0:l.title," - Check-In"]})]}),c.jsx(Cf,{eventId:i})]}):c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"QR Code Scanner"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Select an event to start scanning participant QR codes for check-in."}),r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Available Events"}),c.jsx("p",{className:"text-gray-600",children:"You don't have any active or upcoming events to scan for."})]}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(f=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(f.id),children:c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f.title}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(qt,{className:"h-4 w-4 mr-2"}),u(f.start_date)," at"," ",d(f.start_date)]}),f.location&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ml,{className:"h-4 w-4 mr-2"}),f.location]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Capacity: ",f.capacity]})]}),c.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Start Scanning"})]})},f.id))})]})})}function tb(){const t=zr(e=>e.validateToken);return N.useEffect(()=>{t()},[t]),c.jsx(u3,{children:c.jsxs(x2,{children:[c.jsx(ft,{path:"/",element:c.jsx(d3,{})}),c.jsx(ft,{path:"/login",element:c.jsx(h4,{})}),c.jsx(ft,{path:"/register",element:c.jsx(v4,{})}),c.jsx(ft,{path:"/events",element:c.jsx(JE,{})}),c.jsx(ft,{path:"/dashboard",element:c.jsx(hr,{children:c.jsx(aE,{})})}),c.jsx(ft,{path:"/events/create",element:c.jsx(hr,{requireOrganizer:!0,children:c.jsx(oE,{})})}),c.jsx(ft,{path:"/events/:id",element:c.jsx(hr,{children:c.jsx(cE,{})})}),c.jsx(ft,{path:"/events/:id/form-builder",element:c.jsx(hr,{requireOrganizer:!0,children:c.jsx(HE,{})})}),c.jsx(ft,{path:"/events/:id/registrations",element:c.jsx(hr,{requireOrganizer:!0,children:c.jsx(GE,{})})}),c.jsx(ft,{path:"/events/:id/attendance",element:c.jsx(hr,{requireOrganizer:!0,children:c.jsx(XE,{})})}),c.jsx(ft,{path:"/events/:id/certificates",element:c.jsx(hr,{requireOrganizer:!0,children:c.jsx(ZE,{})})}),c.jsx(ft,{path:"/admin",element:c.jsx(hr,{requireAdmin:!0,children:c.jsx(qE,{})})}),c.jsx(ft,{path:"/events/:eventId/check-in",element:c.jsx(hr,{children:c.jsx(YE,{})})}),c.jsx(ft,{path:"/scanner",element:c.jsx(hr,{requireOrganizer:!0,children:c.jsx(eb,{})})}),c.jsx(ft,{path:"/ticket/:registrationId",element:c.jsx(hr,{children:c.jsx(QE,{})})}),c.jsx(ft,{path:"/my-registrations",element:c.jsx(hr,{children:c.jsx(WE,{})})}),c.jsx(ft,{path:"/events/:id/register",element:c.jsx(dE,{})})]})})}Tv(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsxs(N2,{children:[c.jsx(tb,{}),c.jsx(mw,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}));
