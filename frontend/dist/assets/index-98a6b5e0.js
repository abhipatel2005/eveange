var og=Object.defineProperty;var lg=(t,e,r)=>e in t?og(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var y0=(t,e,r)=>(lg(t,typeof e!="symbol"?e+"":e,r),r);function cg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Hd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hp={exports:{}},Gl={},pp={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=Symbol.for("react.element"),ug=Symbol.for("react.portal"),dg=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),pg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),vg=Symbol.for("react.suspense"),gg=Symbol.for("react.memo"),yg=Symbol.for("react.lazy"),w0=Symbol.iterator;function wg(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var mp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xp=Object.assign,vp={};function Fi(t,e,r){this.props=t,this.context=e,this.refs=vp,this.updater=r||mp}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gp(){}gp.prototype=Fi.prototype;function Wd(t,e,r){this.props=t,this.context=e,this.refs=vp,this.updater=r||mp}var Gd=Wd.prototype=new gp;Gd.constructor=Wd;xp(Gd,Fi.prototype);Gd.isPureReactComponent=!0;var b0=Array.isArray,yp=Object.prototype.hasOwnProperty,Xd={current:null},wp={key:!0,ref:!0,__self:!0,__source:!0};function bp(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)yp.call(e,n)&&!wp.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:no,type:t,key:i,ref:s,props:a,_owner:Xd.current}}function bg(t,e){return{$$typeof:no,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===no}function _g(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var _0=/\/+/g;function Cc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_g(""+t.key):e.toString(36)}function Ho(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case no:case ug:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+Cc(s,0):n,b0(a)?(r="",t!=null&&(r=t.replace(_0,"$&/")+"/"),Ho(a,e,r,"",function(u){return u})):a!=null&&(Zd(a)&&(a=bg(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(_0,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",b0(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Cc(i,o);s+=Ho(i,e,r,c,a)}else if(c=wg(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Cc(i,o++),s+=Ho(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function mo(t,e,r){if(t==null)return t;var n=[],a=0;return Ho(t,n,"","",function(i){return e.call(r,i,a++)}),n}function Ng(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},Wo={transition:null},Eg={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:Xd};function _p(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:mo,forEach:function(t,e,r){mo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return mo(t,function(){e++}),e},toArray:function(t){return mo(t,function(e){return e})||[]},only:function(t){if(!Zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Fi;ve.Fragment=dg;ve.Profiler=hg;ve.PureComponent=Wd;ve.StrictMode=fg;ve.Suspense=vg;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eg;ve.act=_p;ve.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=xp({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Xd.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)yp.call(e,c)&&!wp.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:no,type:t.type,key:a,ref:i,props:n,_owner:s}};ve.createContext=function(t){return t={$$typeof:mg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pg,_context:t},t.Consumer=t};ve.createElement=bp;ve.createFactory=function(t){var e=bp.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:xg,render:t}};ve.isValidElement=Zd;ve.lazy=function(t){return{$$typeof:yg,_payload:{_status:-1,_result:t},_init:Ng}};ve.memo=function(t,e){return{$$typeof:gg,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Wo.transition;Wo.transition={};try{t()}finally{Wo.transition=e}};ve.unstable_act=_p;ve.useCallback=function(t,e){return Yt.current.useCallback(t,e)};ve.useContext=function(t){return Yt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Yt.current.useEffect(t,e)};ve.useId=function(){return Yt.current.useId()};ve.useImperativeHandle=function(t,e,r){return Yt.current.useImperativeHandle(t,e,r)};ve.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Yt.current.useMemo(t,e)};ve.useReducer=function(t,e,r){return Yt.current.useReducer(t,e,r)};ve.useRef=function(t){return Yt.current.useRef(t)};ve.useState=function(t){return Yt.current.useState(t)};ve.useSyncExternalStore=function(t,e,r){return Yt.current.useSyncExternalStore(t,e,r)};ve.useTransition=function(){return Yt.current.useTransition()};ve.version="18.3.1";pp.exports=ve;var C=pp.exports;const de=Hd(C),Cg=cg({__proto__:null,default:de},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=C,Ag=Symbol.for("react.element"),jg=Symbol.for("react.fragment"),Ig=Object.prototype.hasOwnProperty,Tg=Sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kg={key:!0,ref:!0,__self:!0,__source:!0};function Np(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Ig.call(e,n)&&!kg.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:Ag,type:t,key:i,ref:s,props:a,_owner:Tg.current}}Gl.Fragment=jg;Gl.jsx=Np;Gl.jsxs=Np;hp.exports=Gl;var l=hp.exports,Ep={exports:{}},xr={},Cp={exports:{}},Sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,ee){var Q=U.length;U.push(ee);e:for(;0<Q;){var oe=Q-1>>>1,Pe=U[oe];if(0<a(Pe,ee))U[oe]=ee,U[Q]=Pe,Q=oe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var ee=U[0],Q=U.pop();if(Q!==ee){U[0]=Q;e:for(var oe=0,Pe=U.length,Ze=Pe>>>1;oe<Ze;){var yr=2*(oe+1)-1,In=U[yr],Mr=yr+1,Jr=U[Mr];if(0>a(In,Q))Mr<Pe&&0>a(Jr,In)?(U[oe]=Jr,U[Mr]=Q,oe=Mr):(U[oe]=In,U[yr]=Q,oe=yr);else if(Mr<Pe&&0>a(Jr,Q))U[oe]=Jr,U[Mr]=Q,oe=Mr;else break e}}return ee}function a(U,ee){var Q=U.sortIndex-ee.sortIndex;return Q!==0?Q:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var ee=r(u);ee!==null;){if(ee.callback===null)n(u);else if(ee.startTime<=U)n(u),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=r(u)}}function b(U){if(v=!1,w(U),!m)if(r(c)!==null)m=!0,fe(E);else{var ee=r(u);ee!==null&&he(b,ee.startTime-U)}}function E(U,ee){m=!1,v&&(v=!1,g(S),S=-1),p=!0;var Q=h;try{for(w(ee),f=r(c);f!==null&&(!(f.expirationTime>ee)||U&&!F());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var Pe=oe(f.expirationTime<=ee);ee=t.unstable_now(),typeof Pe=="function"?f.callback=Pe:f===r(c)&&n(c),w(ee)}else n(c);f=r(c)}if(f!==null)var Ze=!0;else{var yr=r(u);yr!==null&&he(b,yr.startTime-ee),Ze=!1}return Ze}finally{f=null,h=Q,p=!1}}var j=!1,N=null,S=-1,O=5,I=-1;function F(){return!(t.unstable_now()-I<O)}function T(){if(N!==null){var U=t.unstable_now();I=U;var ee=!0;try{ee=N(!0,U)}finally{ee?M():(j=!1,N=null)}}else j=!1}var M;if(typeof x=="function")M=function(){x(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=T,M=function(){$.postMessage(null)}}else M=function(){y(T,0)};function fe(U){N=U,j||(j=!0,M())}function he(U,ee){S=y(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,fe(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var Q=h;h=ee;try{return U()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=h;h=U;try{return ee()}finally{h=Q}},t.unstable_scheduleCallback=function(U,ee,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,U){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=Q+Pe,U={id:d++,callback:ee,priorityLevel:U,startTime:Q,expirationTime:Pe,sortIndex:-1},Q>oe?(U.sortIndex=Q,e(u,U),r(c)===null&&U===r(u)&&(v?(g(S),S=-1):v=!0,he(b,Q-oe))):(U.sortIndex=Pe,e(c,U),m||p||(m=!0,fe(E))),U},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(U){var ee=h;return function(){var Q=h;h=ee;try{return U.apply(this,arguments)}finally{h=Q}}}})(Sp);Cp.exports=Sp;var Og=Cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=C,hr=Og;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ap=new Set,Os={};function Wa(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(Os[t]=e,t=0;t<e.length;t++)Ap.add(e[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,Dg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},E0={};function Pg(t){return pu.call(E0,t)?!0:pu.call(N0,t)?!1:Dg.test(t)?E0[t]=!0:(N0[t]=!0,!1)}function Mg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lg(t,e,r,n){if(e===null||typeof e>"u"||Mg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yd=/[\-:]([a-z])/g;function Kd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yd,Kd);Pt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yd,Kd);Pt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yd,Kd);Pt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,r,n){var a=Pt.hasOwnProperty(e)?Pt[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lg(e,r,a,n)&&(r=null),n||a===null?Pg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var An=Rg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xo=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Ip=Symbol.for("react.context"),Jd=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),vu=Symbol.for("react.suspense_list"),ef=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),Tp=Symbol.for("react.offscreen"),C0=Symbol.iterator;function Wi(t){return t===null||typeof t!="object"?null:(t=C0&&t[C0]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Sc;function ds(t){if(Sc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Sc=e&&e[1]||""}return`
`+Sc+t}var Ac=!1;function jc(t,e){if(!t||Ac)return"";Ac=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=o);break}}}finally{Ac=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ds(t):""}function Fg(t){switch(t.tag){case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return t=jc(t.type,!1),t;case 11:return t=jc(t.type.render,!1),t;case 1:return t=jc(t.type,!0),t;default:return""}}function gu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ei:return"Fragment";case Ja:return"Portal";case mu:return"Profiler";case qd:return"StrictMode";case xu:return"Suspense";case vu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ip:return(t.displayName||"Context")+".Consumer";case jp:return(t._context.displayName||"Context")+".Provider";case Jd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ef:return e=t.displayName||null,e!==null?e:gu(t.type)||"Memo";case Mn:e=t._payload,t=t._init;try{return gu(t(e))}catch{}}return null}function Bg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gu(e);case 8:return e===qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ug(t){var e=kp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vo(t){t._valueTracker||(t._valueTracker=Ug(t))}function Op(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yu(t,e){var r=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function S0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=la(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Rp(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function wu(t,e){Rp(t,e);var r=la(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bu(t,e.type,r):e.hasOwnProperty("defaultValue")&&bu(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function bu(t,e,r){(e!=="number"||ll(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fs=Array.isArray;function mi(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+la(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function _u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(fs(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:la(r)}}function Dp(t,e){var r=la(e.value),n=la(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function I0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var go,Mp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=go.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zg=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(t){zg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ws[e]=ws[t]})});function Lp(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ws.hasOwnProperty(t)&&ws[t]?(""+e).trim():e+"px"}function Fp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Lp(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Vg=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(t,e){if(e){if(Vg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Cu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=null;function tf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Au=null,xi=null,vi=null;function T0(t){if(t=so(t)){if(typeof Au!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ql(e),Au(t.stateNode,t.type,e))}}function Bp(t){xi?vi?vi.push(t):vi=[t]:xi=t}function Up(){if(xi){var t=xi,e=vi;if(vi=xi=null,T0(t),e)for(t=0;t<e.length;t++)T0(e[t])}}function zp(t,e){return t(e)}function Vp(){}var Ic=!1;function $p(t,e,r){if(Ic)return t(e,r);Ic=!0;try{return zp(t,e,r)}finally{Ic=!1,(xi!==null||vi!==null)&&(Vp(),Up())}}function Ds(t,e){var r=t.stateNode;if(r===null)return null;var n=Ql(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var ju=!1;if(bn)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){ju=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{ju=!1}function $g(t,e,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var bs=!1,cl=null,ul=!1,Iu=null,Hg={onError:function(t){bs=!0,cl=t}};function Wg(t,e,r,n,a,i,s,o,c){bs=!1,cl=null,$g.apply(Hg,arguments)}function Gg(t,e,r,n,a,i,s,o,c){if(Wg.apply(this,arguments),bs){if(bs){var u=cl;bs=!1,cl=null}else throw Error(B(198));ul||(ul=!0,Iu=u)}}function Ga(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k0(t){if(Ga(t)!==t)throw Error(B(188))}function Xg(t){var e=t.alternate;if(!e){if(e=Ga(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return k0(a),t;if(i===n)return k0(a),e;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function Wp(t){return t=Xg(t),t!==null?Gp(t):null}function Gp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gp(t);if(e!==null)return e;t=t.sibling}return null}var Xp=hr.unstable_scheduleCallback,O0=hr.unstable_cancelCallback,Zg=hr.unstable_shouldYield,Yg=hr.unstable_requestPaint,nt=hr.unstable_now,Kg=hr.unstable_getCurrentPriorityLevel,rf=hr.unstable_ImmediatePriority,Zp=hr.unstable_UserBlockingPriority,dl=hr.unstable_NormalPriority,Qg=hr.unstable_LowPriority,Yp=hr.unstable_IdlePriority,Xl=null,cn=null;function qg(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:t2,Jg=Math.log,e2=Math.LN2;function t2(t){return t>>>=0,t===0?32:31-(Jg(t)/e2|0)|0}var yo=64,wo=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=hs(o):(i&=s,i!==0&&(n=hs(i)))}else s=r&~a,s!==0?n=hs(s):i!==0&&(n=hs(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yr(e),a=1<<r,n|=t[r],e&=~a;return n}function r2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n2(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Yr(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=r2(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function Tu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kp(){var t=yo;return yo<<=1,!(yo&4194240)&&(yo=64),t}function Tc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ao(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yr(e),t[e]=r}function a2(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Yr(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function nf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yr(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var ke=0;function Qp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qp,af,Jp,em,tm,ku=!1,bo=[],Yn=null,Kn=null,Qn=null,Ps=new Map,Ms=new Map,Un=[],i2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R0(t,e){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function Xi(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=so(e),e!==null&&af(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function s2(t,e,r,n,a){switch(e){case"focusin":return Yn=Xi(Yn,t,e,r,n,a),!0;case"dragenter":return Kn=Xi(Kn,t,e,r,n,a),!0;case"mouseover":return Qn=Xi(Qn,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ps.set(i,Xi(Ps.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ms.set(i,Xi(Ms.get(i)||null,t,e,r,n,a)),!0}return!1}function rm(t){var e=Aa(t.target);if(e!==null){var r=Ga(e);if(r!==null){if(e=r.tag,e===13){if(e=Hp(r),e!==null){t.blockedOn=e,tm(t.priority,function(){Jp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Go(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ou(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Su=n,r.target.dispatchEvent(n),Su=null}else return e=so(r),e!==null&&af(e),t.blockedOn=r,!1;e.shift()}return!0}function D0(t,e,r){Go(t)&&r.delete(e)}function o2(){ku=!1,Yn!==null&&Go(Yn)&&(Yn=null),Kn!==null&&Go(Kn)&&(Kn=null),Qn!==null&&Go(Qn)&&(Qn=null),Ps.forEach(D0),Ms.forEach(D0)}function Zi(t,e){t.blockedOn===e&&(t.blockedOn=null,ku||(ku=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,o2)))}function Ls(t){function e(a){return Zi(a,t)}if(0<bo.length){Zi(bo[0],t);for(var r=1;r<bo.length;r++){var n=bo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Yn!==null&&Zi(Yn,t),Kn!==null&&Zi(Kn,t),Qn!==null&&Zi(Qn,t),Ps.forEach(e),Ms.forEach(e),r=0;r<Un.length;r++)n=Un[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Un.length&&(r=Un[0],r.blockedOn===null);)rm(r),r.blockedOn===null&&Un.shift()}var gi=An.ReactCurrentBatchConfig,hl=!0;function l2(t,e,r,n){var a=ke,i=gi.transition;gi.transition=null;try{ke=1,sf(t,e,r,n)}finally{ke=a,gi.transition=i}}function c2(t,e,r,n){var a=ke,i=gi.transition;gi.transition=null;try{ke=4,sf(t,e,r,n)}finally{ke=a,gi.transition=i}}function sf(t,e,r,n){if(hl){var a=Ou(t,e,r,n);if(a===null)Uc(t,e,n,pl,r),R0(t,n);else if(s2(a,t,e,r,n))n.stopPropagation();else if(R0(t,n),e&4&&-1<i2.indexOf(t)){for(;a!==null;){var i=so(a);if(i!==null&&qp(i),i=Ou(t,e,r,n),i===null&&Uc(t,e,n,pl,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Uc(t,e,n,null,r)}}var pl=null;function Ou(t,e,r,n){if(pl=null,t=tf(n),t=Aa(t),t!==null)if(e=Ga(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Hp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pl=t,null}function nm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kg()){case rf:return 1;case Zp:return 4;case dl:case Qg:return 16;case Yp:return 536870912;default:return 16}default:return 16}}var Hn=null,of=null,Xo=null;function am(){if(Xo)return Xo;var t,e=of,r=e.length,n,a="value"in Hn?Hn.value:Hn.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return Xo=a.slice(t,1<n?1-n:void 0)}function Zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _o(){return!0}function P0(){return!1}function vr(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_o:P0,this.isPropagationStopped=P0,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),e}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=vr(Bi),io=Je({},Bi,{view:0,detail:0}),u2=vr(io),kc,Oc,Yi,Zl=Je({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yi&&(Yi&&t.type==="mousemove"?(kc=t.screenX-Yi.screenX,Oc=t.screenY-Yi.screenY):Oc=kc=0,Yi=t),kc)},movementY:function(t){return"movementY"in t?t.movementY:Oc}}),M0=vr(Zl),d2=Je({},Zl,{dataTransfer:0}),f2=vr(d2),h2=Je({},io,{relatedTarget:0}),Rc=vr(h2),p2=Je({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),m2=vr(p2),x2=Je({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v2=vr(x2),g2=Je({},Bi,{data:0}),L0=vr(g2),y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b2[t])?!!e[t]:!1}function cf(){return _2}var N2=Je({},io,{key:function(t){if(t.key){var e=y2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cf,charCode:function(t){return t.type==="keypress"?Zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E2=vr(N2),C2=Je({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=vr(C2),S2=Je({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cf}),A2=vr(S2),j2=Je({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=vr(j2),T2=Je({},Zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k2=vr(T2),O2=[9,13,27,32],uf=bn&&"CompositionEvent"in window,_s=null;bn&&"documentMode"in document&&(_s=document.documentMode);var R2=bn&&"TextEvent"in window&&!_s,im=bn&&(!uf||_s&&8<_s&&11>=_s),B0=String.fromCharCode(32),U0=!1;function sm(t,e){switch(t){case"keyup":return O2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ti=!1;function D2(t,e){switch(t){case"compositionend":return om(e);case"keypress":return e.which!==32?null:(U0=!0,B0);case"textInput":return t=e.data,t===B0&&U0?null:t;default:return null}}function P2(t,e){if(ti)return t==="compositionend"||!uf&&sm(t,e)?(t=am(),Xo=of=Hn=null,ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return im&&e.locale!=="ko"?null:e.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M2[t.type]:e==="textarea"}function lm(t,e,r,n){Bp(n),e=ml(e,"onChange"),0<e.length&&(r=new lf("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ns=null,Fs=null;function L2(t){ym(t,0)}function Yl(t){var e=ai(t);if(Op(e))return t}function F2(t,e){if(t==="change")return e}var cm=!1;if(bn){var Dc;if(bn){var Pc="oninput"in document;if(!Pc){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),Pc=typeof V0.oninput=="function"}Dc=Pc}else Dc=!1;cm=Dc&&(!document.documentMode||9<document.documentMode)}function $0(){Ns&&(Ns.detachEvent("onpropertychange",um),Fs=Ns=null)}function um(t){if(t.propertyName==="value"&&Yl(Fs)){var e=[];lm(e,Fs,t,tf(t)),$p(L2,e)}}function B2(t,e,r){t==="focusin"?($0(),Ns=e,Fs=r,Ns.attachEvent("onpropertychange",um)):t==="focusout"&&$0()}function U2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yl(Fs)}function z2(t,e){if(t==="click")return Yl(e)}function V2(t,e){if(t==="input"||t==="change")return Yl(e)}function $2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qr=typeof Object.is=="function"?Object.is:$2;function Bs(t,e){if(Qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!pu.call(e,a)||!Qr(t[a],e[a]))return!1}return!0}function H0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W0(t,e){var r=H0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=H0(r)}}function dm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fm(){for(var t=window,e=ll();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ll(t.document)}return e}function df(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H2(t){var e=fm(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&dm(r.ownerDocument.documentElement,r)){if(n!==null&&df(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=W0(r,i);var s=W0(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W2=bn&&"documentMode"in document&&11>=document.documentMode,ri=null,Ru=null,Es=null,Du=!1;function G0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Du||ri==null||ri!==ll(n)||(n=ri,"selectionStart"in n&&df(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Es&&Bs(Es,n)||(Es=n,n=ml(Ru,"onSelect"),0<n.length&&(e=new lf("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ri)))}function No(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ni={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Mc={},hm={};bn&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Kl(t){if(Mc[t])return Mc[t];if(!ni[t])return t;var e=ni[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in hm)return Mc[t]=e[r];return t}var pm=Kl("animationend"),mm=Kl("animationiteration"),xm=Kl("animationstart"),vm=Kl("transitionend"),gm=new Map,X0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){gm.set(t,e),Wa(e,[t])}for(var Lc=0;Lc<X0.length;Lc++){var Fc=X0[Lc],G2=Fc.toLowerCase(),X2=Fc[0].toUpperCase()+Fc.slice(1);ha(G2,"on"+X2)}ha(pm,"onAnimationEnd");ha(mm,"onAnimationIteration");ha(xm,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(vm,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function Z0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Gg(n,e,void 0,t),t.currentTarget=null}function ym(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Z0(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Z0(a,o,u),i=c}}}if(ul)throw t=Iu,ul=!1,Iu=null,t}function ze(t,e){var r=e[Bu];r===void 0&&(r=e[Bu]=new Set);var n=t+"__bubble";r.has(n)||(wm(e,t,2,!1),r.add(n))}function Bc(t,e,r){var n=0;e&&(n|=4),wm(r,t,n,e)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Us(t){if(!t[Eo]){t[Eo]=!0,Ap.forEach(function(r){r!=="selectionchange"&&(Z2.has(r)||Bc(r,!1,t),Bc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eo]||(e[Eo]=!0,Bc("selectionchange",!1,e))}}function wm(t,e,r,n){switch(nm(e)){case 1:var a=l2;break;case 4:a=c2;break;default:a=sf}r=a.bind(null,e,r,t),a=void 0,!ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Uc(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Aa(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}$p(function(){var u=i,d=tf(r),f=[];e:{var h=gm.get(t);if(h!==void 0){var p=lf,m=t;switch(t){case"keypress":if(Zo(r)===0)break e;case"keydown":case"keyup":p=E2;break;case"focusin":m="focus",p=Rc;break;case"focusout":m="blur",p=Rc;break;case"beforeblur":case"afterblur":p=Rc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=f2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A2;break;case pm:case mm:case xm:p=m2;break;case vm:p=I2;break;case"scroll":p=u2;break;case"wheel":p=k2;break;case"copy":case"cut":case"paste":p=v2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=F0}var v=(e&4)!==0,y=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,w;x!==null;){w=x;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=Ds(x,g),b!=null&&v.push(zs(x,b,w)))),y)break;x=x.return}0<v.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==Su&&(m=r.relatedTarget||r.fromElement)&&(Aa(m)||m[_n]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Aa(m):null,m!==null&&(y=Ga(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=M0,b="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=F0,b="onPointerLeave",g="onPointerEnter",x="pointer"),y=p==null?h:ai(p),w=m==null?h:ai(m),h=new v(b,x+"leave",p,r,d),h.target=y,h.relatedTarget=w,b=null,Aa(d)===u&&(v=new v(g,x+"enter",m,r,d),v.target=w,v.relatedTarget=y,b=v),y=b,p&&m)t:{for(v=p,g=m,x=0,w=v;w;w=Za(w))x++;for(w=0,b=g;b;b=Za(b))w++;for(;0<x-w;)v=Za(v),x--;for(;0<w-x;)g=Za(g),w--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Za(v),g=Za(g)}v=null}else v=null;p!==null&&Y0(f,h,p,v,!1),m!==null&&y!==null&&Y0(f,y,m,v,!0)}}e:{if(h=u?ai(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=F2;else if(z0(h))if(cm)E=V2;else{E=U2;var j=B2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=z2);if(E&&(E=E(t,u))){lm(f,E,r,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&bu(h,"number",h.value)}switch(j=u?ai(u):window,t){case"focusin":(z0(j)||j.contentEditable==="true")&&(ri=j,Ru=u,Es=null);break;case"focusout":Es=Ru=ri=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,G0(f,r,d);break;case"selectionchange":if(W2)break;case"keydown":case"keyup":G0(f,r,d)}var N;if(uf)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ti?sm(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(im&&r.locale!=="ko"&&(ti||S!=="onCompositionStart"?S==="onCompositionEnd"&&ti&&(N=am()):(Hn=d,of="value"in Hn?Hn.value:Hn.textContent,ti=!0)),j=ml(u,S),0<j.length&&(S=new L0(S,t,null,r,d),f.push({event:S,listeners:j}),N?S.data=N:(N=om(r),N!==null&&(S.data=N)))),(N=R2?D2(t,r):P2(t,r))&&(u=ml(u,"onBeforeInput"),0<u.length&&(d=new L0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}ym(f,e)})}function zs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ml(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ds(t,r),i!=null&&n.unshift(zs(t,i,a)),i=Ds(t,e),i!=null&&n.push(zs(t,i,a))),t=t.return}return n}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Y0(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Ds(r,i),c!=null&&s.unshift(zs(r,c,o))):a||(c=Ds(r,i),c!=null&&s.push(zs(r,c,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Y2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function K0(t){return(typeof t=="string"?t:""+t).replace(Y2,`
`).replace(K2,"")}function Co(t,e,r){if(e=K0(e),K0(t)!==e&&r)throw Error(B(425))}function xl(){}var Pu=null,Mu=null;function Lu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(t){return Q0.resolve(null).then(t).catch(J2)}:Fu;function J2(t){setTimeout(function(){throw t})}function zc(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Ls(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ls(e)}function qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),nn="__reactFiber$"+Ui,Vs="__reactProps$"+Ui,_n="__reactContainer$"+Ui,Bu="__reactEvents$"+Ui,ey="__reactListeners$"+Ui,ty="__reactHandles$"+Ui;function Aa(t){var e=t[nn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_n]||r[nn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=q0(t);t!==null;){if(r=t[nn])return r;t=q0(t)}return e}t=r,r=t.parentNode}return null}function so(t){return t=t[nn]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ql(t){return t[Vs]||null}var Uu=[],ii=-1;function pa(t){return{current:t}}function We(t){0>ii||(t.current=Uu[ii],Uu[ii]=null,ii--)}function Fe(t,e){ii++,Uu[ii]=t.current,t.current=e}var ca={},zt=pa(ca),nr=pa(!1),La=ca;function Ni(t,e){var r=t.type.contextTypes;if(!r)return ca;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function ar(t){return t=t.childContextTypes,t!=null}function vl(){We(nr),We(zt)}function J0(t,e,r){if(zt.current!==ca)throw Error(B(168));Fe(zt,e),Fe(nr,r)}function bm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(B(108,Bg(t)||"Unknown",a));return Je({},r,n)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,La=zt.current,Fe(zt,t),Fe(nr,nr.current),!0}function eh(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=bm(t,e,La),n.__reactInternalMemoizedMergedChildContext=t,We(nr),We(zt),Fe(zt,t)):We(nr),Fe(nr,r)}var vn=null,ql=!1,Vc=!1;function _m(t){vn===null?vn=[t]:vn.push(t)}function ry(t){ql=!0,_m(t)}function ma(){if(!Vc&&vn!==null){Vc=!0;var t=0,e=ke;try{var r=vn;for(ke=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vn=null,ql=!1}catch(a){throw vn!==null&&(vn=vn.slice(t+1)),Xp(rf,ma),a}finally{ke=e,Vc=!1}}return null}var si=[],oi=0,yl=null,wl=0,Cr=[],Sr=0,Fa=null,gn=1,yn="";function Ea(t,e){si[oi++]=wl,si[oi++]=yl,yl=t,wl=e}function Nm(t,e,r){Cr[Sr++]=gn,Cr[Sr++]=yn,Cr[Sr++]=Fa,Fa=t;var n=gn;t=yn;var a=32-Yr(n)-1;n&=~(1<<a),r+=1;var i=32-Yr(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,gn=1<<32-Yr(e)+a|r<<a|n,yn=i+t}else gn=1<<i|r<<a|n,yn=t}function ff(t){t.return!==null&&(Ea(t,1),Nm(t,1,0))}function hf(t){for(;t===yl;)yl=si[--oi],si[oi]=null,wl=si[--oi],si[oi]=null;for(;t===Fa;)Fa=Cr[--Sr],Cr[Sr]=null,yn=Cr[--Sr],Cr[Sr]=null,gn=Cr[--Sr],Cr[Sr]=null}var fr=null,dr=null,Xe=!1,$r=null;function Em(t,e){var r=Ar(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function th(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fr=t,dr=qn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fr=t,dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Fa!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ar(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fr=t,dr=null,!0):!1;default:return!1}}function zu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vu(t){if(Xe){var e=dr;if(e){var r=e;if(!th(t,e)){if(zu(t))throw Error(B(418));e=qn(r.nextSibling);var n=fr;e&&th(t,e)?Em(n,r):(t.flags=t.flags&-4097|2,Xe=!1,fr=t)}}else{if(zu(t))throw Error(B(418));t.flags=t.flags&-4097|2,Xe=!1,fr=t}}}function rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fr=t}function So(t){if(t!==fr)return!1;if(!Xe)return rh(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lu(t.type,t.memoizedProps)),e&&(e=dr)){if(zu(t))throw Cm(),Error(B(418));for(;e;)Em(t,e),e=qn(e.nextSibling)}if(rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){dr=qn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}dr=null}}else dr=fr?qn(t.stateNode.nextSibling):null;return!0}function Cm(){for(var t=dr;t;)t=qn(t.nextSibling)}function Ei(){dr=fr=null,Xe=!1}function pf(t){$r===null?$r=[t]:$r.push(t)}var ny=An.ReactCurrentBatchConfig;function Ki(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function Ao(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nh(t){var e=t._init;return e(t._payload)}function Sm(t){function e(g,x){if(t){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function r(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=ra(g,x),g.index=0,g.sibling=null,g}function i(g,x,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,x,w,b){return x===null||x.tag!==6?(x=Yc(w,g.mode,b),x.return=g,x):(x=a(x,w),x.return=g,x)}function c(g,x,w,b){var E=w.type;return E===ei?d(g,x,w.props.children,b,w.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mn&&nh(E)===x.type)?(b=a(x,w.props),b.ref=Ki(g,x,w),b.return=g,b):(b=tl(w.type,w.key,w.props,null,g.mode,b),b.ref=Ki(g,x,w),b.return=g,b)}function u(g,x,w,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Kc(w,g.mode,b),x.return=g,x):(x=a(x,w.children||[]),x.return=g,x)}function d(g,x,w,b,E){return x===null||x.tag!==7?(x=Pa(w,g.mode,b,E),x.return=g,x):(x=a(x,w),x.return=g,x)}function f(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yc(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xo:return w=tl(x.type,x.key,x.props,null,g.mode,w),w.ref=Ki(g,null,x),w.return=g,w;case Ja:return x=Kc(x,g.mode,w),x.return=g,x;case Mn:var b=x._init;return f(g,b(x._payload),w)}if(fs(x)||Wi(x))return x=Pa(x,g.mode,w,null),x.return=g,x;Ao(g,x)}return null}function h(g,x,w,b){var E=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(g,x,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xo:return w.key===E?c(g,x,w,b):null;case Ja:return w.key===E?u(g,x,w,b):null;case Mn:return E=w._init,h(g,x,E(w._payload),b)}if(fs(w)||Wi(w))return E!==null?null:d(g,x,w,b,null);Ao(g,w)}return null}function p(g,x,w,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,o(x,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xo:return g=g.get(b.key===null?w:b.key)||null,c(x,g,b,E);case Ja:return g=g.get(b.key===null?w:b.key)||null,u(x,g,b,E);case Mn:var j=b._init;return p(g,x,w,j(b._payload),E)}if(fs(b)||Wi(b))return g=g.get(w)||null,d(x,g,b,E,null);Ao(x,b)}return null}function m(g,x,w,b){for(var E=null,j=null,N=x,S=x=0,O=null;N!==null&&S<w.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var I=h(g,N,w[S],b);if(I===null){N===null&&(N=O);break}t&&N&&I.alternate===null&&e(g,N),x=i(I,x,S),j===null?E=I:j.sibling=I,j=I,N=O}if(S===w.length)return r(g,N),Xe&&Ea(g,S),E;if(N===null){for(;S<w.length;S++)N=f(g,w[S],b),N!==null&&(x=i(N,x,S),j===null?E=N:j.sibling=N,j=N);return Xe&&Ea(g,S),E}for(N=n(g,N);S<w.length;S++)O=p(N,g,S,w[S],b),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?S:O.key),x=i(O,x,S),j===null?E=O:j.sibling=O,j=O);return t&&N.forEach(function(F){return e(g,F)}),Xe&&Ea(g,S),E}function v(g,x,w,b){var E=Wi(w);if(typeof E!="function")throw Error(B(150));if(w=E.call(w),w==null)throw Error(B(151));for(var j=E=null,N=x,S=x=0,O=null,I=w.next();N!==null&&!I.done;S++,I=w.next()){N.index>S?(O=N,N=null):O=N.sibling;var F=h(g,N,I.value,b);if(F===null){N===null&&(N=O);break}t&&N&&F.alternate===null&&e(g,N),x=i(F,x,S),j===null?E=F:j.sibling=F,j=F,N=O}if(I.done)return r(g,N),Xe&&Ea(g,S),E;if(N===null){for(;!I.done;S++,I=w.next())I=f(g,I.value,b),I!==null&&(x=i(I,x,S),j===null?E=I:j.sibling=I,j=I);return Xe&&Ea(g,S),E}for(N=n(g,N);!I.done;S++,I=w.next())I=p(N,g,S,I.value,b),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?S:I.key),x=i(I,x,S),j===null?E=I:j.sibling=I,j=I);return t&&N.forEach(function(T){return e(g,T)}),Xe&&Ea(g,S),E}function y(g,x,w,b){if(typeof w=="object"&&w!==null&&w.type===ei&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xo:e:{for(var E=w.key,j=x;j!==null;){if(j.key===E){if(E=w.type,E===ei){if(j.tag===7){r(g,j.sibling),x=a(j,w.props.children),x.return=g,g=x;break e}}else if(j.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Mn&&nh(E)===j.type){r(g,j.sibling),x=a(j,w.props),x.ref=Ki(g,j,w),x.return=g,g=x;break e}r(g,j);break}else e(g,j);j=j.sibling}w.type===ei?(x=Pa(w.props.children,g.mode,b,w.key),x.return=g,g=x):(b=tl(w.type,w.key,w.props,null,g.mode,b),b.ref=Ki(g,x,w),b.return=g,g=b)}return s(g);case Ja:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=a(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else e(g,x);x=x.sibling}x=Kc(w,g.mode,b),x.return=g,g=x}return s(g);case Mn:return j=w._init,y(g,x,j(w._payload),b)}if(fs(w))return m(g,x,w,b);if(Wi(w))return v(g,x,w,b);Ao(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,w),x.return=g,g=x):(r(g,x),x=Yc(w,g.mode,b),x.return=g,g=x),s(g)):r(g,x)}return y}var Ci=Sm(!0),Am=Sm(!1),bl=pa(null),_l=null,li=null,mf=null;function xf(){mf=li=_l=null}function vf(t){var e=bl.current;We(bl),t._currentValue=e}function $u(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yi(t,e){_l=t,mf=li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function kr(t){var e=t._currentValue;if(mf!==t)if(t={context:t,memoizedValue:e,next:null},li===null){if(_l===null)throw Error(B(308));li=t,_l.dependencies={lanes:0,firstContext:t}}else li=li.next=t;return e}var ja=null;function gf(t){ja===null?ja=[t]:ja.push(t)}function jm(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,gf(e)):(r.next=a.next,a.next=r),e.interleaved=r,Nn(t,n)}function Nn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ln=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Im(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Nn(t,r)}return a=n.interleaved,a===null?(e.next=e,gf(n)):(e.next=a.next,a.next=e),n.interleaved=e,Nn(t,r)}function Yo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nf(t,r)}}function ah(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Nl(t,e,r,n){var a=t.updateQueue;Ln=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,v=o;switch(h=e,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Je({},f,h);break e;case 2:Ln=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Ua|=s,t.lanes=s,t.memoizedState=f}}function ih(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(B(191,a));a.call(n)}}}var oo={},un=pa(oo),$s=pa(oo),Hs=pa(oo);function Ia(t){if(t===oo)throw Error(B(174));return t}function wf(t,e){switch(Fe(Hs,e),Fe($s,t),Fe(un,oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nu(e,t)}We(un),Fe(un,e)}function Si(){We(un),We($s),We(Hs)}function Tm(t){Ia(Hs.current);var e=Ia(un.current),r=Nu(e,t.type);e!==r&&(Fe($s,t),Fe(un,r))}function bf(t){$s.current===t&&(We(un),We($s))}var Ke=pa(0);function El(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $c=[];function _f(){for(var t=0;t<$c.length;t++)$c[t]._workInProgressVersionPrimary=null;$c.length=0}var Ko=An.ReactCurrentDispatcher,Hc=An.ReactCurrentBatchConfig,Ba=0,qe=null,mt=null,Et=null,Cl=!1,Cs=!1,Ws=0,ay=0;function Mt(){throw Error(B(321))}function Nf(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qr(t[r],e[r]))return!1;return!0}function Ef(t,e,r,n,a,i){if(Ba=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=t===null||t.memoizedState===null?ly:cy,t=r(n,a),Cs){i=0;do{if(Cs=!1,Ws=0,25<=i)throw Error(B(301));i+=1,Et=mt=null,e.updateQueue=null,Ko.current=uy,t=r(n,a)}while(Cs)}if(Ko.current=Sl,e=mt!==null&&mt.next!==null,Ba=0,Et=mt=qe=null,Cl=!1,e)throw Error(B(300));return t}function Cf(){var t=Ws!==0;return Ws=0,t}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?qe.memoizedState=Et=t:Et=Et.next=t,Et}function Or(){if(mt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Et===null?qe.memoizedState:Et.next;if(e!==null)Et=e,mt=t;else{if(t===null)throw Error(B(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Et===null?qe.memoizedState=Et=t:Et=Et.next=t}return Et}function Gs(t,e){return typeof e=="function"?e(t):e}function Wc(t){var e=Or(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=mt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((Ba&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,qe.lanes|=d,Ua|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,Qr(n,e.memoizedState)||(rr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,qe.lanes|=i,Ua|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Gc(t){var e=Or(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Qr(i,e.memoizedState)||(rr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function km(){}function Om(t,e){var r=qe,n=Or(),a=e(),i=!Qr(n.memoizedState,a);if(i&&(n.memoizedState=a,rr=!0),n=n.queue,Sf(Pm.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Xs(9,Dm.bind(null,r,n,a,e),void 0,null),At===null)throw Error(B(349));Ba&30||Rm(r,e,a)}return a}function Rm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Dm(t,e,r,n){e.value=r,e.getSnapshot=n,Mm(e)&&Lm(t)}function Pm(t,e,r){return r(function(){Mm(e)&&Lm(t)})}function Mm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qr(t,r)}catch{return!0}}function Lm(t){var e=Nn(t,1);e!==null&&Kr(e,t,1,-1)}function sh(t){var e=tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:t},e.queue=t,t=t.dispatch=oy.bind(null,qe,t),[e.memoizedState,t]}function Xs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Fm(){return Or().memoizedState}function Qo(t,e,r,n){var a=tn();qe.flags|=t,a.memoizedState=Xs(1|e,r,void 0,n===void 0?null:n)}function Jl(t,e,r,n){var a=Or();n=n===void 0?null:n;var i=void 0;if(mt!==null){var s=mt.memoizedState;if(i=s.destroy,n!==null&&Nf(n,s.deps)){a.memoizedState=Xs(e,r,i,n);return}}qe.flags|=t,a.memoizedState=Xs(1|e,r,i,n)}function oh(t,e){return Qo(8390656,8,t,e)}function Sf(t,e){return Jl(2048,8,t,e)}function Bm(t,e){return Jl(4,2,t,e)}function Um(t,e){return Jl(4,4,t,e)}function zm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vm(t,e,r){return r=r!=null?r.concat([t]):null,Jl(4,4,zm.bind(null,e,t),r)}function Af(){}function $m(t,e){var r=Or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nf(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Hm(t,e){var r=Or();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nf(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Wm(t,e,r){return Ba&21?(Qr(r,e)||(r=Kp(),qe.lanes|=r,Ua|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=r)}function iy(t,e){var r=ke;ke=r!==0&&4>r?r:4,t(!0);var n=Hc.transition;Hc.transition={};try{t(!1),e()}finally{ke=r,Hc.transition=n}}function Gm(){return Or().memoizedState}function sy(t,e,r){var n=ta(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xm(t))Zm(e,r);else if(r=jm(t,e,r,n),r!==null){var a=Zt();Kr(r,t,n,a),Ym(r,e,n)}}function oy(t,e,r){var n=ta(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xm(t))Zm(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Qr(o,s)){var c=e.interleaved;c===null?(a.next=a,gf(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=jm(t,e,a,n),r!==null&&(a=Zt(),Kr(r,t,n,a),Ym(r,e,n))}}function Xm(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function Zm(t,e){Cs=Cl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ym(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nf(t,r)}}var Sl={readContext:kr,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},ly={readContext:kr,useCallback:function(t,e){return tn().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:oh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qo(4194308,4,zm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qo(4,2,t,e)},useMemo:function(t,e){var r=tn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=tn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sy.bind(null,qe,t),[n.memoizedState,t]},useRef:function(t){var e=tn();return t={current:t},e.memoizedState=t},useState:sh,useDebugValue:Af,useDeferredValue:function(t){return tn().memoizedState=t},useTransition:function(){var t=sh(!1),e=t[0];return t=iy.bind(null,t[1]),tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qe,a=tn();if(Xe){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),At===null)throw Error(B(349));Ba&30||Rm(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,oh(Pm.bind(null,n,i,t),[t]),n.flags|=2048,Xs(9,Dm.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=tn(),e=At.identifierPrefix;if(Xe){var r=yn,n=gn;r=(n&~(1<<32-Yr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ws++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ay++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cy={readContext:kr,useCallback:$m,useContext:kr,useEffect:Sf,useImperativeHandle:Vm,useInsertionEffect:Bm,useLayoutEffect:Um,useMemo:Hm,useReducer:Wc,useRef:Fm,useState:function(){return Wc(Gs)},useDebugValue:Af,useDeferredValue:function(t){var e=Or();return Wm(e,mt.memoizedState,t)},useTransition:function(){var t=Wc(Gs)[0],e=Or().memoizedState;return[t,e]},useMutableSource:km,useSyncExternalStore:Om,useId:Gm,unstable_isNewReconciler:!1},uy={readContext:kr,useCallback:$m,useContext:kr,useEffect:Sf,useImperativeHandle:Vm,useInsertionEffect:Bm,useLayoutEffect:Um,useMemo:Hm,useReducer:Gc,useRef:Fm,useState:function(){return Gc(Gs)},useDebugValue:Af,useDeferredValue:function(t){var e=Or();return mt===null?e.memoizedState=t:Wm(e,mt.memoizedState,t)},useTransition:function(){var t=Gc(Gs)[0],e=Or().memoizedState;return[t,e]},useMutableSource:km,useSyncExternalStore:Om,useId:Gm,unstable_isNewReconciler:!1};function zr(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Hu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Je({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ec={isMounted:function(t){return(t=t._reactInternals)?Ga(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Zt(),a=ta(t),i=wn(n,a);i.payload=e,r!=null&&(i.callback=r),e=Jn(t,i,a),e!==null&&(Kr(e,t,a,n),Yo(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Zt(),a=ta(t),i=wn(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Jn(t,i,a),e!==null&&(Kr(e,t,a,n),Yo(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Zt(),n=ta(t),a=wn(r,n);a.tag=2,e!=null&&(a.callback=e),e=Jn(t,a,n),e!==null&&(Kr(e,t,n,r),Yo(e,t,n))}};function lh(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!Bs(r,n)||!Bs(a,i):!0}function Km(t,e,r){var n=!1,a=ca,i=e.contextType;return typeof i=="object"&&i!==null?i=kr(i):(a=ar(e)?La:zt.current,n=e.contextTypes,i=(n=n!=null)?Ni(t,a):ca),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ec,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function ch(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ec.enqueueReplaceState(e,e.state,null)}function Wu(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},yf(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=kr(i):(i=ar(e)?La:zt.current,a.context=Ni(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hu(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&ec.enqueueReplaceState(a,a.state,null),Nl(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Ai(t,e){try{var r="",n=e;do r+=Fg(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Xc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Gu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dy=typeof WeakMap=="function"?WeakMap:Map;function Qm(t,e,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jl||(jl=!0,rd=n),Gu(t,e)},r}function qm(t,e,r){r=wn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Gu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Gu(t,e),typeof n!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function uh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new dy;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=Cy.bind(null,t,e,r),e.then(t,t))}function dh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fh(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wn(-1,1),e.tag=2,Jn(r,e,1))),r.lanes|=1),t)}var fy=An.ReactCurrentOwner,rr=!1;function Gt(t,e,r,n){e.child=t===null?Am(e,null,r,n):Ci(e,t.child,r,n)}function hh(t,e,r,n,a){r=r.render;var i=e.ref;return yi(e,a),n=Ef(t,e,r,n,i,a),r=Cf(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,En(t,e,a)):(Xe&&r&&ff(e),e.flags|=1,Gt(t,e,n,a),e.child)}function ph(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Pf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Jm(t,e,i,n,a)):(t=tl(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bs,r(s,n)&&t.ref===e.ref)return En(t,e,a)}return e.flags|=1,t=ra(i,n),t.ref=e.ref,t.return=e,e.child=t}function Jm(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Bs(i,n)&&t.ref===e.ref)if(rr=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,En(t,e,a)}return Xu(t,e,r,n,a)}function ex(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(ui,cr),cr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(ui,cr),cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fe(ui,cr),cr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Fe(ui,cr),cr|=n;return Gt(t,e,a,r),e.child}function tx(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Xu(t,e,r,n,a){var i=ar(r)?La:zt.current;return i=Ni(e,i),yi(e,a),r=Ef(t,e,r,n,i,a),n=Cf(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,En(t,e,a)):(Xe&&n&&ff(e),e.flags|=1,Gt(t,e,r,a),e.child)}function mh(t,e,r,n,a){if(ar(r)){var i=!0;gl(e)}else i=!1;if(yi(e,a),e.stateNode===null)qo(t,e),Km(e,r,n),Wu(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=kr(u):(u=ar(r)?La:zt.current,u=Ni(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&ch(e,s,n,u),Ln=!1;var h=e.memoizedState;s.state=h,Nl(e,n,s,a),c=e.memoizedState,o!==n||h!==c||nr.current||Ln?(typeof d=="function"&&(Hu(e,r,d,n),c=e.memoizedState),(o=Ln||lh(e,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Im(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:zr(e.type,o),s.props=u,f=e.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=kr(c):(c=ar(r)?La:zt.current,c=Ni(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&ch(e,s,n,c),Ln=!1,h=e.memoizedState,s.state=h,Nl(e,n,s,a);var m=e.memoizedState;o!==f||h!==m||nr.current||Ln?(typeof p=="function"&&(Hu(e,r,p,n),m=e.memoizedState),(u=Ln||lh(e,r,u,n,h,m,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Zu(t,e,r,n,i,a)}function Zu(t,e,r,n,a,i){tx(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&eh(e,r,!1),En(t,e,i);n=e.stateNode,fy.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Ci(e,t.child,null,i),e.child=Ci(e,null,o,i)):Gt(t,e,o,i),e.memoizedState=n.state,a&&eh(e,r,!0),e.child}function rx(t){var e=t.stateNode;e.pendingContext?J0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J0(t,e.context,!1),wf(t,e.containerInfo)}function xh(t,e,r,n,a){return Ei(),pf(a),e.flags|=256,Gt(t,e,r,n),e.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Ku(t){return{baseLanes:t,cachePool:null,transitions:null}}function nx(t,e,r){var n=e.pendingProps,a=Ke.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Fe(Ke,a&1),t===null)return Vu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=nc(s,n,0,null),t=Pa(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ku(r),e.memoizedState=Yu,t):jf(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return hy(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ra(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ra(o,i):(i=Pa(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?Ku(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=Yu,n}return i=t.child,t=i.sibling,n=ra(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function jf(t,e){return e=nc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jo(t,e,r,n){return n!==null&&pf(n),Ci(e,t.child,null,r),t=jf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hy(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=Xc(Error(B(422))),jo(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=nc({mode:"visible",children:n.children},a,0,null),i=Pa(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ci(e,t.child,null,s),e.child.memoizedState=Ku(s),e.memoizedState=Yu,i);if(!(e.mode&1))return jo(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(B(419)),n=Xc(i,n,void 0),jo(t,e,s,n)}if(o=(s&t.childLanes)!==0,rr||o){if(n=At,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Nn(t,a),Kr(n,t,a,-1))}return Df(),n=Xc(Error(B(421))),jo(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Sy.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,dr=qn(a.nextSibling),fr=e,Xe=!0,$r=null,t!==null&&(Cr[Sr++]=gn,Cr[Sr++]=yn,Cr[Sr++]=Fa,gn=t.id,yn=t.overflow,Fa=e),e=jf(e,n.children),e.flags|=4096,e)}function vh(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$u(t.return,e,r)}function Zc(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function ax(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Gt(t,e,n.children,r),n=Ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vh(t,r,e);else if(t.tag===19)vh(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Fe(Ke,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&El(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Zc(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&El(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Zc(e,!0,r,null,i);break;case"together":Zc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function En(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=ra(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ra(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function py(t,e,r){switch(e.tag){case 3:rx(e),Ei();break;case 5:Tm(e);break;case 1:ar(e.type)&&gl(e);break;case 4:wf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Fe(bl,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Ke,Ke.current&1),e.flags|=128,null):r&e.child.childLanes?nx(t,e,r):(Fe(Ke,Ke.current&1),t=En(t,e,r),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ax(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fe(Ke,Ke.current),n)break;return null;case 22:case 23:return e.lanes=0,ex(t,e,r)}return En(t,e,r)}var ix,Qu,sx,ox;ix=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qu=function(){};sx=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ia(un.current);var i=null;switch(r){case"input":a=yu(t,a),n=yu(t,n),i=[];break;case"select":a=Je({},a,{value:void 0}),n=Je({},n,{value:void 0}),i=[];break;case"textarea":a=_u(t,a),n=_u(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xl)}Eu(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ox=function(t,e,r,n){r!==n&&(e.flags|=4)};function Qi(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function my(t,e,r){var n=e.pendingProps;switch(hf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return ar(e.type)&&vl(),Lt(e),null;case 3:return n=e.stateNode,Si(),We(nr),We(zt),_f(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(So(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(id($r),$r=null))),Qu(t,e),Lt(e),null;case 5:bf(e);var a=Ia(Hs.current);if(r=e.type,t!==null&&e.stateNode!=null)sx(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Lt(e),null}if(t=Ia(un.current),So(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[nn]=e,n[Vs]=i,t=(e.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<ps.length;a++)ze(ps[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":S0(n,i),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ze("invalid",n);break;case"textarea":j0(n,i),ze("invalid",n)}Eu(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Co(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Co(n.textContent,o,t),a=["children",""+o]):Os.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ze("scroll",n)}switch(r){case"input":vo(n),A0(n,i,!0);break;case"textarea":vo(n),I0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xl)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[nn]=e,t[Vs]=n,ix(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cu(r,n),r){case"dialog":ze("cancel",t),ze("close",t),a=n;break;case"iframe":case"object":case"embed":ze("load",t),a=n;break;case"video":case"audio":for(a=0;a<ps.length;a++)ze(ps[a],t);a=n;break;case"source":ze("error",t),a=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),a=n;break;case"details":ze("toggle",t),a=n;break;case"input":S0(t,n),a=yu(t,n),ze("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Je({},n,{value:void 0}),ze("invalid",t);break;case"textarea":j0(t,n),a=_u(t,n),ze("invalid",t);break;default:a=n}Eu(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Fp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mp(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rs(t,c):typeof c=="number"&&Rs(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ze("scroll",t):c!=null&&Qd(t,i,c,s))}switch(r){case"input":vo(t),A0(t,n,!1);break;case"textarea":vo(t),I0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+la(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?mi(t,!!n.multiple,i,!1):n.defaultValue!=null&&mi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=xl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)ox(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=Ia(Hs.current),Ia(un.current),So(e)){if(n=e.stateNode,r=e.memoizedProps,n[nn]=e,(i=n.nodeValue!==r)&&(t=fr,t!==null))switch(t.tag){case 3:Co(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Co(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nn]=e,e.stateNode=n}return Lt(e),null;case 13:if(We(Ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&dr!==null&&e.mode&1&&!(e.flags&128))Cm(),Ei(),e.flags|=98560,i=!1;else if(i=So(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[nn]=e}else Ei(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),i=!1}else $r!==null&&(id($r),$r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?yt===0&&(yt=3):Df())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Si(),Qu(t,e),t===null&&Us(e.stateNode.containerInfo),Lt(e),null;case 10:return vf(e.type._context),Lt(e),null;case 17:return ar(e.type)&&vl(),Lt(e),null;case 19:if(We(Ke),i=e.memoizedState,i===null)return Lt(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)Qi(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=El(t),s!==null){for(e.flags|=128,Qi(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Fe(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>ji&&(e.flags|=128,n=!0,Qi(i,!1),e.lanes=4194304)}else{if(!n)if(t=El(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Qi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Xe)return Lt(e),null}else 2*nt()-i.renderingStartTime>ji&&r!==1073741824&&(e.flags|=128,n=!0,Qi(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,r=Ke.current,Fe(Ke,n?r&1|2:r&1),e):(Lt(e),null);case 22:case 23:return Rf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?cr&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function xy(t,e){switch(hf(e),e.tag){case 1:return ar(e.type)&&vl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Si(),We(nr),We(zt),_f(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bf(e),null;case 13:if(We(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ei()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ke),null;case 4:return Si(),null;case 10:return vf(e.type._context),null;case 22:case 23:return Rf(),null;case 24:return null;default:return null}}var Io=!1,Bt=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ci(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tt(t,e,n)}else r.current=null}function qu(t,e,r){try{r()}catch(n){tt(t,e,n)}}var gh=!1;function gy(t,e){if(Pu=hl,t=fm(),df(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mu={focusedElem:t,selectionRange:r},hl=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:zr(e.type,v),y);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){tt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return m=gh,gh=!1,m}function Ss(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&qu(e,r,i)}a=a.next}while(a!==n)}}function tc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ju(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function lx(t){var e=t.alternate;e!==null&&(t.alternate=null,lx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nn],delete e[Vs],delete e[Bu],delete e[ey],delete e[ty])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cx(t){return t.tag===5||t.tag===3||t.tag===4}function yh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xl));else if(n!==4&&(t=t.child,t!==null))for(ed(t,e,r),t=t.sibling;t!==null;)ed(t,e,r),t=t.sibling}function td(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(td(t,e,r),t=t.sibling;t!==null;)td(t,e,r),t=t.sibling}var kt=null,Vr=!1;function kn(t,e,r){for(r=r.child;r!==null;)ux(t,e,r),r=r.sibling}function ux(t,e,r){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Xl,r)}catch{}switch(r.tag){case 5:Bt||ci(r,e);case 6:var n=kt,a=Vr;kt=null,kn(t,e,r),kt=n,Vr=a,kt!==null&&(Vr?(t=kt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Vr?(t=kt,r=r.stateNode,t.nodeType===8?zc(t.parentNode,r):t.nodeType===1&&zc(t,r),Ls(t)):zc(kt,r.stateNode));break;case 4:n=kt,a=Vr,kt=r.stateNode.containerInfo,Vr=!0,kn(t,e,r),kt=n,Vr=a;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&qu(r,e,s),a=a.next}while(a!==n)}kn(t,e,r);break;case 1:if(!Bt&&(ci(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){tt(r,e,o)}kn(t,e,r);break;case 21:kn(t,e,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,kn(t,e,r),Bt=n):kn(t,e,r);break;default:kn(t,e,r)}}function wh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vy),e.forEach(function(n){var a=Ay.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Lr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:kt=o.stateNode,Vr=!1;break e;case 3:kt=o.stateNode.containerInfo,Vr=!0;break e;case 4:kt=o.stateNode.containerInfo,Vr=!0;break e}o=o.return}if(kt===null)throw Error(B(160));ux(i,s,a),kt=null,Vr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){tt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dx(e,t),e=e.sibling}function dx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lr(e,t),en(t),n&4){try{Ss(3,t,t.return),tc(3,t)}catch(v){tt(t,t.return,v)}try{Ss(5,t,t.return)}catch(v){tt(t,t.return,v)}}break;case 1:Lr(e,t),en(t),n&512&&r!==null&&ci(r,r.return);break;case 5:if(Lr(e,t),en(t),n&512&&r!==null&&ci(r,r.return),t.flags&32){var a=t.stateNode;try{Rs(a,"")}catch(v){tt(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Rp(a,i),Cu(o,s);var u=Cu(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?Fp(a,f):d==="dangerouslySetInnerHTML"?Mp(a,f):d==="children"?Rs(a,f):Qd(a,d,f,u)}switch(o){case"input":wu(a,i);break;case"textarea":Dp(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?mi(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?mi(a,!!i.multiple,i.defaultValue,!0):mi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Vs]=i}catch(v){tt(t,t.return,v)}}break;case 6:if(Lr(e,t),en(t),n&4){if(t.stateNode===null)throw Error(B(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(v){tt(t,t.return,v)}}break;case 3:if(Lr(e,t),en(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(e.containerInfo)}catch(v){tt(t,t.return,v)}break;case 4:Lr(e,t),en(t);break;case 13:Lr(e,t),en(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(kf=nt())),n&4&&wh(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||d,Lr(e,t),Bt=u):Lr(e,t),en(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ss(4,h,h.return);break;case 1:ci(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){tt(n,r,v)}}break;case 5:ci(h,h.return);break;case 22:if(h.memoizedState!==null){_h(f);continue}}p!==null?(p.return=h,Y=p):_h(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Lp("display",s))}catch(v){tt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){tt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lr(e,t),en(t),n&4&&wh(t);break;case 21:break;default:Lr(e,t),en(t)}}function en(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(cx(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Rs(a,""),n.flags&=-33);var i=yh(t);td(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=yh(t);ed(t,o,s);break;default:throw Error(B(161))}}catch(c){tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yy(t,e,r){Y=t,fx(t)}function fx(t,e,r){for(var n=(t.mode&1)!==0;Y!==null;){var a=Y,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Io;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Bt;o=Io;var u=Bt;if(Io=s,(Bt=c)&&!u)for(Y=a;Y!==null;)s=Y,c=s.child,s.tag===22&&s.memoizedState!==null?Nh(a):c!==null?(c.return=s,Y=c):Nh(a);for(;i!==null;)Y=i,fx(i),i=i.sibling;Y=a,Io=o,Bt=u}bh(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Y=i):bh(t)}}function bh(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||tc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:zr(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ih(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ih(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ls(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Bt||e.flags&512&&Ju(e)}catch(h){tt(e,e.return,h)}}if(e===t){Y=null;break}if(r=e.sibling,r!==null){r.return=e.return,Y=r;break}Y=e.return}}function _h(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Y=r;break}Y=e.return}}function Nh(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{tc(4,e)}catch(c){tt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){tt(e,a,c)}}var i=e.return;try{Ju(e)}catch(c){tt(e,i,c)}break;case 5:var s=e.return;try{Ju(e)}catch(c){tt(e,s,c)}}}catch(c){tt(e,e.return,c)}if(e===t){Y=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Y=o;break}Y=e.return}}var wy=Math.ceil,Al=An.ReactCurrentDispatcher,If=An.ReactCurrentOwner,Ir=An.ReactCurrentBatchConfig,be=0,At=null,lt=null,Dt=0,cr=0,ui=pa(0),yt=0,Zs=null,Ua=0,rc=0,Tf=0,As=null,Jt=null,kf=0,ji=1/0,xn=null,jl=!1,rd=null,ea=null,To=!1,Wn=null,Il=0,js=0,nd=null,Jo=-1,el=0;function Zt(){return be&6?nt():Jo!==-1?Jo:Jo=nt()}function ta(t){return t.mode&1?be&2&&Dt!==0?Dt&-Dt:ny.transition!==null?(el===0&&(el=Kp()),el):(t=ke,t!==0||(t=window.event,t=t===void 0?16:nm(t.type)),t):1}function Kr(t,e,r,n){if(50<js)throw js=0,nd=null,Error(B(185));ao(t,r,n),(!(be&2)||t!==At)&&(t===At&&(!(be&2)&&(rc|=r),yt===4&&zn(t,Dt)),ir(t,n),r===1&&be===0&&!(e.mode&1)&&(ji=nt()+500,ql&&ma()))}function ir(t,e){var r=t.callbackNode;n2(t,e);var n=fl(t,t===At?Dt:0);if(n===0)r!==null&&O0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&O0(r),e===1)t.tag===0?ry(Eh.bind(null,t)):_m(Eh.bind(null,t)),q2(function(){!(be&6)&&ma()}),r=null;else{switch(Qp(n)){case 1:r=rf;break;case 4:r=Zp;break;case 16:r=dl;break;case 536870912:r=Yp;break;default:r=dl}r=wx(r,hx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function hx(t,e){if(Jo=-1,el=0,be&6)throw Error(B(327));var r=t.callbackNode;if(wi()&&t.callbackNode!==r)return null;var n=fl(t,t===At?Dt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Tl(t,n);else{e=n;var a=be;be|=2;var i=mx();(At!==t||Dt!==e)&&(xn=null,ji=nt()+500,Da(t,e));do try{Ny();break}catch(o){px(t,o)}while(1);xf(),Al.current=i,be=a,lt!==null?e=0:(At=null,Dt=0,e=yt)}if(e!==0){if(e===2&&(a=Tu(t),a!==0&&(n=a,e=ad(t,a))),e===1)throw r=Zs,Da(t,0),zn(t,n),ir(t,nt()),r;if(e===6)zn(t,n);else{if(a=t.current.alternate,!(n&30)&&!by(a)&&(e=Tl(t,n),e===2&&(i=Tu(t),i!==0&&(n=i,e=ad(t,i))),e===1))throw r=Zs,Da(t,0),zn(t,n),ir(t,nt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:Ca(t,Jt,xn);break;case 3:if(zn(t,n),(n&130023424)===n&&(e=kf+500-nt(),10<e)){if(fl(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Zt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Fu(Ca.bind(null,t,Jt,xn),e);break}Ca(t,Jt,xn);break;case 4:if(zn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-Yr(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wy(n/1960))-n,10<n){t.timeoutHandle=Fu(Ca.bind(null,t,Jt,xn),n);break}Ca(t,Jt,xn);break;case 5:Ca(t,Jt,xn);break;default:throw Error(B(329))}}}return ir(t,nt()),t.callbackNode===r?hx.bind(null,t):null}function ad(t,e){var r=As;return t.current.memoizedState.isDehydrated&&(Da(t,e).flags|=256),t=Tl(t,e),t!==2&&(e=Jt,Jt=r,e!==null&&id(e)),t}function id(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function by(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Qr(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zn(t,e){for(e&=~Tf,e&=~rc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yr(e),n=1<<r;t[r]=-1,e&=~n}}function Eh(t){if(be&6)throw Error(B(327));wi();var e=fl(t,0);if(!(e&1))return ir(t,nt()),null;var r=Tl(t,e);if(t.tag!==0&&r===2){var n=Tu(t);n!==0&&(e=n,r=ad(t,n))}if(r===1)throw r=Zs,Da(t,0),zn(t,e),ir(t,nt()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ca(t,Jt,xn),ir(t,nt()),null}function Of(t,e){var r=be;be|=1;try{return t(e)}finally{be=r,be===0&&(ji=nt()+500,ql&&ma())}}function za(t){Wn!==null&&Wn.tag===0&&!(be&6)&&wi();var e=be;be|=1;var r=Ir.transition,n=ke;try{if(Ir.transition=null,ke=1,t)return t()}finally{ke=n,Ir.transition=r,be=e,!(be&6)&&ma()}}function Rf(){cr=ui.current,We(ui)}function Da(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Q2(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(hf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vl();break;case 3:Si(),We(nr),We(zt),_f();break;case 5:bf(n);break;case 4:Si();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:vf(n.type._context);break;case 22:case 23:Rf()}r=r.return}if(At=t,lt=t=ra(t.current,null),Dt=cr=e,yt=0,Zs=null,Tf=rc=Ua=0,Jt=As=null,ja!==null){for(e=0;e<ja.length;e++)if(r=ja[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}ja=null}return t}function px(t,e){do{var r=lt;try{if(xf(),Ko.current=Sl,Cl){for(var n=qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Cl=!1}if(Ba=0,Et=mt=qe=null,Cs=!1,Ws=0,If.current=null,r===null||r.return===null){yt=1,Zs=e,lt=null;break}e:{var i=t,s=r.return,o=r,c=e;if(e=Dt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=dh(s);if(p!==null){p.flags&=-257,fh(p,s,o,i,e),p.mode&1&&uh(i,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(c),e.updateQueue=v}else m.add(c);break e}else{if(!(e&1)){uh(i,u,e),Df();break e}c=Error(B(426))}}else if(Xe&&o.mode&1){var y=dh(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),fh(y,s,o,i,e),pf(Ai(c,o));break e}}i=c=Ai(c,o),yt!==4&&(yt=2),As===null?As=[i]:As.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Qm(i,c,e);ah(i,g);break e;case 1:o=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ea===null||!ea.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=qm(i,o,e);ah(i,b);break e}}i=i.return}while(i!==null)}vx(r)}catch(E){e=E,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(1)}function mx(){var t=Al.current;return Al.current=Sl,t===null?Sl:t}function Df(){(yt===0||yt===3||yt===2)&&(yt=4),At===null||!(Ua&268435455)&&!(rc&268435455)||zn(At,Dt)}function Tl(t,e){var r=be;be|=2;var n=mx();(At!==t||Dt!==e)&&(xn=null,Da(t,e));do try{_y();break}catch(a){px(t,a)}while(1);if(xf(),be=r,Al.current=n,lt!==null)throw Error(B(261));return At=null,Dt=0,yt}function _y(){for(;lt!==null;)xx(lt)}function Ny(){for(;lt!==null&&!Zg();)xx(lt)}function xx(t){var e=yx(t.alternate,t,cr);t.memoizedProps=t.pendingProps,e===null?vx(t):lt=e,If.current=null}function vx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xy(r,e),r!==null){r.flags&=32767,lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,lt=null;return}}else if(r=my(r,e,cr),r!==null){lt=r;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);yt===0&&(yt=5)}function Ca(t,e,r){var n=ke,a=Ir.transition;try{Ir.transition=null,ke=1,Ey(t,e,r,n)}finally{Ir.transition=a,ke=n}return null}function Ey(t,e,r,n){do wi();while(Wn!==null);if(be&6)throw Error(B(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(a2(t,i),t===At&&(lt=At=null,Dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||To||(To=!0,wx(dl,function(){return wi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ir.transition,Ir.transition=null;var s=ke;ke=1;var o=be;be|=4,If.current=null,gy(t,r),dx(r,t),H2(Mu),hl=!!Pu,Mu=Pu=null,t.current=r,yy(r),Yg(),be=o,ke=s,Ir.transition=i}else t.current=r;if(To&&(To=!1,Wn=t,Il=a),i=t.pendingLanes,i===0&&(ea=null),qg(r.stateNode),ir(t,nt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(jl)throw jl=!1,t=rd,rd=null,t;return Il&1&&t.tag!==0&&wi(),i=t.pendingLanes,i&1?t===nd?js++:(js=0,nd=t):js=0,ma(),null}function wi(){if(Wn!==null){var t=Qp(Il),e=Ir.transition,r=ke;try{if(Ir.transition=null,ke=16>t?16:t,Wn===null)var n=!1;else{if(t=Wn,Wn=null,Il=0,be&6)throw Error(B(331));var a=be;for(be|=4,Y=t.current;Y!==null;){var i=Y,s=i.child;if(Y.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ss(8,d,i)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var h=d.sibling,p=d.return;if(lx(d),d===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Y=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Y=s;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ss(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Y=g;break e}Y=i.return}}var x=t.current;for(Y=x;Y!==null;){s=Y;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Y=w;else e:for(s=x;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tc(9,o)}}catch(E){tt(o,o.return,E)}if(o===s){Y=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Y=b;break e}Y=o.return}}if(be=a,ma(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Xl,t)}catch{}n=!0}return n}finally{ke=r,Ir.transition=e}}return!1}function Ch(t,e,r){e=Ai(r,e),e=Qm(t,e,1),t=Jn(t,e,1),e=Zt(),t!==null&&(ao(t,1,e),ir(t,e))}function tt(t,e,r){if(t.tag===3)Ch(t,t,r);else for(;e!==null;){if(e.tag===3){Ch(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ea===null||!ea.has(n))){t=Ai(r,t),t=qm(e,t,1),e=Jn(e,t,1),t=Zt(),e!==null&&(ao(e,1,t),ir(e,t));break}}e=e.return}}function Cy(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&r,At===t&&(Dt&r)===r&&(yt===4||yt===3&&(Dt&130023424)===Dt&&500>nt()-kf?Da(t,0):Tf|=r),ir(t,e)}function gx(t,e){e===0&&(t.mode&1?(e=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):e=1);var r=Zt();t=Nn(t,e),t!==null&&(ao(t,e,r),ir(t,r))}function Sy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),gx(t,r)}function Ay(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),gx(t,r)}var yx;yx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)rr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rr=!1,py(t,e,r);rr=!!(t.flags&131072)}else rr=!1,Xe&&e.flags&1048576&&Nm(e,wl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qo(t,e),t=e.pendingProps;var a=Ni(e,zt.current);yi(e,r),a=Ef(null,e,n,t,a,r);var i=Cf();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(n)?(i=!0,gl(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,yf(e),a.updater=ec,e.stateNode=a,a._reactInternals=e,Wu(e,n,t,r),e=Zu(null,e,n,!0,i,r)):(e.tag=0,Xe&&i&&ff(e),Gt(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qo(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=Iy(n),t=zr(n,t),a){case 0:e=Xu(null,e,n,t,r);break e;case 1:e=mh(null,e,n,t,r);break e;case 11:e=hh(null,e,n,t,r);break e;case 14:e=ph(null,e,n,zr(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zr(n,a),Xu(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zr(n,a),mh(t,e,n,a,r);case 3:e:{if(rx(e),t===null)throw Error(B(387));n=e.pendingProps,i=e.memoizedState,a=i.element,Im(t,e),Nl(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Ai(Error(B(423)),e),e=xh(t,e,n,r,a);break e}else if(n!==a){a=Ai(Error(B(424)),e),e=xh(t,e,n,r,a);break e}else for(dr=qn(e.stateNode.containerInfo.firstChild),fr=e,Xe=!0,$r=null,r=Am(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ei(),n===a){e=En(t,e,r);break e}Gt(t,e,n,r)}e=e.child}return e;case 5:return Tm(e),t===null&&Vu(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,Lu(n,a)?s=null:i!==null&&Lu(n,i)&&(e.flags|=32),tx(t,e),Gt(t,e,s,r),e.child;case 6:return t===null&&Vu(e),null;case 13:return nx(t,e,r);case 4:return wf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ci(e,null,n,r):Gt(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zr(n,a),hh(t,e,n,a,r);case 7:return Gt(t,e,e.pendingProps,r),e.child;case 8:return Gt(t,e,e.pendingProps.children,r),e.child;case 12:return Gt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,Fe(bl,n._currentValue),n._currentValue=s,i!==null)if(Qr(i.value,s)){if(i.children===a.children&&!nr.current){e=En(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=wn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),$u(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),$u(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Gt(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,yi(e,r),a=kr(a),n=n(a),e.flags|=1,Gt(t,e,n,r),e.child;case 14:return n=e.type,a=zr(n,e.pendingProps),a=zr(n.type,a),ph(t,e,n,a,r);case 15:return Jm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:zr(n,a),qo(t,e),e.tag=1,ar(n)?(t=!0,gl(e)):t=!1,yi(e,r),Km(e,n,a),Wu(e,n,a,r),Zu(null,e,n,!0,t,r);case 19:return ax(t,e,r);case 22:return ex(t,e,r)}throw Error(B(156,e.tag))};function wx(t,e){return Xp(t,e)}function jy(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,r,n){return new jy(t,e,r,n)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Iy(t){if(typeof t=="function")return Pf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jd)return 11;if(t===ef)return 14}return 2}function ra(t,e){var r=t.alternate;return r===null?(r=Ar(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function tl(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")Pf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ei:return Pa(r.children,a,i,e);case qd:s=8,a|=8;break;case mu:return t=Ar(12,r,e,a|2),t.elementType=mu,t.lanes=i,t;case xu:return t=Ar(13,r,e,a),t.elementType=xu,t.lanes=i,t;case vu:return t=Ar(19,r,e,a),t.elementType=vu,t.lanes=i,t;case Tp:return nc(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jp:s=10;break e;case Ip:s=9;break e;case Jd:s=11;break e;case ef:s=14;break e;case Mn:s=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Ar(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Pa(t,e,r,n){return t=Ar(7,t,n,e),t.lanes=r,t}function nc(t,e,r,n){return t=Ar(22,t,n,e),t.elementType=Tp,t.lanes=r,t.stateNode={isHidden:!1},t}function Yc(t,e,r){return t=Ar(6,t,null,e),t.lanes=r,t}function Kc(t,e,r){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ty(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tc(0),this.expirationTimes=Tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mf(t,e,r,n,a,i,s,o,c){return t=new Ty(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ar(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yf(i),t}function ky(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ja,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function bx(t){if(!t)return ca;t=t._reactInternals;e:{if(Ga(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(ar(r))return bm(t,r,e)}return e}function _x(t,e,r,n,a,i,s,o,c){return t=Mf(r,n,!0,t,a,i,s,o,c),t.context=bx(null),r=t.current,n=Zt(),a=ta(r),i=wn(n,a),i.callback=e??null,Jn(r,i,a),t.current.lanes=a,ao(t,a,n),ir(t,n),t}function ac(t,e,r,n){var a=e.current,i=Zt(),s=ta(a);return r=bx(r),e.context===null?e.context=r:e.pendingContext=r,e=wn(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Jn(a,e,s),t!==null&&(Kr(t,a,s,i),Yo(t,a,s)),s}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Lf(t,e){Sh(t,e),(t=t.alternate)&&Sh(t,e)}function Oy(){return null}var Nx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ff(t){this._internalRoot=t}ic.prototype.render=Ff.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));ac(t,e,null,null)};ic.prototype.unmount=Ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;za(function(){ac(null,t,null,null)}),e[_n]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=em();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Un.length&&e!==0&&e<Un[r].priority;r++);Un.splice(r,0,t),r===0&&rm(t)}};function Bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ah(){}function Ry(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=kl(s);i.call(u)}}var s=_x(e,n,t,0,null,!1,!1,"",Ah);return t._reactRootContainer=s,t[_n]=s.current,Us(t.nodeType===8?t.parentNode:t),za(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=kl(c);o.call(u)}}var c=Mf(t,0,!1,null,null,!1,!1,"",Ah);return t._reactRootContainer=c,t[_n]=c.current,Us(t.nodeType===8?t.parentNode:t),za(function(){ac(e,c,r,n)}),c}function oc(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=kl(s);o.call(c)}}ac(e,s,t,a)}else s=Ry(r,e,t,a,n);return kl(s)}qp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hs(e.pendingLanes);r!==0&&(nf(e,r|1),ir(e,nt()),!(be&6)&&(ji=nt()+500,ma()))}break;case 13:za(function(){var n=Nn(t,1);if(n!==null){var a=Zt();Kr(n,t,1,a)}}),Lf(t,1)}};af=function(t){if(t.tag===13){var e=Nn(t,134217728);if(e!==null){var r=Zt();Kr(e,t,134217728,r)}Lf(t,134217728)}};Jp=function(t){if(t.tag===13){var e=ta(t),r=Nn(t,e);if(r!==null){var n=Zt();Kr(r,t,e,n)}Lf(t,e)}};em=function(){return ke};tm=function(t,e){var r=ke;try{return ke=t,e()}finally{ke=r}};Au=function(t,e,r){switch(e){case"input":if(wu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Ql(n);if(!a)throw Error(B(90));Op(n),wu(n,a)}}}break;case"textarea":Dp(t,r);break;case"select":e=r.value,e!=null&&mi(t,!!r.multiple,e,!1)}};zp=Of;Vp=za;var Dy={usingClientEntryPoint:!1,Events:[so,ai,Ql,Bp,Up,Of]},qi={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Py={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wp(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||Oy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{Xl=ko.inject(Py),cn=ko}catch{}}xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dy;xr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bf(e))throw Error(B(200));return ky(t,e,null,r)};xr.createRoot=function(t,e){if(!Bf(t))throw Error(B(299));var r=!1,n="",a=Nx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Mf(t,1,!1,null,null,r,!1,n,a),t[_n]=e.current,Us(t.nodeType===8?t.parentNode:t),new Ff(e)};xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Wp(e),t=t===null?null:t.stateNode,t};xr.flushSync=function(t){return za(t)};xr.hydrate=function(t,e,r){if(!sc(e))throw Error(B(200));return oc(null,t,e,!0,r)};xr.hydrateRoot=function(t,e,r){if(!Bf(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=Nx;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=_x(e,null,t,1,r??null,a,!1,i,s),t[_n]=e.current,Us(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new ic(e)};xr.render=function(t,e,r){if(!sc(e))throw Error(B(200));return oc(null,t,e,!1,r)};xr.unmountComponentAtNode=function(t){if(!sc(t))throw Error(B(40));return t._reactRootContainer?(za(function(){oc(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1};xr.unstable_batchedUpdates=Of;xr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!sc(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return oc(t,e,r,!1,n)};xr.version="18.3.1-next-f1338f8080-20240426";function Ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ex)}catch(t){console.error(t)}}Ex(),Ep.exports=xr;var My=Ep.exports,Cx,jh=My;Cx=jh.createRoot,jh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ys.apply(this,arguments)}var Gn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gn||(Gn={}));const Ih="popstate";function Ly(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return sd("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ol(a)}return By(e,r,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fy(){return Math.random().toString(36).substr(2,8)}function Th(t,e){return{usr:t.state,key:t.key,idx:e}}function sd(t,e,r,n){return r===void 0&&(r=null),Ys({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:r,key:e&&e.key||n||Fy()})}function Ol(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function zi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function By(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Gn.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Ys({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Gn.Pop;let y=d(),g=y==null?null:y-u;u=y,c&&c({action:o,location:v.location,delta:g})}function h(y,g){o=Gn.Push;let x=sd(v.location,y,g);r&&r(x,y),u=d()+1;let w=Th(x,u),b=v.createHref(x);try{s.pushState(w,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(b)}i&&c&&c({action:o,location:v.location,delta:1})}function p(y,g){o=Gn.Replace;let x=sd(v.location,y,g);r&&r(x,y),u=d();let w=Th(x,u),b=v.createHref(x);s.replaceState(w,"",b),i&&c&&c({action:o,location:v.location,delta:0})}function m(y){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:Ol(y);return x=x.replace(/ $/,"%20"),at(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let v={get action(){return o},get location(){return t(a,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ih,f),c=y,()=>{a.removeEventListener(Ih,f),c=null}},createHref(y){return e(a,y)},createURL:m,encodeLocation(y){let g=m(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return s.go(y)}};return v}var kh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kh||(kh={}));function Uy(t,e,r){return r===void 0&&(r="/"),zy(t,e,r,!1)}function zy(t,e,r,n){let a=typeof e=="string"?zi(e):e,i=Uf(a.pathname||"/",r);if(i==null)return null;let s=Ax(t);Vy(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=Jy(i);o=Qy(s[c],u,n)}return o}function Ax(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=na([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ax(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Yy(u,i.index),routesMeta:d})};return t.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of jx(i.path))a(i,s,c)}),e}function jx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=jx(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Vy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Ky(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $y=/^:[\w-]+$/,Hy=3,Wy=2,Gy=1,Xy=10,Zy=-2,Oh=t=>t==="*";function Yy(t,e){let r=t.split("/"),n=r.length;return r.some(Oh)&&(n+=Zy),e&&(n+=Wy),r.filter(a=>!Oh(a)).reduce((a,i)=>a+($y.test(i)?Hy:i===""?Gy:Xy),n)}function Ky(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Qy(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Rh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Rh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:na([i,f.pathname]),pathnameBase:nw(na([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=na([i,f.pathnameBase]))}return s}function Rh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=qy(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=o[f]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function qy(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Sx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Jy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ew(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?zi(t):t;return{pathname:r?r.startsWith("/")?r:tw(r,e):e,search:aw(n),hash:iw(a)}}function tw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Qc(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zf(t,e){let r=rw(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Vf(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=zi(t):(a=Ys({},t),at(!a.pathname||!a.pathname.includes("?"),Qc("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Qc("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Qc("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=ew(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const na=t=>t.join("/").replace(/\/\/+/g,"/"),nw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ix=["post","put","patch","delete"];new Set(Ix);const ow=["get",...Ix];new Set(ow);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ks.apply(this,arguments)}const $f=C.createContext(null),lw=C.createContext(null),xa=C.createContext(null),lc=C.createContext(null),jn=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Tx=C.createContext(null);function cw(t,e){let{relative:r}=e===void 0?{}:e;Vi()||at(!1);let{basename:n,navigator:a}=C.useContext(xa),{hash:i,pathname:s,search:o}=Ox(t,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:na([n,s])),a.createHref({pathname:c,search:o,hash:i})}function Vi(){return C.useContext(lc)!=null}function va(){return Vi()||at(!1),C.useContext(lc).location}function kx(t){C.useContext(xa).static||C.useLayoutEffect(t)}function Dr(){let{isDataRoute:t}=C.useContext(jn);return t?_w():uw()}function uw(){Vi()||at(!1);let t=C.useContext($f),{basename:e,future:r,navigator:n}=C.useContext(xa),{matches:a}=C.useContext(jn),{pathname:i}=va(),s=JSON.stringify(zf(a,r.v7_relativeSplatPath)),o=C.useRef(!1);return kx(()=>{o.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Vf(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:na([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}function ga(){let{matches:t}=C.useContext(jn),e=t[t.length-1];return e?e.params:{}}function Ox(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(xa),{matches:a}=C.useContext(jn),{pathname:i}=va(),s=JSON.stringify(zf(a,n.v7_relativeSplatPath));return C.useMemo(()=>Vf(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function dw(t,e){return fw(t,e)}function fw(t,e,r,n){Vi()||at(!1);let{navigator:a}=C.useContext(xa),{matches:i}=C.useContext(jn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=va(),d;if(e){var f;let y=typeof e=="string"?zi(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||at(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=Uy(t,{pathname:p}),v=vw(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:na([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:na([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&v?C.createElement(lc.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gn.Pop}},v):v}function hw(){let t=bw(),e=sw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:a},r):null,i)}const pw=C.createElement(hw,null);class mw extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(jn.Provider,{value:this.props.routeContext},C.createElement(Tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xw(t){let{routeContext:e,match:r,children:n}=t,a=C.useContext($f);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(jn.Provider,{value:e},n)}function vw(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||at(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,v=null,y=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||pw,c&&(u<0&&h===0?(Nw("route-fallback",!1),m=!0,y=null):u===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),x=()=>{let w;return p?w=v:m?w=y:f.route.Component?w=C.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,C.createElement(xw,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(mw,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Rx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Rx||{}),Rl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rl||{});function gw(t){let e=C.useContext($f);return e||at(!1),e}function yw(t){let e=C.useContext(lw);return e||at(!1),e}function ww(t){let e=C.useContext(jn);return e||at(!1),e}function Dx(t){let e=ww(),r=e.matches[e.matches.length-1];return r.route.id||at(!1),r.route.id}function bw(){var t;let e=C.useContext(Tx),r=yw(Rl.UseRouteError),n=Dx(Rl.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function _w(){let{router:t}=gw(Rx.UseNavigateStable),e=Dx(Rl.UseNavigateStable),r=C.useRef(!1);return kx(()=>{r.current=!0}),C.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Ks({fromRouteId:e},i)))},[t,e])}const Dh={};function Nw(t,e,r){!e&&!Dh[t]&&(Dh[t]=!0)}function Ew(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function aa(t){let{to:e,replace:r,state:n,relative:a}=t;Vi()||at(!1);let{future:i,static:s}=C.useContext(xa),{matches:o}=C.useContext(jn),{pathname:c}=va(),u=Dr(),d=Vf(e,zf(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function it(t){at(!1)}function Cw(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Gn.Pop,navigator:i,static:s=!1,future:o}=t;Vi()&&at(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:s,future:Ks({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=zi(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,v=C.useMemo(()=>{let y=Uf(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:a}},[c,d,f,h,p,m,a]);return v==null?null:C.createElement(xa.Provider,{value:u},C.createElement(lc.Provider,{children:r,value:v}))}function Sw(t){let{children:e,location:r}=t;return dw(od(e),r)}new Promise(()=>{});function od(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,a)=>{if(!C.isValidElement(n))return;let i=[...e,a];if(n.type===C.Fragment){r.push.apply(r,od(n.props.children,i));return}n.type!==it&&at(!1),!n.props.index||!n.props.children||at(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=od(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}function Aw(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function jw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Iw(t,e){return t.button===0&&(!e||e==="_self")&&!jw(t)}const Tw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kw="6";try{window.__reactRouterVersion=kw}catch{}const Ow="startTransition",Ph=Cg[Ow];function Rw(t){let{basename:e,children:r,future:n,window:a}=t,i=C.useRef();i.current==null&&(i.current=Ly({window:a,v5Compat:!0}));let s=i.current,[o,c]=C.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=C.useCallback(f=>{u&&Ph?Ph(()=>c(f)):c(f)},[c,u]);return C.useLayoutEffect(()=>s.listen(d),[s,d]),C.useEffect(()=>Ew(n),[n]),C.createElement(Cw,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=C.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=Aw(e,Tw),{basename:p}=C.useContext(xa),m,v=!1;if(typeof u=="string"&&Pw.test(u)&&(m=u,Dw))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=Uf(b.pathname,p);b.origin===w.origin&&E!=null?u=E+b.search+b.hash:v=!0}catch{}let y=cw(u,{relative:a}),g=Mw(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||g(w)}return C.createElement("a",ld({},h,{href:m||y,onClick:v||i?n:x,ref:r,target:c}))});var Mh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Mh||(Mh={}));var Lh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lh||(Lh={}));function Mw(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=e===void 0?{}:e,c=Dr(),u=va(),d=Ox(t,{relative:s});return C.useCallback(f=>{if(Iw(f,r)){f.preventDefault();let h=n!==void 0?n:Ol(u)===Ol(d);c(t,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,a,r,t,i,s,o])}let Lw={data:""},Fw=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Lw,Bw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Uw=/\/\*[^]*?\*\/|  +/g,Fh=/\n+/g,Vn=(t,e)=>{let r="",n="",a="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+s+";":n+=i[1]=="f"?Vn(s,i):i+"{"+Vn(s,i[1]=="k"?"":e)+"}":typeof s=="object"?n+=Vn(s,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Vn.p?Vn.p(i,s):i+":"+s+";")}return r+(e&&a?e+"{"+a+"}":a)+n},hn={},Px=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Px(t[r]);return e}return t},zw=(t,e,r,n,a)=>{let i=Px(t),s=hn[i]||(hn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!hn[s]){let c=i!==t?t:(u=>{let d,f,h=[{}];for(;d=Bw.exec(u.replace(Uw,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Fh," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Fh," ").trim();return h[0]})(t);hn[s]=Vn(a?{["@keyframes "+s]:c}:c,r?"":"."+s)}let o=r&&hn.g?hn.g:null;return r&&(hn.g=hn[s]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(hn[s],e,n,o),s},Vw=(t,e,r)=>t.reduce((n,a,i)=>{let s=e[i];if(s&&s.call){let o=s(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=c?"."+c:o&&typeof o=="object"?o.props?"":Vn(o,""):o===!1?"":o}return n+a+(s??"")},"");function cc(t){let e=this||{},r=t.call?t(e.p):t;return zw(r.unshift?r.raw?Vw(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,Fw(e.target),e.g,e.o,e.k)}let Mx,cd,ud;cc.bind({g:1});let Cn=cc.bind({k:1});function $w(t,e,r,n){Vn.p=e,Mx=t,cd=r,ud=n}function ya(t,e){let r=this||{};return function(){let n=arguments;function a(i,s){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:cd&&cd()},o),r.o=/ *go\d+/.test(c),o.className=cc.apply(r,n)+(c?" "+c:""),e&&(o.ref=s);let u=t;return t[0]&&(u=o.as||t,delete o.as),ud&&u[0]&&ud(o),Mx(u,o)}return e?e(a):a}}var Hw=t=>typeof t=="function",Dl=(t,e)=>Hw(t)?t(e):t,Ww=(()=>{let t=0;return()=>(++t).toString()})(),Lx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Gw=20,Hf="default",Fx=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Fx(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(s=>s.id===a||a===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},rl=[],Bx={toasts:[],pausedAt:void 0,settings:{toastLimit:Gw}},sn={},Ux=(t,e=Hf)=>{sn[e]=Fx(sn[e]||Bx,t),rl.forEach(([r,n])=>{r===e&&n(sn[e])})},zx=t=>Object.keys(sn).forEach(e=>Ux(t,e)),Xw=t=>Object.keys(sn).find(e=>sn[e].toasts.some(r=>r.id===t)),uc=(t=Hf)=>e=>{Ux(e,t)},Zw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Yw=(t={},e=Hf)=>{let[r,n]=C.useState(sn[e]||Bx),a=C.useRef(sn[e]);C.useEffect(()=>(a.current!==sn[e]&&n(sn[e]),rl.push([e,n]),()=>{let s=rl.findIndex(([o])=>o===e);s>-1&&rl.splice(s,1)}),[e]);let i=r.toasts.map(s=>{var o,c,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((c=t[s.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Zw[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...r,toasts:i}},Kw=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Ww()}),lo=t=>(e,r)=>{let n=Kw(e,t,r);return uc(n.toasterId||Xw(n.id))({type:2,toast:n}),n.id},rt=(t,e)=>lo("blank")(t,e);rt.error=lo("error");rt.success=lo("success");rt.loading=lo("loading");rt.custom=lo("custom");rt.dismiss=(t,e)=>{let r={type:3,toastId:t};e?uc(e)(r):zx(r)};rt.dismissAll=t=>rt.dismiss(void 0,t);rt.remove=(t,e)=>{let r={type:4,toastId:t};e?uc(e)(r):zx(r)};rt.removeAll=t=>rt.remove(void 0,t);rt.promise=(t,e,r)=>{let n=rt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?Dl(e.success,a):void 0;return i?rt.success(i,{id:n,...r,...r==null?void 0:r.success}):rt.dismiss(n),a}).catch(a=>{let i=e.error?Dl(e.error,a):void 0;i?rt.error(i,{id:n,...r,...r==null?void 0:r.error}):rt.dismiss(n)}),t};var Qw=1e3,qw=(t,e="default")=>{let{toasts:r,pausedAt:n}=Yw(t,e),a=C.useRef(new Map).current,i=C.useCallback((f,h=Qw)=>{if(a.has(f))return;let p=setTimeout(()=>{a.delete(f),s({type:4,toastId:f})},h);a.set(f,p)},[]);C.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&rt.dismiss(p.id);return}return setTimeout(()=>rt.dismiss(p.id,e),m)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,e]);let s=C.useCallback(uc(e),[e]),o=C.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=C.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),u=C.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),d=C.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:v}=h||{},y=r.filter(w=>(w.position||v)===(f.position||v)&&w.height),g=y.findIndex(w=>w.id===f.id),x=y.filter((w,b)=>b<g&&w.visible).length;return y.filter(w=>w.visible).slice(...p?[x+1]:[0,x]).reduce((w,b)=>w+(b.height||0)+m,0)},[r]);return C.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},Jw=Cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,e3=Cn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t3=Cn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,r3=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${e3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${t3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,n3=Cn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,a3=ya("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${n3} 1s linear infinite;
`,i3=Cn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,s3=Cn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,o3=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${i3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${s3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,l3=ya("div")`
  position: absolute;
`,c3=ya("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,u3=Cn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,d3=ya("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${u3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,f3=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?C.createElement(d3,null,e):e:r==="blank"?null:C.createElement(c3,null,C.createElement(a3,{...n}),r!=="loading"&&C.createElement(l3,null,r==="error"?C.createElement(r3,{...n}):C.createElement(o3,{...n})))},h3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,p3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,m3="0%{opacity:0;} 100%{opacity:1;}",x3="0%{opacity:1;} 100%{opacity:0;}",v3=ya("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,g3=ya("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,y3=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=Lx()?[m3,x3]:[h3(r),p3(r)];return{animation:e?`${Cn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},w3=C.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?y3(t.position||e||"top-center",t.visible):{opacity:0},i=C.createElement(f3,{toast:t}),s=C.createElement(g3,{...t.ariaProps},Dl(t.message,t));return C.createElement(v3,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:s}):C.createElement(C.Fragment,null,i,s))});$w(C.createElement);var b3=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let i=C.useCallback(s=>{if(s){let o=()=>{let c=s.getBoundingClientRect().height;n(t,c)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return C.createElement("div",{ref:i,className:e,style:r},a)},_3=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},N3=cc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oo=16,E3=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:s,containerClassName:o})=>{let{toasts:c,handlers:u}=qw(r,i);return C.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Oo,left:Oo,right:Oo,bottom:Oo,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),p=_3(f,h);return C.createElement(b3,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?N3:"",style:p},d.type==="custom"?Dl(d.message,d):a?a(d):C.createElement(w3,{toast:d,position:f}))}))},Ji=rt,C3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const S3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ie=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:o,...c},u)=>C.createElement("svg",{ref:u,...C3,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:`lucide lucide-${S3(t)}`,...c},[...e.map(([d,f])=>C.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r},ua=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),A3=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Wf=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Bh=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Xn=ie("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),dd=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j3=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),I3=ie("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Ut=ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Uh=ie("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),zh=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),$i=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),qc=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),T3=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),k3=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),O3=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Va=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Jc=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Vh=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),dc=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Vx=ie("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Pl=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pt=ie("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),R3=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),eu=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),fd=ie("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),$h=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ta=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),co=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),D3=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),P3=ie("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),M3=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),di=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qs=ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),L3=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Gf=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qs=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Xf=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),tu=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),$x=ie("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Ii=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),F3=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),B3=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),hd=ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),U3=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),pd=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Rr=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ml=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Js=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hh=t=>{let e;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(m=>m(e,p))}},a=()=>e,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{r.clear()}},u=e=t(n,a,c);return c},z3=t=>t?Hh(t):Hh;var Hx={exports:{}},Wx={},Gx={exports:{}},Xx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=C;function V3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $3=typeof Object.is=="function"?Object.is:V3,H3=Ti.useState,W3=Ti.useEffect,G3=Ti.useLayoutEffect,X3=Ti.useDebugValue;function Z3(t,e){var r=e(),n=H3({inst:{value:r,getSnapshot:e}}),a=n[0].inst,i=n[1];return G3(function(){a.value=r,a.getSnapshot=e,ru(a)&&i({inst:a})},[t,r,e]),W3(function(){return ru(a)&&i({inst:a}),t(function(){ru(a)&&i({inst:a})})},[t]),X3(r),r}function ru(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$3(t,r)}catch{return!0}}function Y3(t,e){return e()}var K3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Y3:Z3;Xx.useSyncExternalStore=Ti.useSyncExternalStore!==void 0?Ti.useSyncExternalStore:K3;Gx.exports=Xx;var Q3=Gx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=C,q3=Q3;function J3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var e4=typeof Object.is=="function"?Object.is:J3,t4=q3.useSyncExternalStore,r4=fc.useRef,n4=fc.useEffect,a4=fc.useMemo,i4=fc.useDebugValue;Wx.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var i=r4(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=a4(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,e4(d,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(d=p,m):(d=p,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,a]);var o=t4(t,i[0],i[1]);return n4(function(){s.hasValue=!0,s.value=o},[o]),i4(o),o};Hx.exports=Wx;var s4=Hx.exports;const o4=Hd(s4),{useDebugValue:l4}=de,{useSyncExternalStoreWithSelector:c4}=o4;const u4=t=>t;function d4(t,e=u4,r){const n=c4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return l4(n),n}const Wh=t=>{const e=typeof t=="function"?z3(t):t,r=(n,a)=>d4(e,n,a);return Object.assign(r,e),r},Zf=t=>t?Wh(t):Wh;function f4(t,e){let r;try{r=t()}catch{return}return{getItem:a=>{var i;const s=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,e==null?void 0:e.replacer)),removeItem:a=>r.removeItem(a)}}const eo=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return eo(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return eo(n)(r)}}}},h4=(t,e)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,g)=>({...g,...y}),...e},s=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},n,a);const d=eo(i.serialize),f=()=>{const y=i.partialize({...n()});let g;const x=d({state:y,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{g=w});if(g)throw g;return x},h=a.setState;a.setState=(y,g)=>{h(y,g),f()};const p=t((...y)=>{r(...y),f()},n,a);let m;const v=()=>{var y;if(!u)return;s=!1,o.forEach(x=>x(n()));const g=((y=i.onRehydrateStorage)==null?void 0:y.call(i,n()))||void 0;return eo(u.getItem.bind(u))(i.name).then(x=>{if(x)return i.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return i.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var w;return m=i.merge(x,(w=n())!=null?w:p),r(m,!0),f()}).then(()=>{g==null||g(m,void 0),s=!0,c.forEach(x=>x(m))}).catch(x=>{g==null||g(void 0,x)})};return a.persist={setOptions:y=>{i={...i,...y},y.getStorage&&(u=y.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},v(),m||p},p4=(t,e)=>(r,n,a)=>{let i={storage:f4(()=>localStorage),partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...e},s=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,a);const d=()=>{const v=i.partialize({...n()});return u.setItem(i.name,{state:v,version:i.version})},f=a.setState;a.setState=(v,y)=>{f(v,y),d()};const h=t((...v)=>{r(...v),d()},n,a);a.getInitialState=()=>h;let p;const m=()=>{var v,y;if(!u)return;s=!1,o.forEach(x=>{var w;return x((w=n())!=null?w:h)});const g=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(v=n())!=null?v:h))||void 0;return eo(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return[!0,i.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var w;const[b,E]=x;if(p=i.merge(E,(w=n())!=null?w:h),r(p,!0),b)return d()}).then(()=>{g==null||g(p,void 0),p=n(),s=!0,c.forEach(x=>x(p))}).catch(x=>{g==null||g(void 0,x)})};return a.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},i.skipHydration||m(),p||h},m4=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?h4(t,e):p4(t,e),x4=m4,v4=t=>{if(!t||typeof t!="string")return!1;const e=t.split(".");if(e.length!==3)return!1;try{return e.forEach(r=>{if(!r)throw new Error("Empty part");atob(r.replace(/-/g,"+").replace(/_/g,"/"))}),!0}catch{return!1}},pr=Zf()(x4((t,e)=>({user:null,accessToken:null,isAuthenticated:!1,isLoading:!1,error:null,setAuth:(r,n)=>{t({user:r,accessToken:n,isAuthenticated:!0,error:null})},clearAuth:()=>{t({user:null,accessToken:null,isAuthenticated:!1,error:null})},setLoading:r=>{t({isLoading:r})},setError:r=>{t({error:r})},updateUser:r=>{const n=e().user;n&&t({user:{...n,...r}})},validateToken:()=>{const{accessToken:r}=e();return!r||!v4(r)?(e().clearAuth(),!1):!0}}),{name:"auth-store",partialize:t=>({user:t.user,accessToken:t.accessToken,isAuthenticated:t.isAuthenticated})})),g4="http://localhost:3001/api";class fi extends Error{constructor(e,r,n){super(n||r.error||"An error occurred"),this.status=e,this.response=r,this.name="ApiError"}}class y4{constructor(e=g4){y0(this,"baseURL");this.baseURL=e}async request(e,r={}){const n=`${this.baseURL}${e}`,a={headers:{"Content-Type":"application/json",...r.headers},credentials:"include",...r},i=this.getStoredToken();i?(a.headers.Authorization=`Bearer ${i}`,console.log(" Request with token for:",e)):console.log(" No token found for request:",e);try{console.log(" Making request to:",n),console.log(" Headers:",a.headers);const s=await fetch(n,a),o=await s.json();if(!s.ok)throw console.log(" Request failed:",s.status,o),s.status===401&&o.code==="TOKEN_EXPIRED"?(console.log(" Token expired, clearing auth and redirecting to login"),this.handleTokenExpiration(),new fi(s.status,{...o,shouldRedirectToLogin:!0})):new fi(s.status,o);return console.log(" Request successful:",o),o}catch(s){throw s instanceof fi?s:new fi(0,{success:!1,error:"Network error or server unavailable"})}}getStoredToken(){var e;try{const r=pr.getState();if(r.accessToken)return console.log("Retrieved token from store state: Token exists"),r.accessToken;const n=localStorage.getItem("auth-store");if(n){const a=JSON.parse(n),i=((e=a.state)==null?void 0:e.accessToken)||a.accessToken||null;return console.log("Retrieved token from localStorage:",i?"Token exists":"No token found"),i}}catch(r){console.error("Error retrieving token:",r)}return console.log("No token found in store or localStorage"),null}handleTokenExpiration(){console.log(" Handling token expiration");const e=pr.getState();e.clearAuth(),e.setError("Your session has expired. Please log in again."),setTimeout(()=>{window.location.href="/login"},1e3)}async get(e){return this.request(e,{method:"GET"})}async post(e,r){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(e,r){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}}const De=new y4;class es{static async login(e){return De.post("/auth/login",e)}static async register(e){return De.post("/auth/register",e)}static async logout(){return De.post("/auth/logout")}static async refreshToken(){return De.post("/auth/refresh")}static async getProfile(){return De.get("/auth/profile")}static isAuthenticated(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.isAuthenticated)||!1}catch{}return!1}static getCurrentUser(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.user)||null}catch{}return null}static getAccessToken(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.accessToken)||null}catch{}return null}}const qr=()=>{const t=Dr(),{user:e,isAuthenticated:r,isLoading:n,error:a,setAuth:i,clearAuth:s,setLoading:o,setError:c,updateUser:u}=pr(),d=C.useCallback(async v=>{try{o(!0),c(null);const y=await es.login(v);if(y.success&&y.data)return i(y.data.user,y.data.accessToken),Ji.success("Login successful!"),t("/dashboard"),!0;throw new Error(y.error||"Login failed")}catch(y){let g="An unexpected error occurred";return y instanceof fi?y.status===401?g="Invalid email or password. Please check your credentials and try again.":y.status===403?g="Your account has been disabled. Please contact support for assistance.":y.status===429?g="Too many login attempts. Please wait a few minutes and try again.":y.status===500?g="Server error occurred. Please try again in a few moments.":g=y.response.error||"Login failed. Please check your credentials.":y instanceof Error&&(y.message.includes("network")||y.message.includes("fetch")?g="Unable to connect to the server. Please check your internet connection.":g=y.message||"Login failed. Please try again."),c(g),Ji.error(g),!1}finally{o(!1)}},[i,o,c,t]),f=C.useCallback(async v=>{var y,g,x;try{o(!0),c(null);const w=await es.register(v);if(w.success&&w.data)return i(w.data.user,w.data.accessToken),Ji.success("Account created successfully!"),t("/dashboard"),!0;throw new Error(w.error||"Registration failed")}catch(w){let b="An unexpected error occurred";return w instanceof fi?w.status===409?b="An account with this email already exists. Please try logging in instead.":w.status===400?(y=w.response.error)!=null&&y.includes("email")?b="Please provide a valid email address.":(g=w.response.error)!=null&&g.includes("password")?b="Password must be at least 8 characters long.":(x=w.response.error)!=null&&x.includes("name")?b="Please provide your full name.":b=w.response.error||"Please check your information and try again.":w.status===500?b="Server error occurred. Please try again in a few moments.":b=w.response.error||"Registration failed. Please try again.":w instanceof Error&&(w.message.includes("network")||w.message.includes("fetch")?b="Unable to connect to the server. Please check your internet connection.":b=w.message||"Registration failed. Please try again."),c(b),Ji.error(b),!1}finally{o(!1)}},[i,o,c,t]),h=C.useCallback(async()=>{try{o(!0),await es.logout(),s(),Ji.success("Logged out successfully"),t("/")}catch{s(),t("/")}finally{o(!1)}},[s,o,t]),p=C.useCallback(async()=>{try{const v=await es.refreshToken();if(v.success&&v.data){const y=pr.getState().user;return y&&i(y,v.data.accessToken),!0}else throw new Error("Token refresh failed")}catch{return s(),t("/login"),!1}},[i,s,t]),m=C.useCallback(async()=>{try{o(!0);const v=await es.getProfile();v.success&&v.data?u(v.data.user):s()}catch{await p()||s()}finally{o(!1)}},[u,s,p,o]);return{user:e,isAuthenticated:r,isLoading:n,error:a,login:d,register:f,logout:h,refreshToken:p,checkAuthStatus:m,isOrganizer:(e==null?void 0:e.role)==="organizer"||(e==null?void 0:e.role)==="admin",isAdmin:(e==null?void 0:e.role)==="admin",clearError:()=>c(null)}},w4=({children:t})=>{const e=va(),[r,n]=de.useState(!1),{user:a,isAuthenticated:i,logout:s}=qr(),o=[{name:"Events",href:"/events",icon:Rr}],c=[{name:"Dashboard",href:"/dashboard",icon:I3}],u=(a==null?void 0:a.role)==="participant"?[{name:"My Registrations",href:"/my-registrations",icon:hd}]:[],d=(a==null?void 0:a.role)==="organizer"||(a==null?void 0:a.role)==="admin"?[{name:"QR Scanner",href:"/scanner",icon:Qs},{name:"Certificates",href:"/certificates",icon:Xn}]:[],f=[...c,...u,...d],h=i?[...o,...f]:o,p=["/login","/register"].includes(e.pathname),m=e.pathname==="/";return p?l.jsx("div",{className:"min-h-screen bg-gray-50",children:t}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("nav",{className:"bg-white shadow-sm border-b",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",children:l.jsx(se,{to:"/",className:"text-2xl font-bold text-primary-600",children:"EventPro"})}),l.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:h.map(v=>{const y=v.icon,g=e.pathname.startsWith(v.href);return o.includes(v)||i&&!m&&f.includes(v)?l.jsxs(se,{to:v.href,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${g?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[l.jsx(y,{className:"w-4 h-4 mr-2"}),v.name]},v.name):null})})]}),l.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:m||!i?l.jsxs("div",{className:"space-x-4",children:[l.jsx(se,{to:"/login",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Sign in"}),l.jsx(se,{to:"/register",className:"btn btn-primary",children:"Get Started"})]}):l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[l.jsx(pd,{className:"w-4 h-4"}),l.jsx("span",{children:a==null?void 0:a.name}),l.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:a==null?void 0:a.role})]}),l.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 text-red-600",title:"Sign out",children:l.jsx($h,{className:"w-5 h-5"})})]})}),l.jsx("div",{className:"sm:hidden flex items-center",children:l.jsx("button",{onClick:()=>n(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:r?l.jsx(Js,{className:"w-6 h-6"}):l.jsx(D3,{className:"w-6 h-6"})})})]})}),r&&l.jsxs("div",{className:"sm:hidden",children:[l.jsx("div",{className:"pt-2 pb-3 space-y-1",children:h.map(v=>{const y=v.icon,g=e.pathname.startsWith(v.href);return o.includes(v)||i&&!m&&f.includes(v)?l.jsxs(se,{to:v.href,className:`flex items-center px-3 py-2 border-l-4 text-base font-medium ${g?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:()=>n(!1),children:[l.jsx(y,{className:"w-5 h-5 mr-3"}),v.name]},v.name):null})}),m?l.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center px-4 space-y-2",children:[l.jsx(se,{to:"/login",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900",onClick:()=>n(!1),children:"Sign in"}),l.jsx(se,{to:"/register",className:"block btn-primary w-full text-center",onClick:()=>n(!1),children:"Get Started"})]})}):l.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center px-4 space-x-3",children:[l.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:l.jsx(pd,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 text-red-600",children:l.jsx($h,{className:"w-5 h-5"})})]})})]})]}),l.jsx("main",{className:"flex-1",children:t}),l.jsx("footer",{className:"bg-white border-t",children:l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"text-center text-gray-500",children:l.jsxs("p",{children:[" ",new Date().getFullYear()," EventPro. All rights reserved."]})})})})]})},or=({children:t,requireOrganizer:e=!1,requireAdmin:r=!1})=>{const{isAuthenticated:n,user:a,isLoading:i}=qr(),s=va();return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?r&&(a==null?void 0:a.role)!=="admin"?l.jsx(aa,{to:"/dashboard",replace:!0}):e&&!["organizer","admin"].includes((a==null?void 0:a.role)||"")?l.jsx(aa,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(aa,{to:"/login",state:{from:s},replace:!0})},b4=()=>{const t=[{icon:Ut,title:"Easy Event Creation",description:"Create and manage events with our intuitive event creation wizard."},{icon:Rr,title:"Flexible Registration",description:"Build custom registration forms with drag-and-drop form builder."},{icon:Qs,title:"QR Code Attendance",description:"Track attendance with QR code scanning for seamless check-ins."},{icon:Xn,title:"Digital Certificates",description:"Generate and distribute certificates automatically to attendees."}],e=["Create unlimited events","Custom registration forms","Real-time attendance tracking","Automated certificate generation","Payment integration","Analytics dashboard"];return l.jsxs("div",{children:[l.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Manage Events Like a Pro"}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Complete event management platform with registration, attendance tracking, and certificate generation - all in one place."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(se,{to:"/events",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:["Browse Events",l.jsx(Bh,{className:"w-5 h-5 ml-2"})]}),l.jsx(se,{to:"/register",className:"border border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:"Get Started Free"})]})]})})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From creation to certification, we've got every aspect of event management covered."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,n)=>{const a=r.icon;return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(a,{className:"w-8 h-8 text-primary-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600",children:r.description})]},n)})})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Why choose EventPro?"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Our platform is designed to streamline every aspect of event management, from initial planning to post-event certificate distribution."}),l.jsx("div",{className:"space-y-4",children:e.map((r,n)=>l.jsxs("div",{className:"flex items-start",children:[l.jsx($i,{className:"w-6 h-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:r})]},n))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to get started?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Join thousands of event organizers who trust EventPro to manage their events."}),l.jsx(se,{to:"/register",className:"btn btn-primary w-full text-center block",children:"Start Your Free Trial"})]})]})})}),l.jsx("section",{className:"bg-primary-600 text-white py-20",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to revolutionize your event management?"}),l.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Start managing your events professionally with our comprehensive platform."}),l.jsxs(se,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center",children:["Get Started Now",l.jsx(Bh,{className:"w-5 h-5 ml-2"})]})]})})]})};var uo=t=>t.type==="checkbox",ka=t=>t instanceof Date,Xt=t=>t==null;const Zx=t=>typeof t=="object";var ct=t=>!Xt(t)&&!Array.isArray(t)&&Zx(t)&&!ka(t),_4=t=>ct(t)&&t.target?uo(t.target)?t.target.checked:t.target.value:t,N4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,E4=(t,e)=>t.has(N4(e)),C4=t=>{const e=t.constructor&&t.constructor.prototype;return ct(e)&&e.hasOwnProperty("isPrototypeOf")},Yf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Yf&&(t instanceof Blob||n))&&(r||ct(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!C4(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=bt(t[a]));else return t;return e}var hc=t=>/^\w*$/.test(t),ot=t=>t===void 0,Kf=t=>Array.isArray(t)?t.filter(Boolean):[],Qf=t=>Kf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),K=(t,e,r)=>{if(!e||!ct(t))return r;const n=(hc(e)?[e]:Qf(e)).reduce((a,i)=>Xt(a)?a:a[i],t);return ot(n)||n===t?ot(t[e])?r:t[e]:n},rn=t=>typeof t=="boolean",Me=(t,e,r)=>{let n=-1;const a=hc(e)?[e]:Qf(e),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==s){const u=t[o];c=ct(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Gh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},S4=de.createContext(null);S4.displayName="HookFormContext";var A4=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const s=i;return e._proxyFormState[s]!==Hr.all&&(e._proxyFormState[s]=!n||Hr.all),r&&(r[s]=!0),t[s]}});return a};const j4=typeof window<"u"?de.useLayoutEffect:de.useEffect;var ur=t=>typeof t=="string",I4=(t,e,r,n,a)=>ur(t)?(n&&e.watch.add(t),K(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),K(r,i))):(n&&(e.watchAll=!0),r),md=t=>Xt(t)||!Zx(t);function $n(t,e,r=new WeakSet){if(md(t)||md(e))return t===e;if(ka(t)&&ka(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const s=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ka(s)&&ka(o)||ct(s)&&ct(o)||Array.isArray(s)&&Array.isArray(o)?!$n(s,o,r):s!==o)return!1}}return!0}var Yx=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},Is=t=>Array.isArray(t)?t:[t],Xh=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}};function Kx(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const a=t[n],i=e[n];if(a&&ct(a)&&i){const s=Kx(a,i);ct(s)&&(r[n]=s)}else t[n]&&(r[n]=i)}return r}var qt=t=>ct(t)&&!Object.keys(t).length,qf=t=>t.type==="file",Wr=t=>typeof t=="function",Ll=t=>{if(!Yf)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Qx=t=>t.type==="select-multiple",Jf=t=>t.type==="radio",T4=t=>Jf(t)||uo(t),nu=t=>Ll(t)&&t.isConnected;function k4(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ot(t)?n++:t[e[n++]];return t}function O4(t){for(const e in t)if(t.hasOwnProperty(e)&&!ot(t[e]))return!1;return!0}function st(t,e){const r=Array.isArray(e)?e:hc(e)?[e]:Qf(e),n=r.length===1?t:k4(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(ct(n)&&qt(n)||Array.isArray(n)&&O4(n))&&st(t,r.slice(0,-1)),t}var R4=t=>{for(const e in t)if(Wr(t[e]))return!0;return!1};function qx(t){return Array.isArray(t)||ct(t)&&!R4(t)}function xd(t,e={}){for(const r in t)qx(t[r])?(e[r]=Array.isArray(t[r])?[]:{},xd(t[r],e[r])):Xt(t[r])||(e[r]=!0);return e}function Qa(t,e,r){r||(r=xd(e));for(const n in t)qx(t[n])?ot(e)||md(r[n])?r[n]=xd(t[n],Array.isArray(t[n])?[]:{}):Qa(t[n],Xt(e)?{}:e[n],r[n]):r[n]=!$n(t[n],e[n]);return r}const Zh={value:!1,isValid:!1},Yh={value:!0,isValid:!0};var Jx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ot(t[0].attributes.value)?ot(t[0].value)||t[0].value===""?Yh:{value:t[0].value,isValid:!0}:Yh:Zh}return Zh},ev=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ot(t)?t:e?t===""?NaN:t&&+t:r&&ur(t)?new Date(t):n?n(t):t;const Kh={isValid:!1,value:null};var tv=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Kh):Kh;function Qh(t){const e=t.ref;return qf(e)?e.files:Jf(e)?tv(t.refs).value:Qx(e)?[...e.selectedOptions].map(({value:r})=>r):uo(e)?Jx(t.refs).value:ev(ot(e.value)?t.ref.value:e.value,t)}var D4=(t,e,r,n)=>{const a={};for(const i of t){const s=K(e,i);s&&Me(a,i,s._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},Fl=t=>t instanceof RegExp,ts=t=>ot(t)?t:Fl(t)?t.source:ct(t)?Fl(t.value)?t.value.source:t.value:t,qh=t=>({isOnSubmit:!t||t===Hr.onSubmit,isOnBlur:t===Hr.onBlur,isOnChange:t===Hr.onChange,isOnAll:t===Hr.all,isOnTouch:t===Hr.onTouched});const Jh="AsyncFunction";var P4=t=>!!t&&!!t.validate&&!!(Wr(t.validate)&&t.validate.constructor.name===Jh||ct(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Jh)),M4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),e1=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ts=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=K(t,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],a)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Ts(o,e))break}else if(ct(o)&&Ts(o,e))break}}};function t1(t,e,r){const n=K(t,r);if(n||hc(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=K(e,i),o=K(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var L4=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return qt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!n||Hr.all))},F4=(t,e,r)=>!t||!e||t===e||Is(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),B4=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,U4=(t,e)=>!Kf(K(t,e)).length&&st(t,e),z4=(t,e,r)=>{const n=Is(K(t,r));return Me(n,"root",e[r]),Me(t,r,n),t};function r1(t,e,r="validate"){if(ur(t)||Array.isArray(t)&&t.every(ur)||rn(t)&&!t)return{type:r,message:ur(t)?t:"",ref:e}}var Ya=t=>ct(t)&&!Fl(t)?t:{value:t,message:""},n1=async(t,e,r,n,a,i)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:v,valueAsNumber:y,mount:g}=t._f,x=K(r,v);if(!g||e.has(v))return{};const w=o?o[0]:s,b=T=>{a&&w.reportValidity&&(w.setCustomValidity(rn(T)?"":T||""),w.reportValidity())},E={},j=Jf(s),N=uo(s),S=j||N,O=(y||qf(s))&&ot(s.value)&&ot(x)||Ll(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,I=Yx.bind(null,v,n,E),F=(T,M,L,$=pn.maxLength,fe=pn.minLength)=>{const he=T?M:L;E[v]={type:T?$:fe,message:he,ref:s,...I(T?$:fe,he)}};if(i?!Array.isArray(x)||!x.length:c&&(!S&&(O||Xt(x))||rn(x)&&!x||N&&!Jx(o).isValid||j&&!tv(o).isValid)){const{value:T,message:M}=ur(c)?{value:!!c,message:c}:Ya(c);if(T&&(E[v]={type:pn.required,message:M,ref:w,...I(pn.required,M)},!n))return b(M),E}if(!O&&(!Xt(f)||!Xt(h))){let T,M;const L=Ya(h),$=Ya(f);if(!Xt(x)&&!isNaN(x)){const fe=s.valueAsNumber||x&&+x;Xt(L.value)||(T=fe>L.value),Xt($.value)||(M=fe<$.value)}else{const fe=s.valueAsDate||new Date(x),he=Q=>new Date(new Date().toDateString()+" "+Q),U=s.type=="time",ee=s.type=="week";ur(L.value)&&x&&(T=U?he(x)>he(L.value):ee?x>L.value:fe>new Date(L.value)),ur($.value)&&x&&(M=U?he(x)<he($.value):ee?x<$.value:fe<new Date($.value))}if((T||M)&&(F(!!T,L.message,$.message,pn.max,pn.min),!n))return b(E[v].message),E}if((u||d)&&!O&&(ur(x)||i&&Array.isArray(x))){const T=Ya(u),M=Ya(d),L=!Xt(T.value)&&x.length>+T.value,$=!Xt(M.value)&&x.length<+M.value;if((L||$)&&(F(L,T.message,M.message),!n))return b(E[v].message),E}if(p&&!O&&ur(x)){const{value:T,message:M}=Ya(p);if(Fl(T)&&!x.match(T)&&(E[v]={type:pn.pattern,message:M,ref:s,...I(pn.pattern,M)},!n))return b(M),E}if(m){if(Wr(m)){const T=await m(x,r),M=r1(T,w);if(M&&(E[v]={...M,...I(pn.validate,M.message)},!n))return b(M.message),E}else if(ct(m)){let T={};for(const M in m){if(!qt(T)&&!n)break;const L=r1(await m[M](x,r),w,M);L&&(T={...L,...I(M,L.message)},b(L.message),n&&(E[v]=T))}if(!qt(T)&&(E[v]={ref:w,...T},!n))return E}}return b(!0),E};const V4={mode:Hr.onSubmit,reValidateMode:Hr.onChange,shouldFocusError:!0};function $4(t={}){let e={...V4,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=ct(e.defaultValues)||ct(e.values)?bt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:bt(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Xh(),state:Xh()},p=e.criteriaMode===Hr.all,m=A=>R=>{clearTimeout(u),u=setTimeout(A,R)},v=async A=>{if(!e.disabled&&(d.isValid||f.isValid||A)){const R=e.resolver?qt((await N()).errors):await O(n,!0);R!==r.isValid&&h.state.next({isValid:R})}},y=(A,R)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((A||Array.from(o.mount)).forEach(P=>{P&&(R?Me(r.validatingFields,P,R):st(r.validatingFields,P))}),h.state.next({validatingFields:r.validatingFields,isValidating:!qt(r.validatingFields)}))},g=(A,R=[],P,Z,G=!0,H=!0)=>{if(Z&&P&&!e.disabled){if(s.action=!0,H&&Array.isArray(K(n,A))){const re=P(K(n,A),Z.argA,Z.argB);G&&Me(n,A,re)}if(H&&Array.isArray(K(r.errors,A))){const re=P(K(r.errors,A),Z.argA,Z.argB);G&&Me(r.errors,A,re),U4(r.errors,A)}if((d.touchedFields||f.touchedFields)&&H&&Array.isArray(K(r.touchedFields,A))){const re=P(K(r.touchedFields,A),Z.argA,Z.argB);G&&Me(r.touchedFields,A,re)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Qa(a,i)),h.state.next({name:A,isDirty:F(A,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Me(i,A,R)},x=(A,R)=>{Me(r.errors,A,R),h.state.next({errors:r.errors})},w=A=>{r.errors=A,h.state.next({errors:r.errors,isValid:!1})},b=(A,R,P,Z)=>{const G=K(n,A);if(G){const H=K(i,A,ot(P)?K(a,A):P);ot(H)||Z&&Z.defaultChecked||R?Me(i,A,R?H:Qh(G._f)):L(A,H),s.mount&&v()}},E=(A,R,P,Z,G)=>{let H=!1,re=!1;const je={name:A};if(!e.disabled){if(!P||Z){(d.isDirty||f.isDirty)&&(re=r.isDirty,r.isDirty=je.isDirty=F(),H=re!==je.isDirty);const Le=$n(K(a,A),R);re=!!K(r.dirtyFields,A),Le?st(r.dirtyFields,A):Me(r.dirtyFields,A,!0),je.dirtyFields=r.dirtyFields,H=H||(d.dirtyFields||f.dirtyFields)&&re!==!Le}if(P){const Le=K(r.touchedFields,A);Le||(Me(r.touchedFields,A,P),je.touchedFields=r.touchedFields,H=H||(d.touchedFields||f.touchedFields)&&Le!==P)}H&&G&&h.state.next(je)}return H?je:{}},j=(A,R,P,Z)=>{const G=K(r.errors,A),H=(d.isValid||f.isValid)&&rn(R)&&r.isValid!==R;if(e.delayError&&P?(c=m(()=>x(A,P)),c(e.delayError)):(clearTimeout(u),c=null,P?Me(r.errors,A,P):st(r.errors,A)),(P?!$n(G,P):G)||!qt(Z)||H){const re={...Z,...H&&rn(R)?{isValid:R}:{},errors:r.errors,name:A};r={...r,...re},h.state.next(re)}},N=async A=>{y(A,!0);const R=await e.resolver(i,e.context,D4(A||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(A),R},S=async A=>{const{errors:R}=await N(A);if(A)for(const P of A){const Z=K(R,P);Z?Me(r.errors,P,Z):st(r.errors,P)}else r.errors=R;return R},O=async(A,R,P={valid:!0})=>{for(const Z in A){const G=A[Z];if(G){const{_f:H,...re}=G;if(H){const je=o.array.has(H.name),Le=G._f&&P4(G._f);Le&&d.validatingFields&&y([H.name],!0);const br=await n1(G,o.disabled,i,p,e.shouldUseNativeValidation&&!R,je);if(Le&&d.validatingFields&&y([H.name]),br[H.name]&&(P.valid=!1,R))break;!R&&(K(br,H.name)?je?z4(r.errors,br,H.name):Me(r.errors,H.name,br[H.name]):st(r.errors,H.name))}!qt(re)&&await O(re,R,P)}}return P.valid},I=()=>{for(const A of o.unMount){const R=K(n,A);R&&(R._f.refs?R._f.refs.every(P=>!nu(P)):!nu(R._f.ref))&&Jr(A)}o.unMount=new Set},F=(A,R)=>!e.disabled&&(A&&R&&Me(i,A,R),!$n(Q(),a)),T=(A,R,P)=>I4(A,o,{...s.mount?i:ot(R)?a:ur(A)?{[A]:R}:R},P,R),M=A=>Kf(K(s.mount?i:a,A,e.shouldUnregister?K(a,A,[]):[])),L=(A,R,P={})=>{const Z=K(n,A);let G=R;if(Z){const H=Z._f;H&&(!H.disabled&&Me(i,A,ev(R,H)),G=Ll(H.ref)&&Xt(R)?"":R,Qx(H.ref)?[...H.ref.options].forEach(re=>re.selected=G.includes(re.value)):H.refs?uo(H.ref)?H.refs.forEach(re=>{(!re.defaultChecked||!re.disabled)&&(Array.isArray(G)?re.checked=!!G.find(je=>je===re.value):re.checked=G===re.value||!!G)}):H.refs.forEach(re=>re.checked=re.value===G):qf(H.ref)?H.ref.value="":(H.ref.value=G,H.ref.type||h.state.next({name:A,values:bt(i)})))}(P.shouldDirty||P.shouldTouch)&&E(A,G,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&ee(A)},$=(A,R,P)=>{for(const Z in R){if(!R.hasOwnProperty(Z))return;const G=R[Z],H=A+"."+Z,re=K(n,H);(o.array.has(A)||ct(G)||re&&!re._f)&&!ka(G)?$(H,G,P):L(H,G,P)}},fe=(A,R,P={})=>{const Z=K(n,A),G=o.array.has(A),H=bt(R);Me(i,A,H),G?(h.array.next({name:A,values:bt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&P.shouldDirty&&h.state.next({name:A,dirtyFields:Qa(a,i),isDirty:F(A,H)})):Z&&!Z._f&&!Xt(H)?$(A,H,P):L(A,H,P),e1(A,o)&&h.state.next({...r,name:A}),h.state.next({name:s.mount?A:void 0,values:bt(i)})},he=async A=>{s.mount=!0;const R=A.target;let P=R.name,Z=!0;const G=K(n,P),H=Le=>{Z=Number.isNaN(Le)||ka(Le)&&isNaN(Le.getTime())||$n(Le,K(i,P,Le))},re=qh(e.mode),je=qh(e.reValidateMode);if(G){let Le,br;const po=R.type?Qh(G._f):_4(A),Tn=A.type===Gh.BLUR||A.type===Gh.FOCUS_OUT,ag=!M4(G._f)&&!e.resolver&&!K(r.errors,P)&&!G._f.deps||B4(Tn,K(r.touchedFields,P),r.isSubmitted,je,re),Nc=e1(P,o,Tn);Me(i,P,po),Tn?(!R||!R.readOnly)&&(G._f.onBlur&&G._f.onBlur(A),c&&c(0)):G._f.onChange&&G._f.onChange(A);const Ec=E(P,po,Tn),ig=!qt(Ec)||Nc;if(!Tn&&h.state.next({name:P,type:A.type,values:bt(i)}),ag)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Tn&&v():Tn||v()),ig&&h.state.next({name:P,...Nc?{}:Ec});if(!Tn&&Nc&&h.state.next({...r}),e.resolver){const{errors:v0}=await N([P]);if(H(po),Z){const sg=t1(r.errors,n,P),g0=t1(v0,n,sg.name||P);Le=g0.error,P=g0.name,br=qt(v0)}}else y([P],!0),Le=(await n1(G,o.disabled,i,p,e.shouldUseNativeValidation))[P],y([P]),H(po),Z&&(Le?br=!1:(d.isValid||f.isValid)&&(br=await O(n,!0)));Z&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&ee(G._f.deps),j(P,br,Le,Ec))}},U=(A,R)=>{if(K(r.errors,R)&&A.focus)return A.focus(),1},ee=async(A,R={})=>{let P,Z;const G=Is(A);if(e.resolver){const H=await S(ot(A)?A:G);P=qt(H),Z=A?!G.some(re=>K(H,re)):P}else A?(Z=(await Promise.all(G.map(async H=>{const re=K(n,H);return await O(re&&re._f?{[H]:re}:re)}))).every(Boolean),!(!Z&&!r.isValid)&&v()):Z=P=await O(n);return h.state.next({...!ur(A)||(d.isValid||f.isValid)&&P!==r.isValid?{}:{name:A},...e.resolver||!A?{isValid:P}:{},errors:r.errors}),R.shouldFocus&&!Z&&Ts(n,U,A?G:o.mount),Z},Q=(A,R)=>{let P={...s.mount?i:a};return R&&(P=Kx(R.dirtyFields?r.dirtyFields:r.touchedFields,P)),ot(A)?P:ur(A)?K(P,A):A.map(Z=>K(P,Z))},oe=(A,R)=>({invalid:!!K((R||r).errors,A),isDirty:!!K((R||r).dirtyFields,A),error:K((R||r).errors,A),isValidating:!!K(r.validatingFields,A),isTouched:!!K((R||r).touchedFields,A)}),Pe=A=>{A&&Is(A).forEach(R=>st(r.errors,R)),h.state.next({errors:A?r.errors:{}})},Ze=(A,R,P)=>{const Z=(K(n,A,{_f:{}})._f||{}).ref,G=K(r.errors,A)||{},{ref:H,message:re,type:je,...Le}=G;Me(r.errors,A,{...Le,...R,ref:Z}),h.state.next({name:A,errors:r.errors,isValid:!1}),P&&P.shouldFocus&&Z&&Z.focus&&Z.focus()},yr=(A,R)=>Wr(A)?h.state.subscribe({next:P=>"values"in P&&A(T(void 0,R),P)}):T(A,R,!0),In=A=>h.state.subscribe({next:R=>{F4(A.name,R.name,A.exact)&&L4(R,A.formState||d,ng,A.reRenderRoot)&&A.callback({values:{...i},...r,...R,defaultValues:a})}}).unsubscribe,Mr=A=>(s.mount=!0,f={...f,...A.formState},In({...A,formState:f})),Jr=(A,R={})=>{for(const P of A?Is(A):o.mount)o.mount.delete(P),o.array.delete(P),R.keepValue||(st(n,P),st(i,P)),!R.keepError&&st(r.errors,P),!R.keepDirty&&st(r.dirtyFields,P),!R.keepTouched&&st(r.touchedFields,P),!R.keepIsValidating&&st(r.validatingFields,P),!e.shouldUnregister&&!R.keepDefaultValue&&st(a,P);h.state.next({values:bt(i)}),h.state.next({...r,...R.keepDirty?{isDirty:F()}:{}}),!R.keepIsValid&&v()},z=({disabled:A,name:R})=>{(rn(A)&&s.mount||A||o.disabled.has(R))&&(A?o.disabled.add(R):o.disabled.delete(R))},le=(A,R={})=>{let P=K(n,A);const Z=rn(R.disabled)||rn(e.disabled);return Me(n,A,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:A}},name:A,mount:!0,...R}}),o.mount.add(A),P?z({disabled:rn(R.disabled)?R.disabled:e.disabled,name:A}):b(A,!0,R.value),{...Z?{disabled:R.disabled||e.disabled}:{},...e.progressive?{required:!!R.required,min:ts(R.min),max:ts(R.max),minLength:ts(R.minLength),maxLength:ts(R.maxLength),pattern:ts(R.pattern)}:{},name:A,onChange:he,onBlur:he,ref:G=>{if(G){le(A,R),P=K(n,A);const H=ot(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,re=T4(H),je=P._f.refs||[];if(re?je.find(Le=>Le===H):H===P._f.ref)return;Me(n,A,{_f:{...P._f,...re?{refs:[...je.filter(nu),H,...Array.isArray(K(a,A))?[{}]:[]],ref:{type:H.type,name:A}}:{ref:H}}}),b(A,!1,void 0,H)}else P=K(n,A,{}),P._f&&(P._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(E4(o.array,A)&&s.action)&&o.unMount.add(A)}}},Ge=()=>e.shouldFocusError&&Ts(n,U,o.mount),Oe=A=>{rn(A)&&(h.state.next({disabled:A}),Ts(n,(R,P)=>{const Z=K(n,P);Z&&(R.disabled=Z._f.disabled||A,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(G=>{G.disabled=Z._f.disabled||A}))},0,!1))},wr=(A,R)=>async P=>{let Z;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let G=bt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:re}=await N();r.errors=H,G=bt(re)}else await O(n);if(o.disabled.size)for(const H of o.disabled)st(G,H);if(st(r.errors,"root"),qt(r.errors)){h.state.next({errors:{}});try{await A(G,P)}catch(H){Z=H}}else R&&await R({...r.errors},P),Ge(),setTimeout(Ge);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qt(r.errors)&&!Z,submitCount:r.submitCount+1,errors:r.errors}),Z)throw Z},tg=(A,R={})=>{K(n,A)&&(ot(R.defaultValue)?fe(A,bt(K(a,A))):(fe(A,R.defaultValue),Me(a,A,bt(R.defaultValue))),R.keepTouched||st(r.touchedFields,A),R.keepDirty||(st(r.dirtyFields,A),r.isDirty=R.defaultValue?F(A,bt(K(a,A))):F()),R.keepError||(st(r.errors,A),d.isValid&&v()),h.state.next({...r}))},p0=(A,R={})=>{const P=A?bt(A):a,Z=bt(P),G=qt(A),H=G?a:Z;if(R.keepDefaultValues||(a=P),!R.keepValues){if(R.keepDirtyValues){const re=new Set([...o.mount,...Object.keys(Qa(a,i))]);for(const je of Array.from(re))K(r.dirtyFields,je)?Me(H,je,K(i,je)):fe(je,K(H,je))}else{if(Yf&&ot(A))for(const re of o.mount){const je=K(n,re);if(je&&je._f){const Le=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Ll(Le)){const br=Le.closest("form");if(br){br.reset();break}}}}if(R.keepFieldsRef)for(const re of o.mount)fe(re,K(H,re));else n={}}i=e.shouldUnregister?R.keepDefaultValues?bt(a):{}:bt(H),h.array.next({values:{...H}}),h.state.next({values:{...H}})}o={mount:R.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:G?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!$n(A,a)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:G?{}:R.keepDirtyValues?R.keepDefaultValues&&i?Qa(a,i):r.dirtyFields:R.keepDefaultValues&&A?Qa(a,A):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},m0=(A,R)=>p0(Wr(A)?A(i):A,R),rg=(A,R={})=>{const P=K(n,A),Z=P&&P._f;if(Z){const G=Z.refs?Z.refs[0]:Z.ref;G.focus&&(G.focus(),R.shouldSelect&&Wr(G.select)&&G.select())}},ng=A=>{r={...r,...A}},x0={control:{register:le,unregister:Jr,getFieldState:oe,handleSubmit:wr,setError:Ze,_subscribe:In,_runSchema:N,_focusError:Ge,_getWatch:T,_getDirty:F,_setValid:v,_setFieldArray:g,_setDisabledField:z,_setErrors:w,_getFieldArray:M,_reset:p0,_resetDefaultValues:()=>Wr(e.defaultValues)&&e.defaultValues().then(A=>{m0(A,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Oe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(A){s=A},get _defaultValues(){return a},get _names(){return o},set _names(A){o=A},get _formState(){return r},get _options(){return e},set _options(A){e={...e,...A}}},subscribe:Mr,trigger:ee,register:le,handleSubmit:wr,watch:yr,setValue:fe,getValues:Q,reset:m0,resetField:tg,clearErrors:Pe,unregister:Jr,setError:Ze,setFocus:rg,getFieldState:oe};return{...x0,formControl:x0}}function pc(t={}){const e=de.useRef(void 0),r=de.useRef(void 0),[n,a]=de.useState({isDirty:!1,isValidating:!1,isLoading:Wr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Wr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=$4(t);e.current={...o,formState:n}}const i=e.current.control;return i._options=t,j4(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,s},[i]),de.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),de.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),de.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),de.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),de.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),de.useEffect(()=>{t.values&&!$n(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,a(s=>({...s}))):i._resetDefaultValues()},[i,t.values]),de.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=A4(n,i),e.current}const a1=(t,e,r)=>{if(t&&"reportValidity"in t){const n=K(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},rv=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?a1(n.ref,r,t):n.refs&&n.refs.forEach(a=>a1(a,r,t))}},H4=(t,e)=>{e.shouldUseNativeValidation&&rv(t,e);const r={};for(const n in t){const a=K(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(W4(e.names||Object.keys(t),n)){const s=Object.assign({},K(r,n));Me(s,"root",i),Me(r,n,s)}else Me(r,n,i)}return r},W4=(t,e)=>t.some(r=>r.startsWith(e+"."));var G4=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[s].types,u=c&&c[n.code];r[s]=Yx(s,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},mc=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&rv({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:H4(G4(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},Ee;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ee||(Ee={}));var i1;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(i1||(i1={}));const q=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fn=t=>{switch(typeof t){case"undefined":return q.undefined;case"string":return q.string;case"number":return Number.isNaN(t)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":return Array.isArray(t)?q.array:t===null?q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?q.promise:typeof Map<"u"&&t instanceof Map?q.map:typeof Set<"u"&&t instanceof Set?q.set:typeof Date<"u"&&t instanceof Date?q.date:q.object;default:return q.unknown}},V=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Sn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof Sn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Sn.create=t=>new Sn(t);const X4=(t,e)=>{let r;switch(t.code){case V.invalid_type:t.received===q.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ee.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(t.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(t.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ee.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case V.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case V.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ee.assertNever(t)}return{message:r}},vd=X4;let Z4=vd;function Y4(){return Z4}const K4=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:e,defaultError:o}).message;return{...a,path:i,message:o}};function X(t,e){const r=Y4(),n=K4({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===vd?void 0:vd].filter(a=>!!a)});t.common.issues.push(n)}class mr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return ce;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return mr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:e.value,value:n}}}const ce=Object.freeze({status:"aborted"}),ms=t=>({status:"dirty",value:t}),Pr=t=>({status:"valid",value:t}),s1=t=>t.status==="aborted",o1=t=>t.status==="dirty",ki=t=>t.status==="valid",Bl=t=>typeof Promise<"u"&&t instanceof Promise;var te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(te||(te={}));class da{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const l1=(t,e)=>{if(ki(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Sn(t.common.issues);return this._error=r,this._error}}};function xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,o)=>{const{message:c}=t;return s.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:a}}class _e{get description(){return this._def.description}_getType(e){return Fn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Fn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mr,ctx:{common:e.parent.common,data:e.data,parsedType:Fn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Bl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fn(e)},a=this._parseSync({data:e,path:n.path,parent:n});return l1(n,a)}"~validate"(e){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fn(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return ki(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>ki(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fn(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(Bl(a)?a:Promise.resolve(a));return l1(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=e(a),o=()=>i.addIssue({code:V.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Di({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ia.create(this,this._def)}nullable(){return Pi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this)}promise(){return $l.create(this,this._def)}or(e){return zl.create([this,e],this._def)}and(e){return Vl.create(this,e,this._def)}transform(e){return new Di({...xe(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new bd({...xe(this._def),innerType:this,defaultValue:r,typeName:ue.ZodDefault})}brand(){return new yb({typeName:ue.ZodBranded,type:this,...xe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new _d({...xe(this._def),innerType:this,catchValue:r,typeName:ue.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return e0.create(this,e)}readonly(){return Nd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q4=/^c[^\s-]{8,}$/i,q4=/^[0-9a-z]+$/,J4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tb=/^[a-z0-9_-]{21}$/i,rb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ab=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ib="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let au;const sb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ob=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ub=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,db=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fb=new RegExp(`^${nv}$`);function av(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function hb(t){return new RegExp(`^${av(t)}$`)}function pb(t){let e=`${nv}T${av(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function mb(t,e){return!!((e==="v4"||!e)&&sb.test(t)||(e==="v6"||!e)&&lb.test(t))}function xb(t,e){if(!rb.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function vb(t,e){return!!((e==="v4"||!e)&&ob.test(t)||(e==="v6"||!e)&&cb.test(t))}class Zn extends _e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==q.string){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_type,expected:q.string,received:i.parsedType}),ce}const n=new mr;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,o=e.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(e,a),s?X(a,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&X(a,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")ab.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"email",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")au||(au=new RegExp(ib,"u")),au.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"emoji",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")eb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"uuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")tb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"nanoid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Q4.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"cuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")q4.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"cuid2",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")J4.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"ulid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),X(a,{validation:"url",code:V.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"regex",code:V.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?pb(i).test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?fb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?hb(i).test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?nb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"duration",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?mb(e.data,i.version)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"ip",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?xb(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"jwt",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?vb(e.data,i.version)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"cidr",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ub.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"base64",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?db.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"base64url",code:V.invalid_string,message:i.message}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:V.invalid_string,...te.errToObj(n)})}_addCheck(e){return new Zn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...te.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...te.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...te.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...te.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...te.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...te.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...te.errToObj(r)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new Zn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Zn.create=t=>new Zn({checks:[],typeName:ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});function gb(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return i%s/10**a}class Oi extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==q.number){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_type,expected:q.number,received:i.parsedType}),ce}let n;const a=new mr;for(const i of this._def.checks)i.kind==="int"?Ee.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),X(n,{code:V.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?gb(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),X(n,{code:V.not_finite,message:i.message}),a.dirty()):Ee.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,n,a){return new Oi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:te.toString(a)}]})}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Oi.create=t=>new Oi({checks:[],typeName:ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class to extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==q.bigint)return this._getInvalidInput(e);let n;const a=new mr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ee.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return X(r,{code:V.invalid_type,expected:q.bigint,received:r.parsedType}),ce}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,n,a){return new to({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:te.toString(a)}]})}_addCheck(e){return new to({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}to.create=t=>new to({checks:[],typeName:ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});class gd extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==q.boolean){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:q.boolean,received:n.parsedType}),ce}return Pr(e.data)}}gd.create=t=>new gd({typeName:ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class Ul extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==q.date){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_type,expected:q.date,received:i.parsedType}),ce}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_date}),ce}const n=new mr;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ul({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ul.create=t=>new Ul({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ue.ZodDate,...xe(t)});class c1 extends _e{_parse(e){if(this._getType(e)!==q.symbol){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:q.symbol,received:n.parsedType}),ce}return Pr(e.data)}}c1.create=t=>new c1({typeName:ue.ZodSymbol,...xe(t)});class u1 extends _e{_parse(e){if(this._getType(e)!==q.undefined){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:q.undefined,received:n.parsedType}),ce}return Pr(e.data)}}u1.create=t=>new u1({typeName:ue.ZodUndefined,...xe(t)});class d1 extends _e{_parse(e){if(this._getType(e)!==q.null){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:q.null,received:n.parsedType}),ce}return Pr(e.data)}}d1.create=t=>new d1({typeName:ue.ZodNull,...xe(t)});class f1 extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return Pr(e.data)}}f1.create=t=>new f1({typeName:ue.ZodAny,...xe(t)});class h1 extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pr(e.data)}}h1.create=t=>new h1({typeName:ue.ZodUnknown,...xe(t)});class fa extends _e{_parse(e){const r=this._getOrReturnCtx(e);return X(r,{code:V.invalid_type,expected:q.never,received:r.parsedType}),ce}}fa.create=t=>new fa({typeName:ue.ZodNever,...xe(t)});class p1 extends _e{_parse(e){if(this._getType(e)!==q.undefined){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:q.void,received:n.parsedType}),ce}return Pr(e.data)}}p1.create=t=>new p1({typeName:ue.ZodVoid,...xe(t)});class dn extends _e{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==q.array)return X(r,{code:V.invalid_type,expected:q.array,received:r.parsedType}),ce;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(s||o)&&(X(r,{code:s?V.too_big:V.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(X(r,{code:V.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(X(r,{code:V.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>a.type._parseAsync(new da(r,s,r.path,o)))).then(s=>mr.mergeArray(n,s));const i=[...r.data].map((s,o)=>a.type._parseSync(new da(r,s,r.path,o)));return mr.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new dn({...this._def,minLength:{value:e,message:te.toString(r)}})}max(e,r){return new dn({...this._def,maxLength:{value:e,message:te.toString(r)}})}length(e,r){return new dn({...this._def,exactLength:{value:e,message:te.toString(r)}})}nonempty(e){return this.min(1,e)}}dn.create=(t,e)=>new dn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...xe(e)});function qa(t){if(t instanceof et){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ia.create(qa(n))}return new et({...t._def,shape:()=>e})}else return t instanceof dn?new dn({...t._def,type:qa(t.element)}):t instanceof ia?ia.create(qa(t.unwrap())):t instanceof Pi?Pi.create(qa(t.unwrap())):t instanceof $a?$a.create(t.items.map(e=>qa(e))):t}class et extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ee.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==q.object){const u=this._getOrReturnCtx(e);return X(u,{code:V.invalid_type,expected:q.object,received:u.parsedType}),ce}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof fa&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new da(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof fa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")o.length>0&&(X(a,{code:V.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new da(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>mr.mergeObjectSync(n,u)):mr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new et({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:te.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new et({...this._def,unknownKeys:"strip"})}passthrough(){return new et({...this._def,unknownKeys:"passthrough"})}extend(e){return new et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ue.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new et({...this._def,catchall:e})}pick(e){const r={};for(const n of Ee.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new et({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ee.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new et({...this._def,shape:()=>r})}deepPartial(){return qa(this)}partial(e){const r={};for(const n of Ee.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}return new et({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ee.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ia;)i=i._def.innerType;r[n]=i}return new et({...this._def,shape:()=>r})}keyof(){return iv(Ee.objectKeys(this.shape))}}et.create=(t,e)=>new et({shape:()=>t,unknownKeys:"strip",catchall:fa.create(),typeName:ue.ZodObject,...xe(e)});et.strictCreate=(t,e)=>new et({shape:()=>t,unknownKeys:"strict",catchall:fa.create(),typeName:ue.ZodObject,...xe(e)});et.lazycreate=(t,e)=>new et({shape:t,unknownKeys:"strip",catchall:fa.create(),typeName:ue.ZodObject,...xe(e)});class zl extends _e{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new Sn(o.ctx.common.issues));return X(r,{code:V.invalid_union,unionErrors:s}),ce}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(c=>new Sn(c));return X(r,{code:V.invalid_union,unionErrors:o}),ce}}get options(){return this._def.options}}zl.create=(t,e)=>new zl({options:t,typeName:ue.ZodUnion,...xe(e)});function yd(t,e){const r=Fn(t),n=Fn(e);if(t===e)return{valid:!0,data:t};if(r===q.object&&n===q.object){const a=Ee.objectKeys(e),i=Ee.objectKeys(t).filter(o=>a.indexOf(o)!==-1),s={...t,...e};for(const o of i){const c=yd(t[o],e[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===q.array&&n===q.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],o=e[i],c=yd(s,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===q.date&&n===q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vl extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,s)=>{if(s1(i)||s1(s))return ce;const o=yd(i.value,s.value);return o.valid?((o1(i)||o1(s))&&r.dirty(),{status:r.value,value:o.data}):(X(n,{code:V.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Vl.create=(t,e,r)=>new Vl({left:t,right:e,typeName:ue.ZodIntersection,...xe(r)});class $a extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==q.array)return X(n,{code:V.invalid_type,expected:q.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return X(n,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(X(n,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new da(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>mr.mergeArray(r,s)):mr.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new $a({...this._def,rest:e})}}$a.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $a({items:t,typeName:ue.ZodTuple,rest:null,...xe(e)})};class m1 extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==q.map)return X(n,{code:V.invalid_type,expected:q.map,received:n.parsedType}),ce;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:a._parse(new da(n,o,n.path,[u,"key"])),value:i._parse(new da(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}m1.create=(t,e,r)=>new m1({valueType:e,keyType:t,typeName:ue.ZodMap,...xe(r)});class ro extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==q.set)return X(n,{code:V.invalid_type,expected:q.set,received:n.parsedType}),ce;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(X(n,{code:V.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(X(n,{code:V.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ce;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new da(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(e,r){return new ro({...this._def,minSize:{value:e,message:te.toString(r)}})}max(e,r){return new ro({...this._def,maxSize:{value:e,message:te.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ro.create=(t,e)=>new ro({valueType:t,minSize:null,maxSize:null,typeName:ue.ZodSet,...xe(e)});class x1 extends _e{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}x1.create=(t,e)=>new x1({getter:t,typeName:ue.ZodLazy,...xe(e)});class wd extends _e{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return X(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}wd.create=(t,e)=>new wd({value:t,typeName:ue.ZodLiteral,...xe(e)});function iv(t,e){return new Ri({values:t,typeName:ue.ZodEnum,...xe(e)})}class Ri extends _e{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return X(r,{expected:Ee.joinValues(n),received:r.parsedType,code:V.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return X(r,{received:r.data,code:V.invalid_enum_value,options:n}),ce}return Pr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ri.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ri.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ri.create=iv;class v1 extends _e{_parse(e){const r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==q.string&&n.parsedType!==q.number){const a=Ee.objectValues(r);return X(n,{expected:Ee.joinValues(a),received:n.parsedType,code:V.invalid_type}),ce}if(this._cache||(this._cache=new Set(Ee.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Ee.objectValues(r);return X(n,{received:n.data,code:V.invalid_enum_value,options:a}),ce}return Pr(e.data)}get enum(){return this._def.values}}v1.create=(t,e)=>new v1({values:t,typeName:ue.ZodNativeEnum,...xe(e)});class $l extends _e{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==q.promise&&r.common.async===!1)return X(r,{code:V.invalid_type,expected:q.promise,received:r.parsedType}),ce;const n=r.parsedType===q.promise?r.data:Promise.resolve(r.data);return Pr(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}$l.create=(t,e)=>new $l({type:t,typeName:ue.ZodPromise,...xe(e)});class Di extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{X(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?ce:c.status==="dirty"||r.value==="dirty"?ms(c.value):c});{if(r.value==="aborted")return ce;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?ce:o.status==="dirty"||r.value==="dirty"?ms(o.value):o}}if(a.type==="refinement"){const s=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ce:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ce:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ki(s))return ce;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>ki(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:r.value,value:o})):ce);Ee.assertNever(a)}}Di.create=(t,e,r)=>new Di({schema:t,typeName:ue.ZodEffects,effect:e,...xe(r)});Di.createWithPreprocess=(t,e,r)=>new Di({schema:e,effect:{type:"preprocess",transform:t},typeName:ue.ZodEffects,...xe(r)});class ia extends _e{_parse(e){return this._getType(e)===q.undefined?Pr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ia.create=(t,e)=>new ia({innerType:t,typeName:ue.ZodOptional,...xe(e)});class Pi extends _e{_parse(e){return this._getType(e)===q.null?Pr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pi.create=(t,e)=>new Pi({innerType:t,typeName:ue.ZodNullable,...xe(e)});class bd extends _e{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===q.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}bd.create=(t,e)=>new bd({innerType:t,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xe(e)});class _d extends _e{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Bl(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Sn(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Sn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}_d.create=(t,e)=>new _d({innerType:t,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xe(e)});class g1 extends _e{_parse(e){if(this._getType(e)!==q.nan){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:q.nan,received:n.parsedType}),ce}return{status:"valid",value:e.data}}}g1.create=t=>new g1({typeName:ue.ZodNaN,...xe(t)});class yb extends _e{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class e0 extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),ms(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ce:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new e0({in:e,out:r,typeName:ue.ZodPipeline})}}class Nd extends _e{_parse(e){const r=this._def.innerType._parse(e),n=a=>(ki(a)&&(a.value=Object.freeze(a.value)),a);return Bl(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Nd.create=(t,e)=>new Nd({innerType:t,typeName:ue.ZodReadonly,...xe(e)});et.lazycreate;var ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ue||(ue={}));const He=Zn.create,y1=Oi.create,wb=gd.create;fa.create;dn.create;const xc=et.create;et.strictCreate;zl.create;Vl.create;$a.create;const bb=wd.create,sv=Ri.create;$l.create;ia.create;Pi.create;const _b=xc({email:He().email("Invalid email address"),password:He().min(1,"Password is required")}),Nb=()=>{const{login:t,isLoading:e,error:r,isAuthenticated:n}=qr(),{register:a,handleSubmit:i,formState:{errors:s,isSubmitting:o}}=pc({resolver:mc(_b)});if(n)return l.jsx(aa,{to:"/dashboard",replace:!0});const c=async u=>{await t(u)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",l.jsx(se,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),r&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i(c),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{...a("email"),type:"email",className:"input",placeholder:"Enter your email"}),s.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{...a("password"),type:"password",className:"input",placeholder:"Enter your password"}),s.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o||e,className:"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:o||e?"Signing in...":"Sign in"})})]})]})})},Eb=xc({name:He().min(1,"Name is required"),email:He().email("Invalid email address"),password:He().min(8,"Password must be at least 8 characters"),confirmPassword:He().min(1,"Please confirm your password"),role:sv(["participant","organizer"],{errorMap:()=>({message:"Please select a role"})}),organizationName:He().optional(),phoneNumber:He().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Cb=()=>{const{register:t,isLoading:e,error:r,isAuthenticated:n}=qr(),{register:a,handleSubmit:i,watch:s,formState:{errors:o,isSubmitting:c}}=pc({resolver:mc(Eb),defaultValues:{role:"participant"}}),u=s("role");if(n)return l.jsx(aa,{to:"/dashboard",replace:!0});const d=async f=>{const{confirmPassword:h,...p}=f;await t(p)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(se,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]}),r&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i(d),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{...a("name"),type:"text",autoComplete:"name",className:"input",placeholder:"Enter your full name"}),o.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{...a("email"),type:"email",autoComplete:"email",className:"input",placeholder:"Enter your email"}),o.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Account Type"}),l.jsxs("select",{...a("role"),className:"input",children:[l.jsx("option",{value:"participant",children:"Participant"}),l.jsx("option",{value:"organizer",children:"Event Organizer"})]}),o.role&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.role.message})]}),u==="organizer"&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700",children:"Organization Name"}),l.jsx("input",{...a("organizationName"),type:"text",className:"input",placeholder:"Enter your organization name"}),o.organizationName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.organizationName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number (Optional)"}),l.jsx("input",{...a("phoneNumber"),type:"tel",autoComplete:"tel",className:"input",placeholder:"Enter your phone number"}),o.phoneNumber&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phoneNumber.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{...a("password"),type:"password",autoComplete:"new-password",className:"input",placeholder:"Create a password (min. 8 characters)"}),o.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),l.jsx("input",{...a("confirmPassword"),type:"password",autoComplete:"new-password",className:"input",placeholder:"Confirm your password"}),o.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.confirmPassword.message})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:c||e,className:"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:c||e?"Creating Account...":"Create Account"})})]})]})})},er={async createEvent(t){return De.post("/events",t)},async getEvents(t){const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.visibility&&e.append("visibility",t.visibility),t!=null&&t.categoryId&&e.append("categoryId",t.categoryId),t!=null&&t.organizerId&&e.append("organizerId",t.organizerId),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.upcoming&&e.append("upcoming",t.upcoming.toString());const r=e.toString()?`/events?${e.toString()}`:"/events";return De.get(r)},async getEventById(t){return De.get(`/events/${t}`)},async updateEvent(t,e){return De.put(`/events/${t}`,e)},async deleteEvent(t){return De.delete(`/events/${t}`)},async getMyEvents(){return De.get("/events/my/events")}};function Sb(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Ab(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var jb=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ib=function(t){jb(e,t);function e(r,n){var a=this.constructor,i=t.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),Sb(i,a.prototype),Ab(i),i}return e}(Error),Tb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sr=function(t){Tb(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Ib),kb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ur=function(t){kb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(sr),Ob=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ae=function(t){Ob(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(sr),Rb=function(){function t(e){if(this.binarizer=e,e===null)throw new ae("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var i=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Db=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ct=function(t){Db(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(sr),Pb=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Be=function(){function t(){}return t.arraycopy=function(e,r,n,a,i){for(;i--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Mb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t0=function(t){Mb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(sr),Lb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w1=function(t){Lb(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(t0),Fb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var i=r;i<n;i++)e[i]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new ae("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new w1(r);if(n>e)throw new w1(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var i=Fb(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=31*a+o}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,i=new Int32Array(a);return Be.arraycopy(e,r,i,0,a),i},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,i=e.length-1;a<=i;){var s=i+a>>1,o=n(r,e[s]);if(o>0)a=s+1;else if(o<0)i=s-1;else return s}return-a-1},t.numberComparator=function(e,r){return e-r},t}(),me=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),St=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Be.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=n[a]}var o=a*32+me.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=~n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=~n[a]}var o=a*32+me.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new ae;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),i=this.bits,s=n;s<=a;s++){var o=s>n?0:e&31,c=s<a?31:r&31,u=(2<<c)-(1<<o);i[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new ae;if(r===e)return!0;r--;for(var a=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,o=a;o<=i;o++){var c=o>a?0:e&31,u=o<i?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((s[o]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new ae("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new ae("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var i=0;i<a;i++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+i]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var s=a[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-i]=s}if(this.size!==n*32){for(var o=n*32-this.size,c=e[0]>>>o,i=1;i<n;i++){var u=e[i];c|=u<<32-o,e[i-1]=c,c=u>>>o}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&gt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+gt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),Ed;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ed||(Ed={}));const Qe=Ed;var Bb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W=function(t){Bb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(sr),Ub=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ie;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Ie||(Ie={}));var vt=function(){function t(e,r,n){for(var a,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var f=c[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=Ub(s),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(v){a={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new W("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new W("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new W("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Ie.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Ie.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Ie.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Ie.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Ie.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Ie.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Ie.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Ie.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Ie.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Ie.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Ie.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Ie.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Ie.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Ie.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Ie.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Ie.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Ie.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Ie.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Ie.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Ie.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Ie.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Ie.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Ie.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Ie.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Ie.Big5,28,"Big5"),t.GB18030=new t(Ie.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Ie.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),zb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nl=function(t){zb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(sr),Tr=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof vt?e:vt.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",i=0,s=e.length;i<s;i++){var o=e[i].toString(16);o.length<2&&(o="0"+o),a+="%"+o}return decodeURIComponent(a)}if(n.equals(vt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new nl("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(vt.UTF8)||e.equals(vt.ISO8859_1)||e.equals(vt.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},t}(),ye=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Tr.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Qe.CHARACTER_SET)!==void 0)return r.get(Qe.CHARACTER_SET).toString();for(var n=e.length,a=!0,i=!0,s=!0,o=0,c=0,u=0,d=0,f=0,h=0,p=0,m=0,v=0,y=0,g=0,x=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(a||i||s);w++){var b=e[w]&255;s&&(o>0?b&128?o--:s=!1:b&128&&(b&64?(o++,b&32?(o++,b&16?(o++,b&8?s=!1:d++):u++):c++):s=!1)),a&&(b>127&&b<160?a=!1:b>159&&(b<192||b===215||b===247)&&g++),i&&(f>0?b<64||b===127||b>252?i=!1:f--:b===128||b===160||b>239?i=!1:b>160&&b<224?(h++,m=0,p++,p>v&&(v=p)):b>127?(f++,p=0,m++,m>y&&(y=m)):(p=0,m=0))}return s&&o>0&&(s=!1),i&&f>0&&(i=!1),s&&(x||c+u+d>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||v>=3||y>=3)?t.SHIFT_JIS:a&&i?v===2&&h===2||g*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:i?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(o,c,u,d,f,h){if(o==="%%")return"%";if(r[++a]!==void 0){o=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[a];break;case"c":m=r[a][0];break;case"f":m=parseFloat(r[a]).toFixed(o);break;case"p":m=parseFloat(r[a]).toPrecision(o);break;case"e":m=parseFloat(r[a]).toExponential(o);break;case"x":m=parseInt(r[a]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[a],p||10).toPrecision(o)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var v=parseInt(u),y=u&&u[0]+""=="0"?"0":" ";m.length<v;)m=c!==void 0?m+y:y+m;return m}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.getBytes=function(e,r){return Tr.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=vt.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=vt.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=vt.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),pe=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ye.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),fn=function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new ae("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),i=0;i<r;i++)for(var s=e[i],o=0;o<n;o++)s[o]&&a.set(o,i);return a},t.parseFromString=function(e,r,n){if(e===null)throw new ae("stringRepresentation cannot be null");for(var a=new Array(e.length),i=0,s=0,o=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new ae("row lengths do not match");s=i,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(e.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new ae("illegal character encountered: "+e.substring(u));if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new ae("row lengths do not match");c++}for(var d=new t(o,c),f=0;f<i;f++)a[f]&&d.set(Math.floor(f%o),Math.floor(f/o));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ae("input matrix dimensions do not match");for(var r=new St(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,s=this.height;i<s;i++)for(var o=i*n,c=e.getRow(i,r).getBitArray(),u=0;u<n;u++)a[o+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new ae("Left and top must be nonnegative");if(a<1||n<1)throw new ae("Height and width must be at least 1");var i=e+n,s=r+a;if(s>this.height||i>this.width)throw new ae("The region must fit inside the matrix");for(var o=this.rowSize,c=this.bits,u=r;u<s;u++)for(var d=u*o,f=e;f<i;f++)c[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new St(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=e*n,s=0;s<n;s++)r.setBulk(s*32,a[i+s]);return r},t.prototype.setRow=function(e,r){Be.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new St(e),a=new St(e),i=0,s=Math.floor((r+1)/2);i<s;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,i=e,s=r,o=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=a[u*n+d];if(f!==0){if(u<s&&(s=u),u>c&&(c=u),d*32<i){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<i&&(i=d*32+h)}if(d*32+31>o){for(var h=31;!(f>>>h);)h--;d*32+h>o&&(o=d*32+h)}}}return o<i||c<s?null:Int32Array.from([i,s,o-i+1,c-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,i=n%e*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return i+=o,Int32Array.from([i,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),i=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return i+=o,Int32Array.from([i,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&gt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+gt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new pe,i=0,s=this.height;i<s;i++){for(var o=0,c=this.width;o<c;o++)a.append(this.get(o,i)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Vb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(t){Vb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(sr),$b=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hb=function(t){$b(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new St(i):n.clear(),this.initArrays(i);for(var s=a.getRow(r,this.luminances),o=this.buckets,c=0;c<i;c++)o[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(i<3)for(var c=0;c<i;c++)(s[c]&255)<u&&n.set(c);else for(var d=s[0]&255,f=s[1]&255,c=1;c<i-1;c++){var h=s[c+1]&255;(f*4-d-h)/2<u&&n.set(c),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new fn(n,a);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var c=Math.floor(a*o/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;s[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(s),m=r.getMatrix(),o=0;o<a;o++)for(var v=o*n,f=0;f<n;f++){var h=m[v+f]&255;h<p&&i.set(f,o)}return i},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,s=0,o=0;o<n;o++)r[o]>s&&(i=o,s=r[o]),r[o]>a&&(a=r[o]);for(var c=0,u=0,o=0;o<n;o++){var d=o-i,f=r[o]*d*d;f>u&&(c=o,u=f)}if(i>c){var h=i;i=c,c=h}if(c-i<=n/16)throw new D;for(var p=c-1,m=-1,o=c-1;o>i;o--){var v=o-i,f=v*v*(c-o)*(a-r[o]);f>m&&(p=o,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Pb),Wb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gb=function(t){Wb(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var i=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var o=a>>e.BLOCK_SIZE_POWER;a&e.BLOCK_SIZE_MASK&&o++;var c=e.calculateBlackPoints(i,s,o,n,a),u=new fn(n,a);e.calculateThresholdForBlock(i,s,o,n,a,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,i,s,o,c){for(var u=s-e.BLOCK_SIZE,d=i-e.BLOCK_SIZE,f=0;f<a;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,a-3),m=0;m<n;m++){var v=m<<e.BLOCK_SIZE_POWER;v>d&&(v=d);for(var y=e.cap(m,2,n-3),g=0,x=-2;x<=2;x++){var w=o[p+x];g+=w[y-2]+w[y-1]+w[y]+w[y+1]+w[y+2]}var b=g/25;e.thresholdBlock(r,v,h,b,i,c)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,i,s,o){for(var c=0,u=a*s+n;c<e.BLOCK_SIZE;c++,u+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=i&&o.set(n+d,a+c)},e.calculateBlackPoints=function(r,n,a,i,s){for(var o=s-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,v=255,y=0,g=0,x=f*i+p;g<e.BLOCK_SIZE;g++,x+=i){for(var w=0;w<e.BLOCK_SIZE;w++){var b=r[x+w]&255;m+=b,b<v&&(v=b),b>y&&(y=b)}if(y-v>e.MIN_DYNAMIC_RANGE)for(g++,x+=i;g<e.BLOCK_SIZE;g++,x+=i)for(var w=0;w<e.BLOCK_SIZE;w++)m+=r[x+w]&255}var E=m>>e.BLOCK_SIZE_POWER*2;if(y-v<=e.MIN_DYNAMIC_RANGE&&(E=v/2,d>0&&h>0)){var j=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;v<j&&(E=j)}u[d][h]=E}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Hb),vc=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new nl("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new nl("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new nl("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new pe,n=0;n<this.height;n++){for(var a=this.getRow(n,e),i=0;i<this.width;i++){var s=a[i]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),Xb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r0=function(t){Xb(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),s=0;s<i;s++)a[s]=255-(a[s]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,i){return new e(this.delegate.crop(r,n,a,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(vc),Zb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yb=function(t){Zb(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,a){var i=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var s=0,o=0,c=r.length;s<c;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}i[o]=u}else for(var s=0,o=0,m=r.length;s<m;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}i[o]=255-u}return i},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ae("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return t.prototype.crop.call(this,r,n,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new r0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(vc),Kb=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),$t=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})},Ht=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Qb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hi=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return $t(this,void 0,void 0,function(){var e,r,n,a,i,s,o,c,u,d,f,h;return Ht(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Qb(e),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(o=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),u=i.groupId,d={deviceId:o,label:c,kind:s,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return $t(this,void 0,void 0,function(){var e;return Ht(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Kb(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return $t(this,void 0,void 0,function(){var r;return Ht(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return $t(this,void 0,void 0,function(){return Ht(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return $t(this,void 0,void 0,function(){var n,a;return Ht(this,function(i){switch(i.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return $t(this,void 0,void 0,function(){var n;return Ht(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return $t(this,void 0,void 0,function(){var n,a;return Ht(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return $t(this,void 0,void 0,function(){return Ht(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return $t(this,void 0,void 0,function(){var a,i;return Ht(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return $t(this,void 0,void 0,function(){var a;return Ht(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return $t(this,void 0,void 0,function(){var a;return Ht(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return $t(this,void 0,void 0,function(){var n;return Ht(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return $t(this,void 0,void 0,function(){return Ht(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ur("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ur("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ur("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ur("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ur("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ur("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ur("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ur("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ur("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ur("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return $t(this,void 0,void 0,function(){return Ht(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return $t(this,void 0,void 0,function(){return Ht(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(s,o){if(a._stopAsyncDecode){o(new D("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(e);s(c)}catch(h){var u=r&&h instanceof D,d=h instanceof Ct||h instanceof W,f=d&&n;if(u||f)return setTimeout(i,a._timeBetweenDecodingAttempts,s,o);o(h)}};return new Promise(function(s,o){return i(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(e);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var s=c instanceof Ct||c instanceof W,o=c instanceof D;(s||o)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new Yb(r),a=new Gb(n);return new Rb(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Vt=function(){function t(e,r,n,a,i,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Be.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,s==null?this.timestamp=Be.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Be.arraycopy(r,0,n,0,r.length),Be.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Cd;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Cd||(Cd={}));const ne=Cd;var Sd;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Sd||(Sd={}));const Rt=Sd;var gc=function(){function t(e,r,n,a,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),xs=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ae;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),sa=function(){function t(e,r){if(r.length===0)throw new ae;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),Be.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,i=r.length;a!==i;a++){var s=r[a];n=xs.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,c=this.field,a=1;a<o;a++)n=xs.addOrSubtract(c.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ae("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;Be.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=xs.addOrSubtract(r[o-s],n[o]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ae("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<i;d++)s[c+d]=xs.addOrSubtract(s[c+d],o.multiply(u,a[d]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,s=0;s<r;s++)a[s]=n.multiply(i[s],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ae;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+e),s=this.field,o=0;o<a;o++)i[o]=s.multiply(n[o],r);return new t(s,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ae("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ae("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=e.getCoefficient(e.getDegree()),s=r.inverse(i);a.getDegree()>=e.getDegree()&&!a.isZero();){var o=a.getDegree()-e.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),s),u=e.multiplyByMonomial(o,c),d=r.buildMonomial(o,c);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),qb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ov=function(t){qb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(sr),Jb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tr=function(t){Jb(e,t);function e(r,n,a){var i=t.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var s=new Int32Array(n),o=1,c=0;c<n;c++)s[c]=o,o*=2,o>=n&&(o^=r,o&=n-1);i.expTable=s;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[s[c]]=c;return i.logTable=u,i.zero=new sa(i,Int32Array.from([0])),i.one=new sa(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ae;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new sa(this,a)},e.prototype.inverse=function(r){if(r===0)throw new ov;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+me.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(xs),e_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ro=function(t){e_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(sr),t_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fo=function(t){t_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(sr),yc=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new sa(n,e),i=new Int32Array(r),s=!0,o=0;o<r;o++){var c=a.evaluateAt(n.exp(o+n.getGeneratorBase()));i[i.length-1-o]=c,c!==0&&(s=!1)}if(!s)for(var u=new sa(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),o=0;o<p.length;o++){var v=e.length-1-n.log(p[o]);if(v<0)throw new Ro("Bad error location");e[v]=tr.addOrSubtract(e[v],m[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=this.field,s=e,o=r,c=i.getZero(),u=i.getOne();o.getDegree()>=(n/2|0);){var d=s,f=c;if(s=o,c=u,s.isZero())throw new Ro("r_{i-1} was zero");o=d;for(var h=i.getZero(),p=s.getCoefficient(s.getDegree()),m=i.inverse(p);o.getDegree()>=s.getDegree()&&!o.isZero();){var v=o.getDegree()-s.getDegree(),y=i.multiply(o.getCoefficient(o.getDegree()),m);h=h.addOrSubtract(i.buildMonomial(v,y)),o=o.addOrSubtract(s.multiplyByMonomial(v,y))}if(u=h.multiply(c).addOrSubtract(f),o.getDegree()>=s.getDegree())throw new fo("Division algorithm failed to reduce polynomial?")}var g=u.getCoefficient(0);if(g===0)throw new Ro("sigmaTilde(0) was zero");var x=i.inverse(g),w=u.multiplyScalar(x),b=o.multiplyScalar(x);return[w,b]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,s=1;s<i.getSize()&&a<r;s++)e.evaluateAt(s)===0&&(n[a]=i.inverse(s),a++);if(a!==r)throw new Ro("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),i=this.field,s=0;s<n;s++){for(var o=i.inverse(r[s]),c=1,u=0;u<n;u++)if(s!==u){var d=i.multiply(r[u],o),f=d&1?d&-2:d|1;c=i.multiply(c,f)}a[s]=i.multiply(e.evaluateAt(o),i.inverse(c)),i.getGeneratorBase()!==0&&(a[s]=i.multiply(a[s],o))}return a},t}(),It;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(It||(It={}));var b1=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=t.convertBoolArrayToByteArray(a),s=t.getEncodedData(a),o=new gc(i,s,null,null);return o.setNumBits(a.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=It.UPPER,a=It.UPPER,i="",s=0;s<r;)if(a===It.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var c=0;c<o;c++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);i+=ye.castAsNonUtf8Char(u),s+=8}a=n}else{var d=a===It.DIGIT?4:5;if(r-s<d)break;var u=t.readCode(e,s,d);s+=d;var f=t.getCharacter(a,u);f.startsWith("CTRL_")?(n=a,a=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},t.getTable=function(e){switch(e){case"L":return It.LOWER;case"P":return It.PUNCT;case"M":return It.MIXED;case"D":return It.DIGIT;case"B":return It.BINARY;case"U":default:return It.UPPER}},t.getCharacter=function(e,r){switch(e){case It.UPPER:return t.UPPER_TABLE[r];case It.LOWER:return t.LOWER_TABLE[r];case It.MIXED:return t.MIXED_TABLE[r];case It.PUNCT:return t.PUNCT_TABLE[r];case It.DIGIT:return t.DIGIT_TABLE[r];default:throw new fo("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=tr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=tr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=tr.AZTEC_DATA_10):(n=12,r=tr.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=e.length/n;if(i<a)throw new W;for(var s=e.length%n,o=new Int32Array(i),c=0;c<i;c++,s+=n)o[c]=t.readCode(e,s,n);try{var u=new yc(r);u.decode(o,i-a)}catch(y){throw new W(y)}for(var d=(1<<n)-1,f=0,c=0;c<a;c++){var h=o[c];if(h===0||h===d)throw new W;(h===1||h===d-1)&&f++}for(var p=new Array(a*n-f),m=0,c=0;c<a;c++){var h=o[c];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var v=n-1;v>=0;--v)p[m++]=(h&1<<v)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<i.length;o++)i[o]=o;else for(var c=a+1+2*me.truncDivision(me.truncDivision(a,2)-1,15),u=a/2,d=me.truncDivision(c,2),o=0;o<u;o++){var f=o+me.truncDivision(o,15);i[u-o-1]=d-f-1,i[u+o]=d+f+1}for(var o=0,h=0;o<n;o++){for(var p=(n-o)*4+(r?9:12),m=o*2,v=a-1-m,y=0;y<p;y++)for(var g=y*2,x=0;x<2;x++)s[h+g+x]=e.get(i[m+x],i[m+y]),s[h+2*p+g+x]=e.get(i[m+y],i[v-x]),s[h+4*p+g+x]=e.get(i[v-x],i[v-y]),s[h+6*p+g+x]=e.get(i[v-y],i[m+x]);h+=p*8}return s},t.readCode=function(e,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,e[i]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Ne=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var i=e-n,s=r-a;return Math.sqrt(i*i+s*s)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var i=e[n];r+=i}return r},t}(),Ad=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),J=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Ad.floatToIntBits(this.x)+Ad.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),i,s,o;if(n>=r&&n>=a?(s=e[0],i=e[1],o=e[2]):a>=n&&a>=r?(s=e[1],i=e[0],o=e[2]):(s=e[2],i=e[0],o=e[1]),this.crossProductZ(i,s,o)<0){var c=i;i=o,o=c}e[0]=i,e[1]=s,e[2]=o},t.distance=function(e,r){return Ne.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,i=r.y;return(n.x-a)*(e.y-i)-(n.y-i)*(e.x-a)},t}(),n0=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),r_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n_=function(t){r_(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n)||this;return o.compact=a,o.nbDatablocks=i,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(n0),jd=function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new D}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,s=!0,o=!1,c=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;s;){s=!1;for(var m=!0;(m||!c)&&r<h;)m=this.containsBlackPoint(n,a,r,!1),m?(r++,s=!0,c=!0):c||r++;if(r>=h){i=!0;break}for(var v=!0;(v||!u)&&a<p;)v=this.containsBlackPoint(e,r,a,!0),v?(a++,s=!0,u=!0):u||a++;if(a>=p){i=!0;break}for(var y=!0;(y||!d)&&e>=0;)y=this.containsBlackPoint(n,a,e,!1),y?(e--,s=!0,d=!0):d||e--;if(e<0){i=!0;break}for(var g=!0;(g||!f)&&n>=0;)g=this.containsBlackPoint(e,r,n,!0),g?(n--,s=!0,f=!0):f||n--;if(n<0){i=!0;break}s&&(o=!0)}if(!i&&o){for(var x=r-e,w=null,b=1;w===null&&b<x;b++)w=this.getBlackPointOnSegment(e,a-b,e+b,a);if(w==null)throw new D;for(var E=null,b=1;E===null&&b<x;b++)E=this.getBlackPointOnSegment(e,n+b,e+b,n);if(E==null)throw new D;for(var j=null,b=1;j===null&&b<x;b++)j=this.getBlackPointOnSegment(r,n+b,r-b,n);if(j==null)throw new D;for(var N=null,b=1;N===null&&b<x;b++)N=this.getBlackPointOnSegment(r,a-b,r-b,a);if(N==null)throw new D;return this.centerEdges(N,w,j,E)}else throw new D},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var i=Ne.round(Ne.distance(e,r,n,a)),s=(n-e)/i,o=(a-r)/i,c=this.image,u=0;u<i;u++){var d=Ne.round(e+u*s),f=Ne.round(r+u*o);if(c.get(d,f))return new J(d,f)}return null},t.prototype.centerEdges=function(e,r,n,a){var i=e.getX(),s=e.getY(),o=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),f=a.getX(),h=a.getY(),p=t.CORR;return i<this.width/2?[new J(f-p,h+p),new J(o+p,c+p),new J(u-p,d-p),new J(i+p,s-p)]:[new J(f+p,h+p),new J(o+p,c-p),new J(u-p,d+p),new J(i-p,s-p)]},t.prototype.containsBlackPoint=function(e,r,n,a){var i=this.image;if(a){for(var s=e;s<=r;s++)if(i.get(s,n))return!0}else for(var o=e;o<=r;o++)if(i.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),_1=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),i=!0,s=0;s<r.length&&i;s+=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new D;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}i=!0;for(var s=r.length-2;s>=0&&i;s-=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new D;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}},t}(),lv=function(){function t(e,r,n,a,i,s,o,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=s,this.a13=o,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,a,i,s,o,c,u,d,f,h,p,m,v,y){var g=t.quadrilateralToSquare(e,r,n,a,i,s,o,c),x=t.squareToQuadrilateral(u,d,f,h,p,m,v,y);return x.times(g)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],v=i*p+c*m+f;e[h]=(n*p+s*m+u)/v,e[h+1]=(a*p+o*m+d)/v}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],v=r[p],y=i*m+c*v+f;e[p]=(n*m+s*v+u)/y,r[p]=(a*m+o*v+d)/y}},t.squareToQuadrilateral=function(e,r,n,a,i,s,o,c){var u=e-n+i-o,d=r-a+s-c;if(u===0&&d===0)return new t(n-e,i-n,e,a-r,s-a,r,0,0,1);var f=n-i,h=o-i,p=a-s,m=c-s,v=f*m-h*p,y=(u*m-h*d)/v,g=(f*d-u*p)/v;return new t(n-e+y*n,o-e+g*o,e,a-r+y*a,c-r+g*c,r,y,g,1)},t.quadrilateralToSquare=function(e,r,n,a,i,s,o,c){return t.squareToQuadrilateral(e,r,n,a,i,s,o,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),a_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i_=function(t){a_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,i,s,o,c,u,d,f,h,p,m,v,y,g,x,w,b){var E=lv.quadrilateralToQuadrilateral(i,s,o,c,u,d,f,h,p,m,v,y,g,x,w,b);return this.sampleGridWithTransform(r,n,a,E)},e.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new D;for(var s=new fn(n,a),o=new Float32Array(2*n),c=0;c<a;c++){for(var u=o.length,d=c+.5,f=0;f<u;f+=2)o[f]=f/2+.5,o[f+1]=d;i.transformPoints(o),_1.checkAndNudgePoints(r,o);try{for(var f=0;f<u;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&s.set(f/2,c)}catch{throw new D}}return s},e}(_1),a0=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new i_,t}(),Qt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new J(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),s_=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new n_(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new D;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var s=n[(this.shift+i)%4];this.compact?(a<<=7,a+=s>>1&127):(a<<=10,a+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(i,s,o){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(me.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new D},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var c=new yc(tr.AZTEC_PARAM);c.decode(s,i)}catch{throw new D}for(var u=0,o=0;o<a;o++)u=(u<<4)+s[o];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),c=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(a,s,-1,1),d=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,c,u,d))break}r=o,n=c,a=u,i=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new D;this.compact=this.nbCenterLayers===5;var h=new J(r.getX()+.5,r.getY()-.5),p=new J(n.getX()+.5,n.getY()+.5),m=new J(a.getX()-.5,a.getY()+.5),v=new J(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,p,m,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var i=new jd(this.image).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new Qt(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Qt(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Qt(s-7,o+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Qt(s-7,o-7),!1,-1,-1).toResultPoint()}var c=Ne.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Ne.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new jd(this.image,15,c,u).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{e=this.getFirstDifferent(new Qt(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Qt(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Qt(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Qt(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Ne.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Ne.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new Qt(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,i){var s=a0.getInstance(),o=this.getDimension(),c=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,i=this.distanceResultPoint(e,r),s=i/n,o=e.getX(),c=e.getY(),u=s*(r.getX()-e.getX())/i,d=s*(r.getY()-e.getY())/i,f=0;f<n;f++)this.image.get(Ne.round(o+f*u),Ne.round(c+f*d))&&(a|=1<<n-f-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var i=3;e=new Qt(e.getX()-i,e.getY()+i),r=new Qt(r.getX()-i,r.getY()-i),n=new Qt(n.getX()+i,n.getY()-i),a=new Qt(a.getX()+i,a.getY()+i);var s=this.getColor(a,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,a),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,i=(r.getY()-e.getY())/n,s=0,o=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)o+=a,c+=i,this.image.get(Ne.round(o),Ne.round(c))!==u&&s++;var h=s/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var i=e.getX()+n,s=e.getY()+a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n,s+=a;for(i-=n,s-=a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===r;)s+=a;return s-=a,new Qt(i,s)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new J(o+a*i,c+a*s),d=new J(o-a*i,c-a*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var f=new J(o+a*i,c+a*s),h=new J(o-a*i,c-a*s),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Ne.round(e.getX()),n=Ne.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Ne.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Ne.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(me.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Id=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new s_(e.getBlackMatrix()),i=null,s=null;try{var o=a.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new b1().decode(o)}catch(f){n=f}if(s==null)try{var o=a.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new b1().decode(o)}catch(f){throw n??f}var c=new Vt(s.getText(),s.getRawBytes(),s.getNumBits(),i,ne.AZTEC,Be.currentTimeMillis()),u=s.getByteSegments();u!=null&&c.putMetadata(Rt.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&c.putMetadata(Rt.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Qe.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,s){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t}(),o_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){o_(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Id,r)||this}return e})(Hi);var wt=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Qe.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),i=this.doDecode(a,r),s=i.getResultMetadata(),o=270;s!==null&&s.get(Rt.ORIENTATION)===!0&&(o=o+s.get(Rt.ORIENTATION)%360),i.putMetadata(Rt.ORIENTATION,o);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),d=0;d<c.length;d++)c[d]=new J(u-c[d].getY()-1,c[d].getX());return i}else throw new D}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),i=new St(n),s=r&&r.get(Qe.TRY_HARDER)===!0,o=Math.max(1,a>>(s?8:5)),c;s?c=a:c=15;for(var u=Math.trunc(a/2),d=0;d<c;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+o*(h?f:-f);if(p<0||p>=a)break;try{i=e.getBlackRow(p,i)}catch{continue}for(var m=function(x){if(x===1&&(i.reverse(),r&&r.get(Qe.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(j,N){return w.set(N,j)}),w.delete(Qe.NEED_RESULT_POINT_CALLBACK),r=w}try{var b=v.decodeRow(p,i,r);if(x===1){b.putMetadata(Rt.ORIENTATION,180);var E=b.getResultPoints();E!==null&&(E[0]=new J(n-E[0].getX()-1,E[0].getY()),E[1]=new J(n-E[1].getX()-1,E[1].getY()))}return{value:b}}catch{}},v=this,y=0;y<2;y++){var g=m(y);if(typeof g=="object")return g.value}}throw new D},t.recordPattern=function(e,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var s=e.getSize();if(r>=s)throw new D;for(var o=!e.get(r),c=0,u=r;u<s;){if(e.get(u)!==o)n[c]++;else{if(++c===a)break;n[c]=1,o=!o}u++}if(!(c===a||c===a-1&&u===s))throw new D},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,i=e.get(r);r>0&&a>=0;)e.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new D;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return Number.POSITIVE_INFINITY;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/i},t}(),l_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N1=function(t){l_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),o=a,c=!1,u=6,d=a;d<n;d++)if(r.get(d)!==c)s[i]++;else{if(i===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=wt.patternMatchVariance(s,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,h]);o+=s[0]+s[1],s=s.slice(2,s.length-1),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new D},e.decodeCode=function(r,n,a){wt.recordPattern(r,a,n);for(var i=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var c=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=o)}if(s>=0)return s;throw new D},e.prototype.decodeRow=function(r,n,a){var i=a&&a.get(Qe.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],c=0,u=new Uint8Array(20);u[c++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new W}for(var f=!1,h=!1,p="",m=s[0],v=s[1],y=Int32Array.from([0,0,0,0,0,0]),g=0,x=0,w=o,b=0,E=!0,j=!1,N=!1;!f;){var S=h;switch(h=!1,g=x,x=e.decodeCode(n,y,v),u[c++]=x,x!==e.CODE_STOP&&(E=!0),x!==e.CODE_STOP&&(b++,w+=b*x),m=v,v+=y.reduce(function(he,U){return he+U},0),x){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new W}switch(d){case e.CODE_CODE_A:if(x<64)N===j?p+=String.fromCharCode(" ".charCodeAt(0)+x):p+=String.fromCharCode(" ".charCodeAt(0)+x+128),N=!1;else if(x<96)N===j?p+=String.fromCharCode(x-64):p+=String.fromCharCode(x+64),N=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!j&&N?(j=!0,N=!1):j&&N?(j=!1,N=!1):N=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(x<96)N===j?p+=String.fromCharCode(" ".charCodeAt(0)+x):p+=String.fromCharCode(" ".charCodeAt(0)+x+128),N=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!j&&N?(j=!0,N=!1):j&&N?(j=!1,N=!1):N=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(x<100)x<10&&(p+="0"),p+=x;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var O=v-m;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-m)/2),!1))throw new D;if(w-=b*g,w%103!==g)throw new Ct;var I=p.length;if(I===0)throw new D;I>0&&E&&(d===e.CODE_CODE_C?p=p.substring(0,I-2):p=p.substring(0,I-1));for(var F=(s[1]+s[0])/2,T=m+O/2,M=u.length,L=new Uint8Array(M),$=0;$<M;$++)L[$]=u[$];var fe=[new J(F,r),new J(T,r)];return new Vt(p,L,0,fe,ne.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(wt),c_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E1=function(t){c_(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,u);var v=e.toNarrowWidePattern(u);if(v<0)throw new D;p=e.patternToChar(v),this.decodeRowResult+=p,m=f;try{for(var y=(i=void 0,iu(u)),g=y.next();!g.done;g=y.next()){var x=g.value;f+=x}}catch(M){i={error:M}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var b=iu(u),E=b.next();!E.done;E=b.next()){var x=E.value;w+=x}}catch(M){o={error:M}}finally{try{E&&!E.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}var j=f-m-w;if(f!==h&&j*2<w)throw new D;if(this.usingCheckDigit){for(var N=this.decodeRowResult.length-1,S=0,O=0;O<N;O++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(O));if(this.decodeRowResult.charAt(N)!==e.ALPHABET_STRING.charAt(S%43))throw new Ct;this.decodeRowResult=this.decodeRowResult.substring(0,N)}if(this.decodeRowResult.length===0)throw new D;var I;this.extendedMode?I=e.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;var F=(d[1]+d[0])/2,T=m+w/2;return new Vt(I,null,0,[new J(F,r),new J(T,r)],ne.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),s=0,o=i,c=!1,u=n.length,d=i;d<a;d++)if(r.get(d)!==c)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new D},e.toNarrowWidePattern=function(r){var n,a,i=r.length,s=0,o;do{var c=2147483647;try{for(var u=(n=void 0,iu(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<c&&f>s&&(c=f)}}catch(v){n={error:v}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}s=c,o=0;for(var h=0,p=0,m=0;m<i;m++){var f=r[m];f>s&&(p|=1<<i-1-m,o++,h+=f)}if(o===3){for(var m=0;m<i&&o>0;m++){var f=r[m];if(f>s&&(o--,f*2>=h))return-1}return p}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new D},e.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(i+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new W;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new W;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new W;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new W;break}a+=c,i++}else a+=s}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(wt),u_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),su=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C1=function(t){u_(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,h);var v=this.toPattern(h);if(v<0)throw new D;p=this.patternToChar(v),this.decodeRowResult+=p,m=d;try{for(var y=(i=void 0,su(h)),g=y.next();!g.done;g=y.next()){var x=g.value;d+=x}}catch(O){i={error:O}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var b=su(h),E=b.next();!E.done;E=b.next()){var x=E.value;w+=x}}catch(O){o={error:O}}finally{try{E&&!E.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}if(d===f||!n.get(d))throw new D;if(this.decodeRowResult.length<2)throw new D;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var j=this.decodeExtended(this.decodeRowResult),N=(u[1]+u[0])/2,S=m+w/2;return new Vt(j,null,0,[new J(N,r),new J(S,r)],ne.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,s=a,o=!1,c=i.length,u=0,d=a;d<n;d++)if(r.get(d)!==o)i[u]++;else{if(u===c-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,o=!o}throw new D},e.prototype.toPattern=function(r){var n,a,i=0;try{for(var s=su(r),o=s.next();!o.done;o=s.next()){var c=o.value;i+=c}}catch(m){n={error:m}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/i);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new D},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s>="a"&&s<="d"){if(i>=n-1)throw new W;var o=r.charAt(i+1),c="\0";switch(s){case"d":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new W;break;case"a":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new W;break;case"b":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o>="X"&&o<="Z")c=String.fromCharCode(127);else throw new W;break;case"c":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new W;break}a+=c,i++}else a+=s}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var i=1,s=0,o=n-1;o>=0;o--)s+=i*e.ALPHABET_STRING.indexOf(r.charAt(o)),++i>a&&(i=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new Ct},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(wt),d_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S1=function(t){d_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var i,s,o=this.decodeStart(n),c=this.decodeEnd(n),u=new pe;e.decodeMiddle(n,o[1],c[0],u);var d=u.toString(),f=null;a!=null&&(f=a.get(Qe.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var v=f_(f),y=v.next();!y.done;y=v.next()){var g=y.value;if(h===g){p=!0;break}g>m&&(m=g)}}catch(b){i={error:b}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}if(!p&&h>m&&(p=!0),!p)throw new W;var x=[new J(o[1],r),new J(c[0],r)],w=new Vt(d,null,0,x,ne.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,a,i){var s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);n<a;){wt.recordPattern(r,n,s);for(var u=0;u<5;u++){var d=2*u;o[u]=s[d],c[u]=s[d+1]}var f=e.decodeDigit(o);i.append(f.toString()),f=this.decodeDigit(c),i.append(f.toString()),s.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new D},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new D;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof D&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var i=a.length,s=new Int32Array(i),o=r.getSize(),c=!1,u=0,d=n;s.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==c)s[u]++;else{if(u===i-1){if(wt.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=s[0]+s[1],Be.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new D},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,i=e.PATTERNS.length,s=0;s<i;s++){var o=e.PATTERNS[s],c=wt.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=s):c===n&&(a=-1)}if(a>=0)return a%10;throw new D},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(wt),h_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mi=function(t){h_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,i=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,i,!1,this.START_END_PATTERN,s);var o=a[0];i=a[1];var c=o-(i-o);c>=0&&(n=r.isRange(c,o,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},e.findGuardPattern=function(r,n,a,i,s){var o=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=i.length,f=a,h=n;h<o;h++)if(r.get(h)!==f)s[c]++;else{if(c===d-1){if(wt.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=s[0]+s[1];for(var p=s.slice(2,s.length),m=0;m<c-1;m++)s[m]=p[m];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,f=!f}throw new D},e.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,c=i.length,u=0;u<c;u++){var d=i[u],f=wt.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=u)}if(o>=0)return o;throw new D},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(wt),p_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m_=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new J((n[0]+n[1])/2,e),new J(i,e)],u=new Vt(s,null,0,c,ne.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<5&&c<o;d++){var f=Mi.decodeDigit(e,s,c,Mi.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(a=void 0,p_(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(y){a={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new D;var v=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==v)throw new D;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new D},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Rt.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return r+a+"."+s},t}(),x_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v_=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new J((n[0]+n[1])/2,e),new J(i,e)],u=new Vt(s,null,0,c,ne.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<2&&c<o;d++){var f=Mi.decodeDigit(e,s,c,Mi.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(a=void 0,x_(s)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(v){a={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new D;if(parseInt(n.toString())%4!==u)throw new D;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Rt.ISSUE_NUMBER,parseInt(e)]])},t}(),g_=function(){function t(){}return t.decodeRow=function(e,r,n){var a=Mi.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new m_;return i.decodeRow(e,r,a)}catch{var s=new v_;return s.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),y_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xt=function(t){y_(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],i=new Int32Array(a.length),s=0;s<a.length;s++)i[s]=a[a.length-s-1];e.L_AND_G_PATTERNS[n]=i}return r}return e.prototype.decodeRow=function(r,n,a){var i=e.findStartGuardPattern(n),s=a==null?null:a.get(Qe.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new J((i[0]+i[1])/2,r);s.foundPossibleResultPoint(o)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(s!=null){var f=new J(u,r);s.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(s!=null){var p=new J((h[0]+h[1])/2,r);s.foundPossibleResultPoint(p)}var m=h[1],v=m+(m-h[0]);if(v>=n.getSize()||!n.isRange(m,v,!1))throw new D;var y=d.toString();if(y.length<8)throw new W;if(!e.checkChecksum(y))throw new Ct;var g=(i[1]+i[0])/2,x=(h[1]+h[0])/2,w=this.getBarcodeFormat(),b=[new J(g,r),new J(x,r)],E=new Vt(y,null,0,b,w,new Date().getTime()),j=0;try{var N=g_.decodeRow(r,n,h[1]);E.putMetadata(Rt.UPC_EAN_EXTENSION,N.getText()),E.putAllMetadata(N.getResultMetadata()),E.addResultPoints(N.getResultPoints()),j=N.getText().length}catch{}var S=a==null?null:a.get(Qe.ALLOWED_EAN_EXTENSIONS);if(S!=null){var O=!1;for(var I in S)if(j.toString()===I){O=!0;break}if(!O)throw new D}return w===ne.EAN_13||ne.UPC_A,E},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Mi),w_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Td=function(t){w_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=xt.decodeDigit(r,u,f,xt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+m%10);try{for(var v=(i=void 0,A1(u)),y=v.next();!y.done;y=v.next()){var g=y.value;f+=g}}catch(E){i={error:E}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}m>=10&&(h|=1<<5-p)}a=e.determineFirstDigit(a,h);var x=xt.findGuardPattern(r,f,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var p=0;p<6&&f<d;p++){var m=xt.decodeDigit(r,u,f,xt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+m);try{for(var w=(o=void 0,A1(u)),b=w.next();!b.done;b=w.next()){var g=b.value;f+=g}}catch(N){o={error:N}}finally{try{b&&!b.done&&(c=w.return)&&c.call(w)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return ne.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode("0".charCodeAt(0)+a)+r,r;throw new D},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(xt),b_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I1=function(t){b_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=xt.decodeDigit(r,u,f,xt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var m=(i=void 0,j1(u)),v=m.next();!v.done;v=m.next()){var y=v.value;f+=y}}catch(b){i={error:b}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}}var g=xt.findGuardPattern(r,f,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0));f=g[1];for(var h=0;h<4&&f<d;h++){var p=xt.decodeDigit(r,u,f,xt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var x=(o=void 0,j1(u)),w=x.next();!w.done;w=x.next()){var y=w.value;f+=y}}catch(j){o={error:j}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return ne.EAN_8},e}(xt),__=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T1=function(t){__(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Td,r}return e.prototype.getBarcodeFormat=function(){return ne.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new Vt(n.substring(1),null,null,r.getResultPoints(),ne.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new D},e.prototype.reset=function(){this.ean13Reader.reset()},e}(xt),N_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k1=function(t){N_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o=this.decodeMiddleCounters.map(function(y){return y});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var c=r.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=e.decodeDigit(r,o,u,e.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var p=(i=void 0,E_(o)),m=p.next();!m.done;m=p.next()){var v=m.value;u+=v}}catch(y){i={error:y}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new pe(a),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return xt.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw D.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ne.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),a=new pe;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(xt),C_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ou=function(t){C_(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(Qe.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(ne.EAN_13)>-1&&i.push(new Td),a.indexOf(ne.UPC_A)>-1&&i.push(new T1),a.indexOf(ne.EAN_8)>-1&&i.push(new I1),a.indexOf(ne.UPC_E)>-1&&i.push(new k1)),i.length===0&&(i.push(new Td),i.push(new T1),i.push(new I1),i.push(new k1)),n.readers=i,n}return e.prototype.decodeRow=function(r,n,a){var i,s;try{for(var o=O1(this.readers),c=o.next();!c.done;c=o.next()){var u=c.value;try{var d=u.decodeRow(r,n,a),f=d.getBarcodeFormat()===ne.EAN_13&&d.getText().charAt(0)==="0",h=a==null?null:a.get(Qe.POSSIBLE_FORMATS),p=h==null||h.includes(ne.UPC_A);if(f&&p){var m=d.getRawBytes(),v=new Vt(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),ne.UPC_A);return v.putAllMetadata(d.getResultMetadata()),v}return d}catch{}}}catch(y){i={error:y}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}throw new D},e.prototype.reset=function(){var r,n;try{for(var a=O1(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e}(wt),S_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A_=function(t){S_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new D;var s=this.codaBarDecodeRow(i.row);if(!s)throw new D;return new Vt(s,null,0,[new J(i.left,r),new J(i.right,r)],ne.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var s=[],o=n[0],c=1,u=1;u<n.length;u++)n[u]===o?c++:(o=n[u],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:a,right:i}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),s=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(wt),j_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sa=function(t){j_(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(wt.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new D},e.count=function(r){return Ne.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]>i&&(i=n[s],a=s);r[a]++},e.decrement=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]<i&&(i=n[s],a=s);r[a]--},e.isFinderPattern=function(r){var n,a,i=r[0]+r[1],s=i+r[2]+r[3],o=i/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=I_(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<c&&(c=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(wt),Hl=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),cv=function(){function t(e,r,n,a,i){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new J(n,i)),this.resultPoints.push(new J(a,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),T_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hi=function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,i,s=0;try{for(var o=T_(e),c=o.next();!c.done;c=o.next()){var u=c.value;s+=u}}catch(x){a={error:x}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var v=t.combins(s-m-1,h-p-2);if(n&&f===0&&s-m-(h-p-1)>=h-p-1&&(v-=t.combins(s-m-(h-p),h-p-2)),h-p-1>1){for(var y=0,g=s-m-(h-p-2);g>r;g--)y+=t.combins(s-m-g-1,h-p-3);v-=y*(h-1-p)}else s-m>r&&v--;d+=v}s-=m}return d},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var i=1,s=1,o=e;o>n;o--)i*=o,s<=a&&(i/=s,s++);for(;s<=a;)i/=s,s++;return i},t}(),k_=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new St(n),i=0,s=e[0],o=s.getRightChar().getValue(),c=11;c>=0;--c)o&1<<c&&a.set(i),i++;for(var c=1;c<e.length;++c){for(var u=e[c],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&a.set(i),i++}return a},t}(),ba=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),i0=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),O_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fr=function(t){O_(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(i0),R_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_a=function(t){R_(e,t);function e(r,n,a){var i=t.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(i0),D_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ka=function(t){D_(e,t);function e(r,n,a){var i=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new W;return i.firstDigit=n,i.secondDigit=a,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(i0),Do=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P_=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,i,s,o,c,u;if(!e)return null;if(e.length<2)throw new D;var d=e.substring(0,2);try{for(var f=Do(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(j){r={error:j}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new D;var m=e.substring(0,3);try{for(var v=Do(t.THREE_DIGIT_DATA_LENGTH),y=v.next();!y.done;y=v.next()){var p=y.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(j){a={error:j}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}try{for(var g=Do(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),x=g.next();!x.done;x=g.next()){var p=x.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(j){s={error:j}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}if(e.length<4)throw new D;var w=e.substring(0,4);try{for(var b=Do(t.FOUR_DIGIT_DATA_LENGTH),E=b.next();!E.done;E=b.next()){var p=E.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(j){c={error:j}}finally{try{E&&!E.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}throw new D},t.processFixedAI=function(e,r,n){if(n.length<e)throw new D;var a=n.substring(0,e);if(n.length<e+r)throw new D;var i=n.substring(e,e+r),s=n.substring(e+r),o="("+a+")"+i,c=t.parseFieldsInGeneralPurpose(s);return c==null?o:o+c},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),i;n.length<e+r?i=n.length:i=e+r;var s=n.substring(e,i),o=n.substring(i),c="("+a+")"+s,u=t.parseFieldsInGeneralPurpose(o);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),al=function(){function t(e){this.buffer=new pe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),s=P_.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Ka(this.information.getSize(),Ka.FNC1,Ka.FNC1):new Ka(this.information.getSize(),r-1,Ka.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,i=(n-8)%11;return new Ka(e+7,a,i)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,i=0;i<n;++i)e.get(r+i)&&(a|=1<<n-i-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new _a(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new _a(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new _a(this.current.getPosition(),this.buffer.toString()):r=new _a(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ba(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new _a(this.current.getPosition(),this.buffer.toString());return new ba(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ba(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new _a(this.current.getPosition(),this.buffer.toString());return new ba(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ba(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new _a(this.current.getPosition(),this.buffer.toString());return new ba(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ba(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Fr(e+5,Fr.FNC1);if(r>=5&&r<15)return new Fr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Fr(e+7,""+(n+1));if(n>=90&&n<116)return new Fr(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new W}return new Fr(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Fr(e+5,Fr.FNC1);if(r>=5&&r<15)return new Fr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Fr(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new fo("Decoding invalid alphanumeric value: "+n)}return new Fr(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),uv=function(){function t(e){this.information=e,this.generalDecoder=new al(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),M_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gr=function(t){M_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var s=r.charAt(i+n).charCodeAt(0)-"0".charCodeAt(0);a+=i&1?s:3*s}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e}(uv),L_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F_=function(t){L_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new pe;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Gr),B_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),U_=function(t){B_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new pe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(uv),z_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),il=function(t){z_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var s=this.checkWeight(i),o=1e5,c=0;c<5;++c)s/o===0&&r.append("0"),o/=10;r.append(s)},e}(Gr),V_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dv=function(t){V_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+il.GTIN_SIZE+e.WEIGHT_SIZE)throw new D;var r=new pe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+il.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(il),$_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H_=function(t){$_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(dv),W_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G_=function(t){W_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(dv),X_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z_=function(t){X_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Gr.GTIN_SIZE)throw new D;var r=new pe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Gr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Gr),Y_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K_=function(t){Y_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Gr.GTIN_SIZE)throw new D;var r=new pe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Gr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Gr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Gr),Q_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),On=function(t){Q_(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new D;var r=new pe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var s=a%12+1;a/=12;var o=a;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),i/10===0&&r.append("0"),r.append(i)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(il);function q_(t){try{if(t.get(1))return new F_(t);if(!t.get(2))return new U_(t);var e=al.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new H_(t);case 5:return new G_(t)}var r=al.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new Z_(t);case 13:return new K_(t)}var n=al.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new On(t,"310","11");case 57:return new On(t,"320","11");case 58:return new On(t,"310","13");case 59:return new On(t,"320","13");case 60:return new On(t,"310","15");case 61:return new On(t,"320","15");case 62:return new On(t,"310","17");case 63:return new On(t,"320","17")}}catch(a){throw console.log(a),new fo("unknown decoder: "+t)}}var R1=function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),J_=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,i){r.forEach(function(s){a.getLeftChar().getValue()===s.getLeftChar().getValue()&&a.getRightChar().getValue()===s.getRightChar().getValue()&&a.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),e6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rn=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t6=function(t){e6(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof D){if(!this.pairs.length)throw new D;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new D},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,i,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var c=(a=void 0,Rn(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,s+1)}catch(h){console.log(h)}}}throw new D},e.isValidSequence=function(r){var n,a;try{for(var i=Rn(e.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var o=s.value;if(!(r.length>o.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==o[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,i=!1,s=!1;a<this.rows.length;){var o=this.rows[a];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),a++}s||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new J_(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,i,s,o,c,u;try{for(var d=Rn(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(s=void 0,Rn(h.getPairs())),v=m.next();!v.done;v=m.next()){var y=v.value,g=!1;try{for(var x=(c=void 0,Rn(r)),w=x.next();!w.done;w=x.next()){var b=w.value;if(R1.equals(y,b)){g=!0;break}}}catch(E){c={error:E}}finally{try{w&&!w.done&&(u=x.return)&&u.call(x)}finally{if(c)throw c.error}}g||(p=!1)}}catch(E){s={error:E}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}}}}catch(E){a={error:E}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,i,s,o,c,u;try{for(var d=Rn(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(s=void 0,Rn(r)),v=m.next();!v.done;v=m.next()){var y=v.value,g=!1;try{for(var x=(c=void 0,Rn(h.getPairs())),w=x.next();!w.done;w=x.next()){var b=w.value;if(y.equals(b)){g=!0;break}}}catch(E){c={error:E}}finally{try{w&&!w.done&&(u=x.return)&&u.call(x)}finally{if(c)throw c.error}}if(!g){p=!1;break}}}catch(E){s={error:E}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}if(p)return!0}}catch(E){a={error:E}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=k_.buildBitArray(r),a=q_(n),i=a.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new Vt(i,null,null,c,ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var c=this.pairs.get(o);i+=c.getLeftChar().getChecksumPortion(),s++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),s++)}i%=211;var d=211*(s-4)+i;return d===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var s,o=!0,c=-1;do this.findNextPair(r,n,c),s=this.parseFoundFinderPattern(r,a,i),s===null?c=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(r,s,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new D;var d;try{d=this.decodeDataCharacter(r,s,i,!1)}catch(f){d=null,console.log(f)}return new R1(u,d,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s=r.getSize(),o;if(a>=0)o=a;else if(this.isEmptyPair(n))o=0;else{var c=n[n.length-1];o=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;o<s&&(d=!r.get(o),!!d);)o++;for(var f=0,h=o,p=o;p<s;p++)if(r.get(p)!==d)i[f]++;else{if(f===3){if(u&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(i),h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,d=!d}throw new D},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},e.prototype.parseFoundFinderPattern=function(r,n,a){var i,s,o;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,s=c,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var u=this.getDecodeFinderCounters();Be.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new cv(d,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,a,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var c=0,u=s.length-1;c<u;c++,u--){var d=s[c];s[c]=s[u],s[u]=d}}var f=17,h=Ne.sum(new Int32Array(s))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new D;for(var m=this.getOddCounts(),v=this.getEvenCounts(),y=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var x=1*s[c]/h,w=x+.5;if(w<1){if(x<.3)throw new D;w=1}else if(w>8){if(x>8.7)throw new D;w=8}var b=c/2;c&1?(v[b]=w,g[b]=x-w):(m[b]=w,y[b]=x-w)}this.adjustOddEvenCounts(f);for(var E=4*n.getValue()+(a?0:2)+(i?0:1)-1,j=0,N=0,c=m.length-1;c>=0;c--){if(e.isNotA1left(n,a,i)){var S=e.WEIGHTS[E][2*c];N+=m[c]*S}j+=m[c]}for(var O=0,c=v.length-1;c>=0;c--)if(e.isNotA1left(n,a,i)){var S=e.WEIGHTS[E][2*c+1];O+=v[c]*S}var I=N+O;if(j&1||j>13||j<4)throw new D;var F=(13-j)/2,T=e.SYMBOL_WIDEST[F],M=9-T,L=hi.getRSSvalue(m,T,!0),$=hi.getRSSvalue(v,M,!1),fe=e.EVEN_TOTAL_SUBSET[F],he=e.GSUM[F],U=L*fe+$+he;return new Hl(U,I)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=Ne.sum(new Int32Array(this.getOddCounts())),a=Ne.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);var o=!1,c=!1;a>13?c=!0:a<4&&(o=!0);var u=n+a-r,d=(n&1)===1,f=(a&1)===0;if(u===1)if(d){if(f)throw new D;s=!0}else{if(!f)throw new D;c=!0}else if(u===-1)if(d){if(f)throw new D;i=!0}else{if(!f)throw new D;o=!0}else if(u===0){if(d){if(!f)throw new D;n<a?(i=!0,c=!0):(s=!0,o=!0)}else if(f)throw new D}else throw new D;if(i){if(s)throw new D;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new D;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Sa),r6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n6=function(t){r6(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Hl),a6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D1=function(t){a6(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=lu(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(o=void 0,lu(this.possibleRightPairs)),v=m.next();!v.done;v=m.next()){var y=v.value;if(y.getCount()>1&&e.checkChecksum(p,y))return e.constructResult(p,y)}}catch(g){o={error:g}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}}}catch(g){i={error:g}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}throw new D},e.addOrTally=function(r,n){var a,i;if(n!=null){var s=!1;try{for(var o=lu(r),c=o.next();!c.done;c=o.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),s=new pe,o=13-i.length;o>0;o--)s.append("0");s.append(i);for(var c=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-"0".charCodeAt(0);c+=o&1?u:3*u}c=10-c%10,c===10&&(c=0),s.append(c.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Vt(s.toString(),null,0,[d[0],d[1],f[0],f[1]],ne.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},e.prototype.decodePair=function(r,n,a,i){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,a,n,s),c=i==null?null:i.get(Qe.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new J(u,a))}var d=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new n6(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(a)wt.recordPatternInReverse(r,n.getStartEnd()[0],i);else{wt.recordPattern(r,n.getStartEnd()[1]+1,i);for(var o=0,c=i.length-1;o<c;o++,c--){var u=i[o];i[o]=i[c],i[c]=u}}for(var d=a?16:15,f=Ne.sum(new Int32Array(i))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var y=i[o]/f,g=Math.floor(y+.5);g<1?g=1:g>8&&(g=8);var x=Math.floor(o/2);o&1?(p[x]=g,v[x]=y-g):(h[x]=g,m[x]=y-g)}this.adjustOddEvenCounts(a,d);for(var w=0,b=0,o=h.length-1;o>=0;o--)b*=9,b+=h[o],w+=h[o];for(var E=0,j=0,o=p.length-1;o>=0;o--)E*=9,E+=p[o],j+=p[o];var N=b+3*E;if(a){if(w&1||w>12||w<4)throw new D;var S=(12-w)/2,O=e.OUTSIDE_ODD_WIDEST[S],I=9-O,F=hi.getRSSvalue(h,O,!1),T=hi.getRSSvalue(p,I,!0),M=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],L=e.OUTSIDE_GSUM[S];return new Hl(F*M+T+L,N)}else{if(j&1||j>10||j<4)throw new D;var S=(10-j)/2,O=e.INSIDE_ODD_WIDEST[S],I=9-O,F=hi.getRSSvalue(h,O,!0),T=hi.getRSSvalue(p,I,!1),$=e.INSIDE_ODD_TOTAL_SUBSET[S],L=e.INSIDE_GSUM[S];return new Hl(T*$+F+L,N)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),s=!1,o=0;o<i&&(s=!r.get(o),n!==s);)o++;for(var c=0,u=o,d=o;d<i;d++)if(r.get(d)!==s)a[c]++;else{if(c===3){if(Sa.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new D},e.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var s=r.get(i[0]),o=i[0]-1;o>=0&&s!==r.get(o);)o--;o++;var c=i[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Be.arraycopy(u,0,d,1,u.length-1),d[0]=c;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=o,p=i[1];return a&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new cv(f,[o,i[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=Ne.sum(new Int32Array(this.getOddCounts())),i=Ne.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,u=!1;r?(a>12?o=!0:a<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?o=!0:a<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));var d=a+i-n,f=(a&1)===(r?1:0),h=(i&1)===1;if(d===1)if(f){if(h)throw new D;o=!0}else{if(!h)throw new D;u=!0}else if(d===-1)if(f){if(h)throw new D;s=!0}else{if(!h)throw new D;c=!0}else if(d===0){if(f){if(!h)throw new D;a<i?(s=!0,u=!0):(o=!0,c=!0)}else if(h)throw new D}else throw new D;if(s){if(o)throw new D;Sa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Sa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new D;Sa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Sa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Sa),i6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vs=function(t){i6(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(Qe.POSSIBLE_FORMATS):null,i=r&&r.get(Qe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return a&&((a.includes(ne.EAN_13)||a.includes(ne.UPC_A)||a.includes(ne.EAN_8)||a.includes(ne.UPC_E))&&n.readers.push(new ou(r)),a.includes(ne.CODE_39)&&n.readers.push(new E1(i)),a.includes(ne.CODE_93)&&n.readers.push(new C1),a.includes(ne.CODE_128)&&n.readers.push(new N1),a.includes(ne.ITF)&&n.readers.push(new S1),a.includes(ne.CODABAR)&&n.readers.push(new A_),a.includes(ne.RSS_14)&&n.readers.push(new D1),a.includes(ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new t6))),n.readers.length===0&&(n.readers.push(new ou(r)),n.readers.push(new E1),n.readers.push(new C1),n.readers.push(new ou(r)),n.readers.push(new N1),n.readers.push(new S1),n.readers.push(new D1)),n}return e.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new D},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(wt),s6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){s6(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new vs(n),r,n)||this}return e})(Hi);var P1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Ce=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),o6=function(){function t(e,r,n,a,i,s){var o,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=s;var u=0,d=s.getECCodewords(),f=s.getECBlocks();try{for(var h=P1(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(v){o={error:v}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if(e&1||r&1)throw new W;try{for(var i=P1(t.VERSIONS),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(c){n={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new W},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ae(5,new Ce(1,3))),new t(2,12,12,10,10,new Ae(7,new Ce(1,5))),new t(3,14,14,12,12,new Ae(10,new Ce(1,8))),new t(4,16,16,14,14,new Ae(12,new Ce(1,12))),new t(5,18,18,16,16,new Ae(14,new Ce(1,18))),new t(6,20,20,18,18,new Ae(18,new Ce(1,22))),new t(7,22,22,20,20,new Ae(20,new Ce(1,30))),new t(8,24,24,22,22,new Ae(24,new Ce(1,36))),new t(9,26,26,24,24,new Ae(28,new Ce(1,44))),new t(10,32,32,14,14,new Ae(36,new Ce(1,62))),new t(11,36,36,16,16,new Ae(42,new Ce(1,86))),new t(12,40,40,18,18,new Ae(48,new Ce(1,114))),new t(13,44,44,20,20,new Ae(56,new Ce(1,144))),new t(14,48,48,22,22,new Ae(68,new Ce(1,174))),new t(15,52,52,24,24,new Ae(42,new Ce(2,102))),new t(16,64,64,14,14,new Ae(56,new Ce(2,140))),new t(17,72,72,16,16,new Ae(36,new Ce(4,92))),new t(18,80,80,18,18,new Ae(48,new Ce(4,114))),new t(19,88,88,20,20,new Ae(56,new Ce(4,144))),new t(20,96,96,22,22,new Ae(68,new Ce(4,174))),new t(21,104,104,24,24,new Ae(56,new Ce(6,136))),new t(22,120,120,18,18,new Ae(68,new Ce(6,175))),new t(23,132,132,20,20,new Ae(62,new Ce(8,163))),new t(24,144,144,22,22,new Ae(62,new Ce(8,156),new Ce(2,155))),new t(25,8,18,6,16,new Ae(7,new Ce(1,5))),new t(26,8,32,6,14,new Ae(11,new Ce(1,10))),new t(27,12,26,10,24,new Ae(14,new Ce(1,16))),new t(28,12,36,10,16,new Ae(18,new Ce(1,22))),new t(29,16,36,14,16,new Ae(24,new Ce(1,32))),new t(30,16,48,14,22,new Ae(28,new Ce(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),l6=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new W;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new fn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return o6.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,c=!1,u=!1,d=!1;do if(n===i&&a===0&&!o)e[r++]=this.readCorner1(i,s)&255,n-=2,a+=2,o=!0;else if(n===i-2&&a===0&&s&3&&!c)e[r++]=this.readCorner2(i,s)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&!(s&7)&&!u)e[r++]=this.readCorner3(i,s)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(s&7)===4&&!d)e[r++]=this.readCorner4(i,s)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n-=2,a+=2;while(n>=0&&a<s);n+=1,a+=3;do n>=0&&a<s&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<s);if(r!==this.version.getTotalCodewords())throw new W;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var i=0;return this.readModule(e-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r,n,a)&&(i|=1),i<<=1,this.readModule(e,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e,r,n,a)&&(i|=1),i},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new ae("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=r/a|0,o=n/i|0,c=s*a,u=o*i,d=new fn(u,c),f=0;f<s;++f)for(var h=f*a,p=0;p<o;++p)for(var m=p*i,v=0;v<a;++v)for(var y=f*(a+2)+1+v,g=h+v,x=0;x<i;++x){var w=p*(i+2)+1+x;if(e.get(w,y)){var b=m+x;d.set(b,g)}}return d},t}(),M1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c6=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,i,s,o=r.getECBlocks(),c=0,u=o.getECBlocks();try{for(var d=M1(u),f=d.next();!f.done;f=d.next()){var h=f.value;c+=h.getCount()}}catch(L){n={error:L}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Array(c),m=0;try{for(var v=M1(u),y=v.next();!y.done;y=v.next())for(var h=y.value,g=0;g<h.getCount();g++){var x=h.getDataCodewords(),w=o.getECCodewords()+x;p[m++]=new t(x,new Uint8Array(w))}}catch(L){i={error:L}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}for(var b=p[0].codewords.length,E=b-o.getECCodewords(),j=E-1,N=0,g=0;g<j;g++)for(var S=0;S<m;S++)p[S].codewords[g]=e[N++];for(var O=r.getVersionNumber()===24,I=O?8:m,S=0;S<I;S++)p[S].codewords[E-1]=e[N++];for(var F=p[0].codewords.length,g=E;g<F;g++)for(var S=0;S<m;S++){var T=O?(S+8)%m:S,M=O&&T>7?g-1:g;p[T].codewords[M]=e[N++]}if(N!==e.length)throw new ae;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),fv=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ae(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,c=s-o,u=255>>8-o<<c;r=(i[a]&u)>>c,e-=o,n+=o,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|i[a]&255,a++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(i[a]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),ft;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(ft||(ft={}));var u6=function(){function t(){}return t.decode=function(e){var r=new fv(e),n=new pe,a=new pe,i=new Array,s=ft.ASCII_ENCODE;do if(s===ft.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,a);else{switch(s){case ft.C40_ENCODE:this.decodeC40Segment(r,n);break;case ft.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case ft.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case ft.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new W}s=ft.ASCII_ENCODE}while(s!==ft.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new gc(e,n.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var i=e.readBits(8);if(i===0)throw new W;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),ft.ASCII_ENCODE;if(i===129)return ft.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&r.append("0"),r.append(""+s)}else switch(i){case 230:return ft.C40_ENCODE;case 231:return ft.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return ft.ANSIX12_ENCODE;case 239:return ft.TEXT_ENCODE;case 240:return ft.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new W;break}}while(e.available()>0);return ft.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new W;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new W}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new W}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new W;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new W}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new W;break;default:throw new W}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var i=0;i<3;i++){var s=n[i];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new W;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),a++),s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),a++),s<0)throw new W;for(var o=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new W;o[c]=this.unrandomize255State(e.readBits(8),a++)}n.push(o);try{r.append(Tr.decode(o,ye.ISO88591))}catch(u){throw new fo("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),d6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f6=function(){function t(){this.rsDecoder=new yc(tr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new l6(e),i=a.getVersion(),s=a.readCodewords(),o=c6.getDataBlocks(s,i),c=0;try{for(var u=d6(o),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(c),p=o.length,m=0;m<p;m++){var v=o[m],y=v.getCodewords(),g=v.getNumDataCodewords();this.correctErrors(y,g);for(var x=0;x<g;x++)h[x*p+m]=y[x]}return u6.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Ct}for(var a=0;a<r;a++)e[a]=n[a]},t}(),h6=function(){function t(e){this.image=e,this.rectangleDetector=new jd(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new D;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(i,s)+1;(o&1)===1&&(o+=1),(c&1)===1&&(c+=1),4*o<7*c&&4*c<7*o&&(o=c=Math.max(o,c));var u=t.sampleGrid(this.image,n,a,i,s,o,c);return new n0(u,[n,a,i,s])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),i=(r.getY()-e.getY())/(n+1);return new J(e.getX()+a,e.getY()+i)},t.moveAway=function(e,r,n){var a=e.getX(),i=e.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new J(a,i)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],i=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),d=s,f=[i,r,n,a];return d>o&&(d=o,f[0]=r,f[1]=n,f[2]=a,f[3]=i),d>c&&(d=c,f[0]=n,f[1]=a,f[2]=i,f[3]=r),d>u&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=t.shiftPoint(n,a,(s+1)*4),c=t.shiftPoint(a,n,(s+1)*4),u=this.transitionsBetween(o,r),d=this.transitionsBetween(c,i);return u<d?(e[0]=r,e[1]=n,e[2]=a,e[3]=i):(e[0]=n,e[1]=a,e[2]=i,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=this.transitionsBetween(n,i),c=t.shiftPoint(r,n,(o+1)*4),u=t.shiftPoint(a,n,(s+1)*4);s=this.transitionsBetween(c,i),o=this.transitionsBetween(u,i);var d=new J(i.getX()+(a.getX()-n.getX())/(s+1),i.getY()+(a.getY()-n.getY())/(s+1)),f=new J(i.getX()+(r.getX()-n.getX())/(o+1),i.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i)+1,o=this.transitionsBetween(a,i)+1,c=t.shiftPoint(r,n,o*4),u=t.shiftPoint(a,n,s*4);s=this.transitionsBetween(c,i)+1,o=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var d=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),a=t.moveAway(a,d,f),i=t.moveAway(i,d,f);var h,p;return c=t.shiftPoint(r,n,o*4),c=t.shiftPoint(c,i,s*4),h=t.shiftPoint(n,r,o*4),h=t.shiftPoint(h,a,s*4),u=t.shiftPoint(a,i,o*4),u=t.shiftPoint(u,n,s*4),p=t.shiftPoint(i,a,o*4),p=t.shiftPoint(p,r,s*4),[c,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,i,s,o){var c=a0.getInstance();return c.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),i=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-a)>Math.abs(i-n);if(o){var c=n;n=a,a=c,c=i,i=s,s=c}for(var u=Math.abs(i-n),d=Math.abs(s-a),f=-u/2,h=a<s?1:-1,p=n<i?1:-1,m=0,v=this.image.get(o?a:n,o?n:a),y=n,g=a;y!==i;y+=p){var x=this.image.get(o?g:y,o?y:g);if(x!==v&&(m++,v=x),f+=d,f>0){if(g===s)break;g+=h,f-=u}}return m},t}(),kd=function(){function t(){this.decoder=new f6}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(Qe.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(i),a=t.NO_POINTS}else{var s=new h6(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),a=s.getPoints()}var o=n.getRawBytes(),c=new Vt(n.getText(),o,8*o.length,a,ne.DATA_MATRIX,Be.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Rt.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(Rt.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new D;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0],u=(c-o+1)/a,d=(s-i+1)/a;if(u<=0||d<=0)throw new D;var f=a/2;i+=f,o+=f;for(var h=new fn(u,d),p=0;p<d;p++)for(var m=i+p*a,v=0;v<u;v++)e.get(o+v*a,m)&&h.set(v,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],i=e[1];a<n&&r.get(a,i);)a++;if(a===n)throw new D;var s=a-e[0];if(s===0)throw new D;return s},t.NO_POINTS=[],t}(),p6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){p6(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new kd,r)||this}return e})(Hi);var pi;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(pi||(pi={}));var m6=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ur(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new ae;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(pi.L,"L",1),t.M=new t(pi.M,"M",0),t.Q=new t(pi.Q,"Q",3),t.H=new t(pi.H,"H",2),t}(),x6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hv=function(){function t(e){this.errorCorrectionLevel=m6.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return me.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=x6(t.FORMAT_INFO_DECODE_LOOKUP),c=o.next();!c.done;c=o.next()){var u=c.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<i&&(s=u[1],i=f),e!==r&&(f=t.numBitsDiffering(r,d),f<i&&(s=u[1],i=f))}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),v6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var i=v6(a),s=i.next();!s.done;s=i.next()){var o=s.value;n+=o.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),_=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),g6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ma=function(){function t(e,r){for(var n,a,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;var o=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=g6(u),f=d.next();!f.done;f=d.next()){var h=f.value;o+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new W;try{return this.getVersionForNumber((e-17)/4)}catch{throw new W}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new ae;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var i=t.VERSION_DECODE_INFO[a];if(i===e)return t.getVersionForNumber(a+7);var s=hv.numBitsDiffering(e,i);s<r&&(n=a+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new fn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,s=0;s<n;s++)a===0&&(s===0||s===n-1)||a===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new k(7,new _(1,19)),new k(10,new _(1,16)),new k(13,new _(1,13)),new k(17,new _(1,9))),new t(2,Int32Array.from([6,18]),new k(10,new _(1,34)),new k(16,new _(1,28)),new k(22,new _(1,22)),new k(28,new _(1,16))),new t(3,Int32Array.from([6,22]),new k(15,new _(1,55)),new k(26,new _(1,44)),new k(18,new _(2,17)),new k(22,new _(2,13))),new t(4,Int32Array.from([6,26]),new k(20,new _(1,80)),new k(18,new _(2,32)),new k(26,new _(2,24)),new k(16,new _(4,9))),new t(5,Int32Array.from([6,30]),new k(26,new _(1,108)),new k(24,new _(2,43)),new k(18,new _(2,15),new _(2,16)),new k(22,new _(2,11),new _(2,12))),new t(6,Int32Array.from([6,34]),new k(18,new _(2,68)),new k(16,new _(4,27)),new k(24,new _(4,19)),new k(28,new _(4,15))),new t(7,Int32Array.from([6,22,38]),new k(20,new _(2,78)),new k(18,new _(4,31)),new k(18,new _(2,14),new _(4,15)),new k(26,new _(4,13),new _(1,14))),new t(8,Int32Array.from([6,24,42]),new k(24,new _(2,97)),new k(22,new _(2,38),new _(2,39)),new k(22,new _(4,18),new _(2,19)),new k(26,new _(4,14),new _(2,15))),new t(9,Int32Array.from([6,26,46]),new k(30,new _(2,116)),new k(22,new _(3,36),new _(2,37)),new k(20,new _(4,16),new _(4,17)),new k(24,new _(4,12),new _(4,13))),new t(10,Int32Array.from([6,28,50]),new k(18,new _(2,68),new _(2,69)),new k(26,new _(4,43),new _(1,44)),new k(24,new _(6,19),new _(2,20)),new k(28,new _(6,15),new _(2,16))),new t(11,Int32Array.from([6,30,54]),new k(20,new _(4,81)),new k(30,new _(1,50),new _(4,51)),new k(28,new _(4,22),new _(4,23)),new k(24,new _(3,12),new _(8,13))),new t(12,Int32Array.from([6,32,58]),new k(24,new _(2,92),new _(2,93)),new k(22,new _(6,36),new _(2,37)),new k(26,new _(4,20),new _(6,21)),new k(28,new _(7,14),new _(4,15))),new t(13,Int32Array.from([6,34,62]),new k(26,new _(4,107)),new k(22,new _(8,37),new _(1,38)),new k(24,new _(8,20),new _(4,21)),new k(22,new _(12,11),new _(4,12))),new t(14,Int32Array.from([6,26,46,66]),new k(30,new _(3,115),new _(1,116)),new k(24,new _(4,40),new _(5,41)),new k(20,new _(11,16),new _(5,17)),new k(24,new _(11,12),new _(5,13))),new t(15,Int32Array.from([6,26,48,70]),new k(22,new _(5,87),new _(1,88)),new k(24,new _(5,41),new _(5,42)),new k(30,new _(5,24),new _(7,25)),new k(24,new _(11,12),new _(7,13))),new t(16,Int32Array.from([6,26,50,74]),new k(24,new _(5,98),new _(1,99)),new k(28,new _(7,45),new _(3,46)),new k(24,new _(15,19),new _(2,20)),new k(30,new _(3,15),new _(13,16))),new t(17,Int32Array.from([6,30,54,78]),new k(28,new _(1,107),new _(5,108)),new k(28,new _(10,46),new _(1,47)),new k(28,new _(1,22),new _(15,23)),new k(28,new _(2,14),new _(17,15))),new t(18,Int32Array.from([6,30,56,82]),new k(30,new _(5,120),new _(1,121)),new k(26,new _(9,43),new _(4,44)),new k(28,new _(17,22),new _(1,23)),new k(28,new _(2,14),new _(19,15))),new t(19,Int32Array.from([6,30,58,86]),new k(28,new _(3,113),new _(4,114)),new k(26,new _(3,44),new _(11,45)),new k(26,new _(17,21),new _(4,22)),new k(26,new _(9,13),new _(16,14))),new t(20,Int32Array.from([6,34,62,90]),new k(28,new _(3,107),new _(5,108)),new k(26,new _(3,41),new _(13,42)),new k(30,new _(15,24),new _(5,25)),new k(28,new _(15,15),new _(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new k(28,new _(4,116),new _(4,117)),new k(26,new _(17,42)),new k(28,new _(17,22),new _(6,23)),new k(30,new _(19,16),new _(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new k(28,new _(2,111),new _(7,112)),new k(28,new _(17,46)),new k(30,new _(7,24),new _(16,25)),new k(24,new _(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new k(30,new _(4,121),new _(5,122)),new k(28,new _(4,47),new _(14,48)),new k(30,new _(11,24),new _(14,25)),new k(30,new _(16,15),new _(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new k(30,new _(6,117),new _(4,118)),new k(28,new _(6,45),new _(14,46)),new k(30,new _(11,24),new _(16,25)),new k(30,new _(30,16),new _(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new k(26,new _(8,106),new _(4,107)),new k(28,new _(8,47),new _(13,48)),new k(30,new _(7,24),new _(22,25)),new k(30,new _(22,15),new _(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new k(28,new _(10,114),new _(2,115)),new k(28,new _(19,46),new _(4,47)),new k(28,new _(28,22),new _(6,23)),new k(30,new _(33,16),new _(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new k(30,new _(8,122),new _(4,123)),new k(28,new _(22,45),new _(3,46)),new k(30,new _(8,23),new _(26,24)),new k(30,new _(12,15),new _(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new k(30,new _(3,117),new _(10,118)),new k(28,new _(3,45),new _(23,46)),new k(30,new _(4,24),new _(31,25)),new k(30,new _(11,15),new _(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new k(30,new _(7,116),new _(7,117)),new k(28,new _(21,45),new _(7,46)),new k(30,new _(1,23),new _(37,24)),new k(30,new _(19,15),new _(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new k(30,new _(5,115),new _(10,116)),new k(28,new _(19,47),new _(10,48)),new k(30,new _(15,24),new _(25,25)),new k(30,new _(23,15),new _(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new k(30,new _(13,115),new _(3,116)),new k(28,new _(2,46),new _(29,47)),new k(30,new _(42,24),new _(1,25)),new k(30,new _(23,15),new _(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new k(30,new _(17,115)),new k(28,new _(10,46),new _(23,47)),new k(30,new _(10,24),new _(35,25)),new k(30,new _(19,15),new _(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new k(30,new _(17,115),new _(1,116)),new k(28,new _(14,46),new _(21,47)),new k(30,new _(29,24),new _(19,25)),new k(30,new _(11,15),new _(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new k(30,new _(13,115),new _(6,116)),new k(28,new _(14,46),new _(23,47)),new k(30,new _(44,24),new _(7,25)),new k(30,new _(59,16),new _(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new k(30,new _(12,121),new _(7,122)),new k(28,new _(12,47),new _(26,48)),new k(30,new _(39,24),new _(14,25)),new k(30,new _(22,15),new _(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new k(30,new _(6,121),new _(14,122)),new k(28,new _(6,47),new _(34,48)),new k(30,new _(46,24),new _(10,25)),new k(30,new _(2,15),new _(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new k(30,new _(17,122),new _(4,123)),new k(28,new _(29,46),new _(14,47)),new k(30,new _(49,24),new _(10,25)),new k(30,new _(24,15),new _(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new k(30,new _(4,122),new _(18,123)),new k(28,new _(13,46),new _(32,47)),new k(30,new _(48,24),new _(14,25)),new k(30,new _(42,15),new _(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new k(30,new _(20,117),new _(4,118)),new k(28,new _(40,47),new _(7,48)),new k(30,new _(43,24),new _(22,25)),new k(30,new _(10,15),new _(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new k(30,new _(19,118),new _(6,119)),new k(28,new _(18,47),new _(31,48)),new k(30,new _(34,24),new _(34,25)),new k(30,new _(20,15),new _(61,16)))],t}(),_t;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(_t||(_t={}));var L1=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[_t.DATA_MASK_000,new t(_t.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[_t.DATA_MASK_001,new t(_t.DATA_MASK_001,function(e,r){return(e&1)===0})],[_t.DATA_MASK_010,new t(_t.DATA_MASK_010,function(e,r){return r%3===0})],[_t.DATA_MASK_011,new t(_t.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[_t.DATA_MASK_100,new t(_t.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[_t.DATA_MASK_101,new t(_t.DATA_MASK_101,function(e,r){return e*r%6===0})],[_t.DATA_MASK_110,new t(_t.DATA_MASK_110,function(e,r){return e*r%6<3})],[_t.DATA_MASK_111,new t(_t.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),y6=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new W;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),i=0,s=a-7,n=a-1;n>=s;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=hv.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new W},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ma.getVersionForNumber(r);for(var n=0,a=e-11,i=5;i>=0;i--)for(var s=e-9;s>=a;s--)n=this.copyBit(s,i,n);var o=Ma.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var i=e-9;i>=a;i--)n=this.copyBit(s,i,n);if(o=Ma.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new W},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=L1.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,f=a-1;f>0;f-=2){f===6&&f--;for(var h=0;h<a;h++)for(var p=s?a-1-h:h,m=0;m<2;m++)i.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(o[c++]=u,d=0,u=0));s=!s}if(c!==r.getTotalCodewords())throw new W;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=L1.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,i=e.getHeight();a<i;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t}(),F1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w6=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,i,s,o;if(e.length!==r.getTotalCodewords())throw new ae;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var f=F1(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(M){a={error:M}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var m=new Array(u),v=0;try{for(var y=F1(d),g=y.next();!g.done;g=y.next())for(var p=g.value,x=0;x<p.getCount();x++){var w=p.getDataCodewords(),b=c.getECCodewordsPerBlock()+w;m[v++]=new t(w,new Uint8Array(b))}}catch(M){s={error:M}}finally{try{g&&!g.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}for(var E=m[0].codewords.length,j=m.length-1;j>=0;){var N=m[j].codewords.length;if(N===E)break;j--}j++;for(var S=E-c.getECCodewordsPerBlock(),O=0,x=0;x<S;x++)for(var I=0;I<v;I++)m[I].codewords[x]=e[O++];for(var I=j;I<v;I++)m[I].codewords[S]=e[O++];for(var F=m[0].codewords.length,x=S;x<F;x++)for(var I=0;I<v;I++){var T=I<j?x:x+1;m[I].codewords[T]=e[O++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Er;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Er||(Er={}));var $e=function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new ae;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Er.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Er.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Er.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Er.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Er.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Er.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Er.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Er.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Er.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Er.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),b6=function(){function t(){}return t.decode=function(e,r,n,a){var i=new fv(e),s=new pe,o=new Array,c=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(i.available()<4)h=$e.TERMINATOR;else{var p=i.readBits(4);h=$e.forBits(p)}switch(h){case $e.TERMINATOR:break;case $e.FNC1_FIRST_POSITION:case $e.FNC1_SECOND_POSITION:f=!0;break;case $e.STRUCTURED_APPEND:if(i.available()<16)throw new W;c=i.readBits(8),u=i.readBits(8);break;case $e.ECI:var m=t.parseECIValue(i);if(d=vt.getCharacterSetECIByValue(m),d===null)throw new W;break;case $e.HANZI:var v=i.readBits(4),y=i.readBits(h.getCharacterCountBits(r));v===t.GB2312_SUBSET&&t.decodeHanziSegment(i,s,y);break;default:var g=i.readBits(h.getCharacterCountBits(r));switch(h){case $e.NUMERIC:t.decodeNumericSegment(i,s,g);break;case $e.ALPHANUMERIC:t.decodeAlphanumericSegment(i,s,g,f);break;case $e.BYTE:t.decodeByteSegment(i,s,g,d,o,a);break;case $e.KANJI:t.decodeKanjiSegment(i,s,g);break;default:throw new W}break}}while(h!==$e.TERMINATOR)}catch{throw new W}return new gc(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new W;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,a[i]=o>>8&255,a[i+1]=o&255,i+=2,n--}try{r.append(Tr.decode(a,ye.GB2312))}catch(c){throw new W(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new W;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,a[i]=o>>8,a[i+1]=o,i+=2,n--}try{r.append(Tr.decode(a,ye.SHIFT_JIS))}catch(c){throw new W(c)}},t.decodeByteSegment=function(e,r,n,a,i,s){if(8*n>e.available())throw new W;for(var o=new Uint8Array(n),c=0;c<n;c++)o[c]=e.readBits(8);var u;a===null?u=ye.guessEncoding(o,s):u=a.getName();try{r.append(Tr.decode(o,u))}catch(d){throw new W(d)}i.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new W;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var i=r.length();n>1;){if(e.available()<11)throw new W;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new W;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var o=i;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new W;var a=e.readBits(10);if(a>=1e3)throw new W;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new W;var i=e.readBits(7);if(i>=100)throw new W;r.append(t.toAlphaNumericChar(Math.floor(i/10))),r.append(t.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new W;var s=e.readBits(4);if(s>=10)throw new W;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new W},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),pv=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),B1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_6=function(){function t(){this.rsDecoder=new yc(tr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(fn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new y6(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){a=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new pv(!0)),i}catch(s){throw a!==null?a:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,i,s,o=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=w6.getDataBlocks(u,o,c),f=0;try{for(var h=B1(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(j){n={error:j}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var v=new Uint8Array(f),y=0;try{for(var g=B1(d),x=g.next();!x.done;x=g.next()){var m=x.value,w=m.getCodewords(),b=m.getNumDataCodewords();this.correctErrors(w,b);for(var E=0;E<b;E++)v[y++]=w[E]}}catch(j){i={error:j}}finally{try{x&&!x.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}return b6.decode(v,o,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Ct}for(var a=0;a<r;a++)e[a]=n[a]},t}(),N6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E6=function(t){N6(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+a)/2;return new e(i,s,o)},e}(J),C6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S6=function(){function t(e,r,n,a,i,s,o){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,i=this.startY+r/2,s=new Int32Array(3),o=this.image,c=0;c<r;c++){var u=i+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<a&&!o.get(d,u);)d++;for(var f=0;d<a;){if(o.get(d,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,d);if(h!==null)return h}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;d++}if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,a);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new D},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var i=this.image,s=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var c=e;c>=0&&i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c)&&o[1]<=n;)o[1]++,c++;if(c===s||o[1]>n)return NaN;for(;c<s&&!i.get(r,c)&&o[2]<=n;)o[2]++,c++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,i,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=C6(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,c,o))return h.combineEstimate(c,o,u)}}catch(m){a={error:m}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new E6(o,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),A6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j6=function(t){A6(e,t);function e(r,n,a,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=a,s.count=i,i===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=this.count+1,s=(this.count*this.getX()+n)/i,o=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new e(s,o,c,i)},e}(J),I6=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),rs=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T6=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Qe.TRY_HARDER)!==void 0,n=e!=null&&e.get(Qe.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),s=a.getWidth(),o=Math.floor(3*i/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=o-1;d<i&&!c;d+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<s;h++)if(a.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(o=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-o,h=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,s,n);p===!0&&(o=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return J.orderBestPatterns(v),new I6(v)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,s=i/2;return Math.abs(i-e[0])<s&&Math.abs(i-e[1])<s&&Math.abs(3*i-e[2])<3*s&&Math.abs(i-e[3])<s&&Math.abs(i-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var i=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)i[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&i[1]<=n;)i[1]++,s++;if(e<s||r<s||i[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;var c=o.getHeight(),u=o.getWidth();for(s=1;e+s<c&&r+s<u&&o.get(r+s,e+s);)i[2]++,s++;if(e+s>=c||r+s>=u)return!1;for(;e+s<c&&r+s<u&&!o.get(r+s,e+s)&&i[3]<n;)i[3]++,s++;if(e+s>=c||r+s>=u||i[3]>=n)return!1;for(;e+s<c&&r+s<u&&o.get(r+s,e+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var i=this.image,s=i.getHeight(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(r,c);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(r,c)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(r,c)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=2*a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var i=this.image,s=i.getWidth(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(c,r);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(c,r);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(c,r)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(c,r)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var i=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],i);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],i),!isNaN(s)&&(!a||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],i)))){for(var c=i/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,o,s)){d[f]=p.combineEstimate(o,s,c),u=!0;break}}if(!u){var m=new j6(s,o,c);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=rs(this.possibleCenters),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(a==null)a=o;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,i=0,s=0,o=this.possibleCenters.length;try{for(var c=rs(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize())}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(i<3)return!1;var f=s/o,h=0;try{for(var p=rs(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(v){n={error:v}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return h<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,a,i=this.possibleCenters.length;if(i<3)throw new D;var s=this.possibleCenters,o;if(i>3){var c=0,u=0;try{for(var d=rs(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();c+=p,u+=p*p}}catch(E){e={error:E}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}o=c/i;var m=Math.sqrt(u/i-o*o);s.sort(function(E,j){var N=Math.abs(j.getEstimatedModuleSize()-o),S=Math.abs(E.getEstimatedModuleSize()-o);return N<S?-1:N>S?1:0});for(var v=Math.max(.2*o,m),y=0;y<s.length&&s.length>3;y++){var g=s[y];Math.abs(g.getEstimatedModuleSize()-o)>v&&(s.splice(y,1),y--)}}if(s.length>3){var c=0;try{for(var x=rs(s),w=x.next();!w.done;w=x.next()){var b=w.value;c+=b.getEstimatedModuleSize()}}catch(j){n={error:j}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}o=c/s.length,s.sort(function(j,N){if(N.getCount()===j.getCount()){var S=Math.abs(N.getEstimatedModuleSize()-o),O=Math.abs(j.getEstimatedModuleSize()-o);return S<O?1:S>O?-1:0}else return N.getCount()-j.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),k6=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Qe.NEED_RESULT_POINT_CALLBACK);var r=new T6(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new D("No pattern found in proccess finder.");var s=t.computeDimension(r,n,a,i),o=Ma.getProvisionalVersionForDimension(s),c=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),h=1-3/c,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),v=4;v<=16;v<<=1)try{u=this.findAlignmentInRegion(i,p,m,v);break}catch(w){if(!(w instanceof D))throw w}var y=t.createTransform(r,n,a,u,s),g=t.sampleGrid(this.image,y,s),x;return u===null?x=[a,r,n]:x=[a,r,n,u],new n0(g,x)},t.createTransform=function(e,r,n,a,i){var s=i-3.5,o,c,u,d;return a!==null?(o=a.getX(),c=a.getY(),u=s-3,d=u):(o=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=s,d=s),lv.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=a0.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var i=Ne.round(J.distance(e,r)/a),s=Ne.round(J.distance(e,n)/a),o=Math.floor((i+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new D("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(e,r,n,a),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*s);return s=1,c<0?(s=r/(r-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,r,o,c),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var i=Math.abs(a-r)>Math.abs(n-e);if(i){var s=e;e=r,r=s,s=n,n=a,a=s}for(var o=Math.abs(n-e),c=Math.abs(a-r),u=-o/2,d=e<n?1:-1,f=r<a?1:-1,h=0,p=n+d,m=e,v=r;m!==p;m+=d){var y=i?v:m,g=i?m:v;if(h===1===this.image.get(y,g)){if(h===2)return Ne.distance(m,v,e,r);h++}if(u+=c,u>0){if(v===a)break;v+=f,u-=o}}return h===2?Ne.distance(n+d,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var i=Math.floor(a*e),s=Math.max(0,r-i),o=Math.min(this.image.getWidth()-1,r+i);if(o-s<e*3)throw new D("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<e*3)throw new D("Alignment bottom exceeds estimated module size.");var d=new S6(this.image,s,c,o-s,u-c,e,this.resultPointCallback);return d.find()},t}(),Od=function(){function t(){this.decoder=new _6}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(Qe.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=t.NO_POINTS}else{var s=new k6(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),a=s.getPoints()}n.getOther()instanceof pv&&n.getOther().applyMirroredCorrection(a);var o=new Vt(n.getText(),n.getRawBytes(),void 0,a,ne.QR_CODE,void 0),c=n.getByteSegments();c!==null&&o.putMetadata(Rt.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&o.putMetadata(Rt.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(Rt.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(Rt.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new D;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0];if(o>=c||i>=s)throw new D;if(s-i!==c-o&&(c=o+(s-i),c>=e.getWidth()))throw new D;var u=Math.round((c-o+1)/a),d=Math.round((s-i+1)/a);if(u<=0||d<=0)throw new D;if(d!==u)throw new D;var f=Math.floor(a/2);i+=f,o+=f;var h=o+Math.floor((u-1)*a)-c;if(h>0){if(h>f)throw new D;o-=h}var p=i+Math.floor((d-1)*a)-s;if(p>0){if(p>f)throw new D;i-=p}for(var m=new fn(u,d),v=0;v<d;v++)for(var y=i+Math.floor(v*a),g=0;g<u;g++)e.get(o+Math.floor(g*a),y)&&m.set(g,v);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),i=e[0],s=e[1],o=!0,c=0;i<a&&s<n;){if(o!==r.get(i,s)){if(++c===5)break;o=!o}i++,s++}if(i===a||s===n)throw new D;return(i-e[0])/7},t.NO_POINTS=new Array,t}(),O6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},we=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Ne.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),i=0;try{for(var s=O6(e),o=s.next();!o.done;o=s.next()){var c=o.value;a[i++]=c}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=gt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),R6=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),D6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P6=function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),i=t.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=t.detect(n,a)),new R6(a,i)},t.detect=function(e,r){for(var n,a,i=new Array,s=0,o=0,c=!1;s<r.getHeight();){var u=t.findVertices(r,s,o);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,o=0;try{for(var d=(n=void 0,D6(i)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(c=!0,i.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return i},t.findVertices=function(e,r,n){var a=e.getHeight(),i=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,i,s){for(var o=new Array(4),c=!1,u=new Int32Array(s.length);a<r;a+=t.ROW_STEP){var d=t.findGuardPattern(e,i,a,n,!1,s,u);if(d!=null){for(;a>0;){var f=t.findGuardPattern(e,i,--a,n,!1,s,u);if(f!=null)d=f;else{a++;break}}o[0]=new J(d[0],a),o[1]=new J(d[1],a),c=!0;break}}var h=a+1;if(c){for(var p=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,s,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,o[2]=new J(f[0],h),o[3]=new J(f[1],h)}return h-a<t.BARCODE_MIN_HEIGHT&&gt.fill(o,null),o},t.findGuardPattern=function(e,r,n,a,i,s,o){gt.fillWithin(o,0,o.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,f=0,h=s.length,p=i;d<a;d++){var m=e.get(d,n);if(m!==p)o[f]++;else{if(f===h-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=o[0]+o[1],Be.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return 1/0;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),M6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=function(){function t(e,r){if(r.length===0)throw new ae;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),Be.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var i=M6(this.coefficients),s=i.next();!s.done;s=i.next()){var o=s.value;a=this.field.add(a,o)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new ae("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;Be.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=this.field.add(r[o-s],n[o]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ae("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ae("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=0;o<n;o++)for(var c=r[o],u=0;u<i;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(c,a[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ae;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new pe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),L6=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ae;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new ov;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),F6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B6=function(t){F6(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,s=0;s<r;s++)a.expTable[s]=i,i=i*n%r;for(var s=0;s<r-1;s++)a.logTable[a.expTable[s]]=s;return a.zero=new Oa(a,new Int32Array([0])),a.one=new Oa(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ae;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Oa(this,a)},e.PDF417_GF=new e(we.NUMBER_OF_CODEWORDS,3),e}(L6),U6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z6=function(){function t(){this.field=B6.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,i,s=new Oa(this.field,e),o=new Int32Array(r),c=!1,u=r;u>0;u--){var d=s.evaluateAt(this.field.exp(u));o[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=U6(n),p=h.next();!p.done;p=h.next()){var m=p.value,v=this.field.exp(e.length-1-m),y=new Oa(this.field,new Int32Array([this.field.subtract(0,v),1]));f=f.multiply(y)}}catch(S){a={error:S}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var g=new Oa(this.field,o),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),g,r),w=x[0],b=x[1],E=this.findErrorLocations(w),j=this.findErrorMagnitudes(b,w,E),u=0;u<E.length;u++){var N=e.length-1-this.field.log(E[u]);if(N<0)throw Ct.getChecksumInstance();e[N]=this.field.subtract(e[N],j[u])}return E.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=e,s=r,o=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=i,d=o;if(i=s,o=c,i.isZero())throw Ct.getChecksumInstance();s=u;for(var f=this.field.getZero(),h=i.getCoefficient(i.getDegree()),p=this.field.inverse(h);s.getDegree()>=i.getDegree()&&!s.isZero();){var m=s.getDegree()-i.getDegree(),v=this.field.multiply(s.getCoefficient(s.getDegree()),p);f=f.add(this.field.buildMonomial(m,v)),s=s.subtract(i.multiplyByMonomial(m,v))}c=f.multiply(o).subtract(d).negative()}var y=c.getCoefficient(0);if(y===0)throw Ct.getChecksumInstance();var g=this.field.inverse(y),x=c.multiply(g),w=s.multiply(g);return[x,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)e.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw Ct.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),i=new Int32Array(a),s=1;s<=a;s++)i[a-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new Oa(this.field,i),c=n.length,u=new Int32Array(c),s=0;s<c;s++){var d=this.field.inverse(n[s]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(o.evaluateAt(d));u[s]=this.field.multiply(f,h)}return u},t}(),Rd=function(){function t(e,r,n,a,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,i)}return t.prototype.constructor_1=function(e,r,n,a,i){var s=r==null||n==null,o=a==null||i==null;if(s&&o)throw new D;s?(r=new J(0,a.getY()),n=new J(0,i.getY())):o&&(a=new J(e.getWidth()-1,r.getY()),i=new J(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,i=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var d=new J(c.getX(),u);n?a=d:s=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new J(f.getX(),h);n?i=p:o=p}return new t(this.image,a,i,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),V6=function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),s0=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(s,o,c,u,d,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(s);break;case"p":p=parseFloat(r[n]).toPrecision(s);break;case"e":p=parseFloat(r[n]).toExponential(s);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(c),v=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=o!==void 0?p+v:v+p;return p}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),$6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mv=function(){function t(e){this.boundingBox=new Rd(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new s0,a=0;try{for(var i=$6(this.codewords),s=i.next();!s.done;s=i.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),H6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W6=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},gs=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,i=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===n&&a.push(p.getKey())};try{for(var s=H6(this.values.entries()),o=s.next();!o.done;o=s.next()){var c=W6(o.value,2),u=c[0],d=c[1];i(u,d)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return we.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),G6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U1=function(t){G6(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=cu(this.getCodewords()),i=a.next();!i.done;i=a.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,f=0,h=o;h<c;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var v=void 0;d>2?v=(d-2)*m:v=m;for(var y=v>=h,g=1;g<=v&&!y;g++)y=n[h-g]!=null;y?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var s=cu(this.getCodewords()),o=s.next();!o.done;o=s.next()){var c=o.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,d=s;d<o;d++)if(c[d]!=null){var f=c[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new gs,s=new gs,o=new gs,c=new gs;try{for(var u=cu(a),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:c.setValue(h/3),o.setValue(h%3);break;case 2:i.setValue(h+1);break}}}}catch(v){r={error:v}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<we.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;var m=new V6(i.getValue()[0],s.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var s=i.getValue()%30,o=i.getRowNumber();if(o>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:s+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(mv),X6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z6=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=we.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,i;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),c=o;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=o[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=o[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=o[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=o[r+2],u[13]=c[r+2]);try{for(var d=X6(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(s,h))return}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new s0,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},t}(),Y6=function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),K6=function(){function t(){}return t.initialize=function(){for(var e=0;e<we.SYMBOL_TABLE.length;e++)for(var r=we.SYMBOL_TABLE[e],n=r&1,a=0;a<we.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(we.BARS_IN_MODULE)),t.RATIOS_TABLE[e][we.BARS_IN_MODULE-a-1]=Math.fround(i/we.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Ne.sum(e),n=new Int32Array(we.BARS_IN_MODULE),a=0,i=0,s=0;s<we.MODULES_IN_CODEWORD;s++){var o=r/(2*we.MODULES_IN_CODEWORD)+s*r/we.MODULES_IN_CODEWORD;i+e[a]<=o&&(i+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return we.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Ne.sum(e),n=new Array(we.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var i=Ad.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var c=0,u=t.RATIOS_TABLE[o],d=0;d<we.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(c+=Math.fround(f*f),c>=i)break}c<i&&(i=c,s=we.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(function(e){return new Array(we.BARS_IN_MODULE)}),t}(),Q6=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),z1=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),q6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J6=function(t){q6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(sr),eN=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new J6;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new t0;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),tN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rN=function(t){tN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(sr),nN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aN=function(t){nN(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new ae("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new rN;a=me.MAX_VALUE}this.buf=gt.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new t0;this.ensureCapacity(this.count+a),Be.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return gt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(eN),Re;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Re||(Re={}));function xv(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Po;function Bn(t){if(typeof Po>"u"&&(Po=xv()),Po===null)throw new Error("BigInt is not supported!");return Po(t)}function iN(){var t=[];t[0]=Bn(1);var e=Bn(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var sN=function(){function t(){}return t.decode=function(e,r){var n=new pe(""),a=vt.ISO8859_1;n.enableDecoding(a);for(var i=1,s=e[i++],o=new Q6;i<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(s,e,a,i,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,n);break;case t.ECI_CHARSET:vt.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new W;default:i--,i=t.textCompaction(e,i,n);break}if(i<e.length)s=e[i++];else throw W.getFormatInstance()}if(n.length()===0)throw W.getFormatInstance();var c=new gc(null,n.toString(),null,r);return c.setOther(o),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw W.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=e[r];n.setSegmentIndex(me.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new pe;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new pe;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new pe;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new pe;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new pe;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(me.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new pe;r=t.numericCompaction(e,r+1,h),n.setTimestamp(z1.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new pe;r=t.numericCompaction(e,r+1,p),n.setChecksum(me.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new pe;r=t.numericCompaction(e,r+1,m),n.setFileSize(z1.parseLong(m.toString()));break;default:throw W.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw W.getFormatInstance()}if(o!==-1){var v=r-o;n.isLastSegment()&&v--,n.setOptionalData(gt.copyOfRange(e,o,o+v))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),i=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)a[s]=c/30,a[s+1]=c%30,s+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:a[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],i[s]=c,s++;break}}return t.decodeTextCompaction(a,i,s,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var i=Re.ALPHA,s=Re.ALPHA,o=0;o<n;){var c=e[o],u="";switch(i){case Re.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:i=Re.LOWER;break;case t.ML:i=Re.MIXED;break;case t.PS:s=i,i=Re.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Re.ALPHA;break}break;case Re.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:s=i,i=Re.ALPHA_SHIFT;break;case t.ML:i=Re.MIXED;break;case t.PS:s=i,i=Re.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Re.ALPHA;break}break;case Re.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:i=Re.PUNCT;break;case 26:u=" ";break;case t.LL:i=Re.LOWER;break;case t.AL:i=Re.ALPHA;break;case t.PS:s=i,i=Re.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Re.ALPHA;break}break;case Re.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=Re.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Re.ALPHA;break}break;case Re.ALPHA_SHIFT:if(i=s,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=Re.ALPHA;break}break;case Re.PUNCT_SHIFT:if(i=s,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=Re.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Re.ALPHA;break}break}u!==""&&a.append(u),o++}},t.byteCompaction=function(e,r,n,a,i){var s=new aN,o=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[a++];a<r[0]&&!u;)switch(d[o++]=f,c=900*c+f,f=r[a++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(Bn(c)>>Bn(8*(5-h))));c=0,o=0}break}a===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=f);for(var p=0;p<o;p++)s.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var m=r[a++];if(m<t.TEXT_COMPACTION_MODE_LATCH)o++,c=900*c+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(Bn(c)>>Bn(8*(5-h))));c=0,o=0}}break}return i.append(Tr.decode(s.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,i=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!i;){var o=e[r++];if(r===e[0]&&(i=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[a]=o,a++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(t.decodeBase900toBase10(s,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Bn(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*Bn(e[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new W;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=xv()?iN():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),ns=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oN=function(){function t(){}return t.decode=function(e,r,n,a,i,s,o){for(var c=new Rd(e,r,n,a,i),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,s,o)),a!=null&&(d=t.getRowIndicatorColumn(e,c,a,!1,s,o)),f=t.merge(u,d),f==null)throw D.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}f.setBoundingBox(c);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var v=u!=null,y=1;y<=m;y++){var g=v?y:m-y;if(f.getDetectionResultColumn(g)===void 0){var x=void 0;g===0||g===m?x=new U1(c,g===0):x=new mv(c),f.setDetectionResultColumn(g,x);for(var w=-1,b=w,E=c.getMinY();E<=c.getMaxY();E++){if(w=t.getStartColumn(f,g,E,v),w<0||w>c.getMaxX()){if(b===-1)continue;w=b}var j=t.detectCodeword(e,c.getMinX(),c.getMaxX(),v,w,E,s,o);j!=null&&(x.setCodeword(E,j),b=w,s=Math.min(s,j.getWidth()),o=Math.max(o,j.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=Rd.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Z6(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var i=t.getMax(a),s=0;try{for(var o=ns(a),c=o.next();!c.done;c=o.next()){var u=c.value;if(s+=i-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;s>0&&d[f]==null;f++)s--;for(var h=0,f=a.length-1;f>=0&&(h+=i-a[f],!(a[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(s,h,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var i=ns(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=Math.max(a,o)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,i,s){for(var o=new U1(r,a),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),a,d,f,i,s);h!=null&&(o.setCodeword(f,h),a?d=h.getStartX():d=h.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(i<1||i>we.MAX_CODEWORDS_IN_BARCODE)throw D.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[o][c+1].getValue(),d=o*e.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(s.push(d),i.push(u))}for(var f=new Array(i.length),h=0;h<f.length;h++)f[h]=i[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,we.toIntArray(n),we.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,i){for(var s=new Int32Array(a.length),o=100;o-- >0;){for(var c=0;c<s.length;c++)r[a[c]]=i[c][s[c]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof Ct;if(!u)throw d}if(s.length===0)throw Ct.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<i[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Ct.getChecksumInstance()}throw Ct.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,i,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var c=0;c<s[o].length;c++)s[o][c]=new gs;var u=0;try{for(var d=ns(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(a=void 0,ns(h.getCodewords())),m=p.next();!m.done;m=p.next()){var v=m.value;if(v!=null){var y=v.getRowNumber();if(y>=0){if(y>=s.length)continue;s[y][u].setValue(v.getValue())}}}}catch(g){a={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u++}}catch(g){r={error:g}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var i,s,o=a?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var d=(i=void 0,ns(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(a?h.getEndX():h.getStartX())+o*u*(h.getEndX()-h.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}u++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,i,s,o,c){i=t.adjustCodewordStartColumn(e,r,n,a,i,s);var u=t.getModuleBitCount(e,r,n,a,i,s);if(u==null)return null;var d,f=Ne.sum(u);if(a)d=i+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=i,i=d-f}if(!t.checkCodewordSkew(f,o,c))return null;var m=K6.getDecodedValue(u),v=we.getCodeword(m);return v===-1?null:new Y6(i,d,t.getCodewordBucketNumber(m),v)},t.getModuleBitCount=function(e,r,n,a,i,s){for(var o=i,c=new Int32Array(8),u=0,d=a?1:-1,f=a;(a?o<n:o>=r)&&u<c.length;)e.get(o,s)===f?(c[u]++,o+=d):(u++,f=!f);return u===c.length||o===(a?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,i,s){for(var o=i,c=a?-1:1,u=0;u<2;u++){for(;(a?o>=r:o<n)&&a===e.get(o,s);){if(Math.abs(i-o)>t.CODEWORD_SKEW_SIZE)return i;o+=c}c=-c,a=!a}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw W.getFormatInstance();var a=1<<r+1,i=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var s=sN.decode(e,""+r);return s.setErrorsCorrected(i),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Ct.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw W.getFormatInstance();var n=e[0];if(n>e.length)throw W.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw W.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new s0,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var i=e[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new z6,t}(),lN=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw D.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof W||n instanceof Ct?D.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,i,s=new Array,o=P6.detectMultiple(e,r,n);try{for(var c=lN(o.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,f=oN.decode(o.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new Vt(f.getText(),f.getRawBytes(),void 0,d,ne.PDF_417);h.putMetadata(Rt.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Rt.PDF417_EXTRA_METADATA,p),s.push(h)}}catch(m){a={error:m}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?me.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),cN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V1=function(t){cN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(sr),$1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uN=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Qe.TRY_HARDER)!==void 0,n=e==null?null:e.get(Qe.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(s){return s===ne.UPC_A||s===ne.UPC_E||s===ne.EAN_13||s===ne.EAN_8||s===ne.CODABAR||s===ne.CODE_39||s===ne.CODE_93||s===ne.CODE_128||s===ne.ITF||s===ne.RSS_14||s===ne.RSS_EXPANDED});i&&!r&&a.push(new vs(e)),n.includes(ne.QR_CODE)&&a.push(new Od),n.includes(ne.DATA_MATRIX)&&a.push(new kd),n.includes(ne.AZTEC)&&a.push(new Id),n.includes(ne.PDF_417)&&a.push(new Dd),i&&r&&a.push(new vs(e))}a.length===0&&(r||a.push(new vs(e)),a.push(new Od),a.push(new kd),a.push(new Id),a.push(new Dd),r&&a.push(new vs(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=$1(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new V1("No readers where selected, nothing can be read.");try{for(var a=$1(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof V1)continue}}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new D("No MultiFormat Readers were able to detect the code.")},t}(),dN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fN=function(t){dN(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new uN;return i.setHints(r),a=t.call(this,i,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Hi),hN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){hN(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Dd,r)||this}return e})(Hi);var pN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){pN(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Od,r)||this}return e})(Hi);var Pd;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Pd||(Pd={}));const Mo=Pd;var vv=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new sa(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=e;i++){var s=n.multiply(new sa(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new ae("No error correction bytes");var n=e.length-r;if(n<=0)throw new ae("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);Be.arraycopy(e,0,i,0,n);var s=new sa(this.field,i);s=s.multiplyByMonomial(r,1);for(var o=s.divide(a)[1],c=o.getCoefficients(),u=r-c.length,d=0;d<u;d++)e[n+d]=0;Be.arraycopy(c,0,e,n+u,c.length)},t}(),ys=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i-1;s++)for(var o=n[s],c=0;c<a-1;c++){var u=o[c];u===o[c+1]&&u===n[s+1][c]&&u===n[s+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=0;o<a;o++){var c=n[s];o+6<a&&c[o]===1&&c[o+1]===0&&c[o+2]===1&&c[o+3]===1&&c[o+4]===1&&c[o+5]===0&&c[o+6]===1&&(t.isWhiteHorizontal(c,o-4,o)||t.isWhiteHorizontal(c,o+7,o+11))&&r++,s+6<i&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=n[s],c=0;c<a;c++)o[c]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var a,i;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new ae("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),i=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<a;o++){for(var c=0,u=-1,d=0;d<i;d++){var f=r?s[o][d]:s[d][o];f===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=f)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),mN=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xN=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=mN(this.bytes),i=a.next();!i.done;i=a.next()){var s=i.value;gt.fill(s,e)}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],s=r.bytes[n],o=0,c=this.width;o<c;++o)if(i[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new pe,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,s=this.width;i<s;++i)switch(a[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Md=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new pe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),vN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ve=function(t){vN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(sr),H1=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,i){t.clearMatrix(i),t.embedBasicPatterns(n,i),t.embedTypeInfo(r,a,i),t.maybeEmbedVersionInfo(n,i),t.embedDataBits(e,a,i)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new St;t.makeTypeInfoBits(e,r,a);for(var i=0,s=a.getSize();i<s;++i){var o=a.get(a.getSize()-1-i),c=t.TYPE_INFO_COORDINATES[i],u=c[0],d=c[1];if(n.setBoolean(u,d,o),i<8){var f=n.getWidth()-i-1,h=8;n.setBoolean(f,h,o)}else{var f=8,h=n.getHeight()-7+(i-8);n.setBoolean(f,h,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new St;t.makeVersionInfoBits(e,n);for(var a=6*3-1,i=0;i<6;++i)for(var s=0;s<3;++s){var o=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,i,o)}}},t.embedDataBits=function(e,r,n){for(var a=0,i=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var c=0;c<2;++c){var u=s-c;if(t.isEmpty(n.get(u,o))){var d=void 0;a<e.getSize()?(d=e.get(a),++a):d=!1,r!==255&&ys.getDataMaskBit(r,u,o)&&(d=!d),n.setBoolean(u,o,d)}}o+=i}i=-i,o+=i,s-=2}if(a!==e.getSize())throw new Ve("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-me.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new ae("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Md.isValidMaskPattern(r))throw new Ve("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var i=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(i,10);var s=new St;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Ve("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Ve("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ve;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new Ve;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new Ve;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var i=t.POSITION_ADJUSTMENT_PATTERN[a],s=0;s<5;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var i=t.POSITION_DETECTION_PATTERN[a],s=0;s<7;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,s=a.length;i!==s;i++){var o=a[i];if(o>=0)for(var c=0;c!==s;c++){var u=a[c];u>=0&&t.isEmpty(r.get(u,o))&&t.embedPositionAdjustmentPattern(u-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),gN=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),W1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ys.applyMaskPenaltyRule1(e)+ys.applyMaskPenaltyRule2(e)+ys.applyMaskPenaltyRule3(e)+ys.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(Mo.CHARACTER_SET)!==void 0;i&&(a=n.get(Mo.CHARACTER_SET).toString());var s=this.chooseMode(e,a),o=new St;if(s===$e.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=vt.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,o)}this.appendModeInfo(s,o);var u=new St;this.appendBytes(e,s,u,a);var d;if(n!==null&&n.get(Mo.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Mo.QR_VERSION).toString(),10);d=Ma.getVersionForNumber(f);var h=this.calculateBitsNeeded(s,o,u,d);if(!this.willFit(h,d,r))throw new Ve("Data too big for requested version")}else d=this.recommendVersion(r,s,o,u);var p=new St;p.appendBitArray(o);var m=s===$e.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,s,p),p.appendBitArray(u);var v=d.getECBlocksForLevel(r),y=d.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(y,p);var g=this.interleaveWithECBytes(p,d.getTotalCodewords(),y,v.getNumBlocks()),x=new Md;x.setECLevel(r),x.setMode(s),x.setVersion(d);var w=d.getDimensionForVersion(),b=new xN(w,w),E=this.chooseMaskPattern(g,r,d,b);return x.setMaskPattern(E),H1.buildMatrix(g,r,d,E,b),x.setMatrix(b),x},t.recommendVersion=function(e,r,n,a){var i=this.calculateBitsNeeded(r,n,a,Ma.getVersionForNumber(1)),s=this.chooseVersion(i,e),o=this.calculateBitsNeeded(r,n,a,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),vt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return $e.KANJI;for(var n=!1,a=!1,i=0,s=e.length;i<s;++i){var o=e.charAt(i);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)a=!0;else return $e.BYTE}return a?$e.ALPHANUMERIC:n?$e.NUMERIC:$e.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Tr.encode(e,vt.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<Md.NUM_MASK_PATTERNS;o++){H1.buildMatrix(e,r,n,o,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=Ma.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new Ve("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),s=i.getTotalECCodewords(),o=a-s,c=(e+7)/8;return o>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Ve("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),a=0;a<s;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new Ve("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,i,s){if(a>=n)throw new Ve("Block ID too large");var o=e%n,c=n-o,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new Ve("EC bytes mismatch");if(n!==c+o)throw new Ve("RS blocks mismatch");if(e!==(f+p)*c+(h+m)*o)throw new Ve("Total bytes mismatch");a<c?(i[0]=f,s[0]=p):(i[0]=h,s[0]=m)},t.interleaveWithECBytes=function(e,r,n,a){var i,s,o,c;if(e.getSizeInBytes()!==n)throw new Ve("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<a;++p){var m=new Int32Array(1),v=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,p,m,v);var y=m[0],g=new Uint8Array(y);e.toBytes(8*u,g,0,y);var x=t.generateECBytes(g,v[0]);h.push(new gN(g,x)),d=Math.max(d,y),f=Math.max(f,x.length),u+=m[0]}if(n!==u)throw new Ve("Data bytes does not match offset");for(var w=new St,p=0;p<d;++p)try{for(var b=(i=void 0,W1(h)),E=b.next();!E.done;E=b.next()){var j=E.value,g=j.getDataBytes();p<g.length&&w.appendBits(g[p],8)}}catch(I){i={error:I}}finally{try{E&&!E.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}for(var p=0;p<f;++p)try{for(var N=(o=void 0,W1(h)),S=N.next();!S.done;S=N.next()){var j=S.value,x=j.getErrorCorrectionBytes();p<x.length&&w.appendBits(x[p],8)}}catch(I){o={error:I}}finally{try{S&&!S.done&&(c=N.return)&&c.call(N)}finally{if(o)throw o.error}}if(r!==w.getSizeInBytes())throw new Ve("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=e[i]&255;new vv(tr.QR_CODE_FIELD_256).encode(a,r);for(var s=new Uint8Array(r),i=0;i<r;i++)s[i]=a[n+i];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var i=n.getCharacterCountBits(r);if(e>=1<<i)throw new Ve(e+" is bigger than "+((1<<i)-1));a.appendBits(e,i)},t.appendBytes=function(e,r,n,a){switch(r){case $e.NUMERIC:t.appendNumericBytes(e,n);break;case $e.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case $e.BYTE:t.append8BitBytes(e,n,a);break;case $e.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Ve("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getDigit(e.charAt(a));if(a+2<n){var s=t.getDigit(e.charAt(a+1)),o=t.getDigit(e.charAt(a+2));r.appendBits(i*100+s*10+o,10),a+=3}else if(a+1<n){var s=t.getDigit(e.charAt(a+1));r.appendBits(i*10+s,7),a+=2}else r.appendBits(i,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getAlphanumericCode(e.charCodeAt(a));if(i===-1)throw new Ve;if(a+1<n){var s=t.getAlphanumericCode(e.charCodeAt(a+1));if(s===-1)throw new Ve;r.appendBits(i*45+s,11),a+=2}else r.appendBits(i,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=Tr.encode(e,n)}catch(c){throw new Ve(c)}for(var i=0,s=a.length;i!==s;i++){var o=a[i];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Tr.encode(e,vt.SJIS)}catch(f){throw new Ve(f)}for(var a=n.length,i=0;i<a;i+=2){var s=n[i]&255,o=n[i+1]&255,c=s<<8&4294967295|o,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Ve("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits($e.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=vt.UTF8.getName(),t})();var yN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){yN(e,t);function e(r,n,a,i,s,o,c,u){var d=t.call(this,o,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=s,i+o>n||s+c>a)throw new ae("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(o,c),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ae("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Be.arraycopy(this.yuvData,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Be.arraycopy(this.yuvData,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;Be.arraycopy(this.yuvData,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var c=o*r,u=0;u<r;u++){var d=i[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<n;i++,s+=this.dataWidth)for(var o=s+r/2,c=s,u=s+r-1;c<o;c++,u--){var d=a[c];a[c]=a[u],a[u]=d}},e.prototype.invert=function(){return new r0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(vc);var wN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){wN(e,t);function e(r,n,a,i,s,o,c){var u=t.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=s,u.left=o,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*a,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,v=p>>7&510,y=p&255;f[h]=(m+v+y)/4&255}u.luminances=f}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=a),o===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new ae("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ae("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Be.arraycopy(this.luminances,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Be.arraycopy(this.luminances,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;Be.arraycopy(this.luminances,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new r0(this)},e})(vc);var bN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_N=function(t){bN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(vt),NN=function(){function t(){}return t.ISO_8859_1=vt.ISO8859_1,t}(),Ld,EN=301,CN=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=EN);return{LOG:t,ALOG:e}};Ld=CN([],[]),Ld.LOG;Ld.ALOG;var G1;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(G1||(G1={}));var X1=129,gv=230,SN=231,AN=235,jN=236,IN=237,TN=238,kN=239,ON=240,uu=254,RN=254,Z1="[)>05",Y1="[)>06",K1="",Te=0,Tt=1,Wt=2,ht=3,Nt=4,Ft=5,DN=function(){function t(){}return t.prototype.getEncodingMode=function(){return Te},t.prototype.encode=function(e){var r=Xr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=Xr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Ft:e.writeCodeword(SN),e.signalEncoderChange(Ft);return;case Tt:e.writeCodeword(gv),e.signalEncoderChange(Tt);return;case ht:e.writeCodeword(TN),e.signalEncoderChange(ht);break;case Wt:e.writeCodeword(kN),e.signalEncoderChange(Wt);break;case Nt:e.writeCodeword(ON),e.signalEncoderChange(Nt);break;default:throw new Error("Illegal mode: "+a)}else Xr.isExtendedASCII(n)?(e.writeCodeword(AN),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Xr.isDigit(e)&&Xr.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),PN=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ft},t.prototype.encode=function(e){var r=new pe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=Xr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Te);break}}var i=r.length()-1,s=1,o=e.getCodewordCount()+i+s;e.updateSymbolInfo(o);var c=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,ye.getCharAt(i));else if(i<=1555)r.setCharAt(0,ye.getCharAt(Math.floor(i/250)+249)),r.insert(1,ye.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t}(),o0=function(){function t(){}return t.prototype.getEncodingMode=function(){return Tt},t.prototype.encodeMaximal=function(e){for(var r=new pe,n=0,a=e.pos,i=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(a=e.pos,i=r.length())}if(i!==r.length()){var o=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(gv),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new pe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+i;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new pe;for(r.length()%3===2&&o!==2&&(a=this.backtrackOneCharacter(e,r,c,a));r.length()%3===1&&(a>3||o!==1);)a=this.backtrackOneCharacter(e,r,c,a);break}var u=r.length();if(u%3===0){var d=Xr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Te);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var i=r.length(),s=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(s),e.pos--;var o=e.getCurrentChar();return a=this.encodeChar(o,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=e.getCodewordCount()+n;e.updateSymbolInfo(i);var s=e.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(uu)}else if(s===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(uu),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(uu)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Te)},t.prototype.encodeChar=function(e,r){if(e===" ".charCodeAt(0))return r.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return r.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return r.append(e-65+14),1;if(e<" ".charCodeAt(0))return r.append(0),r.append(e),2;if(e<="/".charCodeAt(0))return r.append(1),r.append(e-33),2;if(e<="@".charCodeAt(0))return r.append(1),r.append(e-58+15),2;if(e<="_".charCodeAt(0))return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,i=new pe;return i.append(n),i.append(a),i.toString()},t}(),MN=function(){function t(){}return t.prototype.getEncodingMode=function(){return Nt},t.prototype.encode=function(e){for(var r=new pe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var s=Xr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Te);break}}}r.append(ye.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),u=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(Te)}},t.prototype.encodeChar=function(e,r){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?r.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?r.append(ye.getCharAt(e-64)):Xr.illegalCharacter(ye.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,i=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(a<<12)+(i<<6)+s,c=o>>16&255,u=o>>8&255,d=o&255,f=new pe;return f.append(c),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),LN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FN=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Se=function(){function t(e,r,n,a,i,s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=c}return t.lookup=function(e,r,n,a,i){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=FN(UN),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),BN=function(t){LN(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Se),UN=[new Se(!1,3,5,8,8,1),new Se(!1,5,7,10,10,1),new Se(!0,5,7,16,6,1),new Se(!1,8,10,12,12,1),new Se(!0,10,11,14,6,2),new Se(!1,12,12,14,14,1),new Se(!0,16,14,24,10,1),new Se(!1,18,14,16,16,1),new Se(!1,22,18,18,18,1),new Se(!0,22,18,16,10,2),new Se(!1,30,20,20,20,1),new Se(!0,32,24,16,14,2),new Se(!1,36,24,22,22,1),new Se(!1,44,28,24,24,1),new Se(!0,49,28,22,14,2),new Se(!1,62,36,14,14,4),new Se(!1,86,42,16,16,4),new Se(!1,114,48,18,18,4),new Se(!1,144,56,20,20,4),new Se(!1,174,68,22,22,4),new Se(!1,204,84,24,24,4,102,42),new Se(!1,280,112,14,14,16,140,56),new Se(!1,368,144,16,16,16,92,36),new Se(!1,456,192,18,18,16,114,48),new Se(!1,576,224,20,20,16,144,56),new Se(!1,696,272,22,22,16,174,68),new Se(!1,816,336,24,24,16,136,56),new Se(!1,1050,408,18,18,36,175,68),new Se(!1,1304,496,20,20,36,163,62),new BN],zN=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new pe,a=0,i=r.length;a<i;a++){var s=String.fromCharCode(r[a]&255);if(s==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new pe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Se.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),VN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$N=function(t){VN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ht},e.prototype.encode=function(r){for(var n=new pe;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var s=Xr.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Te);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case"*".charCodeAt(0):n.append(1);break;case">".charCodeAt(0):n.append(2);break;case" ".charCodeAt(0):n.append(3);break;default:r>="0".charCodeAt(0)&&r<="9".charCodeAt(0)?n.append(r-48+4):r>="A".charCodeAt(0)&&r<="Z".charCodeAt(0)?n.append(r-65+14):Xr.illegalCharacter(ye.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(RN),r.getNewEncoding()<0&&r.signalEncoderChange(Te)},e}(o0),HN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WN=function(t){HN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Wt},e.prototype.encodeChar=function(r,n){if(r===" ".charCodeAt(0))return n.append(3),1;if(r>="0".charCodeAt(0)&&r<="9".charCodeAt(0))return n.append(r-48+4),1;if(r>="a".charCodeAt(0)&&r<="z".charCodeAt(0))return n.append(r-97+14),1;if(r<" ".charCodeAt(0))return n.append(0),n.append(r),2;if(r<="/".charCodeAt(0))return n.append(1),n.append(r-33),2;if(r<="@".charCodeAt(0))return n.append(1),n.append(r-58+15),2;if(r>="[".charCodeAt(0)&&r<="_".charCodeAt(0))return n.append(1),n.append(r-91+22),2;if(r==="`".charCodeAt(0))return n.append(2),n.append(0),2;if(r<="Z".charCodeAt(0))return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e}(o0),GN=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=X1+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var s=new o0,o=[new DN,s,new WN,new $N,new MN,new PN],c=new zN(e);c.setSymbolShape(r),c.setSizeConstraints(n,a),e.startsWith(Z1)&&e.endsWith(K1)?(c.writeCodeword(jN),c.setSkipAtEnd(2),c.pos+=Z1.length):e.startsWith(Y1)&&e.endsWith(K1)&&(c.writeCodeword(IN),c.setSkipAtEnd(2),c.pos+=Y1.length);var u=Te;for(i&&(s.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)o[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();d<f&&u!==Te&&u!==Ft&&u!==Nt&&c.writeCodeword("");var h=c.getCodewords();for(h.length()<f&&h.append(X1);h.length()<f;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===ht&&a===ht){for(var i=Math.min(r+3,e.length),s=r;s<i;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Te}else if(n===Nt&&a===Nt){for(var i=Math.min(r+4,e.length),s=r;s<i;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Te}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===Te?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,s=new Uint8Array(6),o=[];;){if(r+i===e.length){gt.fill(s,0),gt.fill(o,0);var c=this.findMinimums(a,o,me.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[Te]===c)return Te;if(u===1){if(s[Ft]>0)return Ft;if(s[Nt]>0)return Nt;if(s[Wt]>0)return Wt;if(s[ht]>0)return ht}return Tt}var d=e.charCodeAt(r+i);if(i++,this.isDigit(d)?a[Te]+=.5:this.isExtendedASCII(d)?(a[Te]=Math.ceil(a[Te]),a[Te]+=2):(a[Te]=Math.ceil(a[Te]),a[Te]++),this.isNativeC40(d)?a[Tt]+=2/3:this.isExtendedASCII(d)?a[Tt]+=8/3:a[Tt]+=4/3,this.isNativeText(d)?a[Wt]+=2/3:this.isExtendedASCII(d)?a[Wt]+=8/3:a[Wt]+=4/3,this.isNativeX12(d)?a[ht]+=2/3:this.isExtendedASCII(d)?a[ht]+=13/3:a[ht]+=10/3,this.isNativeEDIFACT(d)?a[Nt]+=3/4:this.isExtendedASCII(d)?a[Nt]+=17/4:a[Nt]+=13/4,this.isSpecialB256(d)?a[Ft]+=4:a[Ft]++,i>=4){if(gt.fill(s,0),gt.fill(o,0),this.findMinimums(a,o,me.MAX_VALUE,s),o[Te]<this.min(o[Ft],o[Tt],o[Wt],o[ht],o[Nt]))return Te;if(o[Ft]<o[Te]||o[Ft]+1<this.min(o[Tt],o[Wt],o[ht],o[Nt]))return Ft;if(o[Nt]+1<this.min(o[Ft],o[Tt],o[Wt],o[ht],o[Te]))return Nt;if(o[Wt]+1<this.min(o[Ft],o[Tt],o[Nt],o[ht],o[Te]))return Wt;if(o[ht]+1<this.min(o[Ft],o[Tt],o[Nt],o[Wt],o[Te]))return ht;if(o[Tt]+1<this.min(o[Te],o[Ft],o[Nt],o[Wt])){if(o[Tt]<o[ht])return Tt;if(o[Tt]===o[ht]){for(var f=r+i+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return ht;if(!this.isNativeX12(h))break;f++}return Tt}}}}},t.min=function(e,r,n,a,i){var s=Math.min(e,Math.min(r,Math.min(n,a)));return i===void 0?s:Math.min(s,i)},t.findMinimums=function(e,r,n,a){for(var i=0;i<6;i++){var s=r[i]=Math.ceil(e[i]);n>s&&(n=s,gt.fill(a,0)),n===s&&(a[i]=a[i]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return e===13||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=me.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}();const Xr=GN;var du=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q1=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Tr.encode(e,this.charset)!=null}catch{return!1}},t}(),XN=function(){function t(e,r,n){var a,i,s,o,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(O){return new Q1(_N.forName(O))}),this.encoders=[];var d=[];d.push(new Q1(NN.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(a=void 0,du(d)),v=m.next();!v.done;v=m.next()){var y=v.value,g=e.charAt(h),x=g.charCodeAt(0);if(x===n||y.canEncode(g)){p=!0;break}}}catch(O){a={error:O}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}if(!p)try{for(var w=(s=void 0,du(this.ENCODERS)),b=w.next();!b.done;b=w.next()){var y=b.value;if(y.canEncode(e.charAt(h))){d.push(y),p=!0;break}}}catch(O){s={error:O}}finally{try{b&&!b.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var E=0;try{for(var j=du(d),N=j.next();!N.done;N=j.next()){var y=N.value;this.encoders[E++]=y}}catch(O){c={error:O}}finally{try{N&&!N.done&&(u=j.return)&&u.call(j)}finally{if(c)throw c.error}}}var S=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){S=h;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Tr.encode(ye.getCharAt(e),this.encoders[r].name)},t}(),ZN=3,YN=function(){function t(e,r,n){this.fnc1=n;var a=new XN(e,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var s=e.charAt(i).charCodeAt(0);this.bytes[i]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new pe,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,i,s){var o=e.charAt(a).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(o===s||r.canEncode(o,d))&&this.addEdge(n,a+1,new q1(o,r,d,i,s))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,i=new q1[a+1][r.length()];this.addEdges(e,r,i,0,null,n);for(var s=1;s<=a;s++){for(var o=0;o<r.length();o++)i[s][o]!=null&&s<a&&this.addEdges(e,r,i,s,i[s][o],n);for(var o=0;o<r.length();o++)i[s-1][o]=null}for(var c=-1,u=me.MAX_VALUE,o=0;o<r.length();o++)if(i[a][o]!=null){var d=i[a][o];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=o)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=i[a][c];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),s=p.length-1;s>=0;s--)f.unshift(p[s]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var v=[],s=0;s<v.length;s++)v[s]=f[s];return v},t}(),q1=function(){function t(e,r,n,a,i){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=e===i?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,o=a===null?0:a.encoderIndex;o!==n&&(s+=ZN),a!=null&&(s+=a.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),KN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__values;var QN=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i};globalThis&&globalThis.__spread;var J1;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(J1||(J1={}));(function(t){KN(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n,a)||this;return o.shape=i,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(YN);var qN=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),ep=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),JN=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),e8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l0=function(t){e8(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.value=n,i.bitCount=a,i}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+me.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(JN),t8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r8=function(t){t8(e,t);function e(r,n,a){var i=t.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(l0);function n8(t,e,r){return new r8(t,e,r)}function as(t,e,r){return new l0(t,e,r)}var a8=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oa=0,Wl=1,jr=2,yv=3,on=4,i8=new l0(null,0,0),fu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])],s8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function o8(t){var e,r;try{for(var n=s8(t),a=n.next();!a.done;a=n.next()){var i=a.value;gt.fill(i,-1)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[oa][on]=0,t[Wl][on]=0,t[Wl][oa]=28,t[yv][on]=0,t[jr][on]=0,t[jr][oa]=15,t}var wv=o8(gt.createInt32Array(6,6)),l8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c8=function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var i=fu[this.mode][e];a=as(a,i&65535,i>>16),n+=i>>16}var s=e===jr?4:5;return a=as(a,r,s),new t(a,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===jr?4:5;return n=as(n,wv[this.mode][e],a),n=as(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===on||this.mode===jr){var i=fu[n][oa];r=as(r,i&65535,i>>16),a+=i>>16,n=oa}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,a+s);return o.binaryShiftByteCount===2047+31&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=n8(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(fu[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())a.unshift(i);var s=new St;try{for(var o=l8(a),c=o.next();!c.done;c=o.next()){var u=c.value;u.appendTo(s,e)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return ye.format("%s bits=%d bytes=%d",a8[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(i8,oa,0,0),t}();function u8(t){var e=ye.getCharCode(" "),r=ye.getCharCode("."),n=ye.getCharCode(",");t[oa][e]=1;for(var a=ye.getCharCode("Z"),i=ye.getCharCode("A"),s=i;s<=a;s++)t[oa][s]=s-i+2;t[Wl][e]=1;for(var o=ye.getCharCode("z"),c=ye.getCharCode("a"),s=c;s<=o;s++)t[Wl][s]=s-c+2;t[jr][e]=1;for(var u=ye.getCharCode("9"),d=ye.getCharCode("0"),s=d;s<=u;s++)t[jr][s]=s-d+2;t[jr][n]=12,t[jr][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[yv][ye.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)ye.getCharCode(p[h])>0&&(t[on][ye.getCharCode(p[h])]=h);return t}var hu=u8(gt.createInt32Array(5,256)),Lo=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d8=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ye.getCharCode(" "),r=ye.getCharCode(`
`),n=ep.singletonList(c8.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,s=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case ye.getCharCode("\r"):i=s===r?2:0;break;case ye.getCharCode("."):i=s===e?3:0;break;case ye.getCharCode(","):i=s===e?4:0;break;case ye.getCharCode(":"):i=s===e?5:0;break;default:i=0}i>0?(n=t.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var o=ep.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,i=[];try{for(var s=Lo(e),o=s.next();!o.done;o=s.next()){var c=o.value;this.updateStateForChar(c,r,i)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,i=hu[e.getMode()][a]>0,s=null,o=0;o<=on;o++){var c=hu[o][a];if(c>0){if(s==null&&(s=e.endBinaryShift(r)),!i||o===e.getMode()||o===jr){var u=s.latchAndAppend(o,c);n.push(u)}if(!i&&wv[e.getMode()][o]>=0){var d=s.shiftAndAppend(o,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||hu[e.getMode()][a]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var a,i,s=[];try{for(var o=Lo(e),c=o.next();!c.done;c=o.next()){var u=c.value;this.updateStateForPair(u,r,n,s)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,a){var i=e.endBinaryShift(r);if(a.push(i.latchAndAppend(on,n)),e.getMode()!==on&&a.push(i.shiftAndAppend(on,n)),n===3||n===4){var s=i.latchAndAppend(jr,16-n).latchAndAppend(jr,1);a.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(o)}},t.simplifyStates=function(e){var r,n,a,i,s=[];try{for(var o=Lo(e),c=o.next();!c.done;c=o.next()){var u=c.value,d=!0,f=function(y){if(y.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(y)&&(s=s.filter(function(g){return g!==y}))};try{for(var h=(a=void 0,Lo(s)),p=h.next();!p.done;p=h.next()){var m=p.value,v=f(m);if(v==="break")break}}catch(y){a={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}d&&s.push(u)}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t}(),f8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new d8(e).encode(),i=me.truncDivision(a.getSize()*r,100)+11,s=a.getSize()+i,o,c,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,c=Math.abs(n),c>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new ae(ye.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,o),d=t.WORD_SIZE[c];var h=u-u%d;if(f=t.stuffBits(a,d),f.getSize()+i>h)throw new ae("Data to large for user specified layer");if(o&&f.getSize()>d*64)throw new ae("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new ae("Data too large for an Aztec code");if(o=p<=3,c=o?p+1:p,u=t.totalBitsInLayer(c,o),!(s>u)){(f==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],f=t.stuffBits(a,d));var h=u-u%d;if(!(o&&f.getSize()>d*64)&&f.getSize()+i<=h)break}}}var m=t.generateCheckWords(f,u,d),v=f.getSize()/d,y=t.generateModeMessage(o,c,v),g=(o?11:14)+c*4,x=new Int32Array(g),w;if(o){w=g;for(var p=0;p<x.length;p++)x[p]=p}else{w=g+1+2*me.truncDivision(me.truncDivision(g,2)-1,15);for(var b=me.truncDivision(g,2),E=me.truncDivision(w,2),p=0;p<b;p++){var j=p+me.truncDivision(p,15);x[b-p-1]=E-j-1,x[b+p]=E+j+1}}for(var N=new fn(w),p=0,S=0;p<c;p++){for(var O=(c-p)*4+(o?9:12),I=0;I<O;I++)for(var F=I*2,T=0;T<2;T++)m.get(S+F+T)&&N.set(x[p*2+T],x[p*2+I]),m.get(S+O*2+F+T)&&N.set(x[p*2+I],x[g-1-p*2-T]),m.get(S+O*4+F+T)&&N.set(x[g-1-p*2-T],x[g-1-p*2-I]),m.get(S+O*6+F+T)&&N.set(x[g-1-p*2-I],x[p*2+T]);S+=O*8}if(t.drawModeMessage(N,o,w,y),o)t.drawBullsEye(N,me.truncDivision(w,2),5);else{t.drawBullsEye(N,me.truncDivision(w,2),7);for(var p=0,I=0;p<me.truncDivision(g,2)-1;p+=15,I+=16)for(var T=me.truncDivision(w,2)&1;T<w;T+=2)N.set(me.truncDivision(w,2)-I,T),N.set(me.truncDivision(w,2)+I,T),N.set(T,me.truncDivision(w,2)-I),N.set(T,me.truncDivision(w,2)+I)}var M=new qN;return M.setCompact(o),M.setSize(w),M.setLayers(c),M.setCodeWords(v),M.setMatrix(N),M},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)e.set(i,r-a),e.set(i,r+a),e.set(r-a,i),e.set(r+a,i);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new St;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var i=me.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=i-3+s;a.get(s)&&e.set(o,i-5),a.get(s+7)&&e.set(i+5,o),a.get(20-s)&&e.set(o,i+5),a.get(27-s)&&e.set(i-5,o)}else for(var s=0;s<10;s++){var o=i-5+s+me.truncDivision(s,5);a.get(s)&&e.set(o,i-7),a.get(s+10)&&e.set(i+7,o),a.get(29-s)&&e.set(o,i+7),a.get(39-s)&&e.set(i-7,o)}},t.generateCheckWords=function(e,r,n){var a,i,s=e.getSize()/n,o=new vv(t.getGF(n)),c=me.truncDivision(r,n),u=t.bitsToWords(e,n,c);o.encode(u,c-s);var d=r%n,f=new St;f.appendBits(0,d);try{for(var h=f8(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(v){a={error:v}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return f},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),i,s;for(i=0,s=e.getSize()/r;i<s;i++){for(var o=0,c=0;c<r;c++)o|=e.get(i*r+c)?1<<r-c-1:0;a[i]=o}return a},t.getGF=function(e){switch(e){case 4:return tr.AZTEC_PARAM;case 6:return tr.AZTEC_DATA_6;case 8:return tr.AZTEC_DATA_8;case 10:return tr.AZTEC_DATA_10;case 12:return tr.AZTEC_DATA_12;default:throw new ae("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new St,a=e.getSize(),i=(1<<r)-2,s=0;s<a;s+=r){for(var o=0,c=0;c<r;c++)(s+c>=a||e.get(s+c))&&(o|=1<<r-1-c);(o&i)===i?(n.appendBits(o&i,r),s--):o&i?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();function h8({onScan:t,isScanning:e,setIsScanning:r}){const n=C.useRef(null),a=C.useRef(null),[i,s]=C.useState(null),[o,c]=C.useState(null),[u,d]=C.useState(!1),f=C.useRef(!0);C.useEffect(()=>(f.current=e,e?h():p(),()=>{f.current=!1,p()}),[e]);const h=async()=>{try{const y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});s(!0),n.current&&(n.current.srcObject=y),a.current=new fN,n.current&&a.current.decodeFromVideoDevice(null,n.current,async(g,x)=>{if(f.current){if(g&&!u){d(!0);const w=g.getText();try{await m(w)}catch(b){console.error("Scan error:",b),c({type:"error",message:"Failed to process scan"})}finally{setTimeout(()=>{d(!1)},2e3)}}if(x&&f.current){if(x.name==="NotFoundException")return;x.name==="NotAllowedError"?(c({type:"error",message:"Camera permission denied"}),r(!1)):x.name==="NotFoundError"?(c({type:"error",message:"No camera found"}),r(!1)):x.name!=="ChecksumException"&&console.error("QR Scanner error:",x.name,x.message)}}})}catch(y){console.error("Camera access error:",y),s(!1)}},p=()=>{a.current&&a.current.reset(),n.current&&n.current.srcObject&&(n.current.srcObject.getTracks().forEach(g=>g.stop()),n.current.srcObject=null)},m=async y=>{var g;try{await t(y)}catch(x){(g=x.message)!=null&&g.includes("already checked in")?c({type:"duplicate",message:"Participant already checked in"}):c({type:"error",message:x.message||"Invalid QR code"})}},v=()=>{r(!e),c(null)};return i===!1?l.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Uh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Camera Permission Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please allow camera access to scan QR codes for check-in."}),l.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"QR Code Scanner"}),l.jsx("button",{onClick:v,className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium ${e?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e?l.jsxs(l.Fragment,{children:[l.jsx(Uh,{className:"h-4 w-4"}),l.jsx("span",{children:"Stop Scanning"})]}):l.jsxs(l.Fragment,{children:[l.jsx(zh,{className:"h-4 w-4"}),l.jsx("span",{children:"Start Scanning"})]})})]})}),l.jsx("div",{className:"relative",children:e?l.jsxs("div",{className:"relative",children:[l.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover bg-black"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"border-2 border-white border-dashed rounded-lg w-48 h-48 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-sm font-medium",children:"Point camera at QR code"})})}),u&&l.jsx("div",{className:"absolute top-4 left-4 right-4",children:l.jsx("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-md text-sm",children:"Processing scan..."})})]}):l.jsx("div",{className:"h-64 bg-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(zh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:'Click "Start Scanning" to begin'})]})})}),o&&l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-md ${o.type==="success"?"bg-green-50 text-green-800":o.type==="duplicate"?"bg-yellow-50 text-yellow-800":"bg-red-50 text-red-800"}`,children:[o.type==="success"&&l.jsx($i,{className:"h-5 w-5"}),o.type==="duplicate"&&l.jsx(ua,{className:"h-5 w-5"}),o.type==="error"&&l.jsx(Ml,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:o.message}),o.participantName&&l.jsxs("p",{className:"text-sm opacity-75",children:["Participant: ",o.participantName]})]})]})}),l.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Instructions:"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[l.jsx("li",{children:" Point the camera at the participant's QR code"}),l.jsx("li",{children:" Ensure good lighting for better scanning"}),l.jsx("li",{children:" Hold steady until the scan completes"}),l.jsx("li",{children:" Each participant can only be checked in once"})]})]})]})}function c0({eventId:t}){const{accessToken:e}=pr(),[r,n]=C.useState({total_registrations:0,total_check_ins:0,check_in_rate:"0"}),[a,i]=C.useState([]),[s,o]=C.useState(!0),[c,u]=C.useState(!1),[d,f]=C.useState(""),[h,p]=C.useState(null);C.useEffect(()=>{m();const g=setInterval(m,3e4);return()=>clearInterval(g)},[t]);const m=async()=>{try{const g=await fetch(`/api/checkin/events/${t}/check-in-stats`,{headers:{Authorization:`Bearer ${e}`}});if(!g.ok)throw new Error("Failed to fetch stats");const x=await g.json();n(x.stats),i(x.recent_check_ins),o(!1)}catch(g){console.error("Error fetching stats:",g),o(!1)}},v=async g=>{const x=await fetch(`/api/checkin/events/${t}/check-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({qr_code:g,location:"Main Entrance",device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})});if(!x.ok){const b=await x.json();throw new Error(b.error||"Failed to check in participant")}const w=await x.json();return p({name:w.participant.name,time:new Date().toLocaleTimeString()}),m(),w},y=a.filter(g=>g.registration.name.toLowerCase().includes(d.toLowerCase())||g.registration.email.toLowerCase().includes(d.toLowerCase()));return s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading check-in dashboard..."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Check-In"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Scan QR codes to check in participants"})]}),h&&l.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(hd,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-green-800 font-medium",children:[" ",h.name," checked in successfully"]}),l.jsxs("p",{className:"text-green-600 text-sm",children:["at ",h.time]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:l.jsx(Rr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Registrations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_registrations})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:l.jsx(hd,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked In"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_check_ins})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:l.jsx(F3,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-in Rate"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.check_in_rate,"%"]})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{children:l.jsx(h8,{onScan:v,isScanning:c,setIsScanning:u,eventId:t})}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Check-ins"}),l.jsx("button",{onClick:m,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Refresh"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search participants...",value:d,onChange:g=>f(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:y.length===0?l.jsx("div",{className:"p-6 text-center text-gray-500",children:d?"No participants found":"No check-ins yet"}):l.jsx("div",{className:"divide-y divide-gray-200",children:y.map(g=>l.jsx("div",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:g.registration.name}),l.jsx("p",{className:"text-sm text-gray-600",children:g.registration.email}),g.location&&l.jsxs("p",{className:"text-xs text-gray-500",children:[" ",g.location]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Va,{className:"h-4 w-4 text-gray-400"}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.checked_in_at).toLocaleTimeString()})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["by ",g.checked_in_by_user.name]})]})]})},g.id))})})]})]}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsx("h4",{className:"text-lg font-medium text-blue-900 mb-3",children:" How to Use Check-In System"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:"For Staff:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:' Click "Start Scanning" to activate camera'}),l.jsx("li",{children:" Point camera at participant's QR code"}),l.jsx("li",{children:" Wait for automatic scan and confirmation"}),l.jsx("li",{children:" Monitor real-time check-in statistics"})]})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:"For Participants:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Show QR code from registration email"}),l.jsx("li",{children:" Ensure QR code is clearly visible"}),l.jsx("li",{children:" One-time check-in per registration"}),l.jsx("li",{children:" Get instant confirmation when checked in"})]})]})]})]})]})})}function p8(){const{user:t}=qr(),{accessToken:e}=pr(),[r,n]=C.useState([]),[a,i]=C.useState(null),[s,o]=C.useState(!1),[c,u]=C.useState(!0),[d,f]=C.useState(null);C.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{if(!e)throw new Error("No authentication token found");const v=await fetch("/api/staff/assigned-events",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error(`Failed to fetch assigned events: ${v.status}`);const y=await v.json();n(y.events||[])}catch(v){console.error("Error fetching assigned events:",v),f(v instanceof Error?v.message:"Failed to load assigned events")}finally{u(!1)}},p=v=>{i(v),o(!0)},m=()=>{o(!1),i(null)};if(c)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})});if(d)return l.jsxs("div",{className:"max-w-md mx-auto mt-8 p-6 bg-red-50 border border-red-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ua,{className:"h-5 w-5 text-red-600 mr-2"}),l.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading Events"})]}),l.jsx("p",{className:"text-red-600 mt-2",children:d}),l.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Retry"})]});if(s&&a){const v=r.find(y=>y.id===a);return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"QR Code Scanner"}),l.jsx("p",{className:"text-gray-600",children:v?`Scanning for: ${v.title}`:"Event Scanner"})]}),l.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(c0,{eventId:a})})]})}return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex justify-between items-center py-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Dashboard"}),l.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",t==null?void 0:t.name]})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ut,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Events Assigned"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"You haven't been assigned to any events yet. Contact your event organizer."})]}):l.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(v=>{var y,g,x;return l.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx(Ut,{className:"h-8 w-8 text-indigo-600 flex-shrink-0"}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:v.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.location})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:v.description}),l.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[l.jsx("strong",{children:"Starts:"})," ",new Date(v.start_date).toLocaleString()]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:"Ends:"})," ",new Date(v.end_date).toLocaleString()]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[((y=v.permissions)==null?void 0:y.can_check_in)&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Check-in"]}),((g=v.permissions)==null?void 0:g.can_view_stats)&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(dd,{className:"w-3 h-3 mr-1"}),"View Stats"]})]}),l.jsx("div",{className:"mt-6",children:(x=v.permissions)!=null&&x.can_check_in?l.jsxs("button",{onClick:()=>p(v.id),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[l.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Start QR Scanning"]}):l.jsxs("div",{className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-500 bg-gray-50 cursor-not-allowed",children:[l.jsx(Qs,{className:"w-4 h-4 mr-2"}),"No Check-in Permission"]})})]})},v.id)})})})]})}const m8=()=>{const{user:t,accessToken:e,isAuthenticated:r,clearAuth:n}=pr(),a=Dr(),[i,s]=C.useState([]),[o,c]=C.useState(!0),[u,d]=C.useState(null);C.useEffect(()=>{const h=async()=>{var p,m,v;try{if(c(!0),d(null),!r||!e){d("Authentication required"),n(),a("/login");return}const y=await er.getMyEvents();if(y.success&&y.data)s(y.data.events);else{if((p=y.error)!=null&&p.includes("403")||(m=y.error)!=null&&m.includes("Invalid or expired token")){console.log("Token expired, redirecting to login"),n(),a("/login");return}d(y.error||"Failed to fetch events")}}catch(y){if(console.error("Dashboard events error:",y),(v=y.message)!=null&&v.includes("Invalid or expired token")||y.status===403){console.log("Authentication failed, clearing auth and redirecting"),n(),a("/login");return}d("Failed to fetch events")}finally{c(!1)}};(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin"?h():c(!1)},[r,e,t,a]),C.useEffect(()=>{console.log("Dashboard Auth Debug:",{user:t==null?void 0:t.email,userRole:t==null?void 0:t.role,hasToken:!!e,isAuthenticated:r,tokenPreview:e?e.substring(0,20)+"...":"No token"})},[t,e,r]);const f=(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin";return(t==null?void 0:t.role)==="staff"?l.jsx(p8,{}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),f&&l.jsxs(se,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Events"}),l.jsx("p",{className:"text-3xl font-bold text-primary-600",children:o?"...":i.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Registrations"}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:o?"...":i.reduce((h,p)=>{var m;return h+(((m=p.registrations)==null?void 0:m.length)||0)},0)})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Events"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:o?"...":i.filter(h=>new Date(h.start_date)>new Date).length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Events"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o?"...":i.filter(h=>{const p=new Date,m=new Date(h.start_date),v=new Date(h.end_date);return m<=p&&p<=v}).length})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f?"My Events":"Welcome to Event Management"})}),o?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):u?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-red-600",children:u})}):f?i.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first event."}),l.jsx("div",{className:"mt-6",children:l.jsx(se,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg",children:"Create Event"})})]}):l.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(h=>{const p=new Date(h.start_date),m=p>new Date;return l.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:l.jsx(se,{to:`/events/${h.id}`,className:"hover:text-primary-600",children:h.title})}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:h.description}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),p.toLocaleDateString()]}),l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),h.location]})]})]}),l.jsx("div",{className:"ml-4",children:l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m?"Upcoming":"Past"})})]})},h.id)})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Welcome, ",t==null?void 0:t.name,"!"]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Explore upcoming events and register for events you're interested in."}),l.jsx(se,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg",children:"Browse Events"})]})]})]})},x8=xc({title:He().min(1,"Title is required"),description:He().min(1,"Description is required"),startDate:He().min(1,"Start date is required"),endDate:He().min(1,"End date is required"),location:He().min(1,"Location is required"),capacity:y1().min(1,"Capacity must be at least 1"),bannerUrl:He().url("Must be a valid URL").optional().or(bb("")),visibility:sv(["public","private","invite-only"]),registrationDeadline:He().optional(),isPaid:wb(),price:y1().min(0,"Price must be 0 or greater").optional()}),v8=()=>{const t=Dr(),[e,r]=C.useState(!1),[n,a]=C.useState(null),{register:i,handleSubmit:s,watch:o,formState:{errors:c}}=pc({resolver:mc(x8),defaultValues:{visibility:"public",isPaid:!1,capacity:50}}),u=o("isPaid"),d=async f=>{try{r(!0),a(null);const h=new Date(f.startDate);if(new Date(f.endDate)<=h){a("End date must be after start date");return}if(f.registrationDeadline&&new Date(f.registrationDeadline)>=h){a("Registration deadline must be before the event start date");return}const m={title:f.title,description:f.description,startDate:f.startDate,endDate:f.endDate,location:f.location,capacity:f.capacity,bannerUrl:f.bannerUrl||void 0,visibility:f.visibility,registrationDeadline:f.registrationDeadline||void 0,isPaid:f.isPaid,price:f.isPaid?f.price:void 0},v=await er.createEvent(m);v.success&&v.data?t(`/events/${v.data.event.id}`):a(v.error||"Failed to create event")}catch(h){a("Failed to create event. Please try again."),console.error("Create event error:",h)}finally{r(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),l.jsx("button",{type:"button",onClick:()=>t(-1),className:"text-gray-600 hover:text-gray-900",children:" Back"})]}),n&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),l.jsxs("form",{onSubmit:s(d),className:"card space-y-6",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"form-label",children:"Event Title *"}),l.jsx("input",{...i("title"),type:"text",id:"title",className:`input ${c.title?"border-red-500":""}`,placeholder:"Enter event title"}),c.title&&l.jsx("p",{className:"form-error",children:c.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"form-label",children:"Description *"}),l.jsx("textarea",{...i("description"),id:"description",rows:4,className:`input ${c.description?"border-red-500":""}`,placeholder:"Describe your event"}),c.description&&l.jsx("p",{className:"form-error",children:c.description.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location",className:"form-label",children:"Location *"}),l.jsx("input",{...i("location"),type:"text",id:"location",className:`input ${c.location?"border-red-500":""}`,placeholder:"Event location or venue"}),c.location&&l.jsx("p",{className:"form-error",children:c.location.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bannerUrl",className:"form-label",children:"Banner Image URL"}),l.jsx("input",{...i("bannerUrl"),type:"url",id:"bannerUrl",className:`input ${c.bannerUrl?"border-red-500":""}`,placeholder:"https://example.com/banner.jpg"}),c.bannerUrl&&l.jsx("p",{className:"form-error",children:c.bannerUrl.message})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Date & Time"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time *"}),l.jsx("input",{...i("startDate"),type:"datetime-local",id:"startDate",className:`input ${c.startDate?"border-red-500":""}`}),c.startDate&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.startDate.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time *"}),l.jsx("input",{...i("endDate"),type:"datetime-local",id:"endDate",className:`input ${c.endDate?"border-red-500":""}`}),c.endDate&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.endDate.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"registrationDeadline",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Deadline"}),l.jsx("input",{...i("registrationDeadline"),type:"datetime-local",id:"registrationDeadline",className:"input"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: Set a deadline for registrations"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Event Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Capacity *"}),l.jsx("input",{...i("capacity",{valueAsNumber:!0}),type:"number",id:"capacity",min:"1",className:`input ${c.capacity?"border-red-500":""}`}),c.capacity&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.capacity.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"visibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Visibility *"}),l.jsxs("select",{...i("visibility"),id:"visibility",className:"input",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"}),l.jsx("option",{value:"invite-only",children:"Invite Only"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{...i("isPaid"),type:"checkbox",id:"isPaid",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),l.jsx("label",{htmlFor:"isPaid",className:"ml-2 text-sm font-medium text-gray-700",children:"This is a paid event"})]}),u&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Price *"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{...i("price",{valueAsNumber:!0}),type:"number",id:"price",min:"0",step:"0.5",className:`input pl-8 ${c.price?"border-red-500":""}`,placeholder:"0.00"})]}),c.price&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.price.message})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),className:"btn btn-secondary",disabled:e,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:e,children:e?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Event"})]})]})]})},Ha={async registerForEvent(t,e){return De.post(`/registrations/events/${t}/register`,e)},async getEventRegistrations(t){return De.get(`/registrations/events/${t}/registrations`)},async checkRegistrationStatus(t){return De.get(`/registrations/events/${t}/registration-status`)},async getUserRegistrations(){return De.get("/registrations/my-registrations")},async cancelRegistration(t){return De.put(`/registrations/${t}/cancel`)}};function g8({eventId:t}){const{accessToken:e}=pr(),[r,n]=C.useState([]),[a,i]=C.useState(!0),[s,o]=C.useState(null),[c,u]=C.useState(!1),[d,f]=C.useState(!1),[h,p]=C.useState(!1),[m,v]=C.useState(null),[y,g]=C.useState({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}});C.useEffect(()=>{x(),w()},[t]),C.useEffect(()=>{const N=S=>{m&&!S.target.closest(".relative")&&v(null)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[m]);const x=async()=>{try{o(null);const N=await fetch(`/api/checkin/events/${t}/staff`,{headers:{Authorization:`Bearer ${e}`}});if(N.ok){const S=await N.json();console.log("Staff data received:",S),n(Array.isArray(S.staff)?S.staff:[])}else console.error("Failed to fetch staff:",N.status),n([]),N.status===403?o("You don't have permission to view staff for this event. Only event organizers and administrators can access staff management."):N.status===404?o("Event not found. Please check if the event still exists and refresh the page."):N.status===401?o("Your session has expired. Please log in again to view staff information."):o("Unable to load staff information. Please try refreshing the page.")}catch(N){console.error("Error fetching staff:",N),n([]),o("Unable to connect to the server. Please check your internet connection and try again.")}finally{i(!1)}},w=async()=>{try{p(!0);const N=await fetch("/api/email/status",{headers:{Authorization:`Bearer ${e}`}});if(N.ok){const S=await N.json();f(S.hasGmailPermission)}}catch(N){console.error("Error checking Gmail permission:",N)}finally{p(!1)}},b=async()=>{try{const N=await fetch("/api/email/authorize",{headers:{Authorization:`Bearer ${e}`}});if(N.ok){const S=await N.json();window.location.href=S.authUrl}else console.error("Failed to get Gmail authorization URL")}catch(N){console.error("Error requesting Gmail permission:",N)}},E=async N=>{var S,O,I;N.preventDefault(),console.log(" Frontend newStaff state:",y);try{const F=[];y.permissions.can_check_in&&F.push("check-in"),y.permissions.can_view_stats&&F.push("view-stats");const T={email:y.email,name:y.name,permissions:F};console.log(" Sending staff data:",T);const M=await fetch(`/api/checkin/events/${t}/staff`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(T)});if(M.ok)await x(),g({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}}),u(!1),alert("Staff member added successfully! Login credentials will be sent via email.");else{const L=await M.json();let $="Failed to add staff member";M.status===400?(S=L.error)!=null&&S.includes("already exists")||(O=L.error)!=null&&O.includes("duplicate")?$="This person is already a staff member for this event.":(I=L.error)!=null&&I.includes("validation")||L.details?$="Please check that the email address and name are valid and try again.":$=L.error||"Invalid staff information provided.":M.status===403?$="You don't have permission to add staff members to this event. Only event organizers and administrators can manage staff.":M.status===404?$="Event not found. Please refresh the page and try again.":M.status===500?$="Server error occurred while adding staff member. Please try again in a few moments.":$=L.error||"An unexpected error occurred while adding the staff member.",alert($)}}catch(F){console.error("Error adding staff:",F),alert("Unable to connect to the server. Please check your internet connection and try again.")}},j=async N=>{if(confirm("Are you sure you want to remove this staff member?"))try{const S=localStorage.getItem("token"),O=await fetch(`/api/checkin/events/${t}/staff/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}});if(O.ok)await x(),alert("Staff member removed successfully");else{const I=await O.json();let F="Failed to remove staff member";O.status===403?F="You don't have permission to remove staff members from this event. Only event organizers and administrators can manage staff.":O.status===404?F="Staff member not found. They may have already been removed or the event information is outdated.":O.status===400?F="Cannot remove this staff member. They may be currently checked in or have active sessions.":F=I.error||"An unexpected error occurred while removing the staff member.",alert(F)}}catch(S){console.error("Error removing staff:",S),alert("Unable to connect to the server. Please check your internet connection and try again.")}};return a?l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Staff Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage staff access for check-in and event management"})]}),l.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(U3,{className:"h-4 w-4"}),l.jsx("span",{children:"Add Staff"})]})]})}),!d&&l.jsx("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ta,{className:"h-5 w-5 text-amber-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Gmail Permission Required"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Grant Gmail access to automatically send staff credentials from your email account"})]})]}),l.jsx("button",{onClick:b,disabled:h,className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 disabled:opacity-50",children:h?"Checking...":"Grant Permission"})]})}),d&&l.jsx("div",{className:"px-6 py-3 bg-green-50 border-b border-green-200",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ta,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:" Gmail permission granted - Staff emails will be sent from your account"})]})}),c&&l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",required:!0,value:y.email,onChange:N=>g({...y,email:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"staff@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,value:y.name,onChange:N=>g({...y,name:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:y.permissions.can_check_in,onChange:N=>g({...y,permissions:{...y.permissions,can_check_in:N.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can check-in participants"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:y.permissions.can_view_stats,onChange:N=>g({...y,permissions:{...y.permissions,can_view_stats:N.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can view check-in statistics"})]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Staff Member"}),l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),l.jsx("div",{className:"divide-y divide-gray-200",children:a?l.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:l.jsx("p",{children:"Loading staff..."})}):s?l.jsxs("div",{className:"px-6 py-8 text-center",children:[l.jsxs("div",{className:"text-red-600 mb-4",children:[l.jsx(tu,{className:"h-12 w-12 text-red-300 mx-auto mb-4"}),l.jsx("p",{className:"font-medium",children:s})]}),l.jsx("button",{onClick:()=>{o(null),x()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]}):r.length===0?l.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[l.jsx(tu,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{children:"No staff members assigned to this event."}),l.jsx("p",{className:"text-sm",children:"Add staff members to help with check-in and event management."})]}):r.filter(N=>N&&N.user).map(N=>{var S,O,I,F,T,M,L;return l.jsx("div",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((O=(S=N.user)==null?void 0:S.name)==null?void 0:O.charAt(0).toUpperCase())||"?"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:((I=N.user)==null?void 0:I.name)||"Unknown User"}),l.jsx("p",{className:"text-sm text-gray-600",children:((F=N.user)==null?void 0:F.email)||"No email"}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Added"," ",new Date(N.assigned_at).toLocaleDateString()," by"," ",((T=N.assigned_by_user)==null?void 0:T.name)||"Unknown"]})]})]})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[N.permissions.can_check_in&&l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),N.permissions.can_view_stats&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(Pl,{className:"h-3 w-3 mr-1"}),"Stats"]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:(M=N.user)!=null&&M.last_login_at?l.jsxs(l.Fragment,{children:["Last login:"," ",new Date(N.user.last_login_at).toLocaleDateString()]}):"Never logged in"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{var he,U;const $=encodeURIComponent(`Event Staff Access - ${t}`),fe=encodeURIComponent(`Hi ${((he=N.user)==null?void 0:he.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((U=N.user)==null?void 0:U.email)||""}?subject=${$}&body=${fe}`)},className:"text-blue-600 hover:text-blue-700",title:"Send email",children:l.jsx(Ta,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>{var $;return j((($=N.user)==null?void 0:$.id)||N.id)},className:"text-red-600 hover:text-red-700",title:"Remove staff",children:l.jsx(Ii,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"md:hidden relative",children:[l.jsx("button",{onClick:()=>v(m===N.id?null:N.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:l.jsx(P3,{className:"h-4 w-4"})}),m===N.id&&l.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:l.jsxs("div",{className:"p-3 space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Permissions:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.permissions.can_check_in&&l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),N.permissions.can_view_stats&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(Pl,{className:"h-3 w-3 mr-1"}),"Stats"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Last Login:"}),l.jsx("p",{className:"text-xs text-gray-500",children:(L=N.user)!=null&&L.last_login_at?new Date(N.user.last_login_at).toLocaleDateString():"Never logged in"})]}),l.jsxs("div",{className:"flex space-x-2 pt-2 border-t border-gray-100",children:[l.jsxs("button",{onClick:()=>{var he,U;const $=encodeURIComponent(`Event Staff Access - ${t}`),fe=encodeURIComponent(`Hi ${((he=N.user)==null?void 0:he.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((U=N.user)==null?void 0:U.email)||""}?subject=${$}&body=${fe}`),v(null)},className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md",children:[l.jsx(Ta,{className:"h-4 w-4"}),l.jsx("span",{children:"Email"})]}),l.jsxs("button",{onClick:()=>{var $;j((($=N.user)==null?void 0:$.id)||N.id),v(null)},className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md",children:[l.jsx(Ii,{className:"h-4 w-4"}),l.jsx("span",{children:"Remove"})]})]})]})})]})]})},N.id)})}),l.jsx("div",{className:"px-6 py-4 bg-blue-50 border-t border-blue-200",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(tu,{className:"h-5 w-5 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"Staff Access Information:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Staff members receive login credentials via email"}),l.jsx("li",{children:" They can access the check-in system with their assigned permissions"}),l.jsx("li",{children:" Staff accounts are created automatically if they don't exist"}),l.jsx("li",{children:" You can modify or revoke access at any time"})]})]})]})})]})}const y8=()=>{var j,N,S;const{id:t}=ga(),e=Dr(),{user:r}=pr(),[n,a]=C.useState(null),[i,s]=C.useState([]),[o,c]=C.useState(!0),[u,d]=C.useState(null),f=async()=>{if(r)try{const O=await Ha.getUserRegistrations();O.success&&O.data&&s(O.data.registrations)}catch(O){console.error("Failed to fetch user registrations:",O)}},h=O=>{var T,M;const I=i.find(L=>{var $;return(($=L.event)==null?void 0:$.id)===O&&L.status!=="cancelled"});if(console.log(` Checking registration for event ${O}:`,{foundRegistration:!!I,registrationStatus:I==null?void 0:I.status,paymentStatus:I==null?void 0:I.payment_status,isEventPaid:(T=I==null?void 0:I.event)==null?void 0:T.is_paid,allUserRegistrations:i.length}),!I)return!1;if((M=I.event)!=null&&M.is_paid){const L=I.payment_status==="completed";return console.log(` Paid event - payment completed: ${L}`),L}const F=I.status==="confirmed"||I.payment_status==="not_required";return console.log(` Free event - valid registration: ${F}`),F},p=O=>{var T;const I=i.find(M=>{var L;return((L=M.event)==null?void 0:L.id)===O&&M.status!=="cancelled"});return I?(T=I.event)!=null&&T.is_paid?I.payment_status==="completed"?I:void 0:I.status==="confirmed"||I.payment_status==="not_required"?I:void 0:void 0};C.useEffect(()=>{(async()=>{var I,F,T,M;if(!t){d("Event ID is required"),c(!1);return}try{c(!0);const L=await er.getEventById(t);L.success&&L.data?a(L.data.event):(I=L.error)!=null&&I.includes("not found")||(F=L.error)!=null&&F.includes("404")?d("This event could not be found. It may have been deleted or the link is incorrect."):(T=L.error)!=null&&T.includes("permission")||(M=L.error)!=null&&M.includes("access")?d("You don't have permission to view this event. It may be private or restricted."):d(L.error||"Event not found")}catch(L){if(L instanceof Error&&"response"in L){const $=L;$.status===404?d("This event could not be found. It may have been deleted or the link is incorrect."):$.status===403?d("You don't have permission to view this event. It may be private or restricted."):$.status===401?d("Please log in to view this event."):d("An unexpected error occurred while loading the event. Please try again.")}else d("Unable to connect to the server. Please check your internet connection and try again.");console.error("Event details error:",L)}finally{c(!1)}})(),f()},[t,r]);const m=async()=>{if(!(!n||!t)&&confirm(`Are you sure you want to delete "${n.title}"? This action cannot be undone.`))try{const O=await er.deleteEvent(t);O.success?e("/dashboard"):alert(O.error||"Failed to delete event")}catch(O){alert("Failed to delete event"),console.error("Delete event error:",O)}};if(o)return l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading event details..."})]})});if(u||!n)return l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:u}),l.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});const y=r&&n.organizer&&r.id===n.organizer.id||(r==null?void 0:r.role)==="admin",g=new Date(n.start_date),x=new Date(n.end_date),w=g>new Date,b=new Date>=g&&new Date<=x,E=((j=n.registrations)==null?void 0:j.length)||0;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[l.jsx("div",{className:"relative",children:n.banner_url?l.jsxs("div",{className:"relative h-80 lg:h-96 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent z-10"}),l.jsx("img",{src:n.banner_url,alt:n.title,className:"w-full h-full object-cover transform scale-105 hover:scale-100 transition-transform duration-700"}),l.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>e(-1),className:"group flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]}),y&&l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage",l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 py-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-40",children:[l.jsxs(se,{to:`/events/${n.id}/registrations`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registrations"}),l.jsxs("div",{className:"text-xs text-slate-500",children:[E," registered"]})]})]}),l.jsxs(se,{to:`/events/${n.id}/attendance`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Take Attendance"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Check-in attendees"})]})]}),l.jsxs(se,{to:`/events/${n.id}/form-builder`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registration Form"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Customize form fields"})]})]}),l.jsxs(se,{to:`/events/${n.id}/certificates`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Certificates"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Generate certificates"})]})]}),l.jsx("hr",{className:"my-3 border-slate-200"}),l.jsxs("button",{onClick:m,className:"flex items-center w-full px-6 py-3 text-sm text-red-600 hover:bg-red-50/70 hover:text-red-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Delete Event"}),l.jsx("div",{className:"text-xs text-red-400",children:"Permanently remove"})]})]})]})]})]})}),l.jsx("div",{className:"absolute inset-0 z-20 flex items-end",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full",children:l.jsxs("div",{className:"max-w-4xl",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[l.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ${b?"bg-emerald-500 text-white shadow-emerald-500/25":w?"bg-blue-500 text-white shadow-blue-500/25":"bg-slate-500 text-white shadow-slate-500/25"} shadow-lg backdrop-blur-sm`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${b?"bg-emerald-200 animate-pulse":"bg-white/70"}`}),b?"Live Now":w?"Upcoming":"Past Event"]}),n.is_paid&&l.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white shadow-lg shadow-amber-500/25 backdrop-blur-sm",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"$",n.price]}),n.category&&l.jsx("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold text-white shadow-lg backdrop-blur-sm",style:{backgroundColor:n.category.color},children:n.category.name})]}),l.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-4 drop-shadow-2xl leading-tight",children:n.title}),l.jsx("p",{className:"text-lg lg:text-xl text-white/95 mb-6 leading-relaxed max-w-3xl font-medium",children:n.description}),l.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[l.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{className:"font-semibold",children:[g.toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","at"," ",g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),l.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),l.jsx("span",{className:"font-semibold",children:n.location})]}),l.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsxs("span",{className:"font-semibold",children:[E,"/",n.capacity," attending"]})]})]})]})})})]}):l.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 py-24",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>e(-1),className:"group flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]}),y&&l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage",l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 py-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-40",children:[l.jsxs(se,{to:`/events/${n.id}/registrations`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registrations"}),l.jsxs("div",{className:"text-xs text-slate-500",children:[E," registered"]})]})]}),l.jsxs(se,{to:`/events/${n.id}/attendance`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Take Attendance"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Check-in attendees"})]})]}),l.jsxs(se,{to:`/events/${n.id}/form-builder`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registration Form"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Customize form fields"})]})]}),l.jsxs(se,{to:`/events/${n.id}/certificates`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Certificates"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Generate certificates"})]})]}),l.jsx("hr",{className:"my-3 border-slate-200"}),l.jsxs("button",{onClick:m,className:"flex items-center w-full px-6 py-3 text-sm text-red-600 hover:bg-red-50/70 hover:text-red-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Delete Event"}),l.jsx("div",{className:"text-xs text-red-400",children:"Permanently remove"})]})]})]})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ${b?"bg-emerald-500 text-white":w?"bg-blue-500 text-white":"bg-slate-500 text-white"} shadow-lg`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${b?"bg-emerald-200 animate-pulse":"bg-white/70"}`}),b?"Live Now":w?"Upcoming":"Past Event"]}),n.is_paid&&l.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white shadow-lg",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"$",n.price]})]})}),l.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-6 drop-shadow-2xl",children:n.title}),l.jsx("p",{className:"text-xl text-white/95 mb-8 max-w-4xl mx-auto leading-relaxed",children:n.description})]})})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r&&h(n.id)&&l.jsx("div",{className:"mb-8 bg-gradient-to-r from-emerald-50 to-emerald-100 border-l-4 border-emerald-500 rounded-xl p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-emerald-800",children:"Successfully Registered!"}),l.jsx("p",{className:"text-emerald-700 mt-1",children:"You're all set for this event. Check your email for confirmation details."})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(se,{to:`/ticket/${(N=p(n.id))==null?void 0:N.id}`,className:"inline-flex items-center px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"View Ticket"]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Event Overview"}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${n.visibility==="public"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:n.visibility==="public"?"Public":"Private"})})]}),!n.banner_url&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4",children:n.title}),l.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:n.description})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Date & Time"}),l.jsx("p",{className:"text-slate-600 font-medium",children:g.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),l.jsxs("p",{className:"text-slate-500 text-sm",children:[g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Location"}),l.jsx("p",{className:"text-slate-600 font-medium",children:n.location}),l.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium mt-1",children:"View on Map "})]})]})}),n.organizer&&l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Organizer"}),l.jsx("p",{className:"text-slate-600 font-medium",children:n.organizer.name}),l.jsx("p",{className:"text-slate-500 text-sm",children:n.organizer.email})]})]})}),l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Attendance"}),l.jsxs("p",{className:"text-slate-600 font-medium mb-3",children:[E," of ",n.capacity," spots filled"]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(E/n.capacity*100,100)}%`}})}),l.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:[n.capacity-E," spots remaining"]})]})]})})]})]})}),y&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-8 py-6 border-b border-slate-200",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[l.jsx("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Event Analytics"]}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Monitor your event performance and engagement"})]}),l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Registrations"}),l.jsx("p",{className:"text-3xl font-bold text-blue-900",children:E}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:E>0?`+${Math.round(E/n.capacity*100)}% capacity`:"No registrations yet"})]}),l.jsx("div",{className:"w-14 h-14 bg-blue-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-6 border border-emerald-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-1",children:"Available Spots"}),l.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:n.capacity-E}),l.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:n.capacity-E>0?"Spots remaining":"Event is full"})]}),l.jsx("div",{className:"w-14 h-14 bg-emerald-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Capacity Usage"}),l.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:[Math.round(E/n.capacity*100),"%"]}),l.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Of total capacity"})]}),l.jsx("div",{className:"w-14 h-14 bg-purple-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),n.is_paid?l.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-6 border border-amber-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-700 mb-1",children:"Total Revenue"}),l.jsxs("p",{className:"text-3xl font-bold text-amber-900",children:["$",(E*(n.price||0)).toFixed(2)]}),l.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["From ",E," tickets"]})]}),l.jsx("div",{className:"w-14 h-14 bg-amber-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}):l.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-6 border border-slate-200",children:l.jsxs("div",{className:"flex flex-col space-y-3",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Quick Actions"}),l.jsxs(se,{to:`/events/${n.id}/registrations`,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Registrations"]}),l.jsxs(se,{to:`/events/${n.id}/attendance`,className:"flex items-center justify-center px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-lg hover:bg-emerald-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Attendance"]})]})})]})})]}),y&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-8 py-6 border-b border-slate-200",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[l.jsx("svg",{className:"w-6 h-6 mr-3 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Staff Management"]}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Manage event staff and administrative access permissions"})]}),l.jsx("div",{className:"p-8",children:l.jsx(g8,{eventId:n.id})})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"sticky top-24 space-y-6",children:[!y&&w&&l.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"Registration"]}),r&&h(n.id)?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("p",{className:"text-emerald-800 font-semibold mb-4",children:"You're registered!"}),l.jsxs(se,{to:`/ticket/${(S=p(n.id))==null?void 0:S.id}`,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-semibold rounded-xl transition-all duration-200 shadow-sm",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"View Ticket"]})]}):E<n.capacity?l.jsxs("div",{children:[n.is_paid&&l.jsx("div",{className:"text-center mb-6",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl border border-amber-200",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),l.jsxs("span",{className:"text-2xl font-bold text-amber-900",children:["$",n.price]}),l.jsx("span",{className:"text-amber-700 text-sm ml-1",children:"/ ticket"})]})}),l.jsxs(se,{to:`/events/${n.id}/register`,className:"w-full inline-flex items-center justify-center px-6 py-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.is_paid?`Register - $${n.price}`:"Register Free"]}),l.jsxs("p",{className:"text-slate-500 text-sm text-center mt-3",children:[n.capacity-E," spots remaining"]})]}):l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("p",{className:"text-slate-600 font-medium mb-4",children:"Event is Full"}),l.jsx("button",{disabled:!0,className:"w-full px-6 py-3 bg-slate-300 text-slate-500 font-medium rounded-xl cursor-not-allowed",children:"Registration Closed"})]})]})}),y&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-slate-200",children:l.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Management"]})}),l.jsxs("div",{className:"p-6 space-y-3",children:[l.jsxs(se,{to:`/events/${n.id}/registrations`,className:"w-full flex items-center justify-between px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("span",{className:"font-medium",children:"Registrations"})]}),l.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-1 rounded text-sm font-medium",children:E})]}),l.jsxs(se,{to:`/events/${n.id}/form-builder`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("span",{className:"font-medium",children:"Registration Form"})]}),l.jsxs(se,{to:`/events/${n.id}/attendance`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsx("span",{className:"font-medium",children:"Take Attendance"})]}),l.jsxs(se,{to:`/events/${n.id}/certificates`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),l.jsx("span",{className:"font-medium",children:"Certificates"})]}),l.jsx("hr",{className:"my-4 border-slate-200"}),l.jsxs("button",{onClick:m,className:"w-full flex items-center px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l.jsx("span",{className:"font-medium",children:"Delete Event"})]})]})]})]})})]})]})]})};function w8(t,e={}){var i;const{action:r,fallbackMessage:n}=e,a=n||(r?`Failed to ${r}`:"An unexpected error occurred");if(t instanceof Error&&"response"in t){const s=t,o=s.status,c=((i=s.response)==null?void 0:i.error)||"";switch(o){case 400:return c.includes("validation")||c.includes("invalid")?"Please check your information and try again.":c.includes("deadline")?"The deadline for this action has passed.":c.includes("capacity")||c.includes("full")?"This action cannot be completed due to capacity limitations.":c.includes("already")?"This action has already been completed.":c||"Invalid request. Please check your information.";case 401:return"Your session has expired. Please log in again.";case 403:return c.includes("organizer")?"As an organizer, you cannot perform this action on your own event.":c.includes("permission")||c.includes("access")?"You don't have permission to perform this action.":c.includes("invitation")||c.includes("private")?"This is a private resource that requires special access.":c||"Access denied. You don't have permission for this action.";case 404:return r!=null&&r.includes("event")?"The event could not be found. It may have been deleted or the link is incorrect.":r!=null&&r.includes("user")||r!=null&&r.includes("staff")?"The user could not be found. They may have been removed or the information is outdated.":c||"The requested resource could not be found.";case 409:return c.includes("already registered")?"You have already registered for this event.":c.includes("already exists")?"This item already exists. Please use a different name or identifier.":c||"This action conflicts with existing data.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:case 502:case 503:return"Server error occurred. Please try again in a few moments.";default:return c||a}}return t instanceof Error?t.message.includes("network")||t.message.includes("fetch")||t.message.includes("connection")?"Unable to connect to the server. Please check your internet connection and try again.":t.message.includes("timeout")?"The request timed out. Please try again.":t.message||a:typeof t=="string"?t:a}const b8={REGISTRATION:{action:"register for the event",fallbackMessage:"Registration failed. Please try again."},LOGIN:{action:"log in",fallbackMessage:"Login failed. Please check your credentials."},LOADING_EVENTS:{action:"load events",fallbackMessage:"Unable to load events. Please refresh the page."},SAVING_DATA:{action:"save your changes",fallbackMessage:"Failed to save. Please try again."},STAFF_MANAGEMENT:{action:"manage staff",fallbackMessage:"Staff management operation failed."}};function _8(t,e={}){const r=w8(t,e);return e.showToast&&console.error("Error:",r),r}const N8=xc({firstName:He().min(1,"First name is required"),lastName:He().min(1,"Last name is required"),email:He().email("Valid email is required"),phone:He().min(1,"Phone number is required"),organization:He().optional(),dietary:He().optional(),accessibility:He().optional(),comments:He().optional(),emergencyContact:He().optional(),emergencyPhone:He().optional()}),E8=()=>{const{id:t}=ga(),e=Dr(),{user:r}=pr(),[n,a]=C.useState(null),[i,s]=C.useState(!0),[o,c]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(!1),{register:p,handleSubmit:m,formState:{errors:v},setValue:y}=pc({resolver:mc(N8)});C.useEffect(()=>{(async()=>{var N;if(!t){d("Event ID is required"),s(!1);return}try{s(!0);const S=await er.getEventById(t);if(!S.success||!S.data){d(S.error||"Event not found"),s(!1);return}if(a(S.data.event),r&&(y("email",r.email),y("firstName",r.name.split(" ")[0]||""),y("lastName",r.name.split(" ").slice(1).join(" ")||"")),r){const O=await Ha.checkRegistrationStatus(t);O.success&&((N=O.data)!=null&&N.isRegistered)&&h(!0)}}catch(S){d("Failed to load event details"),console.error("Registration form error:",S)}finally{s(!1)}})()},[t,r,y]);const g=async j=>{if(!(!n||!t||!r))try{c(!0),d(null);const N=await Ha.registerForEvent(t,{formData:{firstName:j.firstName,lastName:j.lastName,email:j.email,phone:j.phone,organization:j.organization,dietary:j.dietary,accessibility:j.accessibility,comments:j.comments,emergencyContact:j.emergencyContact,emergencyPhone:j.emergencyPhone}});N.success&&N.data?N.data.requiresPayment?e(`/events/${t}/payment`,{state:{registration:N.data.registration,amount:N.data.amount,message:N.message}}):e(`/events/${t}`,{state:{message:"Successfully registered for the event!"}}):d(N.error||"Failed to register for event")}catch(N){const S=_8(N,b8.REGISTRATION);d(S),console.error("Registration error:",N)}finally{c(!1)}};if(i)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading registration form..."})]})});if(u||!n)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:u}),l.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});if(!r)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Required"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to register for events."}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:()=>e("/login"),className:"btn btn-primary",children:"Login"}),l.jsx("button",{onClick:()=>e("/register"),className:"btn btn-secondary",children:"Create Account"})]})]})});if(f)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Already Registered"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You are already registered for this event."}),l.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-primary",children:"View Event Details"})]})});const x=new Date(n.start_date),w=n.registration_deadline?new Date(n.registration_deadline):null,b=w&&new Date>w,E=new Date>x;return b||E?l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Closed"}),l.jsx("p",{className:"text-gray-600 mb-6",children:E?"This event has already started.":"The registration deadline has passed."}),l.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-secondary",children:"View Event Details"})]})}):l.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e(`/events/${n.id}`),className:"text-gray-600 hover:text-gray-900 flex items-center mb-4",children:[l.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Event"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register for Event"}),l.jsx("h2",{className:"text-xl text-gray-700 mb-4",children:n.title}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),x.toLocaleDateString()," at"," ",x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.location]})]}),n.is_paid&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",n.price]}),l.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"per ticket"})]})]})]}),u&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}),l.jsxs("form",{onSubmit:m(g),className:"card space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),l.jsx("input",{...p("firstName"),type:"text",id:"firstName",className:`input ${v.firstName?"border-red-500":""}`,placeholder:"Enter your first name"}),v.firstName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),l.jsx("input",{...p("lastName"),type:"text",id:"lastName",className:`input ${v.lastName?"border-red-500":""}`,placeholder:"Enter your last name"}),v.lastName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.lastName.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),l.jsx("input",{...p("email"),type:"email",id:"email",className:`input ${v.email?"border-red-500":""}`,placeholder:"Enter your email address"}),v.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.email.message})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),l.jsx("input",{...p("phone"),type:"tel",id:"phone",className:`input ${v.phone?"border-red-500":""}`,placeholder:"Enter your phone number"}),v.phone&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.phone.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization"}),l.jsx("input",{...p("organization"),type:"text",id:"organization",className:"input",placeholder:"Company or organization"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dietary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dietary Requirements"}),l.jsx("input",{...p("dietary"),type:"text",id:"dietary",className:"input",placeholder:"Any dietary restrictions or preferences"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"accessibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accessibility Needs"}),l.jsx("input",{...p("accessibility"),type:"text",id:"accessibility",className:"input",placeholder:"Any accessibility requirements"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),l.jsx("input",{...p("emergencyContact"),type:"text",id:"emergencyContact",className:"input",placeholder:"Emergency contact name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Phone"}),l.jsx("input",{...p("emergencyPhone"),type:"tel",id:"emergencyPhone",className:"input",placeholder:"Emergency contact phone"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments"}),l.jsx("textarea",{...p("comments"),id:"comments",rows:3,className:"input",placeholder:"Any additional information or comments"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx("button",{type:"button",onClick:()=>e(`/events/${n.id}`),className:"btn btn-secondary",disabled:o,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Registering..."]}):n.is_paid?`Register & Pay $${n.price}`:"Register for Event"})]})]})]})},C8=Zf((t,e)=>({events:[],selectedEvent:null,isLoading:!1,error:null,loadEvents:async()=>{try{t({isLoading:!0,error:null});const r=await er.getEvents();r.success&&r.data?t({events:r.data.events}):t({error:r.error||"Failed to load events"})}catch{t({error:"Error loading events"})}finally{t({isLoading:!1})}},loadEvent:async r=>{try{t({isLoading:!0,error:null});const n=await er.getEventById(r);if(n.success&&n.data){t({selectedEvent:n.data.event});const{events:a}=e(),i=a.map(s=>s.id===r?n.data.event:s);t({events:i})}else t({error:n.error||"Failed to load event"})}catch{t({error:"Error loading event"})}finally{t({isLoading:!1})}},setSelectedEvent:r=>{t({selectedEvent:r})},createEvent:async r=>{try{t({isLoading:!0,error:null});const n=await er.createEvent(r);if(n.success&&n.data){const a=n.data.event;return t(i=>({events:[...i.events,a],selectedEvent:a})),a}else return t({error:n.error||"Failed to create event"}),null}catch{return t({error:"Error creating event"}),null}finally{t({isLoading:!1})}},updateEvent:async(r,n)=>{try{t({isLoading:!0,error:null});const a=await er.updateEvent(r,n);if(a.success&&a.data){const i=a.data.event;return t(s=>{var o;return{events:s.events.map(c=>c.id===r?i:c),selectedEvent:((o=s.selectedEvent)==null?void 0:o.id)===r?i:s.selectedEvent}}),i}else return t({error:a.error||"Failed to update event"}),null}catch{return t({error:"Error updating event"}),null}finally{t({isLoading:!1})}},deleteEvent:async r=>{try{t({isLoading:!0,error:null});const n=await er.deleteEvent(r);return n.success?(t(a=>{var i;return{events:a.events.filter(s=>s.id!==r),selectedEvent:((i=a.selectedEvent)==null?void 0:i.id)===r?null:a.selectedEvent}}),!0):(t({error:n.error||"Failed to delete event"}),!1)}catch{return t({error:"Error deleting event"}),!1}finally{t({isLoading:!1})}}})),is={async getFormTemplates(){return De.get("/registration-forms/templates")},async createRegistrationForm(t,e){return De.post(`/registration-forms/events/${t}/form`,e)},async getRegistrationForm(t){return De.get(`/registration-forms/events/${t}/form`)},async updateRegistrationForm(t,e,r){return De.put(`/registration-forms/events/${t}/form/${e}`,r)},async deleteRegistrationForm(t,e){return De.delete(`/registration-forms/events/${t}/form/${e}`)}},S8=Zf((t,e)=>({form:null,templates:[],activeFieldId:null,isMultiStep:!1,currentStep:0,isLoading:!1,isSaving:!1,setForm:r=>t({form:r}),setTemplates:r=>t({templates:r}),setActiveFieldId:r=>t({activeFieldId:r}),setIsMultiStep:r=>t({isMultiStep:r}),setCurrentStep:r=>t({currentStep:r}),addField:(r,n)=>{const{form:a,isMultiStep:i}=e();if(!a)return;const s=[...a.fields,r];let o=a.steps||[];i&&typeof n=="number"&&o[n]&&(o=o.map((c,u)=>u===n?{...c,fields:[...c.fields,r.id]}:c)),t({form:{...a,fields:s,steps:o.length>0?o:void 0}})},updateField:(r,n)=>{const{form:a}=e();if(!a)return;const i=a.fields.map(s=>s.id===r?{...s,...n}:s);t({form:{...a,fields:i}})},removeField:r=>{const{form:n}=e();if(!n)return;const a=n.fields.filter(s=>s.id!==r);let i=n.steps||[];i.length>0&&(i=i.map(s=>({...s,fields:s.fields.filter(o=>o!==r)}))),t({form:{...n,fields:a,steps:i.length>0?i:void 0},activeFieldId:null})},reorderFields:(r,n)=>{const{form:a}=e();if(!a)return;const i=[...a.fields],[s]=i.splice(r,1);i.splice(n,0,s),t({form:{...a,fields:i}})},addStep:r=>{const{form:n}=e();if(!n)return;const a=[...n.steps||[],r];t({form:{...n,is_multi_step:!0,steps:a},isMultiStep:!0})},updateStep:(r,n)=>{const{form:a}=e();if(!a||!a.steps)return;const i=a.steps.map((s,o)=>o===r?{...s,...n}:s);t({form:{...a,steps:i}})},removeStep:r=>{const{form:n}=e();if(!n||!n.steps)return;const a=n.steps.filter((i,s)=>s!==r);t({form:{...n,steps:a.length>0?a:void 0,is_multi_step:a.length>0},isMultiStep:a.length>0,currentStep:Math.min(e().currentStep,a.length-1)})},reorderSteps:(r,n)=>{const{form:a}=e();if(!a||!a.steps)return;const i=[...a.steps],[s]=i.splice(r,1);i.splice(n,0,s),t({form:{...a,steps:i}})},applyTemplate:r=>{const{form:n}=e();if(!n)return;const a={...n,fields:[...r.fields],is_multi_step:!1,steps:void 0};t({form:a,isMultiStep:!1,currentStep:0,activeFieldId:null})},loadFormTemplates:async()=>{try{t({isLoading:!0});const r=await is.getFormTemplates();r.success&&r.data?t({templates:r.data.templates}):console.error("Failed to load form templates:",r.error)}catch(r){console.error("Error loading form templates:",r)}finally{t({isLoading:!1})}},loadRegistrationForm:async r=>{try{t({isLoading:!0});const n=await is.getRegistrationForm(r);if(n.success&&n.data){const a=n.data.form;t({form:a,isMultiStep:a.is_multi_step,currentStep:0})}else console.error("Failed to load registration form:",n.error),t({form:null})}catch(n){console.error("Error loading registration form:",n),t({form:null})}finally{t({isLoading:!1})}},saveRegistrationForm:async r=>{const{form:n}=e();if(n)try{t({isSaving:!0});const a=await is.updateRegistrationForm(r,n.id,{title:n.title,description:n.description,fields:n.fields,is_multi_step:n.is_multi_step,steps:n.steps});a.success&&a.data?t({form:a.data.form}):console.error("Failed to save registration form:",a.error)}catch(a){console.error("Error saving registration form:",a)}finally{t({isSaving:!1})}},createRegistrationForm:async(r,n,a)=>{try{t({isSaving:!0});const i=await is.createRegistrationForm(r,{title:n,description:a,fields:[],is_multi_step:!1});i.success&&i.data?t({form:i.data.form,isMultiStep:i.data.form.is_multi_step,currentStep:0}):console.error("Failed to create registration form:",i.error)}catch(i){console.error("Error creating registration form:",i)}finally{t({isSaving:!1})}},deleteRegistrationForm:async(r,n)=>{try{t({isLoading:!0});const a=await is.deleteRegistrationForm(r,n);a.success?t({form:null,activeFieldId:null,isMultiStep:!1,currentStep:0}):console.error("Failed to delete registration form:",a.error)}catch(a){console.error("Error deleting registration form:",a)}finally{t({isLoading:!1})}}}));function A8({templates:t,onClose:e,onSelect:r}){const n=i=>{switch(i){case"basic":return pt;case"detailed":return Rr;case"conference":return j3;default:return pt}},a=i=>{switch(i){case"basic":return"text-blue-600";case"detailed":return"text-green-600";case"conference":return"text-purple-600";default:return"text-gray-600"}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Choose a Template"}),l.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Js,{className:"h-5 w-5"})})]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Start with a pre-built template and customize it to fit your event's needs. All templates can be fully edited after selection."})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>{const s=n(i.id),o=a(i.id);return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-gray-300 hover:shadow-sm cursor-pointer transition-all",onClick:()=>r(i),children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"p-2 rounded-md bg-gray-100",children:l.jsx(s,{className:`h-6 w-6 ${o}`})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"font-medium text-gray-900",children:i.name})})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:["Includes ",i.fields.length," fields:"]}),l.jsxs("div",{className:"space-y-1",children:[i.fields.slice(0,4).map((c,u)=>l.jsxs("div",{className:"text-xs text-gray-600 flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mr-2"}),c.label]},u)),i.fields.length>4&&l.jsxs("div",{className:"text-xs text-gray-500 pl-4",children:["+",i.fields.length-4," more fields"]})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsx("button",{onClick:()=>r(i),className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Use This Template"})})]},i.id)})}),t.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No templates available"})]})]}),l.jsx("div",{className:"p-6 border-t bg-gray-50",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"You can customize any template after selection"}),l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})})]})})}var wc={},bv={exports:{}},j8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I8=j8,T8=I8;function _v(){}function Nv(){}Nv.resetWarningCache=_v;var k8=function(){function t(n,a,i,s,o,c){if(c!==T8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Nv,resetWarningCache:_v};return r.PropTypes=r,r};bv.exports=k8();var u0=bv.exports;const Ye=Hd(u0);var Ev={L:1,M:0,Q:3,H:2},Cv={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},O8=Cv;function Sv(t){this.mode=O8.MODE_8BIT_BYTE,this.data=t}Sv.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var R8=Sv,Fo=Ev;function an(t,e){this.totalCount=t,this.dataCount=e}an.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];an.getRSBlocks=function(t,e){var r=an.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,a=new Array,i=0;i<n;i++)for(var s=r[i*3+0],o=r[i*3+1],c=r[i*3+2],u=0;u<s;u++)a.push(new an(o,c));return a};an.getRsBlockTable=function(t,e){switch(e){case Fo.L:return an.RS_BLOCK_TABLE[(t-1)*4+0];case Fo.M:return an.RS_BLOCK_TABLE[(t-1)*4+1];case Fo.Q:return an.RS_BLOCK_TABLE[(t-1)*4+2];case Fo.H:return an.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var D8=an;function Av(){this.buffer=new Array,this.length=0}Av.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var P8=Av,Zr={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Zr.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Zr.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ot=0;Ot<8;Ot++)Zr.EXP_TABLE[Ot]=1<<Ot;for(var Ot=8;Ot<256;Ot++)Zr.EXP_TABLE[Ot]=Zr.EXP_TABLE[Ot-4]^Zr.EXP_TABLE[Ot-5]^Zr.EXP_TABLE[Ot-6]^Zr.EXP_TABLE[Ot-8];for(var Ot=0;Ot<255;Ot++)Zr.LOG_TABLE[Zr.EXP_TABLE[Ot]]=Ot;var jv=Zr,Na=jv;function sl(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}sl.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Na.gexp(Na.glog(this.get(r))+Na.glog(t.get(n)));return new sl(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Na.glog(this.get(0))-Na.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Na.gexp(Na.glog(t.get(n))+e);return new sl(r,0).mod(t)}};var Iv=sl,_r=Cv,tp=Iv,M8=jv,Dn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},jt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;jt.getBCHDigit(e)-jt.getBCHDigit(jt.G15)>=0;)e^=jt.G15<<jt.getBCHDigit(e)-jt.getBCHDigit(jt.G15);return(t<<10|e)^jt.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;jt.getBCHDigit(e)-jt.getBCHDigit(jt.G18)>=0;)e^=jt.G18<<jt.getBCHDigit(e)-jt.getBCHDigit(jt.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return jt.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Dn.PATTERN000:return(e+r)%2==0;case Dn.PATTERN001:return e%2==0;case Dn.PATTERN010:return r%3==0;case Dn.PATTERN011:return(e+r)%3==0;case Dn.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Dn.PATTERN101:return e*r%2+e*r%3==0;case Dn.PATTERN110:return(e*r%2+e*r%3)%2==0;case Dn.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new tp([1],0),r=0;r<t;r++)e=e.multiply(new tp([1,M8.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case _r.MODE_NUMBER:return 10;case _r.MODE_ALPHA_NUM:return 9;case _r.MODE_8BIT_BYTE:return 8;case _r.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case _r.MODE_NUMBER:return 12;case _r.MODE_ALPHA_NUM:return 11;case _r.MODE_8BIT_BYTE:return 16;case _r.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case _r.MODE_NUMBER:return 14;case _r.MODE_ALPHA_NUM:return 13;case _r.MODE_8BIT_BYTE:return 16;case _r.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var a=0;a<e;a++){for(var i=0,s=t.isDark(n,a),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)a+c<0||e<=a+c||o==0&&c==0||s==t.isDark(n+o,a+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<e-1;n++)for(var a=0;a<e-1;a++){var u=0;t.isDark(n,a)&&u++,t.isDark(n+1,a)&&u++,t.isDark(n,a+1)&&u++,t.isDark(n+1,a+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var a=0;a<e-6;a++)t.isDark(n,a)&&!t.isDark(n,a+1)&&t.isDark(n,a+2)&&t.isDark(n,a+3)&&t.isDark(n,a+4)&&!t.isDark(n,a+5)&&t.isDark(n,a+6)&&(r+=40);for(var a=0;a<e;a++)for(var n=0;n<e-6;n++)t.isDark(n,a)&&!t.isDark(n+1,a)&&t.isDark(n+2,a)&&t.isDark(n+3,a)&&t.isDark(n+4,a)&&!t.isDark(n+5,a)&&t.isDark(n+6,a)&&(r+=40);for(var d=0,a=0;a<e;a++)for(var n=0;n<e;n++)t.isDark(n,a)&&d++;var f=Math.abs(100*d/e/e-50)/5;return r+=f*10,r}},L8=jt,F8=R8,Tv=D8,kv=P8,wa=L8,B8=Iv;function ln(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var gr=ln.prototype;gr.addData=function(t){var e=new F8(t);this.dataList.push(e),this.dataCache=null};gr.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};gr.getModuleCount=function(){return this.moduleCount};gr.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=Tv.getRSBlocks(t,this.errorCorrectLevel),r=new kv,n=0,a=0;a<e.length;a++)n+=e[a].dataCount;for(var a=0;a<this.dataList.length;a++){var i=this.dataList[a];r.put(i.mode,4),r.put(i.getLength(),wa.getLengthInBits(i.mode,t)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};gr.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ln.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};gr.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};gr.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=wa.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};gr.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),a=1;this.make();for(var i=0;i<this.modules.length;i++)for(var s=i*a,o=0;o<this.modules[i].length;o++){var c=o*a,u=this.modules[i][o];u&&(n.beginFill(0,100),n.moveTo(c,s),n.lineTo(c+a,s),n.lineTo(c+a,s+a),n.lineTo(c,s+a),n.endFill())}return n};gr.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};gr.setupPositionAdjustPattern=function(){for(var t=wa.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],a=t[r];if(this.modules[n][a]==null)for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)i==-2||i==2||s==-2||s==2||i==0&&s==0?this.modules[n+i][a+s]=!0:this.modules[n+i][a+s]=!1}};gr.setupTypeNumber=function(t){for(var e=wa.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};gr.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=wa.getBCHTypeInfo(r),a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(var a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!t};gr.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,a=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var o=0;o<2;o++)if(this.modules[n][s-o]==null){var c=!1;i<t.length&&(c=(t[i]>>>a&1)==1);var u=wa.getMask(e,n,s-o);u&&(c=!c),this.modules[n][s-o]=c,a--,a==-1&&(i++,a=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};ln.PAD0=236;ln.PAD1=17;ln.createData=function(t,e,r){for(var n=Tv.getRSBlocks(t,e),a=new kv,i=0;i<r.length;i++){var s=r[i];a.put(s.mode,4),a.put(s.getLength(),wa.getLengthInBits(s.mode,t)),s.write(a)}for(var o=0,i=0;i<n.length;i++)o+=n[i].dataCount;if(a.getLengthInBits()>o*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+o*8+")");for(a.getLengthInBits()+4<=o*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=o*8||(a.put(ln.PAD0,8),a.getLengthInBits()>=o*8));)a.put(ln.PAD1,8);return ln.createBytes(a,n)};ln.createBytes=function(t,e){for(var r=0,n=0,a=0,i=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var c=e[o].dataCount,u=e[o].totalCount-c;n=Math.max(n,c),a=Math.max(a,u),i[o]=new Array(c);for(var d=0;d<i[o].length;d++)i[o][d]=255&t.buffer[d+r];r+=c;var f=wa.getErrorCorrectPolynomial(u),h=new B8(i[o],f.getLength()-1),p=h.mod(f);s[o]=new Array(f.getLength()-1);for(var d=0;d<s[o].length;d++){var m=d+p.getLength()-s[o].length;s[o][d]=m>=0?p.get(m):0}}for(var v=0,d=0;d<e.length;d++)v+=e[d].totalCount;for(var y=new Array(v),g=0,d=0;d<n;d++)for(var o=0;o<e.length;o++)d<i[o].length&&(y[g++]=i[o][d]);for(var d=0;d<a;d++)for(var o=0;o<e.length;o++)d<s[o].length&&(y[g++]=s[o][d]);return y};var U8=ln,d0={};Object.defineProperty(d0,"__esModule",{value:!0});var z8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V8=u0,Nr=Rv(V8),Ov=C,Bo=Rv(Ov);function Rv(t){return t&&t.__esModule?t:{default:t}}function $8(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var H8={bgColor:Nr.default.oneOfType([Nr.default.object,Nr.default.string]).isRequired,bgD:Nr.default.string.isRequired,fgColor:Nr.default.oneOfType([Nr.default.object,Nr.default.string]).isRequired,fgD:Nr.default.string.isRequired,size:Nr.default.number.isRequired,title:Nr.default.string,viewBoxSize:Nr.default.number.isRequired,xmlns:Nr.default.string},f0=(0,Ov.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,a=t.fgD,i=t.fgColor,s=t.size,o=t.title,c=t.viewBoxSize,u=t.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=$8(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Bo.default.createElement("svg",z8({},f,{height:s,ref:e,viewBox:"0 0 "+c+" "+c,width:s,xmlns:d}),o?Bo.default.createElement("title",null,o):null,Bo.default.createElement("path",{d:n,fill:r}),Bo.default.createElement("path",{d:a,fill:i}))});f0.displayName="QRCodeSvg";f0.propTypes=H8;d0.default=f0;Object.defineProperty(wc,"__esModule",{value:!0});wc.QRCode=void 0;var W8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G8=u0,mn=ho(G8),X8=Ev,Z8=ho(X8),Y8=U8,K8=ho(Y8),Dv=C,Q8=ho(Dv),q8=d0,J8=ho(q8);function ho(t){return t&&t.__esModule?t:{default:t}}function eE(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var tE={bgColor:mn.default.oneOfType([mn.default.object,mn.default.string]),fgColor:mn.default.oneOfType([mn.default.object,mn.default.string]),level:mn.default.string,size:mn.default.number,value:mn.default.string.isRequired},bc=(0,Dv.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,a=t.fgColor,i=a===void 0?"#000000":a,s=t.level,o=s===void 0?"L":s,c=t.size,u=c===void 0?256:c,d=t.value,f=eE(t,["bgColor","fgColor","level","size","value"]),h=new K8.default(-1,Z8.default[o]);h.addData(d),h.make();var p=h.modules;return Q8.default.createElement(J8.default,W8({},f,{bgColor:n,bgD:p.map(function(m,v){return m.map(function(y,g){return y?"":"M "+g+" "+v+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:p.map(function(m,v){return m.map(function(y,g){return y?"M "+g+" "+v+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:u,viewBoxSize:p.length}))});wc.QRCode=bc;bc.displayName="QRCode";bc.propTypes=tE;var Pv=wc.default=bc;function rE({form:t,eventId:e,onClose:r}){const[n,a]=C.useState(null),[i,s]=C.useState(!1),o=window.location.origin,c=`${o}/events/${e}/register`,u=`${o}/events/${e}/register?embed=true`,d=async(h,p)=>{try{await navigator.clipboard.writeText(h),a(p),setTimeout(()=>a(null),2e3)}catch(m){console.error("Failed to copy:",m)}},f=()=>`<iframe 
  src="${u}" 
  width="100%" 
  height="600" 
  frameborder="0" 
  style="border: none; border-radius: 8px;">
</iframe>`;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Xf,{className:"h-6 w-6 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Share Registration Form"}),l.jsx("p",{className:"text-sm text-gray-600",children:t.title})]})]}),l.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Js,{className:"h-5 w-5"})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Registration Link"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-md bg-gray-50 text-gray-700"}),l.jsx("button",{onClick:()=>d(c,"url"),className:"px-4 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="url"?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Jc,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy"})]})}),l.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-2",children:[l.jsx(Vx,{className:"h-4 w-4"}),l.jsx("span",{children:"Preview"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to register for your event"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"QR Code"}),l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-gray-100 rounded-md",children:l.jsx(Qs,{className:"h-6 w-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:"QR Code for Easy Access"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Let participants scan to register quickly"})]})]}),l.jsx("button",{onClick:()=>s(!i),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100",children:i?"Hide QR Code":"Generate QR Code"})]}),i&&l.jsx("div",{className:"border-t border-gray-200 p-6 bg-white",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"qr-code-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:l.jsx(Pv,{value:c,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 200 200"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Scan to Register"}),l.jsx("p",{className:"text-xs text-gray-600 max-w-sm mx-auto",children:"Point your camera at this QR code to quickly access the registration form"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{const h=document.querySelector(".qr-code-container"),p=h==null?void 0:h.querySelector("svg");if(p)try{const m=new XMLSerializer().serializeToString(p),v=document.createElement("canvas"),y=v.getContext("2d"),g=new Image;v.width=200,v.height=200,g.onload=()=>{y&&(y.fillStyle="white",y.fillRect(0,0,200,200),y.drawImage(g,0,0));const x=document.createElement("a");x.download=`${t.title.replace(/\s+/g,"-")}-qr-code.png`,x.href=v.toDataURL("image/png"),x.click()},g.src="data:image/svg+xml;base64,"+btoa(m)}catch(m){console.error("Error downloading QR code:",m),alert("Failed to download QR code. Please try again.")}else alert("QR code not found. Please generate the QR code first.")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Download QR Code"}),l.jsx("button",{onClick:()=>d(c,"qr-url"),className:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-1",children:n==="qr-url"?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Jc,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy URL"})]})})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Embed Code"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{value:f(),readOnly:!0,rows:6,className:"w-full p-3 border border-gray-300 rounded-md bg-gray-50 text-sm text-gray-700 font-mono"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Embed this form directly on your website"}),l.jsx("button",{onClick:()=>d(f(),"embed"),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="embed"?l.jsxs(l.Fragment,{children:[l.jsx(qc,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Jc,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy Code"})]})})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Form Statistics"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Total Registrations"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Form Views"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]})]})]})]}),l.jsx("div",{className:"p-6 border-t bg-gray-50",children:l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})})]})})}function nE(){const{id:t}=ga(),e=Dr(),[r,n]=C.useState(!1),[a,i]=C.useState(!1),[s,o]=C.useState(!1),[c,u]=C.useState(null),{events:d,selectedEvent:f,loadEvent:h,isLoading:p}=C8(),{form:m,templates:v,activeFieldId:y,isMultiStep:g,currentStep:x,isLoading:w,isSaving:b,setActiveFieldId:E,setIsMultiStep:j,setCurrentStep:N,addField:S,updateField:O,removeField:I,reorderFields:F,addStep:T,removeStep:M,applyTemplate:L,loadFormTemplates:$,loadRegistrationForm:fe,saveRegistrationForm:he,createRegistrationForm:U,deleteRegistrationForm:ee}=S8(),Q=d.find(z=>z.id===t)||f;C.useEffect(()=>{t&&(console.log("RegistrationFormBuilder: Loading event ID:",t),h(t),$(),fe(t))},[t]),C.useEffect(()=>{console.log("RegistrationFormBuilder Debug:",{eventId:t,event:Q,selectedEvent:f,eventsCount:d.length,isLoading:w,eventLoading:p})},[t,Q,f,d.length,w,p]);const oe=async()=>{if(!t)return;const z=`${(Q==null?void 0:Q.title)||"Event"} Registration Form`,le=`Registration form for ${(Q==null?void 0:Q.title)||"this event"}`;await U(t,z,le)},Pe=async()=>{!t||!m||await he(t)},Ze=async()=>{!t||!m||window.confirm("Are you sure you want to delete this form? This action cannot be undone.")&&await ee(t,m.id)},yr=z=>{const le=`field_${Date.now()}`,Ge={id:le,type:z,label:`New ${z} field`,required:!1},Oe=g&&(m!=null&&m.steps)?x:void 0;S(Ge,Oe),E(le)},In=()=>{if(m){if(g){if(m.steps)for(let z=m.steps.length-1;z>=0;z--)M(z)}else{const z={title:"Step 1",description:"Please fill out the following information",fields:m.fields.map(le=>le.id)};T(z)}j(!g),N(0)}},Mr=()=>{var Ge;const le={title:`Step ${(((Ge=m==null?void 0:m.steps)==null?void 0:Ge.length)||0)+1}`,description:"Please fill out the following information",fields:[]};T(le)},Jr=[{type:"text",label:"Text Input",icon:pt},{type:"email",label:"Email",icon:pt},{type:"phone",label:"Phone",icon:pt},{type:"textarea",label:"Text Area",icon:pt},{type:"select",label:"Dropdown",icon:pt},{type:"radio",label:"Radio Buttons",icon:pt},{type:"checkbox",label:"Checkboxes",icon:pt},{type:"file",label:"File Upload",icon:pt},{type:"date",label:"Date Picker",icon:pt},{type:"number",label:"Number",icon:pt},{type:"url",label:"URL",icon:pt}];return w||p?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(eu,{className:"h-6 w-6 animate-spin text-blue-600"}),l.jsx("span",{children:"Loading form builder..."})]})}):!Q&&!p&&!w?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event not found"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Event ID: ",t," | Events loaded: ",d.length]}),l.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800",children:"Return to Dashboard"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:l.jsx(Wf,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Registration Form Builder"}),l.jsx("p",{className:"text-sm text-gray-600",children:Q==null?void 0:Q.title})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[!r&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>i(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Use Template"}),l.jsxs("button",{onClick:In,className:`px-3 py-2 text-sm font-medium rounded-md ${g?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[l.jsx(R3,{className:"h-4 w-4 inline mr-1"}),"Multi-Step"]})]}),l.jsxs("button",{onClick:()=>n(!r),className:`px-3 py-2 text-sm font-medium rounded-md ${r?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[l.jsx(Pl,{className:"h-4 w-4 inline mr-1"}),r?"Edit":"Preview"]}),m&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(Xf,{className:"h-4 w-4 inline mr-1"}),"Share"]}),l.jsx("button",{onClick:Pe,disabled:b,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:b?l.jsxs(l.Fragment,{children:[l.jsx(eu,{className:"h-4 w-4 inline mr-1 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(L3,{className:"h-4 w-4 inline mr-1"}),"Save"]})}),l.jsx("button",{onClick:Ze,className:"px-3 py-2 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50",children:l.jsx(Ii,{className:"h-4 w-4"})})]})]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m?r?l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:m.title}),m.description&&l.jsx("p",{className:"text-gray-600 mb-6",children:m.description}),l.jsxs("div",{className:"space-y-6",children:[m.fields.map(z=>{var le;return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[z.label,z.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),z.type==="textarea"?l.jsx("textarea",{placeholder:z.placeholder,className:"w-full p-3 border border-gray-300 rounded-md",rows:3}):z.type==="select"?l.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:z.placeholder||"Select an option"}),(le=z.options)==null?void 0:le.map((Ge,Oe)=>l.jsx("option",{value:Ge,children:Ge},Oe))]}):z.type==="radio"&&z.options?l.jsx("div",{className:"space-y-2",children:z.options.map((Ge,Oe)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:z.id,value:Ge,className:"mr-2"}),l.jsx("span",{className:"text-sm",children:Ge})]},Oe))}):z.type==="checkbox"&&z.options?l.jsx("div",{className:"space-y-2",children:z.options.map((Ge,Oe)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",value:Ge,className:"mr-2"}),l.jsx("span",{className:"text-sm",children:Ge})]},Oe))}):l.jsx("input",{type:z.type==="email"?"email":z.type==="number"?"number":z.type==="url"?"url":z.type==="date"?"date":"text",placeholder:z.placeholder,className:"w-full p-3 border border-gray-300 rounded-md"})]},z.id)}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700",children:"Submit Registration"})})]})]})}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Add Fields"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click on any field type to add it to your form"}),l.jsx("div",{className:"space-y-2",children:Jr.map(({type:z,label:le,icon:Ge})=>l.jsxs("button",{onClick:()=>yr(z),className:"w-full flex items-center space-x-3 p-3 text-left text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 rounded-md border border-transparent transition-all duration-200 group",title:`Add ${le} field`,children:[l.jsx(Ge,{className:"h-4 w-4 group-hover:text-blue-600"}),l.jsx("span",{className:"font-medium",children:le}),l.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(di,{className:"h-3 w-3 text-blue-600"})})]},z))}),g&&l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Steps"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Organize your form into multiple steps"}),l.jsxs("button",{onClick:Mr,className:"w-full flex items-center justify-center space-x-2 p-3 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md border border-blue-200 hover:border-blue-300 transition-all duration-200",children:[l.jsx(di,{className:"h-4 w-4"}),l.jsx("span",{children:"Add New Step"})]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("h4",{className:"font-medium text-gray-800 mb-2 text-sm",children:" Quick Tips"}),l.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[l.jsx("p",{children:" Click on any field to edit its settings"}),l.jsx("p",{children:" Use Preview to test your form"}),l.jsx("p",{children:" Toggle Multi-Step for complex forms"}),l.jsx("p",{children:" Use templates for quick setup"})]})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:m.title}),m.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(qs,{className:"h-5 w-5"})})]}),g&&m.steps&&m.steps.length>0&&l.jsx("div",{className:"mt-4 flex space-x-2",children:m.steps.map((z,le)=>l.jsx("button",{onClick:()=>N(le),className:`px-3 py-2 text-sm rounded-md ${x===le?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:z.title},le))})]}),l.jsx("div",{className:"p-6",children:m.fields.length===0?l.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[l.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Building Your Form"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create a custom registration form by adding fields from the sidebar, or get started quickly with a pre-built template."}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsx("button",{onClick:()=>i(!0),className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"}),l.jsx("button",{onClick:()=>yr("text"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Add First Field"})]})]}):l.jsx("div",{className:"space-y-3 pl-8 relative",children:m.fields.filter(z=>{if(!g||!m.steps)return!0;const le=m.steps[x];return le==null?void 0:le.fields.includes(z.id)}).map((z,le)=>{var Ge;return l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"absolute -left-8 top-3 text-xs text-gray-400 font-medium bg-gray-100 rounded-full w-5 h-5 flex items-center justify-center",children:le+1}),l.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all duration-200 ${y===z.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>E(z.id),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[z.label,z.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("span",{className:"px-2 py-1 text-xs text-gray-500 bg-gray-100 rounded-full capitalize",children:z.type})]}),z.placeholder&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Placeholder: ",z.placeholder]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[le>0&&l.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),F(le,le-1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move up",children:l.jsx(O3,{className:"h-4 w-4"})}),le<m.fields.filter(Oe=>{if(!g||!m.steps)return!0;const wr=m.steps[x];return wr==null?void 0:wr.fields.includes(Oe.id)}).length-1&&l.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),F(le,le+1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move down",children:l.jsx(T3,{className:"h-4 w-4"})}),l.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),I(z.id)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete field",children:l.jsx(Ii,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"mt-3 opacity-80",children:z.type==="textarea"?l.jsx("textarea",{placeholder:z.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",rows:2,disabled:!0}):z.type==="select"?l.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0,children:[l.jsx("option",{children:z.placeholder||"Select an option"}),(Ge=z.options)==null?void 0:Ge.slice(0,3).map((Oe,wr)=>l.jsx("option",{children:Oe},wr)),z.options&&z.options.length>3&&l.jsxs("option",{children:["... and ",z.options.length-3," ","more"]})]}):z.type==="radio"&&z.options?l.jsxs("div",{className:"space-y-1",children:[z.options.slice(0,3).map((Oe,wr)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",className:"mr-2",disabled:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:Oe})]},wr)),z.options.length>3&&l.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",z.options.length-3," more options"]})]}):z.type==="checkbox"&&z.options?l.jsxs("div",{className:"space-y-1",children:[z.options.slice(0,3).map((Oe,wr)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",disabled:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:Oe})]},wr)),z.options.length>3&&l.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",z.options.length-3," more options"]})]}):l.jsx("input",{type:z.type==="email"?"email":z.type==="number"?"number":z.type==="url"?"url":z.type==="date"?"date":"text",placeholder:z.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0})})]}),l.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:l.jsx("div",{className:"flex justify-center mt-2",children:l.jsxs("button",{onClick:()=>{const Oe={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"Enter value",required:!1,options:[]};S(Oe),E(Oe.id)},className:"flex items-center gap-1 px-3 py-1 text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full border border-blue-200 transition-colors",children:[l.jsx(di,{className:"h-3 w-3"}),"Add Field Below"]})})})]},z.id)})})})]})}),l.jsx("div",{className:"lg:col-span-1",children:y&&(()=>{const z=m.fields.find(le=>le.id===y);return z?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Edit Field"}),l.jsx("button",{onClick:()=>E(null),className:"p-1 text-gray-400 hover:text-gray-600",children:l.jsx(Js,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),l.jsx("input",{type:"text",value:z.label,onChange:le=>O(y,{label:le.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder"}),l.jsx("input",{type:"text",value:z.placeholder||"",onChange:le=>O(y,{placeholder:le.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:z.required,onChange:le=>O(y,{required:le.target.checked}),className:"mr-2"}),l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Required field"})]}),(z.type==="select"||z.type==="radio"||z.type==="checkbox")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options (one per line)"}),l.jsx("textarea",{value:(z.options||[]).join(`
`),onChange:le=>{const Ge=le.target.value.split(`
`).filter(Oe=>Oe.trim()!=="");O(y,{options:Ge})},rows:4,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:`Option 1
Option 2
Option 3`})]})]})]}):null})()})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Registration Form"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Create a registration form for participants to register for your event."}),l.jsx("button",{onClick:oe,disabled:b,className:"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:b?l.jsxs(l.Fragment,{children:[l.jsx(eu,{className:"h-4 w-4 inline mr-2 animate-spin"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(di,{className:"h-4 w-4 inline mr-2"}),"Create Registration Form"]})})]})}),a&&l.jsx(A8,{templates:v,onClose:()=>i(!1),onSelect:z=>{L(z),i(!1),u(`Template "${z.name}" applied successfully! You can now edit the fields.`),setTimeout(()=>u(null),4e3)}}),m&&s&&l.jsx(rE,{form:m,eventId:t,onClose:()=>o(!1)}),c&&l.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:l.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 max-w-sm",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("p",{className:"text-sm font-medium",children:c}),l.jsx("button",{onClick:()=>u(null),className:"flex-shrink-0 text-green-200 hover:text-white",children:l.jsx(Js,{className:"h-4 w-4"})})]})})]})}const bi=t=>{const e=new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},aE=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState(null),s=async()=>{var f;try{n(!0),i(null);const h=await Ha.getUserRegistrations();e(((f=h.data)==null?void 0:f.registrations)||[])}catch(h){i(typeof h=="string"?h:"An error occurred")}finally{n(!1)}};C.useEffect(()=>{s()},[]);const o=async f=>{var h;if(window.confirm("Are you sure you want to cancel your registration for this event?"))try{await Ha.cancelRegistration(f),s()}catch(p){console.error("Failed to cancel registration:",p);let m="Failed to cancel registration. Please try again.";if(p instanceof Error&&"response"in p){const v=p;v.status===400?m="Cannot cancel registration for this event. It may have already started or the cancellation deadline has passed.":v.status===404?m="Registration not found. It may have already been cancelled.":v.status===403?m="You don't have permission to cancel this registration.":m=((h=v.response)==null?void 0:h.error)||"Failed to cancel registration. Please try again."}alert(m)}},c=f=>{switch(f){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{switch(f){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"not_required":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{var h;return f.status==="cancelled"?!1:(h=f.event)!=null&&h.is_paid?f.payment_status==="completed":f.status==="confirmed"||f.payment_status==="not_required"};return r?l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):a?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(A3,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading registrations"}),l.jsx("p",{className:"mt-1 text-sm text-red-700",children:a||"An error occurred"}),l.jsx("button",{onClick:()=>s(),className:"mt-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded",children:"Try again"})]})]})})}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Registrations"}),l.jsx("p",{className:"text-gray-600",children:"View and manage your event registrations"})]}),!t||t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ut,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't registered for any events yet."}),l.jsx(se,{to:"/events",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700",children:"Browse Events"})]}):l.jsx("div",{className:"space-y-6",children:t.map(f=>{const h=f.event;return h?l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:h.title}),l.jsxs("div",{className:"ml-3 flex space-x-2",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(f.status)}`,children:f.status}),h.is_paid&&f.payment_status&&l.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(f.payment_status)}`,children:[l.jsx(Vh,{className:"w-3 h-3 mr-1"}),f.payment_status.replace("_"," ")]}),!h.is_paid&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Free Event"})]})]}),l.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:h.description}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ut,{className:"h-4 w-4 mr-2"}),bi(h.start_date)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(co,{className:"h-4 w-4 mr-2"}),h.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Va,{className:"h-4 w-4 mr-2"}),"Registered ",bi(f.created_at)]})]}),h.is_paid&&h.price&&l.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Event Price: $",h.price]})]}),l.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[d(f)&&l.jsxs(se,{to:`/ticket/${f.id}`,className:"inline-flex items-center px-3 py-2 border border-green-300 shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 bg-white hover:bg-green-50",children:[l.jsx($x,{className:"h-4 w-4 mr-2"}),"View Ticket"]}),h.is_paid&&f.payment_status==="pending"&&l.jsxs(se,{to:`/events/${h.id}/payment`,state:{registration:f,amount:h.price||0,message:"Complete your payment to confirm registration"},className:"inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[l.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Complete Payment"]}),l.jsxs(se,{to:`/events/${h.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Vx,{className:"h-4 w-4 mr-2"}),"View Event"]}),f.status!=="cancelled"&&!d(f)&&l.jsxs("button",{onClick:()=>o(f.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[l.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})},f.id):null})})]})},iE=()=>{const{id:t}=ga(),e=Dr(),[r,n]=C.useState(null),[a,i]=C.useState([]),[s,o]=C.useState(!0),[c,u]=C.useState(null),[d,f]=C.useState("all");C.useEffect(()=>{(async()=>{if(!t){u("Event ID is required"),o(!1);return}try{o(!0),u(null);const[x,w]=await Promise.all([er.getEventById(t),Ha.getEventRegistrations(t)]);if(x.success&&x.data)n(x.data.event);else{u(x.error||"Event not found");return}w.success&&w.data?i(w.data.registrations):u(w.error||"Failed to load registrations")}catch(x){u("Failed to load data"),console.error("Event registrations error:",x)}finally{o(!1)}})()},[t]);const h=g=>{switch(g){case"confirmed":return l.jsx($i,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(Va,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return l.jsx(Ml,{className:"h-5 w-5 text-red-500"});default:return l.jsx(Va,{className:"h-5 w-5 text-gray-500"})}},p=g=>{switch(g){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=a.filter(g=>d==="all"?!0:g.status===d),v=g=>g==="all"?a.length:a.filter(x=>x.status===g).length,y=()=>{if(!a.length)return;const x=[["Name","Email","Phone","Status","Registration Date"].join(","),...m.map(j=>{const N=j.user;return[(N==null?void 0:N.name)||"N/A",(N==null?void 0:N.email)||"N/A",(N==null?void 0:N.phone_number)||"N/A",j.status,bi(j.created_at)].join(",")})].join(`
`),w=new Blob([x],{type:"text/csv"}),b=window.URL.createObjectURL(w),E=document.createElement("a");E.href=b,E.download=`${(r==null?void 0:r.title)||"event"}-registrations.csv`,E.click(),window.URL.revokeObjectURL(b)};return s?l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):c?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"text-red-800",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Error"}),l.jsx("p",{className:"mt-1",children:c}),l.jsx("button",{onClick:()=>e(-1),className:"mt-3 text-sm bg-red-100 hover:bg-red-200 px-3 py-1 rounded",children:"Go Back"})]})})}):r?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>e(`/events/${t}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Wf,{className:"h-5 w-5 mr-2"}),"Back to Event"]}),l.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:!m.length,children:[l.jsx(dc,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Registrations"}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ut,{className:"h-4 w-4 mr-2"}),bi(r.start_date)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(co,{className:"h-4 w-4 mr-2"}),r.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rr,{className:"h-4 w-4 mr-2"}),a.length," / ",r.capacity," registered"]})]})]})})})]}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Registrations"},{key:"confirmed",label:"Confirmed"},{key:"pending",label:"Pending"},{key:"cancelled",label:"Cancelled"}].map(g=>l.jsxs("button",{onClick:()=>f(g.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${d===g.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[g.label," (",v(g.key),")"]},g.key))})}),m.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations found"}),l.jsx("p",{className:"text-gray-500",children:d==="all"?"No one has registered for this event yet.":`No ${d} registrations for this event.`})]}):l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.jsx("ul",{className:"divide-y divide-gray-200",children:m.map(g=>{var x,w,b;return l.jsx("li",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[l.jsx("div",{className:"flex-shrink-0",children:h(g.status)}),l.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((x=g.user)==null?void 0:x.name)||"Unknown User"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(g.status)}`,children:g.status})]}),l.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ta,{className:"h-4 w-4 mr-1"}),((w=g.user)==null?void 0:w.email)||"No email"]}),((b=g.user)==null?void 0:b.phone_number)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(M3,{className:"h-4 w-4 mr-1"}),g.user.phone_number]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ut,{className:"h-4 w-4 mr-1"}),"Registered ",bi(g.created_at)]})]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:g.responses&&Object.keys(g.responses).length>0&&l.jsx("button",{onClick:()=>{alert(`Form Data:
${JSON.stringify(g.responses,null,2)}`)},className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500",title:"View Form Data",children:l.jsx(pt,{className:"h-4 w-4"})})})]})},g.id)})})})]}):null},sE=()=>l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Attendance Tracking"}),l.jsx("p",{className:"text-gray-600",children:"QR code scanning and attendance management will be implemented here."})]}),oE=()=>{const t=Dr(),{clearAuth:e,setError:r}=pr();return{handleApiError:a=>{var i,s;return console.error("API Error:",a),((i=a==null?void 0:a.response)==null?void 0:i.code)==="TOKEN_EXPIRED"||(a==null?void 0:a.status)===401?(console.log(" Token expired, handling authentication error"),e(),r("Your session has expired. Please log in again."),setTimeout(()=>{t("/login",{replace:!0})},1500),"Your session has expired. Redirecting to login..."):(s=a==null?void 0:a.response)!=null&&s.error?a.response.error:"An unexpected error occurred. Please try again."}}};class ks{static async getEventCertificates(e){return De.get(`/certificates/event/${e}`)}static async generateCertificates(e,r){return De.post("/certificates/generate",{eventId:e,participantIds:r==null?void 0:r.participantIds,templateId:r==null?void 0:r.templateId})}static async verifyCertificate(e){return De.get(`/certificates/verify/${e}`)}static downloadCertificate(e){return`http://localhost:3001/api/certificates/download/${e}`}}const Uo="http://localhost:3001/api",ss={get:async t=>{const e=localStorage.getItem("token");return{data:await(await fetch(`${Uo}${t}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).json()}},post:async(t,e)=>{const n={Authorization:`Bearer ${localStorage.getItem("token")}`};return e instanceof FormData||(n["Content-Type"]="application/json"),{data:await(await fetch(`${Uo}${t}`,{method:"POST",headers:n,body:e instanceof FormData?e:JSON.stringify(e)})).json()}},put:async(t,e)=>{const r=localStorage.getItem("token");return{data:await(await fetch(`${Uo}${t}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}},delete:async t=>{const e=localStorage.getItem("token");return{data:await(await fetch(`${Uo}${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).json()}}},lE=({template:t,isOpen:e,onClose:r,onSave:n,dataFields:a})=>{var u;const[i,s]=C.useState({});C.useEffect(()=>{var d;(d=t==null?void 0:t.template)!=null&&d.placeholder_mapping&&s(t.template.placeholder_mapping)},[t]);const o=()=>{n(i),r()},c=((u=t==null?void 0:t.template)==null?void 0:u.placeholders)||[];return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold",children:["Map Placeholders - ",t==null?void 0:t.name]}),l.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[l.jsx(ua,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Map the placeholders found in your PowerPoint template to data fields that will be populated when generating certificates."})]})}),c.length===0?l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[l.jsx(ua,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm",children:["No placeholders found in the template. Make sure your PowerPoint file contains placeholders in the format"," ","{{placeholder_name}}","."]})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Placeholder Mapping"}),c.map(d=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg",children:[l.jsx("div",{children:l.jsxs("label",{className:"text-sm font-medium",children:["Placeholder:"," ",l.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"{{"+d+"}}"})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:`mapping-${d}`,className:"block text-sm font-medium mb-1",children:"Map to Data Field"}),l.jsxs("select",{id:`mapping-${d}`,value:i[d]||"",onChange:f=>s(h=>({...h,[d]:f.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:"-- No mapping --"}),a.map(f=>l.jsxs("option",{value:f.key,children:[f.label," - ",f.description]},f.key))]})]})]},d))]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Mapping"})]})]})]})})}):null},cE=({eventId:t})=>{const[e,r]=C.useState([]),[n,a]=C.useState([]),[i,s]=C.useState(!0),[o,c]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(null),[p,m]=C.useState(null),[v,y]=C.useState(""),[g,x]=C.useState(null),[w,b]=C.useState(!1);C.useEffect(()=>{E(),j()},[t]);const E=async()=>{var T,M;try{s(!0);const L=await ss.get(`/templates/event/${t}`);L.data.success&&r(L.data.data.templates)}catch(L){d(((M=(T=L.response)==null?void 0:T.data)==null?void 0:M.error)||"Failed to load templates")}finally{s(!1)}},j=async()=>{try{const T=await ss.get("/templates/data-fields");T.data.success&&a(T.data.data)}catch(T){console.error("Failed to load data fields:",T)}},N=T=>{var L;const M=(L=T.target.files)==null?void 0:L[0];M&&(M.type.includes("presentation")||M.name.endsWith(".pptx")||M.name.endsWith(".ppt")?(m(M),d(null),v||y(M.name.replace(/\.(pptx?|ppt)$/i,""))):(d("Please select a PowerPoint file (.ppt or .pptx)"),m(null)))},S=async()=>{var T,M;if(!p||!v.trim()){d("Please select a file and enter a template name");return}try{c(!0),d(null);const L=new FormData;L.append("template",p),L.append("eventId",t),L.append("templateName",v.trim());const $=await ss.post("/templates/upload",L);if($.data.success){h("Template uploaded successfully!"),m(null),y("");const fe=document.getElementById("template-file");if(fe&&(fe.value=""),await E(),$.data.data.needs_mapping){const he=$.data.data.template;x(he),b(!0)}}}catch(L){d(((M=(T=L.response)==null?void 0:T.data)==null?void 0:M.error)||"Failed to upload template")}finally{c(!1)}},O=async T=>{var M,L;if(confirm("Are you sure you want to delete this template?"))try{(await ss.delete(`/templates/${T}`)).data.success&&(h("Template deleted successfully!"),await E())}catch($){d(((L=(M=$.response)==null?void 0:M.data)==null?void 0:L.error)||"Failed to delete template")}},I=async T=>{var M,L;if(g)try{(await ss.put(`/templates/${g.id}/mapping`,{placeholderMapping:T})).data.success&&(h("Placeholder mapping saved successfully!"),await E())}catch($){d(((L=(M=$.response)==null?void 0:M.data)==null?void 0:L.error)||"Failed to save mapping")}},F=()=>{d(null),h(null)};return i?l.jsxs("div",{className:"space-y-4 p-6",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-64"}),l.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]}):l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h2",{className:"text-2xl font-bold",children:"Certificate Templates"})}),u&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[l.jsx(ua,{className:"h-4 w-4"}),l.jsx("span",{children:u}),l.jsx("button",{onClick:F,className:"ml-auto text-red-600 hover:text-red-800",children:""})]})}),f&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[l.jsx($i,{className:"h-4 w-4"}),l.jsx("span",{children:f}),l.jsx("button",{onClick:F,className:"ml-auto text-green-600 hover:text-green-800",children:""})]})}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(B3,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Upload PowerPoint Template"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name"}),l.jsx("input",{id:"template-name",type:"text",value:v,onChange:T=>y(T.target.value),placeholder:"Enter template name",disabled:o,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"template-file",className:"block text-sm font-medium text-gray-700 mb-1",children:"PowerPoint File (.ppt, .pptx)"}),l.jsx("input",{id:"template-file",type:"file",accept:".ppt,.pptx,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",onChange:N,disabled:o,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p&&l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",p.name," (",(p.size/1024/1024).toFixed(2)," MB)"]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-2 text-blue-800",children:[l.jsx(ua,{className:"h-4 w-4 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Tip:"})," Use placeholders like"," ","{{participant_name}}",", ","{{event_title}}",","," ","{{certificate_code}}"," in your PowerPoint template. These will be replaced with actual data when generating certificates."]})]})}),l.jsx("button",{onClick:S,disabled:!p||!v.trim()||o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Uploading...":"Upload Template"})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Available Templates"}),e.map(T=>{var M,L,$;return l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pt,{className:"h-4 w-4"}),l.jsx("h4",{className:"font-medium",children:T.name}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${T.type==="powerpoint"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:T.type==="powerpoint"?"PowerPoint":"Canvas"})]}),((M=T.template)==null?void 0:M.placeholders)&&T.template.placeholders.length>0&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:"Placeholders:"})," ",T.template.placeholders.map(fe=>l.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs mx-0.5",children:"{{"+fe+"}}"},fe))]}),T.created_at&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Created:"," ",new Date(T.created_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[T.type==="powerpoint"&&(($=(L=T.template)==null?void 0:L.placeholders)==null?void 0:$.length)>0&&l.jsxs("button",{onClick:()=>{x(T),b(!0)},className:"flex items-center gap-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(qs,{className:"h-4 w-4"}),"Map Data"]}),T.id!=="default"&&l.jsx("button",{onClick:()=>O(T.id),className:"flex items-center gap-1 px-3 py-2 text-sm bg-red-600 text-white rounded-md hover:bg-red-700",children:l.jsx(Ii,{className:"h-4 w-4"})})]})]})},T.id)})]}),g&&l.jsx(lE,{template:g,isOpen:w,onClose:()=>{b(!1),x(null)},onSave:I,dataFields:n})]})};function uE(){const{id:t}=ga(),e=Dr(),{user:r,isLoading:n}=qr(),{handleApiError:a}=oE(),[i,s]=C.useState(null),[o,c]=C.useState([]),[u,d]=C.useState(!0),[f,h]=C.useState(!1),[p,m]=C.useState(null),[v,y]=C.useState(null),[g,x]=C.useState(!1),[w,b]=C.useState("certificates"),[E,j]=C.useState("default"),N=C.useCallback(async()=>{try{d(!0),m(null);const I=await er.getEventById(t);if(!I.success||!I.data){m("Event not found");return}s(I.data.event);const F=new Date(I.data.event.end_date),M=new Date>F;x(M);const L=await ks.getEventCertificates(t);L.success&&L.data&&c(L.data.certificates)}catch(I){console.error("Error fetching data:",I);const F=a(I);m(F)}finally{d(!1)}},[t]);C.useEffect(()=>{if(!t){m("Event ID is required"),d(!1);return}N()},[t,N]);const S=async()=>{if(t){if(!g){m("Cannot generate certificates until the event has ended.");return}try{h(!0),m(null),y(null);const I=await ks.generateCertificates(t,{templateId:E});I.success&&I.data?(y(`Successfully generated ${I.data.generated} certificate(s) out of ${I.data.total} eligible participants.`),I.data.errors&&I.data.errors.length>0&&console.warn("Certificate generation errors:",I.data.errors),await N()):m(I.error||"Failed to generate certificates")}catch(I){console.error("Error generating certificates:",I);const F=a(I);m(F)}finally{h(!1)}}},O=I=>{const F=ks.downloadCertificate(I);window.open(F,"_blank")};return n||u?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(fd,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading certificates..."})]})}):r?["organizer","admin"].includes(r.role)?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(Wf,{className:"h-5 w-5 mr-1"}),"Back"]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[l.jsx(Xn,{className:"h-8 w-8 mr-3 text-blue-600"}),"Certificate Management"]}),i&&l.jsxs("p",{className:"text-gray-600 mt-2",children:["Managing certificates for:"," ",l.jsx("span",{className:"font-semibold",children:i.title})]})]})})]}),p&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(ua,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-red-700",children:p})]})}),v&&l.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx($i,{className:"h-5 w-5 text-green-400 mr-2"}),l.jsx("p",{className:"text-green-700",children:v})]})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>b("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${w==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Xn,{className:"h-4 w-4 inline-block mr-2"}),"Certificates"]}),l.jsxs("button",{onClick:()=>b("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${w==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(qs,{className:"h-4 w-4 inline-block mr-2"}),"Templates"]})]})})}),w==="templates"?l.jsx(cE,{eventId:t}):l.jsx(l.Fragment,{children:i&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ut,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),l.jsx("p",{className:"font-medium",children:new Date(i.start_date).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Va,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),l.jsx("p",{className:"font-medium text-green-600",children:"Event Ended"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rr,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"}),l.jsxs("p",{className:"font-medium",children:[o.length," Generated"]})]})]})]})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Certificate Generation"})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"template-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Template"}),l.jsx("select",{id:"template-select",value:E,onChange:I=>j(I.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:l.jsx("option",{value:"default",children:"Default Template"})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:S,disabled:f||!g,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[f?l.jsx(fd,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(Xn,{className:"h-4 w-4 mr-2"}),f?"Generating...":g?"Generate Certificates":"Event Must End First"]})}),!g&&i?l.jsx("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Va,{className:"h-5 w-5 text-amber-600 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-amber-800 font-medium",children:"Event Still in Progress"}),l.jsxs("p",{className:"text-amber-700 text-sm mt-1",children:["Certificates can only be generated after the event ends on"," ",l.jsxs("span",{className:"font-medium",children:[new Date(i.end_date).toLocaleDateString()," at"," ",new Date(i.end_date).toLocaleTimeString()]})]})]})]})}):null,l.jsx("p",{className:"text-gray-600 text-sm",children:"Generate certificates for all participants who attended this event. Only participants who checked in will receive certificates."})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[l.jsx(pt,{className:"h-5 w-5 mr-2"}),"Generated Certificates (",o.length,")"]})}),o.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(Xn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No certificates generated yet"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:'Click "Generate Certificates" to create certificates for attended participants'})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participant"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate Code"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:I.participant_name}),l.jsx("div",{className:"text-sm text-gray-500",children:I.participant_email})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:I.certificate_code})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(I.issued_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("button",{onClick:()=>O(I.certificate_code),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[l.jsx(dc,{className:"h-4 w-4 mr-1"}),"Download"]})})]},I.id))})]})})]})]})})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx(ua,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"Only event organizers and administrators can manage certificates."})]})}):(e("/login"),null)}function dE(){const[t,e]=C.useState(""),[r,n]=C.useState(null),[a,i]=C.useState(!1),[s,o]=C.useState(null),c=async d=>{if(d.preventDefault(),!t.trim()){o("Please enter a certificate code");return}try{i(!0),o(null),n(null);const f=await ks.verifyCertificate(t.trim());f.success&&f.data?n(f.data):o(f.error||"Certificate not found")}catch(f){console.error("Error verifying certificate:",f),o("Failed to verify certificate")}finally{i(!1)}},u=()=>{if(r!=null&&r.certificate){const d=ks.downloadCertificate(r.certificate.code);window.open(d,"_blank")}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx(Xn,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Certificate Verification"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Verify the authenticity of event participation certificates"})]}),l.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8 mb-8",children:l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"certificate-code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Code"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("input",{type:"text",id:"certificate-code",value:t,onChange:d=>e(d.target.value),placeholder:"Enter certificate code (e.g., CERT-ABC12345)",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:a}),l.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?l.jsx(fd,{className:"h-5 w-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Gf,{className:"h-5 w-5 mr-2"}),"Verify"]})})]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:l.jsx("p",{children:"Enter the certificate code found on your participation certificate to verify its authenticity. Certificate codes are in the format: CERT-XXXXXXXX"})})]})}),s&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-8",children:l.jsxs("div",{className:"flex",children:[l.jsx(Ml,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-red-700",children:s})]})}),r&&l.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:r.valid&&r.certificate?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-green-50 border-b border-green-200 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx($i,{className:"h-8 w-8 text-green-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"Certificate Verified "}),l.jsx("p",{className:"text-green-700",children:"This certificate is authentic and valid"})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Participant Information"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(pd,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantName})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ta,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantEmail})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xn,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Certificate Code"}),l.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded inline-block",children:r.certificate.code})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Event Information"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Title"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.title})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ut,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.event.date).toLocaleDateString()})]})]}),r.certificate.event.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(co,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.location})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Issued Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.issuedAt).toLocaleDateString()})]})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t",children:l.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 flex items-center mx-auto",children:[l.jsx(dc,{className:"h-5 w-5 mr-2"}),"Download Certificate"]})})]})]}):l.jsx("div",{className:"bg-red-50 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ml,{className:"h-8 w-8 text-red-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-red-900",children:"Certificate Not Found"}),l.jsx("p",{className:"text-red-700",children:"The certificate code you entered is not valid or does not exist in our system."})]})]})})}),!r&&!s&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Verify Your Certificate"}),l.jsxs("ul",{className:"text-blue-800 space-y-2",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),"Locate your certificate code on your participation certificate"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),"Enter the complete code in the field above (format: CERT-XXXXXXXX)"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),`Click "Verify" to check the certificate's authenticity`]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),"Download the verified certificate if needed"]})]})]})]})})}function fE(){const{eventId:t}=ga(),{user:e,isLoading:r}=qr();return r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?["staff","organizer","admin"].includes(e.role)?t?l.jsx(c0,{eventId:t}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600",children:"Invalid event ID provided."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the check-in system. Only event staff and organizers can check in participants."})]})}):l.jsx(aa,{to:"/login",replace:!0})}function hE({eventTitle:t,participantName:e,participantEmail:r,qrCode:n,eventLocation:a,eventDate:i,eventTime:s}){const[o,c]=C.useState(null);C.useEffect(()=>{c({title:t,date:i||new Date().toLocaleDateString(),location:a||"Event Venue",time:s||"10:00 AM"})},[t,a,i,s]);const u=()=>{const d=document.querySelector(".participant-qr-code svg");if(d)try{const f=new XMLSerializer().serializeToString(d),h=document.createElement("canvas"),p=h.getContext("2d"),m=new Image;h.width=300,h.height=400,m.onload=()=>{p&&(p.fillStyle="white",p.fillRect(0,0,300,400),p.drawImage(m,50,50,200,200),p.fillStyle="black",p.font="16px Arial",p.textAlign="center",p.fillText(t,150,280),p.font="14px Arial",p.fillText(e,150,300),p.font="12px Arial",p.fillText("Show this QR code at check-in",150,330));const v=document.createElement("a");v.download=`${e.replace(/\s+/g,"-")}-ticket.png`,v.href=h.toDataURL("image/png"),v.click()},m.src="data:image/svg+xml;base64,"+btoa(f)}catch(f){console.error("Error downloading QR code:",f),alert("Failed to download QR code. Please try again.")}};return l.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-center",children:"Event Ticket"}),l.jsx("p",{className:"text-center text-blue-100 mt-1",children:(o==null?void 0:o.title)||t})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),l.jsx("p",{className:"text-gray-600",children:r})]}),o&&l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Date"}),l.jsx("p",{className:"font-medium",children:o.date})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Time"}),l.jsx("p",{className:"font-medium",children:o.time})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-gray-600",children:"Location"}),l.jsx("p",{className:"font-medium",children:o.location})]})]})}),l.jsx("div",{className:"participant-qr-code bg-white p-4 rounded-lg border-2 border-gray-200 mb-6",children:l.jsx("div",{className:"flex justify-center",children:l.jsx(Pv,{value:n,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),l.jsx("div",{className:"text-center mb-6",children:l.jsx("p",{className:"text-gray-600 text-sm",children:"Show this QR code at the event entrance for quick check-in"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(dc,{className:"h-4 w-4"}),l.jsx("span",{children:"Download Ticket"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:`Ticket for ${t}`,text:`Here's my ticket for ${t}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Ticket link copied to clipboard!"))},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[l.jsx(Xf,{className:"h-4 w-4"}),l.jsx("span",{children:"Share"})]}),l.jsxs("button",{onClick:()=>{const d=encodeURIComponent(`Ticket for ${t}`),f=encodeURIComponent(`Hi,

Here's my ticket for ${t}.

Event Details:
- Name: ${e}
- Email: ${r}
- QR Code: ${n}

See you at the event!`);window.open(`mailto:?subject=${d}&body=${f}`)},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[l.jsx(Ta,{className:"h-4 w-4"}),l.jsx("span",{children:"Email"})]})]})]}),l.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded text-xs text-gray-500 break-all",children:[l.jsx("p",{className:"font-medium mb-1",children:"QR Code:"}),l.jsx("p",{children:n})]})]})]})}function pE(){const{registrationId:t}=ga(),{user:e,isLoading:r}=qr(),{accessToken:n}=pr(),[a,i]=C.useState(null),[s,o]=C.useState(!0),[c,u]=C.useState(null);C.useEffect(()=>{t&&n&&d()},[t,n]);const d=async()=>{try{if(!n){u("Authentication required"),o(!1);return}if(!t){u("Missing registration ID"),o(!1);return}const h=await fetch(`/api/registrations/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!h.ok)throw new Error("Registration not found");const p=await h.json();if(p.success)i(p.data);else throw new Error(p.error||"Failed to fetch registration")}catch(h){u(h.message)}finally{o(!1)}};return r||s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your ticket..."})]})}):e?c||!a?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ticket Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:c||"The ticket you're looking for doesn't exist or you don't have permission to view it."}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Back"})]})}):e.email===a.email||e.role==="admin"||e.role==="organizer"?l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-lg mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Event Ticket"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Present this QR code at the event entrance"})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a.status==="confirmed"?"bg-green-100 text-green-800":a.status==="attended"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:[a.status==="confirmed"&&" Confirmed",a.status==="attended"&&" Attended",a.status==="pending"&&" Pending",a.status==="cancelled"&&" Cancelled"]})}),l.jsx(hE,{registrationId:a.id,eventTitle:a.event.title,participantName:a.name,participantEmail:a.email,qrCode:a.qr_code,eventLocation:a.event.location,eventDate:new Date(a.event.start_date).toLocaleDateString(),eventTime:new Date(a.event.start_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Important Information"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Keep this QR code safe and don't share it with others"}),l.jsx("li",{children:" Arrive at the venue 15 minutes before the event starts"}),l.jsx("li",{children:" Have your QR code ready for quick check-in"}),l.jsx("li",{children:" Take a screenshot or download the ticket for offline access"}),l.jsx("li",{children:" Contact support if you have any issues"})]})]}),l.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Event Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Event:"}),l.jsx("span",{className:"font-medium",children:a.event.title})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Date:"}),l.jsx("span",{className:"font-medium",children:new Date(a.event.start_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Time:"}),l.jsx("span",{className:"font-medium",children:new Date(a.event.start_date).toLocaleTimeString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Location:"}),l.jsx("span",{className:"font-medium",children:a.event.location})]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:" Back to Events"})})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this ticket."})]})}):l.jsx(aa,{to:"/login",replace:!0})}function mE(){const{user:t}=qr(),[e,r]=C.useState([]),[n,a]=C.useState(!0);C.useEffect(()=>{i()},[]);const i=async()=>{var s;try{const o=localStorage.getItem("token"),c=await fetch("/api/events",{headers:{Authorization:`Bearer ${o}`}});if(c.ok){const u=await c.json();r(((s=u.data)==null?void 0:s.events)||[])}}catch(o){console.error("Error fetching events:",o)}finally{a(!1)}};return!t||t.role!=="admin"?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"Only administrators can access this page."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Manage events, staff, and system settings"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:l.jsx(Ut,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:l.jsx(Rr,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>new Date(s.start_date)>new Date).length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:l.jsx(dd,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>{const o=new Date(s.start_date),c=new Date;return o.getMonth()===c.getMonth()&&o.getFullYear()===c.getFullYear()}).length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-orange-100 rounded-md",children:l.jsx(qs,{className:"h-6 w-6 text-orange-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Online"})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage events and their staff assignments"})]}),n?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((s,o)=>l.jsx("div",{className:"h-16 bg-gray-200 rounded"},o))})}):e.length===0?l.jsxs("div",{className:"p-6 text-center text-gray-500",children:[l.jsx(Ut,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{children:"No events found."})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:e.map(s=>l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.title}),l.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[l.jsxs("p",{children:[" ",new Date(s.start_date).toLocaleDateString()]}),l.jsxs("p",{children:[" ",s.location]}),l.jsxs("p",{children:[" Organizer: ",s.organizer.name]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(se,{to:`/events/${s.id}`,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"View Event"}),l.jsx(se,{to:`/events/${s.id}/check-in`,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Check-in Dashboard"})]})]})},s.id))})]}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Rr,{className:"h-8 w-8 text-blue-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Staff Management"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Staff management is available on individual event pages. Navigate to any event to add or manage staff members."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Tip: Each event can have its own staff with custom permissions."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(dd,{className:"h-8 w-8 text-green-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"View check-in analytics and event performance metrics from individual event dashboards."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Real-time check-in statistics available for each event."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(qs,{className:"h-8 w-8 text-purple-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Settings"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Configure system-wide settings, email templates, and QR code generation parameters."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Advanced settings coming soon."})]})]})]})})}const xE=()=>{const{user:t}=qr(),[e,r]=C.useState([]),[n,a]=C.useState([]),[i,s]=C.useState(!0),[o,c]=C.useState(null),[u,d]=C.useState(""),[f,h]=C.useState(1),[p,m]=C.useState(1),[v,y]=C.useState(!0),g=async()=>{if(t)try{const S=await Ha.getUserRegistrations();S.success&&S.data&&a(S.data.registrations)}catch(S){console.error("Failed to fetch user registrations:",S)}},x=async()=>{try{s(!0),c(null);const S=await er.getEvents({page:f,limit:12,search:u||void 0,upcoming:v});S.success&&S.data&&(r(S.data.events),m(S.data.pagination.pages))}catch(S){c(S.message||"Failed to fetch events")}finally{s(!1)}};C.useEffect(()=>{x(),g()},[f,v,t]);const w=S=>{S.preventDefault(),h(1),x()},b=S=>{var I;const O=n.find(F=>{var T;return((T=F.event)==null?void 0:T.id)===S&&F.status!=="cancelled"});return O?(I=O.event)!=null&&I.is_paid?O.payment_status==="completed":O.status==="confirmed"||O.payment_status==="not_required":!1},E=S=>{var F;const O=n.find(T=>{var M;return((M=T.event)==null?void 0:M.id)===S&&T.status!=="cancelled"});return O?(F=O.event)!=null&&F.is_paid?O.payment_status==="completed"?O:void 0:O.status==="confirmed"||O.payment_status==="not_required"?O:void 0:void 0},j=S=>{const O=new Date,I=new Date(S.start_date),F=new Date(S.end_date);return F<O?{status:"ended",color:"gray"}:I<=O&&F>=O?{status:"ongoing",color:"blue"}:I>O?{status:"upcoming",color:"green"}:{status:"unknown",color:"gray"}},N=S=>{var O;return((O=S.registrations)==null?void 0:O.length)||0};return i&&e.length===0?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Discover and register for upcoming events"})]}),l.jsxs("div",{className:"mt-4 md:mt-0 flex gap-3",children:[t&&l.jsxs(se,{to:"/my-registrations",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Pl,{className:"w-4 h-4 mr-2"}),"My Registrations"]}),t&&(t.role==="organizer"||t.role==="admin")&&l.jsxs(se,{to:"/events/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(di,{className:"w-4 h-4 mr-2"}),"Create Event"]})]})]}),l.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-4",children:[l.jsxs("form",{onSubmit:w,className:"flex-1 flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search events...",value:u,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Search"})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:S=>y(S.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Upcoming only"})]})})]})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:l.jsx("p",{className:"text-red-800",children:o})}),!i&&e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ut,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events found"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u?"Try adjusting your search terms.":"Be the first to create an event!"}),t&&(t.role==="organizer"||t.role==="admin")&&l.jsx("div",{className:"mt-6",children:l.jsxs(se,{to:"/events/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[l.jsx(di,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(S=>{var F;const O=j(S),I=N(S);return l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[S.banner_url?l.jsx("img",{src:S.banner_url,alt:S.title,className:"w-full h-48 object-cover"}):l.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:l.jsx(Ut,{className:"w-16 h-16 text-white"})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.color==="green"?"bg-green-100 text-green-800":O.color==="blue"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:O.status}),S.is_paid&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["$",S.price]})]}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:S.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:S.description}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ut,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:bi(S.start_date)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Va,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:new Date(S.start_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(co,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"truncate",children:S.location})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rr,{className:"w-4 h-4 mr-2"}),l.jsxs("span",{children:[I," / ",S.capacity," registered"]})]})]}),l.jsx("div",{className:"mt-6",children:t&&b(S.id)?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(se,{to:`/ticket/${(F=E(S.id))==null?void 0:F.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[l.jsx($x,{className:"w-4 h-4 mr-2"}),"View Ticket"]}),l.jsx(se,{to:`/events/${S.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Event Details"})]}):l.jsx(se,{to:`/events/${S.id}`,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:t?"Register Now":"View Details"})})]})]},S.id)})}),p>1&&l.jsx("div",{className:"mt-8 flex justify-center",children:l.jsxs("nav",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>h(Math.max(1,f-1)),disabled:f===1,className:"px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:p},(S,O)=>O+1).map(S=>l.jsx("button",{onClick:()=>h(S),className:`px-3 py-2 text-sm font-medium rounded-md ${f===S?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:S},S)),l.jsx("button",{onClick:()=>h(Math.min(p,f+1)),disabled:f===p,className:"px-3 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})};function vE(){const{user:t,isLoading:e}=qr(),[r,n]=C.useState([]),[a,i]=C.useState(null),[s,o]=C.useState(!0);if(e)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!t)return l.jsx(aa,{to:"/login",replace:!0});if(!["organizer","admin"].includes(t.role))return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the QR scanner. Only organizers and administrators can use this feature."})]})});C.useEffect(()=>{(async()=>{try{o(!0);const h=await er.getMyEvents();if(h.success&&h.data){const p=h.data.events.filter(m=>{const v=new Date,y=new Date(m.end_date);return v<=y&&(!m.status||m.status==="published")});n(p)}}catch(h){console.error("Failed to fetch events:",h)}finally{o(!1)}})()},[]);const c=r.find(f=>f.id===a),u=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),d=f=>new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[l.jsx(k3,{className:"h-5 w-5 mr-1"}),"Back to Events"]}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[c==null?void 0:c.title," - Check-In"]})]}),l.jsx(c0,{eventId:a})]}):l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"QR Code Scanner"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Select an event to start scanning participant QR codes for check-in."}),r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ut,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Available Events"}),l.jsx("p",{className:"text-gray-600",children:"You don't have any active or upcoming events to scan for."})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(f=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>i(f.id),children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f.title}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ut,{className:"h-4 w-4 mr-2"}),u(f.start_date)," at"," ",d(f.start_date)]}),f.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(co,{className:"h-4 w-4 mr-2"}),f.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Capacity: ",f.capacity]})]}),l.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Start Scanning"})]})},f.id))})]})})}function rp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rp(Object(r),!0).forEach(function(n){Mv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ol(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ol=function(e){return typeof e}:ol=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function Mv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lv(t,e){return gE(t)||yE(t,e)||wE(t,e)||bE()}function gE(t){if(Array.isArray(t))return t}function yE(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(t);!(a=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function wE(t,e){if(t){if(typeof t=="string")return ap(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ap(t,e)}}function ap(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lr=function(e,r,n){var a=!!n,i=de.useRef(n);de.useEffect(function(){i.current=n},[n]),de.useEffect(function(){if(!a||!e)return function(){};var s=function(){i.current&&i.current.apply(i,arguments)};return e.on(r,s),function(){e.off(r,s)}},[a,r,e,i])},Fd=function(e){var r=de.useRef(e);return de.useEffect(function(){r.current=e},[e]),r.current},Li=function(e){return e!==null&&ol(e)==="object"},_E=function(e){return Li(e)&&typeof e.then=="function"},NE=function(e){return Li(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ip="[object Object]",EE=function t(e,r){if(!Li(e)||!Li(r))return e===r;var n=Array.isArray(e),a=Array.isArray(r);if(n!==a)return!1;var i=Object.prototype.toString.call(e)===ip,s=Object.prototype.toString.call(r)===ip;if(i!==s)return!1;if(!i&&!n)return e===r;var o=Object.keys(e),c=Object.keys(r);if(o.length!==c.length)return!1;for(var u={},d=0;d<o.length;d+=1)u[o[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==o.length)return!1;var p=e,m=r,v=function(g){return t(p[g],m[g])};return h.every(v)},Fv=function(e,r,n){return Li(e)?Object.keys(e).reduce(function(a,i){var s=!Li(r)||!EE(e[i],r[i]);return n.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):s?np(np({},a||{}),{},Mv({},i,e[i])):a},null):null},Bv="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",sp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv;if(e===null||NE(e))return e;throw new Error(r)},CE=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bv;if(_E(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return sp(a,r)})};var n=sp(e,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},SE=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},_c=de.createContext(null);_c.displayName="ElementsContext";var Uv=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},zv=function(e){var r=e.stripe,n=e.options,a=e.children,i=de.useMemo(function(){return CE(r)},[r]),s=de.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),o=Lv(s,2),c=o[0],u=o[1];de.useEffect(function(){var h=!0,p=function(v){u(function(y){return y.stripe?y:{stripe:v,elements:v.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(m){m&&h&&p(m)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){h=!1}},[i,c,n]);var d=Fd(r);de.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=Fd(n);return de.useEffect(function(){if(c.elements){var h=Fv(n,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,f,c.elements]),de.useEffect(function(){SE(c.stripe)},[c.stripe]),de.createElement(_c.Provider,{value:c},a)};zv.propTypes={stripe:Ye.any,options:Ye.object};var AE=function(e){var r=de.useContext(_c);return Uv(r,e)},jE=function(){var e=AE("calls useElements()"),r=e.elements;return r};Ye.func.isRequired;var Vv=de.createContext(null);Vv.displayName="CustomCheckoutSdkContext";var IE=function(e,r){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return e},TE=de.createContext(null);TE.displayName="CustomCheckoutContext";Ye.any,Ye.shape({clientSecret:Ye.string.isRequired,elementsOptions:Ye.object}).isRequired;var Bd=function(e){var r=de.useContext(Vv),n=de.useContext(_c);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return r?IE(r,e):Uv(n,e)},kE=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ut=function(e,r){var n="".concat(kE(e),"Element"),a=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,p=c.onBlur,m=c.onFocus,v=c.onReady,y=c.onChange,g=c.onEscape,x=c.onClick,w=c.onLoadError,b=c.onLoaderStart,E=c.onNetworksChange,j=c.onConfirm,N=c.onCancel,S=c.onShippingAddressChange,O=c.onShippingRateChange,I=Bd("mounts <".concat(n,">")),F="elements"in I?I.elements:null,T="customCheckoutSdk"in I?I.customCheckoutSdk:null,M=de.useState(null),L=Lv(M,2),$=L[0],fe=L[1],he=de.useRef(null),U=de.useRef(null);lr($,"blur",p),lr($,"focus",m),lr($,"escape",g),lr($,"click",x),lr($,"loaderror",w),lr($,"loaderstart",b),lr($,"networkschange",E),lr($,"confirm",j),lr($,"cancel",N),lr($,"shippingaddresschange",S),lr($,"shippingratechange",O),lr($,"change",y);var ee;v&&(e==="expressCheckout"?ee=v:ee=function(){v($)}),lr($,"ready",ee),de.useLayoutEffect(function(){if(he.current===null&&U.current!==null&&(F||T)){var oe=null;T?oe=T.createElement(e,h):F&&(oe=F.create(e,h)),he.current=oe,fe(oe),oe&&oe.mount(U.current)}},[F,T,h]);var Q=Fd(h);return de.useEffect(function(){if(he.current){var oe=Fv(h,Q,["paymentRequest"]);oe&&"update"in he.current&&he.current.update(oe)}},[h,Q]),de.useLayoutEffect(function(){return function(){if(he.current&&typeof he.current.destroy=="function")try{he.current.destroy(),he.current=null}catch{}}},[]),de.createElement("div",{id:u,className:d,ref:U})},i=function(c){Bd("mounts <".concat(n,">"));var u=c.id,d=c.className;return de.createElement("div",{id:u,className:d})},s=r?i:a;return s.propTypes={id:Ye.string,className:Ye.string,onChange:Ye.func,onBlur:Ye.func,onFocus:Ye.func,onReady:Ye.func,onEscape:Ye.func,onClick:Ye.func,onLoadError:Ye.func,onLoaderStart:Ye.func,onNetworksChange:Ye.func,onConfirm:Ye.func,onCancel:Ye.func,onShippingAddressChange:Ye.func,onShippingRateChange:Ye.func,options:Ye.object},s.displayName=n,s.__elementType=e,s},dt=typeof window>"u",OE=de.createContext(null);OE.displayName="EmbeddedCheckoutProviderContext";var RE=function(){var e=Bd("calls useStripe()"),r=e.stripe;return r};ut("auBankAccount",dt);var op=ut("card",dt);ut("cardNumber",dt);ut("cardExpiry",dt);ut("cardCvc",dt);ut("fpxBank",dt);ut("iban",dt);ut("idealBank",dt);ut("p24Bank",dt);ut("epsBank",dt);ut("payment",dt);ut("expressCheckout",dt);ut("currencySelector",dt);ut("paymentRequestButton",dt);ut("linkAuthentication",dt);ut("address",dt);ut("shippingAddress",dt);ut("paymentMethodMessaging",dt);ut("affirmMessage",dt);ut("afterpayClearpayMessage",dt);var $v="https://js.stripe.com/v3",DE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,lp="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",PE=function(){for(var e=document.querySelectorAll('script[src^="'.concat($v,'"]')),r=0;r<e.length;r++){var n=e[r];if(DE.test(n.src))return n}return null},cp=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat($v).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},ME=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:r})},os=null,zo=null,Vo=null,LE=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},FE=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},BE=function(e){return os!==null?os:(os=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(lp),window.Stripe){r(window.Stripe);return}try{var a=PE();if(a&&e)console.warn(lp);else if(!a)a=cp(e);else if(a&&Vo!==null&&zo!==null){var i;a.removeEventListener("load",Vo),a.removeEventListener("error",zo),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=cp(e)}Vo=FE(r,n),zo=LE(n),a.addEventListener("load",Vo),a.addEventListener("error",zo)}catch(s){n(s);return}}),os.catch(function(r){return os=null,Promise.reject(r)}))},UE=function(e,r,n){if(e===null)return null;var a=e.apply(void 0,r);return ME(a,n),a},ls,Hv=!1,Wv=function(){return ls||(ls=BE(null).catch(function(e){return ls=null,Promise.reject(e)}),ls)};Promise.resolve().then(function(){return Wv()}).catch(function(t){Hv||console.warn(t)});var zE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Hv=!0;var a=Date.now();return Wv().then(function(i){return UE(i,r,a)})};function Gv(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Gv(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function VE(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Gv(t))&&(n&&(n+=" "),n+=e);return n}function $E(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=Xv(e))&&(n&&(n+=" "),n+=r);return n}function Xv(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=Xv(t[n]))&&(r&&(r+=" "),r+=e);return r}var h0="-";function HE(t){var e=GE(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,a=n===void 0?{}:n;function i(o){var c=o.split(h0);return c[0]===""&&c.length!==1&&c.shift(),Zv(c,e)||WE(o)}function s(o,c){var u=r[o]||[];return c&&a[o]?[].concat(u,a[o]):u}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function Zv(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),a=n?Zv(t.slice(1),n):void 0;if(a)return a;if(e.validators.length!==0){var i=t.join(h0);return(s=e.validators.find(function(o){var c=o.validator;return c(i)}))==null?void 0:s.classGroupId}}var up=/^\[(.+)\]$/;function WE(t){if(up.test(t)){var e=up.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function GE(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},a=ZE(Object.entries(t.classGroups),r);return a.forEach(function(i){var s=i[0],o=i[1];Ud(o,n,s,e)}),n}function Ud(t,e,r,n){t.forEach(function(a){if(typeof a=="string"){var i=a===""?e:dp(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(XE(a)){Ud(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(function(s){var o=s[0],c=s[1];Ud(c,dp(e,o),r,n)})})}function dp(t,e){var r=t;return e.split(h0).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function XE(t){return t.isThemeGetter}function ZE(t,e){return e?t.map(function(r){var n=r[0],a=r[1],i=a.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var c=o[0],u=o[1];return[e+c,u]})):s});return[n,i]}):t}function YE(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function a(i,s){r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):a(s,o)}}}var Yv="!";function KE(t){var e=t.separator||":",r=e.length===1,n=e[0],a=e.length;return function(s){for(var o=[],c=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(c===0){if(h===n&&(r||s.slice(f,f+a)===e)){o.push(s.slice(u,f)),u=f+a;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var p=o.length===0?s:s.substring(u),m=p.startsWith(Yv),v=m?p.substring(1):p,y=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:y}}}function QE(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var a=n[0]==="[";a?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function qE(t){return{cache:YE(t.cacheSize),splitModifiers:KE(t),...HE(t)}}var JE=/\s+/;function eC(t,e){var r=e.splitModifiers,n=e.getClassGroupId,a=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(JE).map(function(s){var o=r(s),c=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};p=!1}var m=QE(c).join(":"),v=u?m+Yv:m;return{isTailwindClass:!0,modifierId:v,classGroupId:h,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,c=s.classGroupId,u=s.hasPostfixModifier,d=o+c;return i.has(d)?!1:(i.add(d),a(c,u).forEach(function(f){return i.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function tC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,a,i,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(p,m){return m(p)},d());return n=qE(h),a=n.cache.get,i=n.cache.set,s=c,c(u)}function c(u){var d=a(u);if(d)return d;var f=eC(u,n);return i(u,f),f}return function(){return s($E.apply(null,arguments))}}function Ue(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var Kv=/^\[(?:([a-z-]+):)?(.+)\]$/i,rC=/^\d+\/\d+$/,nC=new Set(["px","full","screen"]),aC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sC=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Br(t){return Ra(t)||nC.has(t)||rC.test(t)||zd(t)}function zd(t){return Xa(t,"length",fC)}function oC(t){return Xa(t,"size",Qv)}function lC(t){return Xa(t,"position",Qv)}function cC(t){return Xa(t,"url",hC)}function $o(t){return Xa(t,"number",Ra)}function Ra(t){return!Number.isNaN(Number(t))}function uC(t){return t.endsWith("%")&&Ra(t.slice(0,-1))}function cs(t){return fp(t)||Xa(t,"number",fp)}function ge(t){return Kv.test(t)}function us(){return!0}function Pn(t){return aC.test(t)}function dC(t){return Xa(t,"",pC)}function Xa(t,e,r){var n=Kv.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function fC(t){return iC.test(t)}function Qv(){return!1}function hC(t){return t.startsWith("url(")}function fp(t){return Number.isInteger(Number(t))}function pC(t){return sC.test(t)}function mC(){var t=Ue("colors"),e=Ue("spacing"),r=Ue("blur"),n=Ue("brightness"),a=Ue("borderColor"),i=Ue("borderRadius"),s=Ue("borderSpacing"),o=Ue("borderWidth"),c=Ue("contrast"),u=Ue("grayscale"),d=Ue("hueRotate"),f=Ue("invert"),h=Ue("gap"),p=Ue("gradientColorStops"),m=Ue("gradientColorStopPositions"),v=Ue("inset"),y=Ue("margin"),g=Ue("opacity"),x=Ue("padding"),w=Ue("saturate"),b=Ue("scale"),E=Ue("sepia"),j=Ue("skew"),N=Ue("space"),S=Ue("translate"),O=function(){return["auto","contain","none"]},I=function(){return["auto","hidden","clip","visible","scroll"]},F=function(){return["auto",ge,e]},T=function(){return[ge,e]},M=function(){return["",Br]},L=function(){return["auto",Ra,ge]},$=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},fe=function(){return["solid","dashed","dotted","double","none"]},he=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},U=function(){return["start","end","center","between","around","evenly","stretch"]},ee=function(){return["","0",ge]},Q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},oe=function(){return[Ra,$o]},Pe=function(){return[Ra,ge]};return{cacheSize:500,theme:{colors:[us],spacing:[Br],blur:["none","",Pn,ge],brightness:oe(),borderColor:[t],borderRadius:["none","","full",Pn,ge],borderSpacing:T(),borderWidth:M(),contrast:oe(),grayscale:ee(),hueRotate:Pe(),invert:ee(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[uC,zd],inset:F(),margin:F(),opacity:oe(),padding:T(),saturate:oe(),scale:oe(),sepia:ee(),skew:Pe(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[Pn]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($(),[ge])}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cs]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",cs]}],"grid-cols":[{"grid-cols":[us]}],"col-start-end":[{col:["auto",{span:["full",cs]},ge]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[us]}],"row-start-end":[{row:["auto",{span:[cs]},ge]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(U())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(U(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(U(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ge,e]}],"min-w":[{"min-w":["min","max","fit",ge,Br]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Pn]},Pn,ge]}],h:[{h:[ge,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ge,Br]}],"max-h":[{"max-h":[ge,e,"min","max","fit"]}],"font-size":[{text:["base",Pn,zd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$o]}],"font-family":[{font:[us]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Ra,$o]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,Br]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(fe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Br]}],"underline-offset":[{"underline-offset":["auto",ge,Br]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($(),[lC])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(fe(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:fe()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(fe())}],"outline-offset":[{"outline-offset":[ge,Br]}],"outline-w":[{outline:[Br]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Br]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pn,dC]}],"shadow-color":[{shadow:[us]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":he()}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pn,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:Pe()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:Pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[cs,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Br,$o]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var xC=tC(mC);function qv(...t){return xC(VE(t))}const Vd=({className:t,variant:e="default",size:r="default",children:n,...a})=>l.jsx("button",{className:qv("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-blue-600 text-white hover:bg-blue-700":e==="default","border border-input bg-transparent hover:bg-accent hover:text-accent-foreground":e==="outline","bg-red-600 text-white hover:bg-red-700":e==="destructive","hover:bg-accent hover:text-accent-foreground":e==="ghost"},{"h-10 py-2 px-4":r==="default","h-9 px-3":r==="sm","h-11 px-8":r==="lg"},t),...a,children:n}),Jv=({size:t="md",className:e})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return l.jsx("div",{className:qv("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",r[t],e)})},eg={async createPaymentIntent(t,e,r,n="USD"){return De.post("/payments/create-intent",{registrationId:t,eventId:e,amount:r,currency:n})},async verifyPayment(t){return De.post("/payments/verify",t)},async handlePaymentFailure(t,e){return De.post("/payments/failure",{paymentId:t,reason:e})},async getPaymentDetails(t){return De.get(`/payments/${t}`)}};function $d(t){return t instanceof Error?t.message:typeof t=="string"?t:t&&typeof t=="object"&&"message"in t?String(t.message):"An unexpected error occurred"}const vC=zE("pk_test_51RvKItHv57VEdPanLmGAWKKeSbKqfZgPJ34vNE3mBZGrbJZDmSBx3tQqks6GkPrOr2oO7AOX8dnh8AWpONeXXHo500LvfirrLT"),gC=({paymentIntent:t,onSuccess:e,onError:r,onCancel:n})=>{const a=RE(),i=jE(),[s,o]=C.useState(!1),c=async u=>{var f,h;if(u.preventDefault(),!a||!i)return;o(!0);const d=i.getElement(op);if(!d){r("Card element not found"),o(!1);return}try{const{error:p,paymentIntent:m}=await a.confirmCardPayment(t.clientSecret,{payment_method:{card:d,billing_details:{name:t.participantName,email:t.participantEmail}}});if(p){r(p.message||"Payment failed"),o(!1);return}if(m.status==="succeeded")try{const v=await eg.verifyPayment({paymentId:t.paymentId,paymentIntentId:m.id,paymentMethodId:m.payment_method});v.success&&((f=v.data)!=null&&f.success)?e(t.paymentId):r(((h=v.data)==null?void 0:h.message)||"Payment verification failed")}catch(v){console.error("Payment verification error:",v),r($d(v))}}catch(p){console.error("Payment error:",p),r($d(p))}finally{o(!1)}};return l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.eventTitle}),l.jsxs("p",{className:"text-gray-600",children:["Participant: ",t.participantName]}),l.jsxs("p",{className:"text-gray-600",children:["Email: ",t.participantEmail]}),l.jsxs("p",{className:"text-xl font-bold mt-2",children:["Amount: ",t.currency.toUpperCase()," ",(t.amount/100).toFixed(2)]})]}),l.jsx("div",{className:"p-4 border border-gray-300 rounded-lg",children:l.jsx(op,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Vd,{type:"submit",disabled:!a||s,className:"flex-1",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Jv,{size:"sm"}),"Processing..."]}):`Pay ${t.currency.toUpperCase()} ${(t.amount/100).toFixed(2)}`}),l.jsx(Vd,{type:"button",variant:"outline",onClick:n,disabled:s,children:"Cancel"})]})]})},yC=({registrationId:t,eventId:e,amount:r,currency:n="USD",onSuccess:a,onError:i,onCancel:s})=>{const[o,c]=C.useState(null),[u,d]=C.useState(!0);if(C.useEffect(()=>{(async()=>{try{const p=await eg.createPaymentIntent(t,e,r,n);p.success&&p.data?c(p.data):i(p.message||"Failed to initialize payment")}catch(p){console.error("Payment initialization error:",p),i($d(p))}finally{d(!1)}})()},[t,e,r,n,i]),u)return l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx(Jv,{}),l.jsx("span",{className:"ml-2",children:"Initializing payment..."})]});if(!o)return l.jsxs("div",{className:"text-center p-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:"Failed to initialize payment"}),l.jsx(Vd,{onClick:s,variant:"outline",children:"Go Back"})]});const f={clientSecret:o.clientSecret,appearance:{theme:"stripe"}};return l.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Complete Payment"}),l.jsx(zv,{stripe:vC,options:f,children:l.jsx(gC,{paymentIntent:o,onSuccess:a,onError:i,onCancel:s})})]})};function wC(){const{id:t}=ga(),e=va(),r=Dr(),[n,a]=C.useState(!0),[i,s]=C.useState(null),[o,c]=C.useState(!1),u=e.state;C.useEffect(()=>{if(!u||!u.registration||!t){s("Invalid payment session. Please try registering again."),a(!1);return}a(!1)},[u,t]);const d=p=>{c(!0),rt.success("Payment completed successfully!"),setTimeout(()=>{r(`/ticket/${u.registration.id}`,{state:{message:"Payment completed! Your registration is confirmed."}})},2e3)},f=p=>{s(p),rt.error("Payment failed: "+p)},h=()=>{rt("Payment cancelled. You can complete it later from your registrations."),r(`/events/${t}`)};return n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Preparing payment..."})]})}):i||!u?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Error"}),l.jsx("p",{className:"text-gray-600 mb-4",children:i||"Invalid payment session. Please try registering again."}),l.jsx("button",{onClick:()=>r(`/events/${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Back to Event"})]})}):o?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Your registration is confirmed. Redirecting to your ticket..."}),l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complete Your Registration"}),l.jsx("p",{className:"text-gray-600 mt-2",children:u.message})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Event:"}),l.jsx("span",{className:"font-medium",children:u.registration.event.title})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Date:"}),l.jsx("span",{className:"font-medium",children:new Date(u.registration.event.start_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Location:"}),l.jsx("span",{className:"font-medium",children:u.registration.event.location})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Participant:"}),l.jsx("span",{className:"font-medium",children:u.registration.name})]})]})]}),l.jsx(yC,{registrationId:u.registration.id,eventId:t,amount:u.amount,currency:"USD",onSuccess:d,onError:f,onCancel:h}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("p",{className:"text-sm text-gray-500",children:"Having trouble with payment? Contact support for assistance."})})]})})}function bC(){const t=pr(e=>e.validateToken);return C.useEffect(()=>{t()},[t]),l.jsx(w4,{children:l.jsxs(Sw,{children:[l.jsx(it,{path:"/",element:l.jsx(b4,{})}),l.jsx(it,{path:"/login",element:l.jsx(Nb,{})}),l.jsx(it,{path:"/register",element:l.jsx(Cb,{})}),l.jsx(it,{path:"/events",element:l.jsx(xE,{})}),l.jsx(it,{path:"/dashboard",element:l.jsx(or,{children:l.jsx(m8,{})})}),l.jsx(it,{path:"/events/create",element:l.jsx(or,{requireOrganizer:!0,children:l.jsx(v8,{})})}),l.jsx(it,{path:"/events/:id",element:l.jsx(or,{children:l.jsx(y8,{})})}),l.jsx(it,{path:"/events/:id/form-builder",element:l.jsx(or,{requireOrganizer:!0,children:l.jsx(nE,{})})}),l.jsx(it,{path:"/events/:id/registrations",element:l.jsx(or,{requireOrganizer:!0,children:l.jsx(iE,{})})}),l.jsx(it,{path:"/events/:id/attendance",element:l.jsx(or,{requireOrganizer:!0,children:l.jsx(sE,{})})}),l.jsx(it,{path:"/events/:id/certificates",element:l.jsx(or,{requireOrganizer:!0,children:l.jsx(uE,{})})}),l.jsx(it,{path:"/certificate/verify",element:l.jsx(dE,{})}),l.jsx(it,{path:"/admin",element:l.jsx(or,{requireAdmin:!0,children:l.jsx(mE,{})})}),l.jsx(it,{path:"/events/:eventId/check-in",element:l.jsx(or,{children:l.jsx(fE,{})})}),l.jsx(it,{path:"/scanner",element:l.jsx(or,{requireOrganizer:!0,children:l.jsx(vE,{})})}),l.jsx(it,{path:"/ticket/:registrationId",element:l.jsx(or,{children:l.jsx(pE,{})})}),l.jsx(it,{path:"/my-registrations",element:l.jsx(or,{children:l.jsx(aE,{})})}),l.jsx(it,{path:"/events/:id/register",element:l.jsx(E8,{})}),l.jsx(it,{path:"/events/:id/payment",element:l.jsx(or,{children:l.jsx(wC,{})})})]})})}Cx(document.getElementById("root")).render(l.jsx(C.StrictMode,{children:l.jsxs(Rw,{children:[l.jsx(bC,{}),l.jsx(E3,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}));
