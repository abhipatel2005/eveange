var uv=Object.defineProperty;var dv=(t,e,r)=>e in t?uv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var N0=(t,e,r)=>(dv(t,typeof e!="symbol"?e+"":e,r),r);function fv(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Yd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gp={exports:{}},Yl={},vp={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=Symbol.for("react.element"),hv=Symbol.for("react.portal"),pv=Symbol.for("react.fragment"),mv=Symbol.for("react.strict_mode"),xv=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),vv=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),wv=Symbol.for("react.suspense"),bv=Symbol.for("react.memo"),_v=Symbol.for("react.lazy"),E0=Symbol.iterator;function Nv(t){return t===null||typeof t!="object"?null:(t=E0&&t[E0]||t["@@iterator"],typeof t=="function"?t:null)}var yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wp=Object.assign,bp={};function zi(t,e,r){this.props=t,this.context=e,this.refs=bp,this.updater=r||yp}zi.prototype.isReactComponent={};zi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _p(){}_p.prototype=zi.prototype;function Kd(t,e,r){this.props=t,this.context=e,this.refs=bp,this.updater=r||yp}var qd=Kd.prototype=new _p;qd.constructor=Kd;wp(qd,zi.prototype);qd.isPureReactComponent=!0;var C0=Array.isArray,Np=Object.prototype.hasOwnProperty,Qd={current:null},Ep={key:!0,ref:!0,__self:!0,__source:!0};function Cp(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Np.call(e,n)&&!Ep.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:oo,type:t,key:i,ref:s,props:a,_owner:Qd.current}}function Ev(t,e){return{$$typeof:oo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jd(t){return typeof t=="object"&&t!==null&&t.$$typeof===oo}function Cv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var S0=/\/+/g;function Ic(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Cv(""+t.key):e.toString(36)}function Zo(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case oo:case hv:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+Ic(s,0):n,C0(a)?(r="",t!=null&&(r=t.replace(S0,"$&/")+"/"),Zo(a,e,r,"",function(u){return u})):a!=null&&(Jd(a)&&(a=Ev(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(S0,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",C0(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Ic(i,o);s+=Zo(i,e,r,c,a)}else if(c=Nv(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Ic(i,o++),s+=Zo(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function vo(t,e,r){if(t==null)return t;var n=[],a=0;return Zo(t,n,"","",function(i){return e.call(r,i,a++)}),n}function Sv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},Yo={transition:null},Av={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Yo,ReactCurrentOwner:Qd};function Sp(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:vo,forEach:function(t,e,r){vo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vo(t,function(){e++}),e},toArray:function(t){return vo(t,function(e){return e})||[]},only:function(t){if(!Jd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=zi;ge.Fragment=pv;ge.Profiler=xv;ge.PureComponent=Kd;ge.StrictMode=mv;ge.Suspense=wv;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Av;ge.act=Sp;ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wp({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Qd.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Np.call(e,c)&&!Ep.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:oo,type:t.type,key:a,ref:i,props:n,_owner:s}};ge.createContext=function(t){return t={$$typeof:vv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gv,_context:t},t.Consumer=t};ge.createElement=Cp;ge.createFactory=function(t){var e=Cp.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:yv,render:t}};ge.isValidElement=Jd;ge.lazy=function(t){return{$$typeof:_v,_payload:{_status:-1,_result:t},_init:Sv}};ge.memo=function(t,e){return{$$typeof:bv,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Yo.transition;Yo.transition={};try{t()}finally{Yo.transition=e}};ge.unstable_act=Sp;ge.useCallback=function(t,e){return Yt.current.useCallback(t,e)};ge.useContext=function(t){return Yt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Yt.current.useEffect(t,e)};ge.useId=function(){return Yt.current.useId()};ge.useImperativeHandle=function(t,e,r){return Yt.current.useImperativeHandle(t,e,r)};ge.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Yt.current.useMemo(t,e)};ge.useReducer=function(t,e,r){return Yt.current.useReducer(t,e,r)};ge.useRef=function(t){return Yt.current.useRef(t)};ge.useState=function(t){return Yt.current.useState(t)};ge.useSyncExternalStore=function(t,e,r){return Yt.current.useSyncExternalStore(t,e,r)};ge.useTransition=function(){return Yt.current.useTransition()};ge.version="18.3.1";vp.exports=ge;var E=vp.exports;const he=Yd(E),jv=fv({__proto__:null,default:he},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=E,kv=Symbol.for("react.element"),Tv=Symbol.for("react.fragment"),Ov=Object.prototype.hasOwnProperty,Rv=Iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pv={key:!0,ref:!0,__self:!0,__source:!0};function Ap(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Ov.call(e,n)&&!Pv.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:kv,type:t,key:i,ref:s,props:a,_owner:Rv.current}}Yl.Fragment=Tv;Yl.jsx=Ap;Yl.jsxs=Ap;gp.exports=Yl;var l=gp.exports,jp={exports:{}},gr={},Ip={exports:{}},kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,te){var Q=U.length;U.push(te);e:for(;0<Q;){var ce=Q-1>>>1,De=U[ce];if(0<a(De,te))U[ce]=te,U[Q]=De,Q=ce;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var te=U[0],Q=U.pop();if(Q!==te){U[0]=Q;e:for(var ce=0,De=U.length,Xe=De>>>1;ce<Xe;){var br=2*(ce+1)-1,On=U[br],Lr=br+1,en=U[Lr];if(0>a(On,Q))Lr<De&&0>a(en,On)?(U[ce]=en,U[Lr]=Q,ce=Lr):(U[ce]=On,U[br]=Q,ce=br);else if(Lr<De&&0>a(en,Q))U[ce]=en,U[Lr]=Q,ce=Lr;else break e}}return te}function a(U,te){var Q=U.sortIndex-te.sortIndex;return Q!==0?Q:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=U)n(u),te.sortIndex=te.expirationTime,e(c,te);else break;te=r(u)}}function b(U){if(g=!1,w(U),!x)if(r(c)!==null)x=!0,K(N);else{var te=r(u);te!==null&&le(b,te.startTime-U)}}function N(U,te){x=!1,g&&(g=!1,v(S),S=-1),p=!0;var Q=h;try{for(w(te),f=r(c);f!==null&&(!(f.expirationTime>te)||U&&!D());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var De=ce(f.expirationTime<=te);te=t.unstable_now(),typeof De=="function"?f.callback=De:f===r(c)&&n(c),w(te)}else n(c);f=r(c)}if(f!==null)var Xe=!0;else{var br=r(u);br!==null&&le(b,br.startTime-te),Xe=!1}return Xe}finally{f=null,h=Q,p=!1}}var A=!1,C=null,S=-1,T=5,k=-1;function D(){return!(t.unstable_now()-k<T)}function I(){if(C!==null){var U=t.unstable_now();k=U;var te=!0;try{te=C(!0,U)}finally{te?L():(A=!1,C=null)}}else A=!1}var L;if(typeof m=="function")L=function(){m(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=I,L=function(){$.postMessage(null)}}else L=function(){y(I,0)};function K(U){C=U,A||(A=!0,L())}function le(U,te){S=y(function(){U(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,K(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var Q=h;h=te;try{return U()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=h;h=U;try{return te()}finally{h=Q}},t.unstable_scheduleCallback=function(U,te,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,U){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=Q+De,U={id:d++,callback:te,priorityLevel:U,startTime:Q,expirationTime:De,sortIndex:-1},Q>ce?(U.sortIndex=Q,e(u,U),r(c)===null&&U===r(u)&&(g?(v(S),S=-1):g=!0,le(b,Q-ce))):(U.sortIndex=De,e(c,U),x||p||(x=!0,K(N))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var te=h;return function(){var Q=h;h=te;try{return U.apply(this,arguments)}finally{h=Q}}}})(kp);Ip.exports=kp;var Dv=Ip.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=E,pr=Dv;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tp=new Set,Ms={};function Xa(t,e){Ei(t,e),Ei(t+"Capture",e)}function Ei(t,e){for(Ms[t]=e,t=0;t<e.length;t++)Tp.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=Object.prototype.hasOwnProperty,Lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A0={},j0={};function Fv(t){return gu.call(j0,t)?!0:gu.call(A0,t)?!1:Lv.test(t)?j0[t]=!0:(A0[t]=!0,!1)}function Bv(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Uv(t,e,r,n){if(e===null||typeof e>"u"||Bv(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ef=/[\-:]([a-z])/g;function tf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ef,tf);Pt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ef,tf);Pt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ef,tf);Pt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function rf(t,e,r,n){var a=Pt.hasOwnProperty(e)?Pt[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Uv(e,r,a,n)&&(r=null),n||a===null?Fv(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var In=Mv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),vu=Symbol.for("react.profiler"),Op=Symbol.for("react.provider"),Rp=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),Pp=Symbol.for("react.offscreen"),I0=Symbol.iterator;function Xi(t){return t===null||typeof t!="object"?null:(t=I0&&t[I0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,kc;function ds(t){if(kc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);kc=e&&e[1]||""}return`
`+kc+t}var Tc=!1;function Oc(t,e){if(!t||Tc)return"";Tc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=o);break}}}finally{Tc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ds(t):""}function zv(t){switch(t.tag){case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return t=Oc(t.type,!1),t;case 11:return t=Oc(t.type.render,!1),t;case 1:return t=Oc(t.type,!0),t;default:return""}}function bu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ai:return"Fragment";case ni:return"Portal";case vu:return"Profiler";case nf:return"StrictMode";case yu:return"Suspense";case wu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rp:return(t.displayName||"Context")+".Consumer";case Op:return(t._context.displayName||"Context")+".Provider";case af:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sf:return e=t.displayName||null,e!==null?e:bu(t.type)||"Memo";case Bn:e=t._payload,t=t._init;try{return bu(t(e))}catch{}}return null}function Vv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(e);case 8:return e===nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $v(t){var e=Dp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wo(t){t._valueTracker||(t._valueTracker=$v(t))}function Mp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Dp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _u(t,e){var r=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function k0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lp(t,e){e=e.checked,e!=null&&rf(t,"checked",e,!1)}function Nu(t,e){Lp(t,e);var r=fa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Eu(t,e.type,r):e.hasOwnProperty("defaultValue")&&Eu(t,e.type,fa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function T0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Eu(t,e,r){(e!=="number"||fl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fs=Array.isArray;function vi(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fa(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Cu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(fs(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fa(r)}}function Fp(t,e){var r=fa(e.value),n=fa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function R0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bo,Up=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ls(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hv=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(t){Hv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bs[e]=bs[t]})});function zp(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bs.hasOwnProperty(t)&&bs[t]?(""+e).trim():e+"px"}function Vp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=zp(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Wv=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(Wv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function ju(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function of(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ku=null,yi=null,wi=null;function P0(t){if(t=uo(t)){if(typeof ku!="function")throw Error(B(280));var e=t.stateNode;e&&(e=ec(e),ku(t.stateNode,t.type,e))}}function $p(t){yi?wi?wi.push(t):wi=[t]:yi=t}function Hp(){if(yi){var t=yi,e=wi;if(wi=yi=null,P0(t),e)for(t=0;t<e.length;t++)P0(e[t])}}function Wp(t,e){return t(e)}function Gp(){}var Rc=!1;function Xp(t,e,r){if(Rc)return t(e,r);Rc=!0;try{return Wp(t,e,r)}finally{Rc=!1,(yi!==null||wi!==null)&&(Gp(),Hp())}}function Fs(t,e){var r=t.stateNode;if(r===null)return null;var n=ec(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Tu=!1;if(Nn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Tu=!1}function Gv(t,e,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var _s=!1,hl=null,pl=!1,Ou=null,Xv={onError:function(t){_s=!0,hl=t}};function Zv(t,e,r,n,a,i,s,o,c){_s=!1,hl=null,Gv.apply(Xv,arguments)}function Yv(t,e,r,n,a,i,s,o,c){if(Zv.apply(this,arguments),_s){if(_s){var u=hl;_s=!1,hl=null}else throw Error(B(198));pl||(pl=!0,Ou=u)}}function Za(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Zp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D0(t){if(Za(t)!==t)throw Error(B(188))}function Kv(t){var e=t.alternate;if(!e){if(e=Za(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return D0(a),t;if(i===n)return D0(a),e;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function Yp(t){return t=Kv(t),t!==null?Kp(t):null}function Kp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kp(t);if(e!==null)return e;t=t.sibling}return null}var qp=pr.unstable_scheduleCallback,M0=pr.unstable_cancelCallback,qv=pr.unstable_shouldYield,Qv=pr.unstable_requestPaint,nt=pr.unstable_now,Jv=pr.unstable_getCurrentPriorityLevel,lf=pr.unstable_ImmediatePriority,Qp=pr.unstable_UserBlockingPriority,ml=pr.unstable_NormalPriority,e2=pr.unstable_LowPriority,Jp=pr.unstable_IdlePriority,Kl=null,un=null;function t2(t){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:a2,r2=Math.log,n2=Math.LN2;function a2(t){return t>>>=0,t===0?32:31-(r2(t)/n2|0)|0}var _o=64,No=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=hs(o):(i&=s,i!==0&&(n=hs(i)))}else s=r&~a,s!==0?n=hs(s):i!==0&&(n=hs(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Kr(e),a=1<<r,n|=t[r],e&=~a;return n}function i2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s2(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Kr(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=i2(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function Ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function em(){var t=_o;return _o<<=1,!(_o&4194240)&&(_o=64),t}function Pc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function lo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kr(e),t[e]=r}function o2(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Kr(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function cf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Kr(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Oe=0;function tm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rm,uf,nm,am,im,Pu=!1,Eo=[],Jn=null,ea=null,ta=null,Bs=new Map,Us=new Map,$n=[],l2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L0(t,e){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(e.pointerId)}}function Yi(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=uo(e),e!==null&&uf(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function c2(t,e,r,n,a){switch(e){case"focusin":return Jn=Yi(Jn,t,e,r,n,a),!0;case"dragenter":return ea=Yi(ea,t,e,r,n,a),!0;case"mouseover":return ta=Yi(ta,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Bs.set(i,Yi(Bs.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Us.set(i,Yi(Us.get(i)||null,t,e,r,n,a)),!0}return!1}function sm(t){var e=Ta(t.target);if(e!==null){var r=Za(e);if(r!==null){if(e=r.tag,e===13){if(e=Zp(r),e!==null){t.blockedOn=e,im(t.priority,function(){nm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ko(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Iu=n,r.target.dispatchEvent(n),Iu=null}else return e=uo(r),e!==null&&uf(e),t.blockedOn=r,!1;e.shift()}return!0}function F0(t,e,r){Ko(t)&&r.delete(e)}function u2(){Pu=!1,Jn!==null&&Ko(Jn)&&(Jn=null),ea!==null&&Ko(ea)&&(ea=null),ta!==null&&Ko(ta)&&(ta=null),Bs.forEach(F0),Us.forEach(F0)}function Ki(t,e){t.blockedOn===e&&(t.blockedOn=null,Pu||(Pu=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,u2)))}function zs(t){function e(a){return Ki(a,t)}if(0<Eo.length){Ki(Eo[0],t);for(var r=1;r<Eo.length;r++){var n=Eo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Jn!==null&&Ki(Jn,t),ea!==null&&Ki(ea,t),ta!==null&&Ki(ta,t),Bs.forEach(e),Us.forEach(e),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)sm(r),r.blockedOn===null&&$n.shift()}var bi=In.ReactCurrentBatchConfig,gl=!0;function d2(t,e,r,n){var a=Oe,i=bi.transition;bi.transition=null;try{Oe=1,df(t,e,r,n)}finally{Oe=a,bi.transition=i}}function f2(t,e,r,n){var a=Oe,i=bi.transition;bi.transition=null;try{Oe=4,df(t,e,r,n)}finally{Oe=a,bi.transition=i}}function df(t,e,r,n){if(gl){var a=Du(t,e,r,n);if(a===null)Hc(t,e,n,vl,r),L0(t,n);else if(c2(a,t,e,r,n))n.stopPropagation();else if(L0(t,n),e&4&&-1<l2.indexOf(t)){for(;a!==null;){var i=uo(a);if(i!==null&&rm(i),i=Du(t,e,r,n),i===null&&Hc(t,e,n,vl,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Hc(t,e,n,null,r)}}var vl=null;function Du(t,e,r,n){if(vl=null,t=of(n),t=Ta(t),t!==null)if(e=Za(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Zp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vl=t,null}function om(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jv()){case lf:return 1;case Qp:return 4;case ml:case e2:return 16;case Jp:return 536870912;default:return 16}default:return 16}}var Xn=null,ff=null,qo=null;function lm(){if(qo)return qo;var t,e=ff,r=e.length,n,a="value"in Xn?Xn.value:Xn.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return qo=a.slice(t,1<n?1-n:void 0)}function Qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Co(){return!0}function B0(){return!1}function vr(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Co:B0,this.isPropagationStopped=B0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),e}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=vr(Vi),co=Qe({},Vi,{view:0,detail:0}),h2=vr(co),Dc,Mc,qi,ql=Qe({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qi&&(qi&&t.type==="mousemove"?(Dc=t.screenX-qi.screenX,Mc=t.screenY-qi.screenY):Mc=Dc=0,qi=t),Dc)},movementY:function(t){return"movementY"in t?t.movementY:Mc}}),U0=vr(ql),p2=Qe({},ql,{dataTransfer:0}),m2=vr(p2),x2=Qe({},co,{relatedTarget:0}),Lc=vr(x2),g2=Qe({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),v2=vr(g2),y2=Qe({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w2=vr(y2),b2=Qe({},Vi,{data:0}),z0=vr(b2),_2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E2[t])?!!e[t]:!1}function pf(){return C2}var S2=Qe({},co,{key:function(t){if(t.key){var e=_2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(t){return t.type==="keypress"?Qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A2=vr(S2),j2=Qe({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=vr(j2),I2=Qe({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),k2=vr(I2),T2=Qe({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),O2=vr(T2),R2=Qe({},ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P2=vr(R2),D2=[9,13,27,32],mf=Nn&&"CompositionEvent"in window,Ns=null;Nn&&"documentMode"in document&&(Ns=document.documentMode);var M2=Nn&&"TextEvent"in window&&!Ns,cm=Nn&&(!mf||Ns&&8<Ns&&11>=Ns),$0=String.fromCharCode(32),H0=!1;function um(t,e){switch(t){case"keyup":return D2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function L2(t,e){switch(t){case"compositionend":return dm(e);case"keypress":return e.which!==32?null:(H0=!0,$0);case"textInput":return t=e.data,t===$0&&H0?null:t;default:return null}}function F2(t,e){if(ii)return t==="compositionend"||!mf&&um(t,e)?(t=lm(),qo=ff=Xn=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cm&&e.locale!=="ko"?null:e.data;default:return null}}var B2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!B2[t.type]:e==="textarea"}function fm(t,e,r,n){$p(n),e=yl(e,"onChange"),0<e.length&&(r=new hf("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Es=null,Vs=null;function U2(t){Nm(t,0)}function Ql(t){var e=li(t);if(Mp(e))return t}function z2(t,e){if(t==="change")return e}var hm=!1;if(Nn){var Fc;if(Nn){var Bc="oninput"in document;if(!Bc){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Bc=typeof G0.oninput=="function"}Fc=Bc}else Fc=!1;hm=Fc&&(!document.documentMode||9<document.documentMode)}function X0(){Es&&(Es.detachEvent("onpropertychange",pm),Vs=Es=null)}function pm(t){if(t.propertyName==="value"&&Ql(Vs)){var e=[];fm(e,Vs,t,of(t)),Xp(U2,e)}}function V2(t,e,r){t==="focusin"?(X0(),Es=e,Vs=r,Es.attachEvent("onpropertychange",pm)):t==="focusout"&&X0()}function $2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ql(Vs)}function H2(t,e){if(t==="click")return Ql(e)}function W2(t,e){if(t==="input"||t==="change")return Ql(e)}function G2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jr=typeof Object.is=="function"?Object.is:G2;function $s(t,e){if(Jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!gu.call(e,a)||!Jr(t[a],e[a]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y0(t,e){var r=Z0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z0(r)}}function mm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xm(){for(var t=window,e=fl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=fl(t.document)}return e}function xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X2(t){var e=xm(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mm(r.ownerDocument.documentElement,r)){if(n!==null&&xf(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=Y0(r,i);var s=Y0(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z2=Nn&&"documentMode"in document&&11>=document.documentMode,si=null,Mu=null,Cs=null,Lu=!1;function K0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lu||si==null||si!==fl(n)||(n=si,"selectionStart"in n&&xf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cs&&$s(Cs,n)||(Cs=n,n=yl(Mu,"onSelect"),0<n.length&&(e=new hf("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=si)))}function So(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var oi={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Uc={},gm={};Nn&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function Jl(t){if(Uc[t])return Uc[t];if(!oi[t])return t;var e=oi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gm)return Uc[t]=e[r];return t}var vm=Jl("animationend"),ym=Jl("animationiteration"),wm=Jl("animationstart"),bm=Jl("transitionend"),_m=new Map,q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(t,e){_m.set(t,e),Xa(e,[t])}for(var zc=0;zc<q0.length;zc++){var Vc=q0[zc],Y2=Vc.toLowerCase(),K2=Vc[0].toUpperCase()+Vc.slice(1);va(Y2,"on"+K2)}va(vm,"onAnimationEnd");va(ym,"onAnimationIteration");va(wm,"onAnimationStart");va("dblclick","onDoubleClick");va("focusin","onFocus");va("focusout","onBlur");va(bm,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function Q0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Yv(n,e,void 0,t),t.currentTarget=null}function Nm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Q0(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Q0(a,o,u),i=c}}}if(pl)throw t=Ou,pl=!1,Ou=null,t}function ze(t,e){var r=e[Vu];r===void 0&&(r=e[Vu]=new Set);var n=t+"__bubble";r.has(n)||(Em(e,t,2,!1),r.add(n))}function $c(t,e,r){var n=0;e&&(n|=4),Em(r,t,n,e)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Hs(t){if(!t[Ao]){t[Ao]=!0,Tp.forEach(function(r){r!=="selectionchange"&&(q2.has(r)||$c(r,!1,t),$c(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ao]||(e[Ao]=!0,$c("selectionchange",!1,e))}}function Em(t,e,r,n){switch(om(e)){case 1:var a=d2;break;case 4:a=f2;break;default:a=df}r=a.bind(null,e,r,t),a=void 0,!Tu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Hc(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ta(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}Xp(function(){var u=i,d=of(r),f=[];e:{var h=_m.get(t);if(h!==void 0){var p=hf,x=t;switch(t){case"keypress":if(Qo(r)===0)break e;case"keydown":case"keyup":p=A2;break;case"focusin":x="focus",p=Lc;break;case"focusout":x="blur",p=Lc;break;case"beforeblur":case"afterblur":p=Lc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=k2;break;case vm:case ym:case wm:p=v2;break;case bm:p=O2;break;case"scroll":p=h2;break;case"wheel":p=P2;break;case"copy":case"cut":case"paste":p=w2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=V0}var g=(e&4)!==0,y=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var m=u,w;m!==null;){w=m;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,v!==null&&(b=Fs(m,v),b!=null&&g.push(Ws(m,b,w)))),y)break;m=m.return}0<g.length&&(h=new p(h,x,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==Iu&&(x=r.relatedTarget||r.fromElement)&&(Ta(x)||x[En]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Ta(x):null,x!==null&&(y=Za(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=U0,b="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=V0,b="onPointerLeave",v="onPointerEnter",m="pointer"),y=p==null?h:li(p),w=x==null?h:li(x),h=new g(b,m+"leave",p,r,d),h.target=y,h.relatedTarget=w,b=null,Ta(d)===u&&(g=new g(v,m+"enter",x,r,d),g.target=w,g.relatedTarget=y,b=g),y=b,p&&x)t:{for(g=p,v=x,m=0,w=g;w;w=qa(w))m++;for(w=0,b=v;b;b=qa(b))w++;for(;0<m-w;)g=qa(g),m--;for(;0<w-m;)v=qa(v),w--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=qa(g),v=qa(v)}g=null}else g=null;p!==null&&J0(f,h,p,g,!1),x!==null&&y!==null&&J0(f,y,x,g,!0)}}e:{if(h=u?li(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=z2;else if(W0(h))if(hm)N=W2;else{N=$2;var A=V2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=H2);if(N&&(N=N(t,u))){fm(f,N,r,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&Eu(h,"number",h.value)}switch(A=u?li(u):window,t){case"focusin":(W0(A)||A.contentEditable==="true")&&(si=A,Mu=u,Cs=null);break;case"focusout":Cs=Mu=si=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,K0(f,r,d);break;case"selectionchange":if(Z2)break;case"keydown":case"keyup":K0(f,r,d)}var C;if(mf)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ii?um(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(cm&&r.locale!=="ko"&&(ii||S!=="onCompositionStart"?S==="onCompositionEnd"&&ii&&(C=lm()):(Xn=d,ff="value"in Xn?Xn.value:Xn.textContent,ii=!0)),A=yl(u,S),0<A.length&&(S=new z0(S,t,null,r,d),f.push({event:S,listeners:A}),C?S.data=C:(C=dm(r),C!==null&&(S.data=C)))),(C=M2?L2(t,r):F2(t,r))&&(u=yl(u,"onBeforeInput"),0<u.length&&(d=new z0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}Nm(f,e)})}function Ws(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yl(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Fs(t,r),i!=null&&n.unshift(Ws(t,i,a)),i=Fs(t,e),i!=null&&n.push(Ws(t,i,a))),t=t.return}return n}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J0(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Fs(r,i),c!=null&&s.unshift(Ws(r,c,o))):a||(c=Fs(r,i),c!=null&&s.push(Ws(r,c,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Q2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function eh(t){return(typeof t=="string"?t:""+t).replace(Q2,`
`).replace(J2,"")}function jo(t,e,r){if(e=eh(e),eh(t)!==e&&r)throw Error(B(425))}function wl(){}var Fu=null,Bu=null;function Uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,th=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof th<"u"?function(t){return th.resolve(null).then(t).catch(ry)}:zu;function ry(t){setTimeout(function(){throw t})}function Wc(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),zs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);zs(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var $i=Math.random().toString(36).slice(2),an="__reactFiber$"+$i,Gs="__reactProps$"+$i,En="__reactContainer$"+$i,Vu="__reactEvents$"+$i,ny="__reactListeners$"+$i,ay="__reactHandles$"+$i;function Ta(t){var e=t[an];if(e)return e;for(var r=t.parentNode;r;){if(e=r[En]||r[an]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=rh(t);t!==null;){if(r=t[an])return r;t=rh(t)}return e}t=r,r=t.parentNode}return null}function uo(t){return t=t[an]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function ec(t){return t[Gs]||null}var $u=[],ci=-1;function ya(t){return{current:t}}function He(t){0>ci||(t.current=$u[ci],$u[ci]=null,ci--)}function Fe(t,e){ci++,$u[ci]=t.current,t.current=e}var ha={},Ut=ya(ha),nr=ya(!1),Ua=ha;function Ci(t,e){var r=t.type.contextTypes;if(!r)return ha;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function ar(t){return t=t.childContextTypes,t!=null}function bl(){He(nr),He(Ut)}function nh(t,e,r){if(Ut.current!==ha)throw Error(B(168));Fe(Ut,e),Fe(nr,r)}function Cm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(B(108,Vv(t)||"Unknown",a));return Qe({},r,n)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ha,Ua=Ut.current,Fe(Ut,t),Fe(nr,nr.current),!0}function ah(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=Cm(t,e,Ua),n.__reactInternalMemoizedMergedChildContext=t,He(nr),He(Ut),Fe(Ut,t)):He(nr),Fe(nr,r)}var yn=null,tc=!1,Gc=!1;function Sm(t){yn===null?yn=[t]:yn.push(t)}function iy(t){tc=!0,Sm(t)}function wa(){if(!Gc&&yn!==null){Gc=!0;var t=0,e=Oe;try{var r=yn;for(Oe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}yn=null,tc=!1}catch(a){throw yn!==null&&(yn=yn.slice(t+1)),qp(lf,wa),a}finally{Oe=e,Gc=!1}}return null}var ui=[],di=0,Nl=null,El=0,Ar=[],jr=0,za=null,wn=1,bn="";function ja(t,e){ui[di++]=El,ui[di++]=Nl,Nl=t,El=e}function Am(t,e,r){Ar[jr++]=wn,Ar[jr++]=bn,Ar[jr++]=za,za=t;var n=wn;t=bn;var a=32-Kr(n)-1;n&=~(1<<a),r+=1;var i=32-Kr(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,wn=1<<32-Kr(e)+a|r<<a|n,bn=i+t}else wn=1<<i|r<<a|n,bn=t}function gf(t){t.return!==null&&(ja(t,1),Am(t,1,0))}function vf(t){for(;t===Nl;)Nl=ui[--di],ui[di]=null,El=ui[--di],ui[di]=null;for(;t===za;)za=Ar[--jr],Ar[jr]=null,bn=Ar[--jr],Ar[jr]=null,wn=Ar[--jr],Ar[jr]=null}var hr=null,fr=null,Ge=!1,Hr=null;function jm(t,e){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ih(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,fr=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=za!==null?{id:wn,overflow:bn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,hr=t,fr=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wu(t){if(Ge){var e=fr;if(e){var r=e;if(!ih(t,e)){if(Hu(t))throw Error(B(418));e=ra(r.nextSibling);var n=hr;e&&ih(t,e)?jm(n,r):(t.flags=t.flags&-4097|2,Ge=!1,hr=t)}}else{if(Hu(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ge=!1,hr=t}}}function sh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function Io(t){if(t!==hr)return!1;if(!Ge)return sh(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uu(t.type,t.memoizedProps)),e&&(e=fr)){if(Hu(t))throw Im(),Error(B(418));for(;e;)jm(t,e),e=ra(e.nextSibling)}if(sh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fr=ra(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=hr?ra(t.stateNode.nextSibling):null;return!0}function Im(){for(var t=fr;t;)t=ra(t.nextSibling)}function Si(){fr=hr=null,Ge=!1}function yf(t){Hr===null?Hr=[t]:Hr.push(t)}var sy=In.ReactCurrentBatchConfig;function Qi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function ko(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oh(t){var e=t._init;return e(t._payload)}function km(t){function e(v,m){if(t){var w=v.deletions;w===null?(v.deletions=[m],v.flags|=16):w.push(m)}}function r(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function a(v,m){return v=sa(v,m),v.index=0,v.sibling=null,v}function i(v,m,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<m?(v.flags|=2,m):w):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,m,w,b){return m===null||m.tag!==6?(m=Jc(w,v.mode,b),m.return=v,m):(m=a(m,w),m.return=v,m)}function c(v,m,w,b){var N=w.type;return N===ai?d(v,m,w.props.children,b,w.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bn&&oh(N)===m.type)?(b=a(m,w.props),b.ref=Qi(v,m,w),b.return=v,b):(b=il(w.type,w.key,w.props,null,v.mode,b),b.ref=Qi(v,m,w),b.return=v,b)}function u(v,m,w,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=eu(w,v.mode,b),m.return=v,m):(m=a(m,w.children||[]),m.return=v,m)}function d(v,m,w,b,N){return m===null||m.tag!==7?(m=Fa(w,v.mode,b,N),m.return=v,m):(m=a(m,w),m.return=v,m)}function f(v,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Jc(""+m,v.mode,w),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case yo:return w=il(m.type,m.key,m.props,null,v.mode,w),w.ref=Qi(v,null,m),w.return=v,w;case ni:return m=eu(m,v.mode,w),m.return=v,m;case Bn:var b=m._init;return f(v,b(m._payload),w)}if(fs(m)||Xi(m))return m=Fa(m,v.mode,w,null),m.return=v,m;ko(v,m)}return null}function h(v,m,w,b){var N=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:o(v,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yo:return w.key===N?c(v,m,w,b):null;case ni:return w.key===N?u(v,m,w,b):null;case Bn:return N=w._init,h(v,m,N(w._payload),b)}if(fs(w)||Xi(w))return N!==null?null:d(v,m,w,b,null);ko(v,w)}return null}function p(v,m,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(w)||null,o(m,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yo:return v=v.get(b.key===null?w:b.key)||null,c(m,v,b,N);case ni:return v=v.get(b.key===null?w:b.key)||null,u(m,v,b,N);case Bn:var A=b._init;return p(v,m,w,A(b._payload),N)}if(fs(b)||Xi(b))return v=v.get(w)||null,d(m,v,b,N,null);ko(m,b)}return null}function x(v,m,w,b){for(var N=null,A=null,C=m,S=m=0,T=null;C!==null&&S<w.length;S++){C.index>S?(T=C,C=null):T=C.sibling;var k=h(v,C,w[S],b);if(k===null){C===null&&(C=T);break}t&&C&&k.alternate===null&&e(v,C),m=i(k,m,S),A===null?N=k:A.sibling=k,A=k,C=T}if(S===w.length)return r(v,C),Ge&&ja(v,S),N;if(C===null){for(;S<w.length;S++)C=f(v,w[S],b),C!==null&&(m=i(C,m,S),A===null?N=C:A.sibling=C,A=C);return Ge&&ja(v,S),N}for(C=n(v,C);S<w.length;S++)T=p(C,v,S,w[S],b),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?S:T.key),m=i(T,m,S),A===null?N=T:A.sibling=T,A=T);return t&&C.forEach(function(D){return e(v,D)}),Ge&&ja(v,S),N}function g(v,m,w,b){var N=Xi(w);if(typeof N!="function")throw Error(B(150));if(w=N.call(w),w==null)throw Error(B(151));for(var A=N=null,C=m,S=m=0,T=null,k=w.next();C!==null&&!k.done;S++,k=w.next()){C.index>S?(T=C,C=null):T=C.sibling;var D=h(v,C,k.value,b);if(D===null){C===null&&(C=T);break}t&&C&&D.alternate===null&&e(v,C),m=i(D,m,S),A===null?N=D:A.sibling=D,A=D,C=T}if(k.done)return r(v,C),Ge&&ja(v,S),N;if(C===null){for(;!k.done;S++,k=w.next())k=f(v,k.value,b),k!==null&&(m=i(k,m,S),A===null?N=k:A.sibling=k,A=k);return Ge&&ja(v,S),N}for(C=n(v,C);!k.done;S++,k=w.next())k=p(C,v,S,k.value,b),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?S:k.key),m=i(k,m,S),A===null?N=k:A.sibling=k,A=k);return t&&C.forEach(function(I){return e(v,I)}),Ge&&ja(v,S),N}function y(v,m,w,b){if(typeof w=="object"&&w!==null&&w.type===ai&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yo:e:{for(var N=w.key,A=m;A!==null;){if(A.key===N){if(N=w.type,N===ai){if(A.tag===7){r(v,A.sibling),m=a(A,w.props.children),m.return=v,v=m;break e}}else if(A.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bn&&oh(N)===A.type){r(v,A.sibling),m=a(A,w.props),m.ref=Qi(v,A,w),m.return=v,v=m;break e}r(v,A);break}else e(v,A);A=A.sibling}w.type===ai?(m=Fa(w.props.children,v.mode,b,w.key),m.return=v,v=m):(b=il(w.type,w.key,w.props,null,v.mode,b),b.ref=Qi(v,m,w),b.return=v,v=b)}return s(v);case ni:e:{for(A=w.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(v,m.sibling),m=a(m,w.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else e(v,m);m=m.sibling}m=eu(w,v.mode,b),m.return=v,v=m}return s(v);case Bn:return A=w._init,y(v,m,A(w._payload),b)}if(fs(w))return x(v,m,w,b);if(Xi(w))return g(v,m,w,b);ko(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(v,m.sibling),m=a(m,w),m.return=v,v=m):(r(v,m),m=Jc(w,v.mode,b),m.return=v,v=m),s(v)):r(v,m)}return y}var Ai=km(!0),Tm=km(!1),Cl=ya(null),Sl=null,fi=null,wf=null;function bf(){wf=fi=Sl=null}function _f(t){var e=Cl.current;He(Cl),t._currentValue=e}function Gu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function _i(t,e){Sl=t,wf=fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function Rr(t){var e=t._currentValue;if(wf!==t)if(t={context:t,memoizedValue:e,next:null},fi===null){if(Sl===null)throw Error(B(308));fi=t,Sl.dependencies={lanes:0,firstContext:t}}else fi=fi.next=t;return e}var Oa=null;function Nf(t){Oa===null?Oa=[t]:Oa.push(t)}function Om(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Nf(e)):(r.next=a.next,a.next=r),e.interleaved=r,Cn(t,n)}function Cn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Un=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Cn(t,r)}return a=n.interleaved,a===null?(e.next=e,Nf(n)):(e.next=a.next,a.next=e),n.interleaved=e,Cn(t,r)}function Jo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cf(t,r)}}function lh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Al(t,e,r,n){var a=t.updateQueue;Un=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,g=o;switch(h=e,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=Qe({},f,h);break e;case 2:Un=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);$a|=s,t.lanes=s,t.memoizedState=f}}function ch(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(B(191,a));a.call(n)}}}var fo={},dn=ya(fo),Xs=ya(fo),Zs=ya(fo);function Ra(t){if(t===fo)throw Error(B(174));return t}function Cf(t,e){switch(Fe(Zs,e),Fe(Xs,t),Fe(dn,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Su(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Su(e,t)}He(dn),Fe(dn,e)}function ji(){He(dn),He(Xs),He(Zs)}function Pm(t){Ra(Zs.current);var e=Ra(dn.current),r=Su(e,t.type);e!==r&&(Fe(Xs,t),Fe(dn,r))}function Sf(t){Xs.current===t&&(He(dn),He(Xs))}var Ye=ya(0);function jl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xc=[];function Af(){for(var t=0;t<Xc.length;t++)Xc[t]._workInProgressVersionPrimary=null;Xc.length=0}var el=In.ReactCurrentDispatcher,Zc=In.ReactCurrentBatchConfig,Va=0,qe=null,pt=null,Nt=null,Il=!1,Ss=!1,Ys=0,oy=0;function Dt(){throw Error(B(321))}function jf(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Jr(t[r],e[r]))return!1;return!0}function If(t,e,r,n,a,i){if(Va=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,el.current=t===null||t.memoizedState===null?dy:fy,t=r(n,a),Ss){i=0;do{if(Ss=!1,Ys=0,25<=i)throw Error(B(301));i+=1,Nt=pt=null,e.updateQueue=null,el.current=hy,t=r(n,a)}while(Ss)}if(el.current=kl,e=pt!==null&&pt.next!==null,Va=0,Nt=pt=qe=null,Il=!1,e)throw Error(B(300));return t}function kf(){var t=Ys!==0;return Ys=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?qe.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Pr(){if(pt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Nt===null?qe.memoizedState:Nt.next;if(e!==null)Nt=e,pt=t;else{if(t===null)throw Error(B(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Nt===null?qe.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Ks(t,e){return typeof e=="function"?e(t):e}function Yc(t){var e=Pr(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=pt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((Va&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,qe.lanes|=d,$a|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,Jr(n,e.memoizedState)||(rr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,qe.lanes|=i,$a|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Kc(t){var e=Pr(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Jr(i,e.memoizedState)||(rr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Dm(){}function Mm(t,e){var r=qe,n=Pr(),a=e(),i=!Jr(n.memoizedState,a);if(i&&(n.memoizedState=a,rr=!0),n=n.queue,Tf(Bm.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,qs(9,Fm.bind(null,r,n,a,e),void 0,null),St===null)throw Error(B(349));Va&30||Lm(r,e,a)}return a}function Lm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Fm(t,e,r,n){e.value=r,e.getSnapshot=n,Um(e)&&zm(t)}function Bm(t,e,r){return r(function(){Um(e)&&zm(t)})}function Um(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Jr(t,r)}catch{return!0}}function zm(t){var e=Cn(t,1);e!==null&&qr(e,t,1,-1)}function uh(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:t},e.queue=t,t=t.dispatch=uy.bind(null,qe,t),[e.memoizedState,t]}function qs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Vm(){return Pr().memoizedState}function tl(t,e,r,n){var a=rn();qe.flags|=t,a.memoizedState=qs(1|e,r,void 0,n===void 0?null:n)}function rc(t,e,r,n){var a=Pr();n=n===void 0?null:n;var i=void 0;if(pt!==null){var s=pt.memoizedState;if(i=s.destroy,n!==null&&jf(n,s.deps)){a.memoizedState=qs(e,r,i,n);return}}qe.flags|=t,a.memoizedState=qs(1|e,r,i,n)}function dh(t,e){return tl(8390656,8,t,e)}function Tf(t,e){return rc(2048,8,t,e)}function $m(t,e){return rc(4,2,t,e)}function Hm(t,e){return rc(4,4,t,e)}function Wm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gm(t,e,r){return r=r!=null?r.concat([t]):null,rc(4,4,Wm.bind(null,e,t),r)}function Of(){}function Xm(t,e){var r=Pr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jf(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Zm(t,e){var r=Pr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jf(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ym(t,e,r){return Va&21?(Jr(r,e)||(r=em(),qe.lanes|=r,$a|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=r)}function ly(t,e){var r=Oe;Oe=r!==0&&4>r?r:4,t(!0);var n=Zc.transition;Zc.transition={};try{t(!1),e()}finally{Oe=r,Zc.transition=n}}function Km(){return Pr().memoizedState}function cy(t,e,r){var n=ia(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qm(t))Qm(e,r);else if(r=Om(t,e,r,n),r!==null){var a=Xt();qr(r,t,n,a),Jm(r,e,n)}}function uy(t,e,r){var n=ia(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qm(t))Qm(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Jr(o,s)){var c=e.interleaved;c===null?(a.next=a,Nf(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=Om(t,e,a,n),r!==null&&(a=Xt(),qr(r,t,n,a),Jm(r,e,n))}}function qm(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function Qm(t,e){Ss=Il=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Jm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cf(t,r)}}var kl={readContext:Rr,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},dy={readContext:Rr,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Rr,useEffect:dh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,tl(4194308,4,Wm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tl(4194308,4,t,e)},useInsertionEffect:function(t,e){return tl(4,2,t,e)},useMemo:function(t,e){var r=rn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=rn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=cy.bind(null,qe,t),[n.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:uh,useDebugValue:Of,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=uh(!1),e=t[0];return t=ly.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qe,a=rn();if(Ge){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),St===null)throw Error(B(349));Va&30||Lm(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,dh(Bm.bind(null,n,i,t),[t]),n.flags|=2048,qs(9,Fm.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=rn(),e=St.identifierPrefix;if(Ge){var r=bn,n=wn;r=(n&~(1<<32-Kr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ys++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=oy++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fy={readContext:Rr,useCallback:Xm,useContext:Rr,useEffect:Tf,useImperativeHandle:Gm,useInsertionEffect:$m,useLayoutEffect:Hm,useMemo:Zm,useReducer:Yc,useRef:Vm,useState:function(){return Yc(Ks)},useDebugValue:Of,useDeferredValue:function(t){var e=Pr();return Ym(e,pt.memoizedState,t)},useTransition:function(){var t=Yc(Ks)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:Dm,useSyncExternalStore:Mm,useId:Km,unstable_isNewReconciler:!1},hy={readContext:Rr,useCallback:Xm,useContext:Rr,useEffect:Tf,useImperativeHandle:Gm,useInsertionEffect:$m,useLayoutEffect:Hm,useMemo:Zm,useReducer:Kc,useRef:Vm,useState:function(){return Kc(Ks)},useDebugValue:Of,useDeferredValue:function(t){var e=Pr();return pt===null?e.memoizedState=t:Ym(e,pt.memoizedState,t)},useTransition:function(){var t=Kc(Ks)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:Dm,useSyncExternalStore:Mm,useId:Km,unstable_isNewReconciler:!1};function Vr(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Xu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nc={isMounted:function(t){return(t=t._reactInternals)?Za(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xt(),a=ia(t),i=_n(n,a);i.payload=e,r!=null&&(i.callback=r),e=na(t,i,a),e!==null&&(qr(e,t,a,n),Jo(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xt(),a=ia(t),i=_n(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=na(t,i,a),e!==null&&(qr(e,t,a,n),Jo(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xt(),n=ia(t),a=_n(r,n);a.tag=2,e!=null&&(a.callback=e),e=na(t,a,n),e!==null&&(qr(e,t,n,r),Jo(e,t,n))}};function fh(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!$s(r,n)||!$s(a,i):!0}function ex(t,e,r){var n=!1,a=ha,i=e.contextType;return typeof i=="object"&&i!==null?i=Rr(i):(a=ar(e)?Ua:Ut.current,n=e.contextTypes,i=(n=n!=null)?Ci(t,a):ha),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function hh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nc.enqueueReplaceState(e,e.state,null)}function Zu(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Ef(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Rr(i):(i=ar(e)?Ua:Ut.current,a.context=Ci(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xu(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&nc.enqueueReplaceState(a,a.state,null),Al(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Ii(t,e){try{var r="",n=e;do r+=zv(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function qc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Yu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var py=typeof WeakMap=="function"?WeakMap:Map;function tx(t,e,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ol||(Ol=!0,id=n),Yu(t,e)},r}function rx(t,e,r){r=_n(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Yu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Yu(t,e),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function ph(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new py;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=jy.bind(null,t,e,r),e.then(t,t))}function mh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xh(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_n(-1,1),e.tag=2,na(r,e,1))),r.lanes|=1),t)}var my=In.ReactCurrentOwner,rr=!1;function Wt(t,e,r,n){e.child=t===null?Tm(e,null,r,n):Ai(e,t.child,r,n)}function gh(t,e,r,n,a){r=r.render;var i=e.ref;return _i(e,a),n=If(t,e,r,n,i,a),r=kf(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Sn(t,e,a)):(Ge&&r&&gf(e),e.flags|=1,Wt(t,e,n,a),e.child)}function vh(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Uf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,nx(t,e,i,n,a)):(t=il(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(s,n)&&t.ref===e.ref)return Sn(t,e,a)}return e.flags|=1,t=sa(i,n),t.ref=e.ref,t.return=e,e.child=t}function nx(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if($s(i,n)&&t.ref===e.ref)if(rr=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,Sn(t,e,a)}return Ku(t,e,r,n,a)}function ax(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(pi,ur),ur|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(pi,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fe(pi,ur),ur|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Fe(pi,ur),ur|=n;return Wt(t,e,a,r),e.child}function ix(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ku(t,e,r,n,a){var i=ar(r)?Ua:Ut.current;return i=Ci(e,i),_i(e,a),r=If(t,e,r,n,i,a),n=kf(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Sn(t,e,a)):(Ge&&n&&gf(e),e.flags|=1,Wt(t,e,r,a),e.child)}function yh(t,e,r,n,a){if(ar(r)){var i=!0;_l(e)}else i=!1;if(_i(e,a),e.stateNode===null)rl(t,e),ex(e,r,n),Zu(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rr(u):(u=ar(r)?Ua:Ut.current,u=Ci(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&hh(e,s,n,u),Un=!1;var h=e.memoizedState;s.state=h,Al(e,n,s,a),c=e.memoizedState,o!==n||h!==c||nr.current||Un?(typeof d=="function"&&(Xu(e,r,d,n),c=e.memoizedState),(o=Un||fh(e,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,Rm(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Vr(e.type,o),s.props=u,f=e.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rr(c):(c=ar(r)?Ua:Ut.current,c=Ci(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&hh(e,s,n,c),Un=!1,h=e.memoizedState,s.state=h,Al(e,n,s,a);var x=e.memoizedState;o!==f||h!==x||nr.current||Un?(typeof p=="function"&&(Xu(e,r,p,n),x=e.memoizedState),(u=Un||fh(e,r,u,n,h,x,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,x,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),s.props=n,s.state=x,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return qu(t,e,r,n,i,a)}function qu(t,e,r,n,a,i){ix(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&ah(e,r,!1),Sn(t,e,i);n=e.stateNode,my.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Ai(e,t.child,null,i),e.child=Ai(e,null,o,i)):Wt(t,e,o,i),e.memoizedState=n.state,a&&ah(e,r,!0),e.child}function sx(t){var e=t.stateNode;e.pendingContext?nh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nh(t,e.context,!1),Cf(t,e.containerInfo)}function wh(t,e,r,n,a){return Si(),yf(a),e.flags|=256,Wt(t,e,r,n),e.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Ju(t){return{baseLanes:t,cachePool:null,transitions:null}}function ox(t,e,r){var n=e.pendingProps,a=Ye.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Fe(Ye,a&1),t===null)return Wu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=sc(s,n,0,null),t=Fa(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ju(r),e.memoizedState=Qu,t):Rf(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return xy(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=sa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=sa(o,i):(i=Fa(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?Ju(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=Qu,n}return i=t.child,t=i.sibling,n=sa(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Rf(t,e){return e=sc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function To(t,e,r,n){return n!==null&&yf(n),Ai(e,t.child,null,r),t=Rf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xy(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=qc(Error(B(422))),To(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=sc({mode:"visible",children:n.children},a,0,null),i=Fa(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ai(e,t.child,null,s),e.child.memoizedState=Ju(s),e.memoizedState=Qu,i);if(!(e.mode&1))return To(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(B(419)),n=qc(i,n,void 0),To(t,e,s,n)}if(o=(s&t.childLanes)!==0,rr||o){if(n=St,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Cn(t,a),qr(n,t,a,-1))}return Bf(),n=qc(Error(B(421))),To(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Iy.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,fr=ra(a.nextSibling),hr=e,Ge=!0,Hr=null,t!==null&&(Ar[jr++]=wn,Ar[jr++]=bn,Ar[jr++]=za,wn=t.id,bn=t.overflow,za=e),e=Rf(e,n.children),e.flags|=4096,e)}function bh(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gu(t.return,e,r)}function Qc(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function lx(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Wt(t,e,n.children,r),n=Ye.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bh(t,r,e);else if(t.tag===19)bh(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Fe(Ye,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&jl(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Qc(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&jl(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Qc(e,!0,r,null,i);break;case"together":Qc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),$a|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=sa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function gy(t,e,r){switch(e.tag){case 3:sx(e),Si();break;case 5:Pm(e);break;case 1:ar(e.type)&&_l(e);break;case 4:Cf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Fe(Cl,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Ye,Ye.current&1),e.flags|=128,null):r&e.child.childLanes?ox(t,e,r):(Fe(Ye,Ye.current&1),t=Sn(t,e,r),t!==null?t.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return lx(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fe(Ye,Ye.current),n)break;return null;case 22:case 23:return e.lanes=0,ax(t,e,r)}return Sn(t,e,r)}var cx,ed,ux,dx;cx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ed=function(){};ux=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ra(dn.current);var i=null;switch(r){case"input":a=_u(t,a),n=_u(t,n),i=[];break;case"select":a=Qe({},a,{value:void 0}),n=Qe({},n,{value:void 0}),i=[];break;case"textarea":a=Cu(t,a),n=Cu(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=wl)}Au(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ms.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};dx=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ji(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vy(t,e,r){var n=e.pendingProps;switch(vf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return ar(e.type)&&bl(),Mt(e),null;case 3:return n=e.stateNode,ji(),He(nr),He(Ut),Af(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Io(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hr!==null&&(ld(Hr),Hr=null))),ed(t,e),Mt(e),null;case 5:Sf(e);var a=Ra(Zs.current);if(r=e.type,t!==null&&e.stateNode!=null)ux(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Mt(e),null}if(t=Ra(dn.current),Io(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[an]=e,n[Gs]=i,t=(e.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<ps.length;a++)ze(ps[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":k0(n,i),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ze("invalid",n);break;case"textarea":O0(n,i),ze("invalid",n)}Au(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&jo(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&jo(n.textContent,o,t),a=["children",""+o]):Ms.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ze("scroll",n)}switch(r){case"input":wo(n),T0(n,i,!0);break;case"textarea":wo(n),R0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wl)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[an]=e,t[Gs]=n,cx(t,e,!1,!1),e.stateNode=t;e:{switch(s=ju(r,n),r){case"dialog":ze("cancel",t),ze("close",t),a=n;break;case"iframe":case"object":case"embed":ze("load",t),a=n;break;case"video":case"audio":for(a=0;a<ps.length;a++)ze(ps[a],t);a=n;break;case"source":ze("error",t),a=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),a=n;break;case"details":ze("toggle",t),a=n;break;case"input":k0(t,n),a=_u(t,n),ze("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Qe({},n,{value:void 0}),ze("invalid",t);break;case"textarea":O0(t,n),a=Cu(t,n),ze("invalid",t);break;default:a=n}Au(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Vp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Up(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ls(t,c):typeof c=="number"&&Ls(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ms.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ze("scroll",t):c!=null&&rf(t,i,c,s))}switch(r){case"input":wo(t),T0(t,n,!1);break;case"textarea":wo(t),R0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fa(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?vi(t,!!n.multiple,i,!1):n.defaultValue!=null&&vi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=wl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)dx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=Ra(Zs.current),Ra(dn.current),Io(e)){if(n=e.stateNode,r=e.memoizedProps,n[an]=e,(i=n.nodeValue!==r)&&(t=hr,t!==null))switch(t.tag){case 3:jo(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jo(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[an]=e,e.stateNode=n}return Mt(e),null;case 13:if(He(Ye),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&fr!==null&&e.mode&1&&!(e.flags&128))Im(),Si(),e.flags|=98560,i=!1;else if(i=Io(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[an]=e}else Si(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else Hr!==null&&(ld(Hr),Hr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?vt===0&&(vt=3):Bf())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return ji(),ed(t,e),t===null&&Hs(e.stateNode.containerInfo),Mt(e),null;case 10:return _f(e.type._context),Mt(e),null;case 17:return ar(e.type)&&bl(),Mt(e),null;case 19:if(He(Ye),i=e.memoizedState,i===null)return Mt(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)Ji(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=jl(t),s!==null){for(e.flags|=128,Ji(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Fe(Ye,Ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>ki&&(e.flags|=128,n=!0,Ji(i,!1),e.lanes=4194304)}else{if(!n)if(t=jl(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ji(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ge)return Mt(e),null}else 2*nt()-i.renderingStartTime>ki&&r!==1073741824&&(e.flags|=128,n=!0,Ji(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,r=Ye.current,Fe(Ye,n?r&1|2:r&1),e):(Mt(e),null);case 22:case 23:return Ff(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ur&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function yy(t,e){switch(vf(e),e.tag){case 1:return ar(e.type)&&bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ji(),He(nr),He(Ut),Af(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sf(e),null;case 13:if(He(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ye),null;case 4:return ji(),null;case 10:return _f(e.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Oo=!1,Bt=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Y=null;function hi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(t,e,n)}else r.current=null}function td(t,e,r){try{r()}catch(n){et(t,e,n)}}var _h=!1;function by(t,e){if(Fu=gl,t=xm(),xf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bu={focusedElem:t,selectionRange:r},gl=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Vr(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){et(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return x=_h,_h=!1,x}function As(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&td(e,r,i)}a=a.next}while(a!==n)}}function ac(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function rd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fx(t){var e=t.alternate;e!==null&&(t.alternate=null,fx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[Gs],delete e[Vu],delete e[ny],delete e[ay])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hx(t){return t.tag===5||t.tag===3||t.tag===4}function Nh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=wl));else if(n!==4&&(t=t.child,t!==null))for(nd(t,e,r),t=t.sibling;t!==null;)nd(t,e,r),t=t.sibling}function ad(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ad(t,e,r),t=t.sibling;t!==null;)ad(t,e,r),t=t.sibling}var kt=null,$r=!1;function Pn(t,e,r){for(r=r.child;r!==null;)px(t,e,r),r=r.sibling}function px(t,e,r){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Kl,r)}catch{}switch(r.tag){case 5:Bt||hi(r,e);case 6:var n=kt,a=$r;kt=null,Pn(t,e,r),kt=n,$r=a,kt!==null&&($r?(t=kt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&($r?(t=kt,r=r.stateNode,t.nodeType===8?Wc(t.parentNode,r):t.nodeType===1&&Wc(t,r),zs(t)):Wc(kt,r.stateNode));break;case 4:n=kt,a=$r,kt=r.stateNode.containerInfo,$r=!0,Pn(t,e,r),kt=n,$r=a;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&td(r,e,s),a=a.next}while(a!==n)}Pn(t,e,r);break;case 1:if(!Bt&&(hi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){et(r,e,o)}Pn(t,e,r);break;case 21:Pn(t,e,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,Pn(t,e,r),Bt=n):Pn(t,e,r);break;default:Pn(t,e,r)}}function Eh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wy),e.forEach(function(n){var a=ky.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:kt=o.stateNode,$r=!1;break e;case 3:kt=o.stateNode.containerInfo,$r=!0;break e;case 4:kt=o.stateNode.containerInfo,$r=!0;break e}o=o.return}if(kt===null)throw Error(B(160));px(i,s,a),kt=null,$r=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){et(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mx(e,t),e=e.sibling}function mx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fr(e,t),tn(t),n&4){try{As(3,t,t.return),ac(3,t)}catch(g){et(t,t.return,g)}try{As(5,t,t.return)}catch(g){et(t,t.return,g)}}break;case 1:Fr(e,t),tn(t),n&512&&r!==null&&hi(r,r.return);break;case 5:if(Fr(e,t),tn(t),n&512&&r!==null&&hi(r,r.return),t.flags&32){var a=t.stateNode;try{Ls(a,"")}catch(g){et(t,t.return,g)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Lp(a,i),ju(o,s);var u=ju(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?Vp(a,f):d==="dangerouslySetInnerHTML"?Up(a,f):d==="children"?Ls(a,f):rf(a,d,f,u)}switch(o){case"input":Nu(a,i);break;case"textarea":Fp(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?vi(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?vi(a,!!i.multiple,i.defaultValue,!0):vi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gs]=i}catch(g){et(t,t.return,g)}}break;case 6:if(Fr(e,t),tn(t),n&4){if(t.stateNode===null)throw Error(B(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(g){et(t,t.return,g)}}break;case 3:if(Fr(e,t),tn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(g){et(t,t.return,g)}break;case 4:Fr(e,t),tn(t);break;case 13:Fr(e,t),tn(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Mf=nt())),n&4&&Eh(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||d,Fr(e,t),Bt=u):Fr(e,t),tn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(h=Y,p=h.child,h.tag){case 0:case 11:case 14:case 15:As(4,h,h.return);break;case 1:hi(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){et(n,r,g)}}break;case 5:hi(h,h.return);break;case 22:if(h.memoizedState!==null){Sh(f);continue}}p!==null?(p.return=h,Y=p):Sh(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=zp("display",s))}catch(g){et(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){et(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fr(e,t),tn(t),n&4&&Eh(t);break;case 21:break;default:Fr(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hx(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ls(a,""),n.flags&=-33);var i=Nh(t);ad(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Nh(t);nd(t,o,s);break;default:throw Error(B(161))}}catch(c){et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _y(t,e,r){Y=t,xx(t)}function xx(t,e,r){for(var n=(t.mode&1)!==0;Y!==null;){var a=Y,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Oo;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Bt;o=Oo;var u=Bt;if(Oo=s,(Bt=c)&&!u)for(Y=a;Y!==null;)s=Y,c=s.child,s.tag===22&&s.memoizedState!==null?Ah(a):c!==null?(c.return=s,Y=c):Ah(a);for(;i!==null;)Y=i,xx(i),i=i.sibling;Y=a,Oo=o,Bt=u}Ch(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Y=i):Ch(t)}}function Ch(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||ac(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Vr(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ch(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ch(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Bt||e.flags&512&&rd(e)}catch(h){et(e,e.return,h)}}if(e===t){Y=null;break}if(r=e.sibling,r!==null){r.return=e.return,Y=r;break}Y=e.return}}function Sh(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Y=r;break}Y=e.return}}function Ah(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ac(4,e)}catch(c){et(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){et(e,a,c)}}var i=e.return;try{rd(e)}catch(c){et(e,i,c)}break;case 5:var s=e.return;try{rd(e)}catch(c){et(e,s,c)}}}catch(c){et(e,e.return,c)}if(e===t){Y=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Y=o;break}Y=e.return}}var Ny=Math.ceil,Tl=In.ReactCurrentDispatcher,Pf=In.ReactCurrentOwner,Tr=In.ReactCurrentBatchConfig,be=0,St=null,ot=null,Rt=0,ur=0,pi=ya(0),vt=0,Qs=null,$a=0,ic=0,Df=0,js=null,Jt=null,Mf=0,ki=1/0,gn=null,Ol=!1,id=null,aa=null,Ro=!1,Zn=null,Rl=0,Is=0,sd=null,nl=-1,al=0;function Xt(){return be&6?nt():nl!==-1?nl:nl=nt()}function ia(t){return t.mode&1?be&2&&Rt!==0?Rt&-Rt:sy.transition!==null?(al===0&&(al=em()),al):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:om(t.type)),t):1}function qr(t,e,r,n){if(50<Is)throw Is=0,sd=null,Error(B(185));lo(t,r,n),(!(be&2)||t!==St)&&(t===St&&(!(be&2)&&(ic|=r),vt===4&&Hn(t,Rt)),ir(t,n),r===1&&be===0&&!(e.mode&1)&&(ki=nt()+500,tc&&wa()))}function ir(t,e){var r=t.callbackNode;s2(t,e);var n=xl(t,t===St?Rt:0);if(n===0)r!==null&&M0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&M0(r),e===1)t.tag===0?iy(jh.bind(null,t)):Sm(jh.bind(null,t)),ty(function(){!(be&6)&&wa()}),r=null;else{switch(tm(n)){case 1:r=lf;break;case 4:r=Qp;break;case 16:r=ml;break;case 536870912:r=Jp;break;default:r=ml}r=Ex(r,gx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gx(t,e){if(nl=-1,al=0,be&6)throw Error(B(327));var r=t.callbackNode;if(Ni()&&t.callbackNode!==r)return null;var n=xl(t,t===St?Rt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pl(t,n);else{e=n;var a=be;be|=2;var i=yx();(St!==t||Rt!==e)&&(gn=null,ki=nt()+500,La(t,e));do try{Sy();break}catch(o){vx(t,o)}while(1);bf(),Tl.current=i,be=a,ot!==null?e=0:(St=null,Rt=0,e=vt)}if(e!==0){if(e===2&&(a=Ru(t),a!==0&&(n=a,e=od(t,a))),e===1)throw r=Qs,La(t,0),Hn(t,n),ir(t,nt()),r;if(e===6)Hn(t,n);else{if(a=t.current.alternate,!(n&30)&&!Ey(a)&&(e=Pl(t,n),e===2&&(i=Ru(t),i!==0&&(n=i,e=od(t,i))),e===1))throw r=Qs,La(t,0),Hn(t,n),ir(t,nt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:Ia(t,Jt,gn);break;case 3:if(Hn(t,n),(n&130023424)===n&&(e=Mf+500-nt(),10<e)){if(xl(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Xt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=zu(Ia.bind(null,t,Jt,gn),e);break}Ia(t,Jt,gn);break;case 4:if(Hn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-Kr(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ny(n/1960))-n,10<n){t.timeoutHandle=zu(Ia.bind(null,t,Jt,gn),n);break}Ia(t,Jt,gn);break;case 5:Ia(t,Jt,gn);break;default:throw Error(B(329))}}}return ir(t,nt()),t.callbackNode===r?gx.bind(null,t):null}function od(t,e){var r=js;return t.current.memoizedState.isDehydrated&&(La(t,e).flags|=256),t=Pl(t,e),t!==2&&(e=Jt,Jt=r,e!==null&&ld(e)),t}function ld(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function Ey(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Jr(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e){for(e&=~Df,e&=~ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Kr(e),n=1<<r;t[r]=-1,e&=~n}}function jh(t){if(be&6)throw Error(B(327));Ni();var e=xl(t,0);if(!(e&1))return ir(t,nt()),null;var r=Pl(t,e);if(t.tag!==0&&r===2){var n=Ru(t);n!==0&&(e=n,r=od(t,n))}if(r===1)throw r=Qs,La(t,0),Hn(t,e),ir(t,nt()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,Jt,gn),ir(t,nt()),null}function Lf(t,e){var r=be;be|=1;try{return t(e)}finally{be=r,be===0&&(ki=nt()+500,tc&&wa())}}function Ha(t){Zn!==null&&Zn.tag===0&&!(be&6)&&Ni();var e=be;be|=1;var r=Tr.transition,n=Oe;try{if(Tr.transition=null,Oe=1,t)return t()}finally{Oe=n,Tr.transition=r,be=e,!(be&6)&&wa()}}function Ff(){ur=pi.current,He(pi)}function La(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ey(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(vf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bl();break;case 3:ji(),He(nr),He(Ut),Af();break;case 5:Sf(n);break;case 4:ji();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:_f(n.type._context);break;case 22:case 23:Ff()}r=r.return}if(St=t,ot=t=sa(t.current,null),Rt=ur=e,vt=0,Qs=null,Df=ic=$a=0,Jt=js=null,Oa!==null){for(e=0;e<Oa.length;e++)if(r=Oa[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Oa=null}return t}function vx(t,e){do{var r=ot;try{if(bf(),el.current=kl,Il){for(var n=qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Il=!1}if(Va=0,Nt=pt=qe=null,Ss=!1,Ys=0,Pf.current=null,r===null||r.return===null){vt=1,Qs=e,ot=null;break}e:{var i=t,s=r.return,o=r,c=e;if(e=Rt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mh(s);if(p!==null){p.flags&=-257,xh(p,s,o,i,e),p.mode&1&&ph(i,u,e),e=p,c=u;var x=e.updateQueue;if(x===null){var g=new Set;g.add(c),e.updateQueue=g}else x.add(c);break e}else{if(!(e&1)){ph(i,u,e),Bf();break e}c=Error(B(426))}}else if(Ge&&o.mode&1){var y=mh(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),xh(y,s,o,i,e),yf(Ii(c,o));break e}}i=c=Ii(c,o),vt!==4&&(vt=2),js===null?js=[i]:js.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=tx(i,c,e);lh(i,v);break e;case 1:o=c;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(aa===null||!aa.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=rx(i,o,e);lh(i,b);break e}}i=i.return}while(i!==null)}bx(r)}catch(N){e=N,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(1)}function yx(){var t=Tl.current;return Tl.current=kl,t===null?kl:t}function Bf(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!($a&268435455)&&!(ic&268435455)||Hn(St,Rt)}function Pl(t,e){var r=be;be|=2;var n=yx();(St!==t||Rt!==e)&&(gn=null,La(t,e));do try{Cy();break}catch(a){vx(t,a)}while(1);if(bf(),be=r,Tl.current=n,ot!==null)throw Error(B(261));return St=null,Rt=0,vt}function Cy(){for(;ot!==null;)wx(ot)}function Sy(){for(;ot!==null&&!qv();)wx(ot)}function wx(t){var e=Nx(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?bx(t):ot=e,Pf.current=null}function bx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=yy(r,e),r!==null){r.flags&=32767,ot=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ot=null;return}}else if(r=vy(r,e,ur),r!==null){ot=r;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);vt===0&&(vt=5)}function Ia(t,e,r){var n=Oe,a=Tr.transition;try{Tr.transition=null,Oe=1,Ay(t,e,r,n)}finally{Tr.transition=a,Oe=n}return null}function Ay(t,e,r,n){do Ni();while(Zn!==null);if(be&6)throw Error(B(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(o2(t,i),t===St&&(ot=St=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ro||(Ro=!0,Ex(ml,function(){return Ni(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Tr.transition,Tr.transition=null;var s=Oe;Oe=1;var o=be;be|=4,Pf.current=null,by(t,r),mx(r,t),X2(Bu),gl=!!Fu,Bu=Fu=null,t.current=r,_y(r),Qv(),be=o,Oe=s,Tr.transition=i}else t.current=r;if(Ro&&(Ro=!1,Zn=t,Rl=a),i=t.pendingLanes,i===0&&(aa=null),t2(r.stateNode),ir(t,nt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ol)throw Ol=!1,t=id,id=null,t;return Rl&1&&t.tag!==0&&Ni(),i=t.pendingLanes,i&1?t===sd?Is++:(Is=0,sd=t):Is=0,wa(),null}function Ni(){if(Zn!==null){var t=tm(Rl),e=Tr.transition,r=Oe;try{if(Tr.transition=null,Oe=16>t?16:t,Zn===null)var n=!1;else{if(t=Zn,Zn=null,Rl=0,be&6)throw Error(B(331));var a=be;for(be|=4,Y=t.current;Y!==null;){var i=Y,s=i.child;if(Y.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:As(8,d,i)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var h=d.sibling,p=d.return;if(fx(d),d===u){Y=null;break}if(h!==null){h.return=p,Y=h;break}Y=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Y=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Y=s;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:As(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Y=v;break e}Y=i.return}}var m=t.current;for(Y=m;Y!==null;){s=Y;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Y=w;else e:for(s=m;Y!==null;){if(o=Y,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ac(9,o)}}catch(N){et(o,o.return,N)}if(o===s){Y=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Y=b;break e}Y=o.return}}if(be=a,wa(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Kl,t)}catch{}n=!0}return n}finally{Oe=r,Tr.transition=e}}return!1}function Ih(t,e,r){e=Ii(r,e),e=tx(t,e,1),t=na(t,e,1),e=Xt(),t!==null&&(lo(t,1,e),ir(t,e))}function et(t,e,r){if(t.tag===3)Ih(t,t,r);else for(;e!==null;){if(e.tag===3){Ih(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){t=Ii(r,t),t=rx(e,t,1),e=na(e,t,1),t=Xt(),e!==null&&(lo(e,1,t),ir(e,t));break}}e=e.return}}function jy(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&r,St===t&&(Rt&r)===r&&(vt===4||vt===3&&(Rt&130023424)===Rt&&500>nt()-Mf?La(t,0):Df|=r),ir(t,e)}function _x(t,e){e===0&&(t.mode&1?(e=No,No<<=1,!(No&130023424)&&(No=4194304)):e=1);var r=Xt();t=Cn(t,e),t!==null&&(lo(t,e,r),ir(t,r))}function Iy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_x(t,r)}function ky(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),_x(t,r)}var Nx;Nx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)rr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rr=!1,gy(t,e,r);rr=!!(t.flags&131072)}else rr=!1,Ge&&e.flags&1048576&&Am(e,El,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;rl(t,e),t=e.pendingProps;var a=Ci(e,Ut.current);_i(e,r),a=If(null,e,n,t,a,r);var i=kf();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(n)?(i=!0,_l(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ef(e),a.updater=nc,e.stateNode=a,a._reactInternals=e,Zu(e,n,t,r),e=qu(null,e,n,!0,i,r)):(e.tag=0,Ge&&i&&gf(e),Wt(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(rl(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=Oy(n),t=Vr(n,t),a){case 0:e=Ku(null,e,n,t,r);break e;case 1:e=yh(null,e,n,t,r);break e;case 11:e=gh(null,e,n,t,r);break e;case 14:e=vh(null,e,n,Vr(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Vr(n,a),Ku(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Vr(n,a),yh(t,e,n,a,r);case 3:e:{if(sx(e),t===null)throw Error(B(387));n=e.pendingProps,i=e.memoizedState,a=i.element,Rm(t,e),Al(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Ii(Error(B(423)),e),e=wh(t,e,n,r,a);break e}else if(n!==a){a=Ii(Error(B(424)),e),e=wh(t,e,n,r,a);break e}else for(fr=ra(e.stateNode.containerInfo.firstChild),hr=e,Ge=!0,Hr=null,r=Tm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Si(),n===a){e=Sn(t,e,r);break e}Wt(t,e,n,r)}e=e.child}return e;case 5:return Pm(e),t===null&&Wu(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,Uu(n,a)?s=null:i!==null&&Uu(n,i)&&(e.flags|=32),ix(t,e),Wt(t,e,s,r),e.child;case 6:return t===null&&Wu(e),null;case 13:return ox(t,e,r);case 4:return Cf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ai(e,null,n,r):Wt(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Vr(n,a),gh(t,e,n,a,r);case 7:return Wt(t,e,e.pendingProps,r),e.child;case 8:return Wt(t,e,e.pendingProps.children,r),e.child;case 12:return Wt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,Fe(Cl,n._currentValue),n._currentValue=s,i!==null)if(Jr(i.value,s)){if(i.children===a.children&&!nr.current){e=Sn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=_n(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Gu(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Gu(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Wt(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,_i(e,r),a=Rr(a),n=n(a),e.flags|=1,Wt(t,e,n,r),e.child;case 14:return n=e.type,a=Vr(n,e.pendingProps),a=Vr(n.type,a),vh(t,e,n,a,r);case 15:return nx(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Vr(n,a),rl(t,e),e.tag=1,ar(n)?(t=!0,_l(e)):t=!1,_i(e,r),ex(e,n,a),Zu(e,n,a,r),qu(null,e,n,!0,t,r);case 19:return lx(t,e,r);case 22:return ax(t,e,r)}throw Error(B(156,e.tag))};function Ex(t,e){return qp(t,e)}function Ty(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(t,e,r,n){return new Ty(t,e,r,n)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oy(t){if(typeof t=="function")return Uf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===af)return 11;if(t===sf)return 14}return 2}function sa(t,e){var r=t.alternate;return r===null?(r=Ir(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function il(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")Uf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ai:return Fa(r.children,a,i,e);case nf:s=8,a|=8;break;case vu:return t=Ir(12,r,e,a|2),t.elementType=vu,t.lanes=i,t;case yu:return t=Ir(13,r,e,a),t.elementType=yu,t.lanes=i,t;case wu:return t=Ir(19,r,e,a),t.elementType=wu,t.lanes=i,t;case Pp:return sc(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Op:s=10;break e;case Rp:s=9;break e;case af:s=11;break e;case sf:s=14;break e;case Bn:s=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Ir(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Fa(t,e,r,n){return t=Ir(7,t,n,e),t.lanes=r,t}function sc(t,e,r,n){return t=Ir(22,t,n,e),t.elementType=Pp,t.lanes=r,t.stateNode={isHidden:!1},t}function Jc(t,e,r){return t=Ir(6,t,null,e),t.lanes=r,t}function eu(t,e,r){return e=Ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ry(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zf(t,e,r,n,a,i,s,o,c){return t=new Ry(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ir(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(i),t}function Py(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Cx(t){if(!t)return ha;t=t._reactInternals;e:{if(Za(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(ar(r))return Cm(t,r,e)}return e}function Sx(t,e,r,n,a,i,s,o,c){return t=zf(r,n,!0,t,a,i,s,o,c),t.context=Cx(null),r=t.current,n=Xt(),a=ia(r),i=_n(n,a),i.callback=e??null,na(r,i,a),t.current.lanes=a,lo(t,a,n),ir(t,n),t}function oc(t,e,r,n){var a=e.current,i=Xt(),s=ia(a);return r=Cx(r),e.context===null?e.context=r:e.pendingContext=r,e=_n(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=na(a,e,s),t!==null&&(qr(t,a,s,i),Jo(t,a,s)),s}function Dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vf(t,e){kh(t,e),(t=t.alternate)&&kh(t,e)}function Dy(){return null}var Ax=typeof reportError=="function"?reportError:function(t){console.error(t)};function $f(t){this._internalRoot=t}lc.prototype.render=$f.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));oc(t,e,null,null)};lc.prototype.unmount=$f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ha(function(){oc(null,t,null,null)}),e[En]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=am();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$n.length&&e!==0&&e<$n[r].priority;r++);$n.splice(r,0,t),r===0&&sm(t)}};function Hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Th(){}function My(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Dl(s);i.call(u)}}var s=Sx(e,n,t,0,null,!1,!1,"",Th);return t._reactRootContainer=s,t[En]=s.current,Hs(t.nodeType===8?t.parentNode:t),Ha(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Dl(c);o.call(u)}}var c=zf(t,0,!1,null,null,!1,!1,"",Th);return t._reactRootContainer=c,t[En]=c.current,Hs(t.nodeType===8?t.parentNode:t),Ha(function(){oc(e,c,r,n)}),c}function uc(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=Dl(s);o.call(c)}}oc(e,s,t,a)}else s=My(r,e,t,a,n);return Dl(s)}rm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hs(e.pendingLanes);r!==0&&(cf(e,r|1),ir(e,nt()),!(be&6)&&(ki=nt()+500,wa()))}break;case 13:Ha(function(){var n=Cn(t,1);if(n!==null){var a=Xt();qr(n,t,1,a)}}),Vf(t,1)}};uf=function(t){if(t.tag===13){var e=Cn(t,134217728);if(e!==null){var r=Xt();qr(e,t,134217728,r)}Vf(t,134217728)}};nm=function(t){if(t.tag===13){var e=ia(t),r=Cn(t,e);if(r!==null){var n=Xt();qr(r,t,e,n)}Vf(t,e)}};am=function(){return Oe};im=function(t,e){var r=Oe;try{return Oe=t,e()}finally{Oe=r}};ku=function(t,e,r){switch(e){case"input":if(Nu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=ec(n);if(!a)throw Error(B(90));Mp(n),Nu(n,a)}}}break;case"textarea":Fp(t,r);break;case"select":e=r.value,e!=null&&vi(t,!!r.multiple,e,!1)}};Wp=Lf;Gp=Ha;var Ly={usingClientEntryPoint:!1,Events:[uo,li,ec,$p,Hp,Lf]},es={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fy={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yp(t),t===null?null:t.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||Dy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Kl=Po.inject(Fy),un=Po}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ly;gr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(e))throw Error(B(200));return Py(t,e,null,r)};gr.createRoot=function(t,e){if(!Hf(t))throw Error(B(299));var r=!1,n="",a=Ax;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=zf(t,1,!1,null,null,r,!1,n,a),t[En]=e.current,Hs(t.nodeType===8?t.parentNode:t),new $f(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Yp(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return Ha(t)};gr.hydrate=function(t,e,r){if(!cc(e))throw Error(B(200));return uc(null,t,e,!0,r)};gr.hydrateRoot=function(t,e,r){if(!Hf(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=Ax;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=Sx(e,null,t,1,r??null,a,!1,i,s),t[En]=e.current,Hs(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new lc(e)};gr.render=function(t,e,r){if(!cc(e))throw Error(B(200));return uc(null,t,e,!1,r)};gr.unmountComponentAtNode=function(t){if(!cc(t))throw Error(B(40));return t._reactRootContainer?(Ha(function(){uc(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};gr.unstable_batchedUpdates=Lf;gr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cc(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return uc(t,e,r,!1,n)};gr.version="18.3.1-next-f1338f8080-20240426";function jx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jx)}catch(t){console.error(t)}}jx(),jp.exports=gr;var By=jp.exports,Ix,Oh=By;Ix=Oh.createRoot,Oh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Js.apply(this,arguments)}var Yn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yn||(Yn={}));const Rh="popstate";function Uy(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return cd("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ml(a)}return Vy(e,r,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zy(){return Math.random().toString(36).substr(2,8)}function Ph(t,e){return{usr:t.state,key:t.key,idx:e}}function cd(t,e,r,n){return r===void 0&&(r=null),Js({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:r,key:e&&e.key||n||zy()})}function Ml(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Vy(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Yn.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Js({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Yn.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:o,location:g.location,delta:v})}function h(y,v){o=Yn.Push;let m=cd(g.location,y,v);r&&r(m,y),u=d()+1;let w=Ph(m,u),b=g.createHref(m);try{s.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}i&&c&&c({action:o,location:g.location,delta:1})}function p(y,v){o=Yn.Replace;let m=cd(g.location,y,v);r&&r(m,y),u=d();let w=Ph(m,u),b=g.createHref(m);s.replaceState(w,"",b),i&&c&&c({action:o,location:g.location,delta:0})}function x(y){let v=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof y=="string"?y:Ml(y);return m=m.replace(/ $/,"%20"),at(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let g={get action(){return o},get location(){return t(a,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Rh,f),c=y,()=>{a.removeEventListener(Rh,f),c=null}},createHref(y){return e(a,y)},createURL:x,encodeLocation(y){let v=x(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return s.go(y)}};return g}var Dh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dh||(Dh={}));function $y(t,e,r){return r===void 0&&(r="/"),Hy(t,e,r,!1)}function Hy(t,e,r,n){let a=typeof e=="string"?Hi(e):e,i=Wf(a.pathname||"/",r);if(i==null)return null;let s=Tx(t);Wy(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=rw(i);o=ew(s[c],u,n)}return o}function Tx(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=oa([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tx(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Qy(u,i.index),routesMeta:d})};return t.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of Ox(i.path))a(i,s,c)}),e}function Ox(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=Ox(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Wy(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Jy(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Gy=/^:[\w-]+$/,Xy=3,Zy=2,Yy=1,Ky=10,qy=-2,Mh=t=>t==="*";function Qy(t,e){let r=t.split("/"),n=r.length;return r.some(Mh)&&(n+=qy),e&&(n+=Zy),r.filter(a=>!Mh(a)).reduce((a,i)=>a+(Gy.test(i)?Xy:i===""?Yy:Ky),n)}function Jy(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function ew(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Lh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Lh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:oa([i,f.pathname]),pathnameBase:sw(oa([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=oa([i,f.pathnameBase]))}return s}function Lh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tw(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=o[f];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function tw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),kx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function rw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function nw(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Hi(t):t;return{pathname:r?r.startsWith("/")?r:aw(r,e):e,search:ow(n),hash:lw(a)}}function aw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function tu(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Gf(t,e){let r=iw(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Xf(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Hi(t):(a=Js({},t),at(!a.pathname||!a.pathname.includes("?"),tu("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),tu("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),tu("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=nw(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const oa=t=>t.join("/").replace(/\/\/+/g,"/"),sw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rx=["post","put","patch","delete"];new Set(Rx);const uw=["get",...Rx];new Set(uw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eo.apply(this,arguments)}const Zf=E.createContext(null),dw=E.createContext(null),ba=E.createContext(null),dc=E.createContext(null),kn=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Px=E.createContext(null);function fw(t,e){let{relative:r}=e===void 0?{}:e;Wi()||at(!1);let{basename:n,navigator:a}=E.useContext(ba),{hash:i,pathname:s,search:o}=Mx(t,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:oa([n,s])),a.createHref({pathname:c,search:o,hash:i})}function Wi(){return E.useContext(dc)!=null}function Tn(){return Wi()||at(!1),E.useContext(dc).location}function Dx(t){E.useContext(ba).static||E.useLayoutEffect(t)}function yr(){let{isDataRoute:t}=E.useContext(kn);return t?Cw():hw()}function hw(){Wi()||at(!1);let t=E.useContext(Zf),{basename:e,future:r,navigator:n}=E.useContext(ba),{matches:a}=E.useContext(kn),{pathname:i}=Tn(),s=JSON.stringify(Gf(a,r.v7_relativeSplatPath)),o=E.useRef(!1);return Dx(()=>{o.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Xf(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:oa([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}function _a(){let{matches:t}=E.useContext(kn),e=t[t.length-1];return e?e.params:{}}function Mx(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=E.useContext(ba),{matches:a}=E.useContext(kn),{pathname:i}=Tn(),s=JSON.stringify(Gf(a,n.v7_relativeSplatPath));return E.useMemo(()=>Xf(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function pw(t,e){return mw(t,e)}function mw(t,e,r,n){Wi()||at(!1);let{navigator:a}=E.useContext(ba),{matches:i}=E.useContext(kn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Tn(),d;if(e){var f;let y=typeof e=="string"?Hi(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||at(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=$y(t,{pathname:p}),g=ww(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:oa([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:oa([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&g?E.createElement(dc.Provider,{value:{location:eo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yn.Pop}},g):g}function xw(){let t=Ew(),e=cw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:a},r):null,i)}const gw=E.createElement(xw,null);class vw extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(kn.Provider,{value:this.props.routeContext},E.createElement(Px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yw(t){let{routeContext:e,match:r,children:n}=t,a=E.useContext(Zf);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(kn.Provider,{value:e},n)}function ww(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||at(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,x=!1,g=null,y=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||gw,c&&(u<0&&h===0?(Sw("route-fallback",!1),x=!0,y=null):u===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),m=()=>{let w;return p?w=g:x?w=y:f.route.Component?w=E.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,E.createElement(yw,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?E.createElement(vw,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Lx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lx||{}),Ll=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ll||{});function bw(t){let e=E.useContext(Zf);return e||at(!1),e}function _w(t){let e=E.useContext(dw);return e||at(!1),e}function Nw(t){let e=E.useContext(kn);return e||at(!1),e}function Fx(t){let e=Nw(),r=e.matches[e.matches.length-1];return r.route.id||at(!1),r.route.id}function Ew(){var t;let e=E.useContext(Px),r=_w(Ll.UseRouteError),n=Fx(Ll.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Cw(){let{router:t}=bw(Lx.UseNavigateStable),e=Fx(Ll.UseNavigateStable),r=E.useRef(!1);return Dx(()=>{r.current=!0}),E.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,eo({fromRouteId:e},i)))},[t,e])}const Fh={};function Sw(t,e,r){!e&&!Fh[t]&&(Fh[t]=!0)}function Aw(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function la(t){let{to:e,replace:r,state:n,relative:a}=t;Wi()||at(!1);let{future:i,static:s}=E.useContext(ba),{matches:o}=E.useContext(kn),{pathname:c}=Tn(),u=yr(),d=Xf(e,Gf(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return E.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function rt(t){at(!1)}function jw(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Yn.Pop,navigator:i,static:s=!1,future:o}=t;Wi()&&at(!1);let c=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:i,static:s,future:eo({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=Hi(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=n,g=E.useMemo(()=>{let y=Wf(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:x},navigationType:a}},[c,d,f,h,p,x,a]);return g==null?null:E.createElement(ba.Provider,{value:u},E.createElement(dc.Provider,{children:r,value:g}))}function Iw(t){let{children:e,location:r}=t;return pw(ud(e),r)}new Promise(()=>{});function ud(t,e){e===void 0&&(e=[]);let r=[];return E.Children.forEach(t,(n,a)=>{if(!E.isValidElement(n))return;let i=[...e,a];if(n.type===E.Fragment){r.push.apply(r,ud(n.props.children,i));return}n.type!==rt&&at(!1),!n.props.index||!n.props.children||at(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=ud(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dd.apply(this,arguments)}function kw(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Tw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ow(t,e){return t.button===0&&(!e||e==="_self")&&!Tw(t)}function fd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Rw(t,e){let r=fd(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Pw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dw="6";try{window.__reactRouterVersion=Dw}catch{}const Mw="startTransition",Bh=jv[Mw];function Lw(t){let{basename:e,children:r,future:n,window:a}=t,i=E.useRef();i.current==null&&(i.current=Uy({window:a,v5Compat:!0}));let s=i.current,[o,c]=E.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=E.useCallback(f=>{u&&Bh?Bh(()=>c(f)):c(f)},[c,u]);return E.useLayoutEffect(()=>s.listen(d),[s,d]),E.useEffect(()=>Aw(n),[n]),E.createElement(jw,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const Fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=E.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=kw(e,Pw),{basename:p}=E.useContext(ba),x,g=!1;if(typeof u=="string"&&Bw.test(u)&&(x=u,Fw))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=Wf(b.pathname,p);b.origin===w.origin&&N!=null?u=N+b.search+b.hash:g=!0}catch{}let y=fw(u,{relative:a}),v=Uw(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function m(w){n&&n(w),w.defaultPrevented||v(w)}return E.createElement("a",dd({},h,{href:x||y,onClick:g||i?n:m,ref:r,target:c}))});var Uh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uh||(Uh={}));var zh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zh||(zh={}));function Uw(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=e===void 0?{}:e,c=yr(),u=Tn(),d=Mx(t,{relative:s});return E.useCallback(f=>{if(Ow(f,r)){f.preventDefault();let h=n!==void 0?n:Ml(u)===Ml(d);c(t,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,a,r,t,i,s,o])}function zw(t){let e=E.useRef(fd(t)),r=E.useRef(!1),n=Tn(),a=E.useMemo(()=>Rw(n.search,r.current?null:e.current),[n.search]),i=yr(),s=E.useCallback((o,c)=>{const u=fd(typeof o=="function"?o(a):o);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}let Vw={data:""},$w=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Vw,Hw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ww=/\/\*[^]*?\*\/|  +/g,Vh=/\n+/g,Wn=(t,e)=>{let r="",n="",a="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+s+";":n+=i[1]=="f"?Wn(s,i):i+"{"+Wn(s,i[1]=="k"?"":e)+"}":typeof s=="object"?n+=Wn(s,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Wn.p?Wn.p(i,s):i+":"+s+";")}return r+(e&&a?e+"{"+a+"}":a)+n},pn={},Bx=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Bx(t[r]);return e}return t},Gw=(t,e,r,n,a)=>{let i=Bx(t),s=pn[i]||(pn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!pn[s]){let c=i!==t?t:(u=>{let d,f,h=[{}];for(;d=Hw.exec(u.replace(Ww,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Vh," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Vh," ").trim();return h[0]})(t);pn[s]=Wn(a?{["@keyframes "+s]:c}:c,r?"":"."+s)}let o=r&&pn.g?pn.g:null;return r&&(pn.g=pn[s]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(pn[s],e,n,o),s},Xw=(t,e,r)=>t.reduce((n,a,i)=>{let s=e[i];if(s&&s.call){let o=s(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=c?"."+c:o&&typeof o=="object"?o.props?"":Wn(o,""):o===!1?"":o}return n+a+(s??"")},"");function fc(t){let e=this||{},r=t.call?t(e.p):t;return Gw(r.unshift?r.raw?Xw(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,$w(e.target),e.g,e.o,e.k)}let Ux,hd,pd;fc.bind({g:1});let An=fc.bind({k:1});function Zw(t,e,r,n){Wn.p=e,Ux=t,hd=r,pd=n}function Na(t,e){let r=this||{};return function(){let n=arguments;function a(i,s){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:hd&&hd()},o),r.o=/ *go\d+/.test(c),o.className=fc.apply(r,n)+(c?" "+c:""),e&&(o.ref=s);let u=t;return t[0]&&(u=o.as||t,delete o.as),pd&&u[0]&&pd(o),Ux(u,o)}return e?e(a):a}}var Yw=t=>typeof t=="function",Fl=(t,e)=>Yw(t)?t(e):t,Kw=(()=>{let t=0;return()=>(++t).toString()})(),zx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),qw=20,Yf="default",Vx=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Vx(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(s=>s.id===a||a===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},sl=[],$x={toasts:[],pausedAt:void 0,settings:{toastLimit:qw}},on={},Hx=(t,e=Yf)=>{on[e]=Vx(on[e]||$x,t),sl.forEach(([r,n])=>{r===e&&n(on[e])})},Wx=t=>Object.keys(on).forEach(e=>Hx(t,e)),Qw=t=>Object.keys(on).find(e=>on[e].toasts.some(r=>r.id===t)),hc=(t=Yf)=>e=>{Hx(e,t)},Jw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},e3=(t={},e=Yf)=>{let[r,n]=E.useState(on[e]||$x),a=E.useRef(on[e]);E.useEffect(()=>(a.current!==on[e]&&n(on[e]),sl.push([e,n]),()=>{let s=sl.findIndex(([o])=>o===e);s>-1&&sl.splice(s,1)}),[e]);let i=r.toasts.map(s=>{var o,c,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((c=t[s.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Jw[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...r,toasts:i}},t3=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Kw()}),ho=t=>(e,r)=>{let n=t3(e,t,r);return hc(n.toasterId||Qw(n.id))({type:2,toast:n}),n.id},tt=(t,e)=>ho("blank")(t,e);tt.error=ho("error");tt.success=ho("success");tt.loading=ho("loading");tt.custom=ho("custom");tt.dismiss=(t,e)=>{let r={type:3,toastId:t};e?hc(e)(r):Wx(r)};tt.dismissAll=t=>tt.dismiss(void 0,t);tt.remove=(t,e)=>{let r={type:4,toastId:t};e?hc(e)(r):Wx(r)};tt.removeAll=t=>tt.remove(void 0,t);tt.promise=(t,e,r)=>{let n=tt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?Fl(e.success,a):void 0;return i?tt.success(i,{id:n,...r,...r==null?void 0:r.success}):tt.dismiss(n),a}).catch(a=>{let i=e.error?Fl(e.error,a):void 0;i?tt.error(i,{id:n,...r,...r==null?void 0:r.error}):tt.dismiss(n)}),t};var r3=1e3,n3=(t,e="default")=>{let{toasts:r,pausedAt:n}=e3(t,e),a=E.useRef(new Map).current,i=E.useCallback((f,h=r3)=>{if(a.has(f))return;let p=setTimeout(()=>{a.delete(f),s({type:4,toastId:f})},h);a.set(f,p)},[]);E.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let x=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(x<0){p.visible&&tt.dismiss(p.id);return}return setTimeout(()=>tt.dismiss(p.id,e),x)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,e]);let s=E.useCallback(hc(e),[e]),o=E.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=E.useCallback((f,h)=>{s({type:1,toast:{id:f,height:h}})},[s]),u=E.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),d=E.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:x=8,defaultPosition:g}=h||{},y=r.filter(w=>(w.position||g)===(f.position||g)&&w.height),v=y.findIndex(w=>w.id===f.id),m=y.filter((w,b)=>b<v&&w.visible).length;return y.filter(w=>w.visible).slice(...p?[m+1]:[0,m]).reduce((w,b)=>w+(b.height||0)+x,0)},[r]);return E.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},a3=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,i3=An`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s3=An`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,o3=Na("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${a3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${i3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${s3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,l3=An`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,c3=Na("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${l3} 1s linear infinite;
`,u3=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,d3=An`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,f3=Na("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${u3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${d3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,h3=Na("div")`
  position: absolute;
`,p3=Na("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,m3=An`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,x3=Na("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${m3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,g3=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?E.createElement(x3,null,e):e:r==="blank"?null:E.createElement(p3,null,E.createElement(c3,{...n}),r!=="loading"&&E.createElement(h3,null,r==="error"?E.createElement(o3,{...n}):E.createElement(f3,{...n})))},v3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,y3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,w3="0%{opacity:0;} 100%{opacity:1;}",b3="0%{opacity:1;} 100%{opacity:0;}",_3=Na("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,N3=Na("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,E3=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=zx()?[w3,b3]:[v3(r),y3(r)];return{animation:e?`${An(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${An(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C3=E.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?E3(t.position||e||"top-center",t.visible):{opacity:0},i=E.createElement(g3,{toast:t}),s=E.createElement(N3,{...t.ariaProps},Fl(t.message,t));return E.createElement(_3,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:s}):E.createElement(E.Fragment,null,i,s))});Zw(E.createElement);var S3=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let i=E.useCallback(s=>{if(s){let o=()=>{let c=s.getBoundingClientRect().height;n(t,c)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return E.createElement("div",{ref:i,className:e,style:r},a)},A3=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},j3=fc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Do=16,I3=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,toasterId:i,containerStyle:s,containerClassName:o})=>{let{toasts:c,handlers:u}=n3(r,i);return E.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Do,left:Do,right:Do,bottom:Do,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),p=A3(f,h);return E.createElement(S3,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?j3:"",style:p},d.type==="custom"?Fl(d.message,d):a?a(d):E.createElement(C3,{toast:d,position:f}))}))},vn=tt,k3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),se=(t,e)=>{const r=E.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:o,...c},u)=>E.createElement("svg",{ref:u,...k3,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:`lucide lucide-${T3(t)}`,...c},[...e.map(([d,f])=>E.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r},pa=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),O3=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Kf=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),$h=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Kn=se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),md=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),R3=se("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),P3=se("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Zt=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Hh=se("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),Wh=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ya=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ks=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),D3=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Gx=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),M3=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),L3=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ti=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ts=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Gh=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),pc=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Bl=se("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),xd=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ht=se("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),F3=se("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),ru=se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),gd=se("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Xh=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),qn=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Qr=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),B3=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),U3=se("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Zh=se("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),z3=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ms=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),to=se("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),V3=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),$3=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),mc=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ro=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qf=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),nu=se("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Xx=se("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Oi=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),H3=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),W3=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),vd=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),G3=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),yd=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dr=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),no=se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Wa=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yh=t=>{let e;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(x=>x(e,p))}},a=()=>e,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{r.clear()}},u=e=t(n,a,c);return c},X3=t=>t?Yh(t):Yh;var Zx={exports:{}},Yx={},Kx={exports:{}},qx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=E;function Z3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Y3=typeof Object.is=="function"?Object.is:Z3,K3=Ri.useState,q3=Ri.useEffect,Q3=Ri.useLayoutEffect,J3=Ri.useDebugValue;function e4(t,e){var r=e(),n=K3({inst:{value:r,getSnapshot:e}}),a=n[0].inst,i=n[1];return Q3(function(){a.value=r,a.getSnapshot=e,au(a)&&i({inst:a})},[t,r,e]),q3(function(){return au(a)&&i({inst:a}),t(function(){au(a)&&i({inst:a})})},[t]),J3(r),r}function au(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Y3(t,r)}catch{return!0}}function t4(t,e){return e()}var r4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t4:e4;qx.useSyncExternalStore=Ri.useSyncExternalStore!==void 0?Ri.useSyncExternalStore:r4;Kx.exports=qx;var n4=Kx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=E,a4=n4;function i4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var s4=typeof Object.is=="function"?Object.is:i4,o4=a4.useSyncExternalStore,l4=xc.useRef,c4=xc.useEffect,u4=xc.useMemo,d4=xc.useDebugValue;Yx.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var i=l4(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=u4(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var x=s.value;if(a(x,p))return f=x}return f=p}if(x=f,s4(d,p))return x;var g=n(p);return a!==void 0&&a(x,g)?(d=p,x):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,a]);var o=o4(t,i[0],i[1]);return c4(function(){s.hasValue=!0,s.value=o},[o]),d4(o),o};Zx.exports=Yx;var f4=Zx.exports;const h4=Yd(f4),{useDebugValue:p4}=he,{useSyncExternalStoreWithSelector:m4}=h4;const x4=t=>t;function g4(t,e=x4,r){const n=m4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return p4(n),n}const Kh=t=>{const e=typeof t=="function"?X3(t):t,r=(n,a)=>g4(e,n,a);return Object.assign(r,e),r},Qf=t=>t?Kh(t):Kh;function v4(t,e){let r;try{r=t()}catch{return}return{getItem:a=>{var i;const s=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,e==null?void 0:e.replacer)),removeItem:a=>r.removeItem(a)}}const ao=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return ao(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return ao(n)(r)}}}},y4=(t,e)=>(r,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},s=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},n,a);const d=ao(i.serialize),f=()=>{const y=i.partialize({...n()});let v;const m=d({state:y,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{v=w});if(v)throw v;return m},h=a.setState;a.setState=(y,v)=>{h(y,v),f()};const p=t((...y)=>{r(...y),f()},n,a);let x;const g=()=>{var y;if(!u)return;s=!1,o.forEach(m=>m(n()));const v=((y=i.onRehydrateStorage)==null?void 0:y.call(i,n()))||void 0;return ao(u.getItem.bind(u))(i.name).then(m=>{if(m)return i.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return i.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var w;return x=i.merge(m,(w=n())!=null?w:p),r(x,!0),f()}).then(()=>{v==null||v(x,void 0),s=!0,c.forEach(m=>m(x))}).catch(m=>{v==null||v(void 0,m)})};return a.persist={setOptions:y=>{i={...i,...y},y.getStorage&&(u=y.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},g(),x||p},w4=(t,e)=>(r,n,a)=>{let i={storage:v4(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},s=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const d=()=>{const g=i.partialize({...n()});return u.setItem(i.name,{state:g,version:i.version})},f=a.setState;a.setState=(g,y)=>{f(g,y),d()};const h=t((...g)=>{r(...g),d()},n,a);a.getInitialState=()=>h;let p;const x=()=>{var g,y;if(!u)return;s=!1,o.forEach(m=>{var w;return m((w=n())!=null?w:h)});const v=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(g=n())!=null?g:h))||void 0;return ao(u.getItem.bind(u))(i.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return[!0,i.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var w;const[b,N]=m;if(p=i.merge(N,(w=n())!=null?w:h),r(p,!0),b)return d()}).then(()=>{v==null||v(p,void 0),p=n(),s=!0,c.forEach(m=>m(p))}).catch(m=>{v==null||v(void 0,m)})};return a.persist={setOptions:g=>{i={...i,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},i.skipHydration||x(),p||h},b4=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?y4(t,e):w4(t,e),_4=b4,N4=t=>{if(!t||typeof t!="string")return!1;const e=t.split(".");if(e.length!==3)return!1;try{return e.forEach(r=>{if(!r)throw new Error("Empty part");atob(r.replace(/-/g,"+").replace(/_/g,"/"))}),!0}catch{return!1}},mr=Qf()(_4((t,e)=>({user:null,accessToken:null,isAuthenticated:!1,isLoading:!1,error:null,setAuth:(r,n)=>{t({user:r,accessToken:n,isAuthenticated:!0,error:null})},clearAuth:()=>{t({user:null,accessToken:null,isAuthenticated:!1,error:null})},setLoading:r=>{t({isLoading:r})},setError:r=>{t({error:r})},updateUser:r=>{const n=e().user;n&&t({user:{...n,...r}})},validateToken:()=>{const{accessToken:r}=e();return!r||!N4(r)?(e().clearAuth(),!1):!0}}),{name:"auth-store",partialize:t=>({user:t.user,accessToken:t.accessToken,isAuthenticated:t.isAuthenticated})})),E4="http://localhost:3001/api";class mi extends Error{constructor(e,r,n){super(n||r.error||"An error occurred"),this.status=e,this.response=r,this.name="ApiError"}}class C4{constructor(e=E4){N0(this,"baseURL");this.baseURL=e}async request(e,r={}){const n=`${this.baseURL}${e}`,a={headers:{"Content-Type":"application/json",...r.headers},credentials:"include",...r},i=this.getStoredToken();i?(a.headers.Authorization=`Bearer ${i}`,console.log(" Request with token for:",e)):console.log(" No token found for request:",e);try{console.log(" Making request to:",n),console.log(" Headers:",a.headers);const s=await fetch(n,a),o=await s.json();if(!s.ok)throw console.log(" Request failed:",s.status,o),s.status===401&&o.code==="TOKEN_EXPIRED"?(console.log(" Token expired, clearing auth and redirecting to login"),this.handleTokenExpiration(),new mi(s.status,{...o,shouldRedirectToLogin:!0})):new mi(s.status,o);return console.log(" Request successful:",o),o}catch(s){throw s instanceof mi?s:new mi(0,{success:!1,error:"Network error or server unavailable"})}}getStoredToken(){var e;try{const r=mr.getState();if(r.accessToken)return console.log("Retrieved token from store state: Token exists"),r.accessToken;const n=localStorage.getItem("auth-store");if(n){const a=JSON.parse(n),i=((e=a.state)==null?void 0:e.accessToken)||a.accessToken||null;return console.log("Retrieved token from localStorage:",i?"Token exists":"No token found"),i}}catch(r){console.error("Error retrieving token:",r)}return console.log("No token found in store or localStorage"),null}handleTokenExpiration(){console.log(" Handling token expiration");const e=mr.getState();e.clearAuth(),e.setError("Your session has expired. Please log in again."),setTimeout(()=>{window.location.href="/login"},1e3)}async get(e){return this.request(e,{method:"GET"})}async post(e,r){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(e,r){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}}const je=new C4;class ts{static async login(e){return je.post("/auth/login",e)}static async register(e){return je.post("/auth/register",e)}static async logout(){return je.post("/auth/logout")}static async refreshToken(){return je.post("/auth/refresh")}static async getProfile(){return je.get("/auth/profile")}static isAuthenticated(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.isAuthenticated)||!1}catch{}return!1}static getCurrentUser(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.user)||null}catch{}return null}static getAccessToken(){var e;try{const r=localStorage.getItem("auth-store");if(r)return((e=JSON.parse(r).state)==null?void 0:e.accessToken)||null}catch{}return null}}const sr=()=>{const t=yr(),{user:e,isAuthenticated:r,isLoading:n,error:a,setAuth:i,clearAuth:s,setLoading:o,setError:c,updateUser:u}=mr(),d=E.useCallback(async g=>{try{o(!0),c(null);const y=await ts.login(g);if(y.success&&y.data)return i(y.data.user,y.data.accessToken),vn.success("Login successful!"),t("/dashboard"),!0;throw new Error(y.error||"Login failed")}catch(y){let v="An unexpected error occurred";if(y instanceof mi)if(y.status===401)v="Invalid email or password. Please check your credentials and try again.";else if(y.status===403){const m=y.response;m!=null&&m.requiresVerification?m!=null&&m.verificationEmailSent?(v="Please verify your email address. We've sent a new verification email to your inbox.",vn.success("New verification email sent! Please check your inbox.")):v="Please verify your email address before logging in. Check your inbox for verification instructions.":v="Your account has been disabled. Please contact support for assistance."}else y.status===429?v="Too many login attempts. Please wait a few minutes and try again.":y.status===500?v="Server error occurred. Please try again in a few moments.":v=y.response.error||"Login failed. Please check your credentials.";else y instanceof Error&&(y.message.includes("network")||y.message.includes("fetch")?v="Unable to connect to the server. Please check your internet connection.":v=y.message||"Login failed. Please try again.");return c(v),vn.error(v),!1}finally{o(!1)}},[i,o,c,t]),f=E.useCallback(async g=>{var y,v,m,w,b,N;try{o(!0),c(null);const A=await ts.register(g);if(A.success){if((y=A.data)!=null&&y.requiresVerification)return vn.success("Account created! Please check your email for verification instructions."),t("/login"),!0;if((v=A.data)!=null&&v.user&&((m=A.data)!=null&&m.accessToken))return i(A.data.user,A.data.accessToken),vn.success("Account created successfully!"),t("/dashboard"),!0}else throw new Error(A.error||"Registration failed")}catch(A){let C="An unexpected error occurred";return A instanceof mi?A.status===409?C="An account with this email already exists. Please try logging in instead.":A.status===400?(w=A.response.error)!=null&&w.includes("email")?C="Please provide a valid email address.":(b=A.response.error)!=null&&b.includes("password")?C="Password must be at least 8 characters long.":(N=A.response.error)!=null&&N.includes("name")?C="Please provide your full name.":C=A.response.error||"Please check your information and try again.":A.status===500?C="Server error occurred. Please try again in a few moments.":C=A.response.error||"Registration failed. Please try again.":A instanceof Error&&(A.message.includes("network")||A.message.includes("fetch")?C="Unable to connect to the server. Please check your internet connection.":C=A.message||"Registration failed. Please try again."),c(C),vn.error(C),!1}finally{o(!1)}},[i,o,c,t]),h=E.useCallback(async()=>{try{o(!0),await ts.logout(),s(),vn.success("Logged out successfully"),t("/")}catch{s(),t("/")}finally{o(!1)}},[s,o,t]),p=E.useCallback(async()=>{try{const g=await ts.refreshToken();if(g.success&&g.data){const y=mr.getState().user;return y&&i(y,g.data.accessToken),!0}else throw new Error("Token refresh failed")}catch{return s(),t("/login"),!1}},[i,s,t]),x=E.useCallback(async()=>{try{o(!0);const g=await ts.getProfile();g.success&&g.data?u(g.data.user):s()}catch{await p()||s()}finally{o(!1)}},[u,s,p,o]);return{user:e,isAuthenticated:r,isLoading:n,error:a,login:d,register:f,logout:h,refreshToken:p,checkAuthStatus:x,updateUser:u,isOrganizer:(e==null?void 0:e.role)==="organizer"||(e==null?void 0:e.role)==="admin",isAdmin:(e==null?void 0:e.role)==="admin",clearError:()=>c(null)}},S4=({children:t})=>{const e=Tn(),[r,n]=he.useState(!1),{user:a,isAuthenticated:i,logout:s}=sr(),o=[{name:"Events",href:"/events",icon:Dr}],c=[{name:"Dashboard",href:"/dashboard",icon:P3}],u=(a==null?void 0:a.role)==="participant"?[{name:"My Registrations",href:"/my-registrations",icon:vd}]:[],d=(a==null?void 0:a.role)==="organizer"||(a==null?void 0:a.role)==="admin"?[{name:"QR Scanner",href:"/scanner",icon:to},{name:"Certificates",href:"/certificates",icon:Kn}]:[],f=[...c,...u,...d],h=i?[...o,...f]:o,p=["/login","/register"].includes(e.pathname),x=e.pathname==="/";return p?l.jsx("div",{className:"min-h-screen bg-gray-50",children:t}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("nav",{className:"bg-white shadow-sm border-b",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",children:l.jsx("p",{className:"text-2xl font-bold text-primary-600",children:"eventbase"})}),l.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:h.map(g=>{const y=g.icon,v=e.pathname.startsWith(g.href);return o.includes(g)||i&&!x&&f.includes(g)?l.jsxs(oe,{to:g.href,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${v?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[l.jsx(y,{className:"w-4 h-4 mr-2"}),g.name]},g.name):null})})]}),l.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:x||!i?l.jsxs("div",{className:"space-x-4",children:[l.jsx(oe,{to:"/login",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Sign in"}),l.jsx(oe,{to:"/register",className:"btn btn-primary",children:"Get Started"})]}):l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oe,{to:"/events/create",className:"btn btn-primary text-sm px-4 py-2",children:"Create Event"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[l.jsx(yd,{className:"w-4 h-4"}),l.jsx("span",{children:a==null?void 0:a.name}),l.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:a==null?void 0:a.role})]}),l.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 text-red-600",title:"Sign out",children:l.jsx(Xh,{className:"w-5 h-5"})})]})}),l.jsx("div",{className:"sm:hidden flex items-center",children:l.jsx("button",{onClick:()=>n(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:r?l.jsx(Wa,{className:"w-6 h-6"}):l.jsx(B3,{className:"w-6 h-6"})})})]})}),r&&l.jsxs("div",{className:"sm:hidden",children:[l.jsx("div",{className:"pt-2 pb-3 space-y-1",children:h.map(g=>{const y=g.icon,v=e.pathname.startsWith(g.href);return o.includes(g)||i&&!x&&f.includes(g)?l.jsxs(oe,{to:g.href,className:`flex items-center px-3 py-2 border-l-4 text-base font-medium ${v?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:()=>n(!1),children:[l.jsx(y,{className:"w-5 h-5 mr-3"}),g.name]},g.name):null})}),x?l.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center px-4 space-y-2",children:[l.jsx(oe,{to:"/login",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900",onClick:()=>n(!1),children:"Sign in"}),l.jsx(oe,{to:"/register",className:"block btn-primary w-full text-center",onClick:()=>n(!1),children:"Get Started"})]})}):l.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[l.jsx("div",{className:"px-4 mb-3",children:l.jsx(oe,{to:"/events/create",className:"block btn btn-primary w-full text-center",onClick:()=>n(!1),children:"Create Event"})}),l.jsxs("div",{className:"flex items-center px-4 space-x-3",children:[l.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:l.jsx(yd,{className:"w-5 h-5"})}),l.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 text-red-600",children:l.jsx(Xh,{className:"w-5 h-5"})})]})]})]})]}),l.jsx("main",{className:"flex-1",children:t}),l.jsx("footer",{className:"bg-white border-t",children:l.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"text-center text-gray-500",children:l.jsxs("p",{children:[" ",new Date().getFullYear()," eventbase. All rights reserved."]})})})})]})},lr=({children:t,requireOrganizer:e=!1,requireAdmin:r=!1})=>{const{isAuthenticated:n,user:a,isLoading:i}=sr(),s=Tn();return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?r&&(a==null?void 0:a.role)!=="admin"?l.jsx(la,{to:"/dashboard",replace:!0}):e&&!["organizer","admin"].includes((a==null?void 0:a.role)||"")?l.jsx(la,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:t}):l.jsx(la,{to:"/login",state:{from:s},replace:!0})},A4=()=>{["token","accessToken","authToken"].forEach(e=>{const r=localStorage.getItem(e);r&&(!r.includes(".")||r.split(".").length!==3)&&(console.log(`Removing invalid token from localStorage: ${e}`),localStorage.removeItem(e))})};typeof window<"u"&&A4();const j4=()=>{const t=[{icon:Zt,title:"Easy Event Creation",description:"Create and manage events with our intuitive event creation wizard."},{icon:Dr,title:"Flexible Registration",description:"Build custom registration forms with drag-and-drop form builder."},{icon:to,title:"QR Code Attendance",description:"Track attendance with QR code scanning for seamless check-ins."},{icon:Kn,title:"Digital Certificates",description:"Generate and distribute certificates automatically to attendees."}],e=["Create unlimited events","Custom registration forms","Real-time attendance tracking","Automated certificate generation","Payment integration","Analytics dashboard"];return l.jsxs("div",{children:[l.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Manage Events Like a Pro"}),l.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Complete event management platform with registration, attendance tracking, and certificate generation - all in one place."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(oe,{to:"/events",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:["Browse Events",l.jsx($h,{className:"w-5 h-5 ml-2"})]}),l.jsx(oe,{to:"/register",className:"border border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:"Get Started Free"})]})]})})}),l.jsx("section",{className:"py-20 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage events"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From creation to certification, we've got every aspect of event management covered."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,n)=>{const a=r.icon;return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(a,{className:"w-8 h-8 text-primary-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600",children:r.description})]},n)})})]})}),l.jsx("section",{className:"py-20 bg-gray-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Why choose eventbase?"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Our platform is designed to streamline every aspect of event management, from initial planning to post-event certificate distribution."}),l.jsx("div",{className:"space-y-4",children:e.map((r,n)=>l.jsxs("div",{className:"flex items-start",children:[l.jsx(Ya,{className:"w-6 h-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-gray-700",children:r})]},n))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to get started?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Join thousands of event organizers who trust eventbase to manage their events."}),l.jsx(oe,{to:"/register",className:"btn btn-primary w-full text-center block",children:"Start Your Free Trial"})]})]})})}),l.jsx("section",{className:"bg-primary-600 text-white py-20",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to revolutionize your event management?"}),l.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Start managing your events professionally with our comprehensive platform."}),l.jsxs(oe,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center",children:["Get Started Now",l.jsx($h,{className:"w-5 h-5 ml-2"})]})]})})]})};var po=t=>t.type==="checkbox",Pa=t=>t instanceof Date,Gt=t=>t==null;const Qx=t=>typeof t=="object";var lt=t=>!Gt(t)&&!Array.isArray(t)&&Qx(t)&&!Pa(t),I4=t=>lt(t)&&t.target?po(t.target)?t.target.checked:t.target.value:t,k4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,T4=(t,e)=>t.has(k4(e)),O4=t=>{const e=t.constructor&&t.constructor.prototype;return lt(e)&&e.hasOwnProperty("isPrototypeOf")},Jf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Jf&&(t instanceof Blob||n))&&(r||lt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!O4(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=wt(t[a]));else return t;return e}var gc=t=>/^\w*$/.test(t),st=t=>t===void 0,e0=t=>Array.isArray(t)?t.filter(Boolean):[],t0=t=>e0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),q=(t,e,r)=>{if(!e||!lt(t))return r;const n=(gc(e)?[e]:t0(e)).reduce((a,i)=>Gt(a)?a:a[i],t);return st(n)||n===t?st(t[e])?r:t[e]:n},nn=t=>typeof t=="boolean",Me=(t,e,r)=>{let n=-1;const a=gc(e)?[e]:t0(e),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==s){const u=t[o];c=lt(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const qh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},R4=he.createContext(null);R4.displayName="HookFormContext";var P4=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const s=i;return e._proxyFormState[s]!==Wr.all&&(e._proxyFormState[s]=!n||Wr.all),r&&(r[s]=!0),t[s]}});return a};const D4=typeof window<"u"?he.useLayoutEffect:he.useEffect;var dr=t=>typeof t=="string",M4=(t,e,r,n,a)=>dr(t)?(n&&e.watch.add(t),q(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),q(r,i))):(n&&(e.watchAll=!0),r),wd=t=>Gt(t)||!Qx(t);function Gn(t,e,r=new WeakSet){if(wd(t)||wd(e))return t===e;if(Pa(t)&&Pa(e))return t.getTime()===e.getTime();const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const s=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Pa(s)&&Pa(o)||lt(s)&&lt(o)||Array.isArray(s)&&Array.isArray(o)?!Gn(s,o,r):s!==o)return!1}}return!0}var Jx=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},Os=t=>Array.isArray(t)?t:[t],Qh=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}};function eg(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const a=t[n],i=e[n];if(a&&lt(a)&&i){const s=eg(a,i);lt(s)&&(r[n]=s)}else t[n]&&(r[n]=i)}return r}var Qt=t=>lt(t)&&!Object.keys(t).length,r0=t=>t.type==="file",Gr=t=>typeof t=="function",Ul=t=>{if(!Jf)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tg=t=>t.type==="select-multiple",n0=t=>t.type==="radio",L4=t=>n0(t)||po(t),iu=t=>Ul(t)&&t.isConnected;function F4(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=st(t)?n++:t[e[n++]];return t}function B4(t){for(const e in t)if(t.hasOwnProperty(e)&&!st(t[e]))return!1;return!0}function it(t,e){const r=Array.isArray(e)?e:gc(e)?[e]:t0(e),n=r.length===1?t:F4(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(lt(n)&&Qt(n)||Array.isArray(n)&&B4(n))&&it(t,r.slice(0,-1)),t}var U4=t=>{for(const e in t)if(Gr(t[e]))return!0;return!1};function rg(t){return Array.isArray(t)||lt(t)&&!U4(t)}function bd(t,e={}){for(const r in t)rg(t[r])?(e[r]=Array.isArray(t[r])?[]:{},bd(t[r],e[r])):Gt(t[r])||(e[r]=!0);return e}function ei(t,e,r){r||(r=bd(e));for(const n in t)rg(t[n])?st(e)||wd(r[n])?r[n]=bd(t[n],Array.isArray(t[n])?[]:{}):ei(t[n],Gt(e)?{}:e[n],r[n]):r[n]=!Gn(t[n],e[n]);return r}const Jh={value:!1,isValid:!1},e1={value:!0,isValid:!0};var ng=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!st(t[0].attributes.value)?st(t[0].value)||t[0].value===""?e1:{value:t[0].value,isValid:!0}:e1:Jh}return Jh},ag=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>st(t)?t:e?t===""?NaN:t&&+t:r&&dr(t)?new Date(t):n?n(t):t;const t1={isValid:!1,value:null};var ig=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,t1):t1;function r1(t){const e=t.ref;return r0(e)?e.files:n0(e)?ig(t.refs).value:tg(e)?[...e.selectedOptions].map(({value:r})=>r):po(e)?ng(t.refs).value:ag(st(e.value)?t.ref.value:e.value,t)}var z4=(t,e,r,n)=>{const a={};for(const i of t){const s=q(e,i);s&&Me(a,i,s._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},zl=t=>t instanceof RegExp,rs=t=>st(t)?t:zl(t)?t.source:lt(t)?zl(t.value)?t.value.source:t.value:t,n1=t=>({isOnSubmit:!t||t===Wr.onSubmit,isOnBlur:t===Wr.onBlur,isOnChange:t===Wr.onChange,isOnAll:t===Wr.all,isOnTouch:t===Wr.onTouched});const a1="AsyncFunction";var V4=t=>!!t&&!!t.validate&&!!(Gr(t.validate)&&t.validate.constructor.name===a1||lt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===a1)),$4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),i1=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Rs=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=q(t,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],a)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Rs(o,e))break}else if(lt(o)&&Rs(o,e))break}}};function s1(t,e,r){const n=q(t,r);if(n||gc(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=q(e,i),o=q(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var H4=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return Qt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!n||Wr.all))},W4=(t,e,r)=>!t||!e||t===e||Os(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),G4=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,X4=(t,e)=>!e0(q(t,e)).length&&it(t,e),Z4=(t,e,r)=>{const n=Os(q(t,r));return Me(n,"root",e[r]),Me(t,r,n),t};function o1(t,e,r="validate"){if(dr(t)||Array.isArray(t)&&t.every(dr)||nn(t)&&!t)return{type:r,message:dr(t)?t:"",ref:e}}var Qa=t=>lt(t)&&!zl(t)?t:{value:t,message:""},l1=async(t,e,r,n,a,i)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:x,name:g,valueAsNumber:y,mount:v}=t._f,m=q(r,g);if(!v||e.has(g))return{};const w=o?o[0]:s,b=I=>{a&&w.reportValidity&&(w.setCustomValidity(nn(I)?"":I||""),w.reportValidity())},N={},A=n0(s),C=po(s),S=A||C,T=(y||r0(s))&&st(s.value)&&st(m)||Ul(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,k=Jx.bind(null,g,n,N),D=(I,L,F,$=mn.maxLength,K=mn.minLength)=>{const le=I?L:F;N[g]={type:I?$:K,message:le,ref:s,...k(I?$:K,le)}};if(i?!Array.isArray(m)||!m.length:c&&(!S&&(T||Gt(m))||nn(m)&&!m||C&&!ng(o).isValid||A&&!ig(o).isValid)){const{value:I,message:L}=dr(c)?{value:!!c,message:c}:Qa(c);if(I&&(N[g]={type:mn.required,message:L,ref:w,...k(mn.required,L)},!n))return b(L),N}if(!T&&(!Gt(f)||!Gt(h))){let I,L;const F=Qa(h),$=Qa(f);if(!Gt(m)&&!isNaN(m)){const K=s.valueAsNumber||m&&+m;Gt(F.value)||(I=K>F.value),Gt($.value)||(L=K<$.value)}else{const K=s.valueAsDate||new Date(m),le=Q=>new Date(new Date().toDateString()+" "+Q),U=s.type=="time",te=s.type=="week";dr(F.value)&&m&&(I=U?le(m)>le(F.value):te?m>F.value:K>new Date(F.value)),dr($.value)&&m&&(L=U?le(m)<le($.value):te?m<$.value:K<new Date($.value))}if((I||L)&&(D(!!I,F.message,$.message,mn.max,mn.min),!n))return b(N[g].message),N}if((u||d)&&!T&&(dr(m)||i&&Array.isArray(m))){const I=Qa(u),L=Qa(d),F=!Gt(I.value)&&m.length>+I.value,$=!Gt(L.value)&&m.length<+L.value;if((F||$)&&(D(F,I.message,L.message),!n))return b(N[g].message),N}if(p&&!T&&dr(m)){const{value:I,message:L}=Qa(p);if(zl(I)&&!m.match(I)&&(N[g]={type:mn.pattern,message:L,ref:s,...k(mn.pattern,L)},!n))return b(L),N}if(x){if(Gr(x)){const I=await x(m,r),L=o1(I,w);if(L&&(N[g]={...L,...k(mn.validate,L.message)},!n))return b(L.message),N}else if(lt(x)){let I={};for(const L in x){if(!Qt(I)&&!n)break;const F=o1(await x[L](m,r),w,L);F&&(I={...F,...k(L,F.message)},b(F.message),n&&(N[g]=I))}if(!Qt(I)&&(N[g]={ref:w,...I},!n))return N}}return b(!0),N};const Y4={mode:Wr.onSubmit,reValidateMode:Wr.onChange,shouldFocusError:!0};function K4(t={}){let e={...Y4,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=lt(e.defaultValues)||lt(e.values)?wt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:wt(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Qh(),state:Qh()},p=e.criteriaMode===Wr.all,x=j=>R=>{clearTimeout(u),u=setTimeout(j,R)},g=async j=>{if(!e.disabled&&(d.isValid||f.isValid||j)){const R=e.resolver?Qt((await C()).errors):await T(n,!0);R!==r.isValid&&h.state.next({isValid:R})}},y=(j,R)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(o.mount)).forEach(M=>{M&&(R?Me(r.validatingFields,M,R):it(r.validatingFields,M))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Qt(r.validatingFields)}))},v=(j,R=[],M,Z,G=!0,H=!0)=>{if(Z&&M&&!e.disabled){if(s.action=!0,H&&Array.isArray(q(n,j))){const ne=M(q(n,j),Z.argA,Z.argB);G&&Me(n,j,ne)}if(H&&Array.isArray(q(r.errors,j))){const ne=M(q(r.errors,j),Z.argA,Z.argB);G&&Me(r.errors,j,ne),X4(r.errors,j)}if((d.touchedFields||f.touchedFields)&&H&&Array.isArray(q(r.touchedFields,j))){const ne=M(q(r.touchedFields,j),Z.argA,Z.argB);G&&Me(r.touchedFields,j,ne)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ei(a,i)),h.state.next({name:j,isDirty:D(j,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Me(i,j,R)},m=(j,R)=>{Me(r.errors,j,R),h.state.next({errors:r.errors})},w=j=>{r.errors=j,h.state.next({errors:r.errors,isValid:!1})},b=(j,R,M,Z)=>{const G=q(n,j);if(G){const H=q(i,j,st(M)?q(a,j):M);st(H)||Z&&Z.defaultChecked||R?Me(i,j,R?H:r1(G._f)):F(j,H),s.mount&&g()}},N=(j,R,M,Z,G)=>{let H=!1,ne=!1;const Ie={name:j};if(!e.disabled){if(!M||Z){(d.isDirty||f.isDirty)&&(ne=r.isDirty,r.isDirty=Ie.isDirty=D(),H=ne!==Ie.isDirty);const Le=Gn(q(a,j),R);ne=!!q(r.dirtyFields,j),Le?it(r.dirtyFields,j):Me(r.dirtyFields,j,!0),Ie.dirtyFields=r.dirtyFields,H=H||(d.dirtyFields||f.dirtyFields)&&ne!==!Le}if(M){const Le=q(r.touchedFields,j);Le||(Me(r.touchedFields,j,M),Ie.touchedFields=r.touchedFields,H=H||(d.touchedFields||f.touchedFields)&&Le!==M)}H&&G&&h.state.next(Ie)}return H?Ie:{}},A=(j,R,M,Z)=>{const G=q(r.errors,j),H=(d.isValid||f.isValid)&&nn(R)&&r.isValid!==R;if(e.delayError&&M?(c=x(()=>m(j,M)),c(e.delayError)):(clearTimeout(u),c=null,M?Me(r.errors,j,M):it(r.errors,j)),(M?!Gn(G,M):G)||!Qt(Z)||H){const ne={...Z,...H&&nn(R)?{isValid:R}:{},errors:r.errors,name:j};r={...r,...ne},h.state.next(ne)}},C=async j=>{y(j,!0);const R=await e.resolver(i,e.context,z4(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(j),R},S=async j=>{const{errors:R}=await C(j);if(j)for(const M of j){const Z=q(R,M);Z?Me(r.errors,M,Z):it(r.errors,M)}else r.errors=R;return R},T=async(j,R,M={valid:!0})=>{for(const Z in j){const G=j[Z];if(G){const{_f:H,...ne}=G;if(H){const Ie=o.array.has(H.name),Le=G._f&&V4(G._f);Le&&d.validatingFields&&y([H.name],!0);const Nr=await l1(G,o.disabled,i,p,e.shouldUseNativeValidation&&!R,Ie);if(Le&&d.validatingFields&&y([H.name]),Nr[H.name]&&(M.valid=!1,R))break;!R&&(q(Nr,H.name)?Ie?Z4(r.errors,Nr,H.name):Me(r.errors,H.name,Nr[H.name]):it(r.errors,H.name))}!Qt(ne)&&await T(ne,R,M)}}return M.valid},k=()=>{for(const j of o.unMount){const R=q(n,j);R&&(R._f.refs?R._f.refs.every(M=>!iu(M)):!iu(R._f.ref))&&en(j)}o.unMount=new Set},D=(j,R)=>!e.disabled&&(j&&R&&Me(i,j,R),!Gn(Q(),a)),I=(j,R,M)=>M4(j,o,{...s.mount?i:st(R)?a:dr(j)?{[j]:R}:R},M,R),L=j=>e0(q(s.mount?i:a,j,e.shouldUnregister?q(a,j,[]):[])),F=(j,R,M={})=>{const Z=q(n,j);let G=R;if(Z){const H=Z._f;H&&(!H.disabled&&Me(i,j,ag(R,H)),G=Ul(H.ref)&&Gt(R)?"":R,tg(H.ref)?[...H.ref.options].forEach(ne=>ne.selected=G.includes(ne.value)):H.refs?po(H.ref)?H.refs.forEach(ne=>{(!ne.defaultChecked||!ne.disabled)&&(Array.isArray(G)?ne.checked=!!G.find(Ie=>Ie===ne.value):ne.checked=G===ne.value||!!G)}):H.refs.forEach(ne=>ne.checked=ne.value===G):r0(H.ref)?H.ref.value="":(H.ref.value=G,H.ref.type||h.state.next({name:j,values:wt(i)})))}(M.shouldDirty||M.shouldTouch)&&N(j,G,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&te(j)},$=(j,R,M)=>{for(const Z in R){if(!R.hasOwnProperty(Z))return;const G=R[Z],H=j+"."+Z,ne=q(n,H);(o.array.has(j)||lt(G)||ne&&!ne._f)&&!Pa(G)?$(H,G,M):F(H,G,M)}},K=(j,R,M={})=>{const Z=q(n,j),G=o.array.has(j),H=wt(R);Me(i,j,H),G?(h.array.next({name:j,values:wt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&M.shouldDirty&&h.state.next({name:j,dirtyFields:ei(a,i),isDirty:D(j,H)})):Z&&!Z._f&&!Gt(H)?$(j,H,M):F(j,H,M),i1(j,o)&&h.state.next({...r,name:j}),h.state.next({name:s.mount?j:void 0,values:wt(i)})},le=async j=>{s.mount=!0;const R=j.target;let M=R.name,Z=!0;const G=q(n,M),H=Le=>{Z=Number.isNaN(Le)||Pa(Le)&&isNaN(Le.getTime())||Gn(Le,q(i,M,Le))},ne=n1(e.mode),Ie=n1(e.reValidateMode);if(G){let Le,Nr;const go=R.type?r1(G._f):I4(j),Rn=j.type===qh.BLUR||j.type===qh.FOCUS_OUT,ov=!$4(G._f)&&!e.resolver&&!q(r.errors,M)&&!G._f.deps||G4(Rn,q(r.touchedFields,M),r.isSubmitted,Ie,ne),Ac=i1(M,o,Rn);Me(i,M,go),Rn?(!R||!R.readOnly)&&(G._f.onBlur&&G._f.onBlur(j),c&&c(0)):G._f.onChange&&G._f.onChange(j);const jc=N(M,go,Rn),lv=!Qt(jc)||Ac;if(!Rn&&h.state.next({name:M,type:j.type,values:wt(i)}),ov)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Rn&&g():Rn||g()),lv&&h.state.next({name:M,...Ac?{}:jc});if(!Rn&&Ac&&h.state.next({...r}),e.resolver){const{errors:b0}=await C([M]);if(H(go),Z){const cv=s1(r.errors,n,M),_0=s1(b0,n,cv.name||M);Le=_0.error,M=_0.name,Nr=Qt(b0)}}else y([M],!0),Le=(await l1(G,o.disabled,i,p,e.shouldUseNativeValidation))[M],y([M]),H(go),Z&&(Le?Nr=!1:(d.isValid||f.isValid)&&(Nr=await T(n,!0)));Z&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&te(G._f.deps),A(M,Nr,Le,jc))}},U=(j,R)=>{if(q(r.errors,R)&&j.focus)return j.focus(),1},te=async(j,R={})=>{let M,Z;const G=Os(j);if(e.resolver){const H=await S(st(j)?j:G);M=Qt(H),Z=j?!G.some(ne=>q(H,ne)):M}else j?(Z=(await Promise.all(G.map(async H=>{const ne=q(n,H);return await T(ne&&ne._f?{[H]:ne}:ne)}))).every(Boolean),!(!Z&&!r.isValid)&&g()):Z=M=await T(n);return h.state.next({...!dr(j)||(d.isValid||f.isValid)&&M!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:M}:{},errors:r.errors}),R.shouldFocus&&!Z&&Rs(n,U,j?G:o.mount),Z},Q=(j,R)=>{let M={...s.mount?i:a};return R&&(M=eg(R.dirtyFields?r.dirtyFields:r.touchedFields,M)),st(j)?M:dr(j)?q(M,j):j.map(Z=>q(M,Z))},ce=(j,R)=>({invalid:!!q((R||r).errors,j),isDirty:!!q((R||r).dirtyFields,j),error:q((R||r).errors,j),isValidating:!!q(r.validatingFields,j),isTouched:!!q((R||r).touchedFields,j)}),De=j=>{j&&Os(j).forEach(R=>it(r.errors,R)),h.state.next({errors:j?r.errors:{}})},Xe=(j,R,M)=>{const Z=(q(n,j,{_f:{}})._f||{}).ref,G=q(r.errors,j)||{},{ref:H,message:ne,type:Ie,...Le}=G;Me(r.errors,j,{...Le,...R,ref:Z}),h.state.next({name:j,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&Z&&Z.focus&&Z.focus()},br=(j,R)=>Gr(j)?h.state.subscribe({next:M=>"values"in M&&j(I(void 0,R),M)}):I(j,R,!0),On=j=>h.state.subscribe({next:R=>{W4(j.name,R.name,j.exact)&&H4(R,j.formState||d,sv,j.reRenderRoot)&&j.callback({values:{...i},...r,...R,defaultValues:a})}}).unsubscribe,Lr=j=>(s.mount=!0,f={...f,...j.formState},On({...j,formState:f})),en=(j,R={})=>{for(const M of j?Os(j):o.mount)o.mount.delete(M),o.array.delete(M),R.keepValue||(it(n,M),it(i,M)),!R.keepError&&it(r.errors,M),!R.keepDirty&&it(r.dirtyFields,M),!R.keepTouched&&it(r.touchedFields,M),!R.keepIsValidating&&it(r.validatingFields,M),!e.shouldUnregister&&!R.keepDefaultValue&&it(a,M);h.state.next({values:wt(i)}),h.state.next({...r,...R.keepDirty?{isDirty:D()}:{}}),!R.keepIsValid&&g()},z=({disabled:j,name:R})=>{(nn(j)&&s.mount||j||o.disabled.has(R))&&(j?o.disabled.add(R):o.disabled.delete(R))},ue=(j,R={})=>{let M=q(n,j);const Z=nn(R.disabled)||nn(e.disabled);return Me(n,j,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:j}},name:j,mount:!0,...R}}),o.mount.add(j),M?z({disabled:nn(R.disabled)?R.disabled:e.disabled,name:j}):b(j,!0,R.value),{...Z?{disabled:R.disabled||e.disabled}:{},...e.progressive?{required:!!R.required,min:rs(R.min),max:rs(R.max),minLength:rs(R.minLength),maxLength:rs(R.maxLength),pattern:rs(R.pattern)}:{},name:j,onChange:le,onBlur:le,ref:G=>{if(G){ue(j,R),M=q(n,j);const H=st(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,ne=L4(H),Ie=M._f.refs||[];if(ne?Ie.find(Le=>Le===H):H===M._f.ref)return;Me(n,j,{_f:{...M._f,...ne?{refs:[...Ie.filter(iu),H,...Array.isArray(q(a,j))?[{}]:[]],ref:{type:H.type,name:j}}:{ref:H}}}),b(j,!1,void 0,H)}else M=q(n,j,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(T4(o.array,j)&&s.action)&&o.unMount.add(j)}}},We=()=>e.shouldFocusError&&Rs(n,U,o.mount),Re=j=>{nn(j)&&(h.state.next({disabled:j}),Rs(n,(R,M)=>{const Z=q(n,M);Z&&(R.disabled=Z._f.disabled||j,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(G=>{G.disabled=Z._f.disabled||j}))},0,!1))},_r=(j,R)=>async M=>{let Z;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let G=wt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:ne}=await C();r.errors=H,G=wt(ne)}else await T(n);if(o.disabled.size)for(const H of o.disabled)it(G,H);if(it(r.errors,"root"),Qt(r.errors)){h.state.next({errors:{}});try{await j(G,M)}catch(H){Z=H}}else R&&await R({...r.errors},M),We(),setTimeout(We);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qt(r.errors)&&!Z,submitCount:r.submitCount+1,errors:r.errors}),Z)throw Z},av=(j,R={})=>{q(n,j)&&(st(R.defaultValue)?K(j,wt(q(a,j))):(K(j,R.defaultValue),Me(a,j,wt(R.defaultValue))),R.keepTouched||it(r.touchedFields,j),R.keepDirty||(it(r.dirtyFields,j),r.isDirty=R.defaultValue?D(j,wt(q(a,j))):D()),R.keepError||(it(r.errors,j),d.isValid&&g()),h.state.next({...r}))},v0=(j,R={})=>{const M=j?wt(j):a,Z=wt(M),G=Qt(j),H=G?a:Z;if(R.keepDefaultValues||(a=M),!R.keepValues){if(R.keepDirtyValues){const ne=new Set([...o.mount,...Object.keys(ei(a,i))]);for(const Ie of Array.from(ne))q(r.dirtyFields,Ie)?Me(H,Ie,q(i,Ie)):K(Ie,q(H,Ie))}else{if(Jf&&st(j))for(const ne of o.mount){const Ie=q(n,ne);if(Ie&&Ie._f){const Le=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Ul(Le)){const Nr=Le.closest("form");if(Nr){Nr.reset();break}}}}if(R.keepFieldsRef)for(const ne of o.mount)K(ne,q(H,ne));else n={}}i=e.shouldUnregister?R.keepDefaultValues?wt(a):{}:wt(H),h.array.next({values:{...H}}),h.state.next({values:{...H}})}o={mount:R.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,s.watch=!!e.shouldUnregister,h.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:G?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!Gn(j,a)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:G?{}:R.keepDirtyValues?R.keepDefaultValues&&i?ei(a,i):r.dirtyFields:R.keepDefaultValues&&j?ei(a,j):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},y0=(j,R)=>v0(Gr(j)?j(i):j,R),iv=(j,R={})=>{const M=q(n,j),Z=M&&M._f;if(Z){const G=Z.refs?Z.refs[0]:Z.ref;G.focus&&(G.focus(),R.shouldSelect&&Gr(G.select)&&G.select())}},sv=j=>{r={...r,...j}},w0={control:{register:ue,unregister:en,getFieldState:ce,handleSubmit:_r,setError:Xe,_subscribe:On,_runSchema:C,_focusError:We,_getWatch:I,_getDirty:D,_setValid:g,_setFieldArray:v,_setDisabledField:z,_setErrors:w,_getFieldArray:L,_reset:v0,_resetDefaultValues:()=>Gr(e.defaultValues)&&e.defaultValues().then(j=>{y0(j,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Re,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(j){s=j},get _defaultValues(){return a},get _names(){return o},set _names(j){o=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Lr,trigger:te,register:ue,handleSubmit:_r,watch:br,setValue:K,getValues:Q,reset:y0,resetField:av,clearErrors:De,unregister:en,setError:Xe,setFocus:iv,getFieldState:ce};return{...w0,formControl:w0}}function vc(t={}){const e=he.useRef(void 0),r=he.useRef(void 0),[n,a]=he.useState({isDirty:!1,isValidating:!1,isLoading:Gr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Gr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Gr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...o}=K4(t);e.current={...o,formState:n}}const i=e.current.control;return i._options=t,D4(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,s},[i]),he.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),he.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),he.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),he.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),he.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),he.useEffect(()=>{t.values&&!Gn(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,a(s=>({...s}))):i._resetDefaultValues()},[i,t.values]),he.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=P4(n,i),e.current}const c1=(t,e,r)=>{if(t&&"reportValidity"in t){const n=q(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},sg=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?c1(n.ref,r,t):n.refs&&n.refs.forEach(a=>c1(a,r,t))}},q4=(t,e)=>{e.shouldUseNativeValidation&&sg(t,e);const r={};for(const n in t){const a=q(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(Q4(e.names||Object.keys(t),n)){const s=Object.assign({},q(r,n));Me(s,"root",i),Me(r,n,s)}else Me(r,n,i)}return r},Q4=(t,e)=>t.some(r=>r.startsWith(e+"."));var J4=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[s].types,u=c&&c[n.code];r[s]=Jx(s,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},yc=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&sg({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:q4(J4(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},Ee;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ee||(Ee={}));var u1;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(u1||(u1={}));const J=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zn=t=>{switch(typeof t){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(t)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(t)?J.array:t===null?J.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?J.promise:typeof Map<"u"&&t instanceof Map?J.map:typeof Set<"u"&&t instanceof Set?J.set:typeof Date<"u"&&t instanceof Date?J.date:J.object;default:return J.unknown}},V=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class jn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof jn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}jn.create=t=>new jn(t);const eb=(t,e)=>{let r;switch(t.code){case V.invalid_type:t.received===J.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case V.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ee.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(t.keys,", ")}`;break;case V.invalid_union:r="Invalid input";break;case V.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(t.options)}`;break;case V.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(t.options)}, received '${t.received}'`;break;case V.invalid_arguments:r="Invalid function arguments";break;case V.invalid_return_type:r="Invalid function return type";break;case V.invalid_date:r="Invalid date";break;case V.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ee.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case V.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case V.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case V.custom:r="Invalid input";break;case V.invalid_intersection_types:r="Intersection results could not be merged";break;case V.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case V.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ee.assertNever(t)}return{message:r}},_d=eb;let tb=_d;function rb(){return tb}const nb=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:e,defaultError:o}).message;return{...a,path:i,message:o}};function X(t,e){const r=rb(),n=nb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===_d?void 0:_d].filter(a=>!!a)});t.common.issues.push(n)}class xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return de;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return xr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return de;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:e.value,value:n}}}const de=Object.freeze({status:"aborted"}),xs=t=>({status:"dirty",value:t}),Mr=t=>({status:"valid",value:t}),d1=t=>t.status==="aborted",f1=t=>t.status==="dirty",Pi=t=>t.status==="valid",Vl=t=>typeof Promise<"u"&&t instanceof Promise;var re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));class ma{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const h1=(t,e)=>{if(Pi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new jn(t.common.issues);return this._error=r,this._error}}};function xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,o)=>{const{message:c}=t;return s.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:a}}class _e{get description(){return this._def.description}_getType(e){return zn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:zn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xr,ctx:{common:e.parent.common,data:e.data,parsedType:zn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Vl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zn(e)},a=this._parseSync({data:e,path:n.path,parent:n});return h1(n,a)}"~validate"(e){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zn(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Pi(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Pi(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zn(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(Vl(a)?a:Promise.resolve(a));return h1(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=e(a),o=()=>i.addIssue({code:V.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Li({schema:this,typeName:fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ca.create(this,this._def)}nullable(){return Fi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fn.create(this)}promise(){return Gl.create(this,this._def)}or(e){return Hl.create([this,e],this._def)}and(e){return Wl.create(this,e,this._def)}transform(e){return new Li({...xe(this._def),schema:this,typeName:fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Sd({...xe(this._def),innerType:this,defaultValue:r,typeName:fe.ZodDefault})}brand(){return new Sb({typeName:fe.ZodBranded,type:this,...xe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Ad({...xe(this._def),innerType:this,catchValue:r,typeName:fe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return a0.create(this,e)}readonly(){return jd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ab=/^c[^\s-]{8,}$/i,ib=/^[0-9a-z]+$/,sb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ob=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lb=/^[a-z0-9_-]{21}$/i,cb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ub=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,db=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let su;const hb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,og="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yb=new RegExp(`^${og}$`);function lg(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function wb(t){return new RegExp(`^${lg(t)}$`)}function bb(t){let e=`${og}T${lg(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function _b(t,e){return!!((e==="v4"||!e)&&hb.test(t)||(e==="v6"||!e)&&mb.test(t))}function Nb(t,e){if(!cb.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Eb(t,e){return!!((e==="v4"||!e)&&pb.test(t)||(e==="v6"||!e)&&xb.test(t))}class Qn extends _e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==J.string){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_type,expected:J.string,received:i.parsedType}),de}const n=new xr;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,o=e.data.length<i.value;(s||o)&&(a=this._getOrReturnCtx(e,a),s?X(a,{code:V.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&X(a,{code:V.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")db.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"email",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")su||(su=new RegExp(fb,"u")),su.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"emoji",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")ob.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"uuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")lb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"nanoid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")ab.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"cuid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")ib.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"cuid2",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")sb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"ulid",code:V.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),X(a,{validation:"url",code:V.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"regex",code:V.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?bb(i).test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?yb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?wb(i).test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{code:V.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?ub.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"duration",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?_b(e.data,i.version)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"ip",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Nb(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"jwt",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Eb(e.data,i.version)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"cidr",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?gb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"base64",code:V.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?vb.test(e.data)||(a=this._getOrReturnCtx(e,a),X(a,{validation:"base64url",code:V.invalid_string,message:i.message}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:V.invalid_string,...re.errToObj(n)})}_addCheck(e){return new Qn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...re.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...re.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...re.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...re.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...re.errToObj(r)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Qn.create=t=>new Qn({checks:[],typeName:fe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});function Cb(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),s=Number.parseInt(e.toFixed(a).replace(".",""));return i%s/10**a}class Di extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==J.number){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_type,expected:J.number,received:i.parsedType}),de}let n;const a=new xr;for(const i of this._def.checks)i.kind==="int"?Ee.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),X(n,{code:V.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Cb(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),X(n,{code:V.not_finite,message:i.message}),a.dirty()):Ee.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,re.toString(r))}setLimit(e,r,n,a){return new Di({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:re.toString(a)}]})}_addCheck(e){return new Di({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Di.create=t=>new Di({checks:[],typeName:fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class io extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==J.bigint)return this._getInvalidInput(e);let n;const a=new xr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),X(n,{code:V.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ee.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return X(r,{code:V.invalid_type,expected:J.bigint,received:r.parsedType}),de}gte(e,r){return this.setLimit("min",e,!0,re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,re.toString(r))}setLimit(e,r,n,a){return new io({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:re.toString(a)}]})}_addCheck(e){return new io({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}io.create=t=>new io({checks:[],typeName:fe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...xe(t)});class Nd extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==J.boolean){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:J.boolean,received:n.parsedType}),de}return Mr(e.data)}}Nd.create=t=>new Nd({typeName:fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xe(t)});class $l extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==J.date){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_type,expected:J.date,received:i.parsedType}),de}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return X(i,{code:V.invalid_date}),de}const n=new xr;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),X(a,{code:V.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ee.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $l({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}$l.create=t=>new $l({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:fe.ZodDate,...xe(t)});class p1 extends _e{_parse(e){if(this._getType(e)!==J.symbol){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:J.symbol,received:n.parsedType}),de}return Mr(e.data)}}p1.create=t=>new p1({typeName:fe.ZodSymbol,...xe(t)});class m1 extends _e{_parse(e){if(this._getType(e)!==J.undefined){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:J.undefined,received:n.parsedType}),de}return Mr(e.data)}}m1.create=t=>new m1({typeName:fe.ZodUndefined,...xe(t)});class x1 extends _e{_parse(e){if(this._getType(e)!==J.null){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:J.null,received:n.parsedType}),de}return Mr(e.data)}}x1.create=t=>new x1({typeName:fe.ZodNull,...xe(t)});class g1 extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return Mr(e.data)}}g1.create=t=>new g1({typeName:fe.ZodAny,...xe(t)});class v1 extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mr(e.data)}}v1.create=t=>new v1({typeName:fe.ZodUnknown,...xe(t)});class xa extends _e{_parse(e){const r=this._getOrReturnCtx(e);return X(r,{code:V.invalid_type,expected:J.never,received:r.parsedType}),de}}xa.create=t=>new xa({typeName:fe.ZodNever,...xe(t)});class y1 extends _e{_parse(e){if(this._getType(e)!==J.undefined){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:J.void,received:n.parsedType}),de}return Mr(e.data)}}y1.create=t=>new y1({typeName:fe.ZodVoid,...xe(t)});class fn extends _e{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==J.array)return X(r,{code:V.invalid_type,expected:J.array,received:r.parsedType}),de;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(s||o)&&(X(r,{code:s?V.too_big:V.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(X(r,{code:V.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(X(r,{code:V.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>a.type._parseAsync(new ma(r,s,r.path,o)))).then(s=>xr.mergeArray(n,s));const i=[...r.data].map((s,o)=>a.type._parseSync(new ma(r,s,r.path,o)));return xr.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new fn({...this._def,minLength:{value:e,message:re.toString(r)}})}max(e,r){return new fn({...this._def,maxLength:{value:e,message:re.toString(r)}})}length(e,r){return new fn({...this._def,exactLength:{value:e,message:re.toString(r)}})}nonempty(e){return this.min(1,e)}}fn.create=(t,e)=>new fn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:fe.ZodArray,...xe(e)});function ti(t){if(t instanceof Je){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ca.create(ti(n))}return new Je({...t._def,shape:()=>e})}else return t instanceof fn?new fn({...t._def,type:ti(t.element)}):t instanceof ca?ca.create(ti(t.unwrap())):t instanceof Fi?Fi.create(ti(t.unwrap())):t instanceof Ga?Ga.create(t.items.map(e=>ti(e))):t}class Je extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ee.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==J.object){const u=this._getOrReturnCtx(e);return X(u,{code:V.invalid_type,expected:J.object,received:u.parsedType}),de}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof xa&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ma(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof xa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")o.length>0&&(X(a,{code:V.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ma(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>xr.mergeObjectSync(n,u)):xr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new Je({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:re.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(e){return new Je({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Je({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:fe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Je({...this._def,catchall:e})}pick(e){const r={};for(const n of Ee.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Je({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ee.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Je({...this._def,shape:()=>r})}deepPartial(){return ti(this)}partial(e){const r={};for(const n of Ee.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}return new Je({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ee.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ca;)i=i._def.innerType;r[n]=i}return new Je({...this._def,shape:()=>r})}keyof(){return cg(Ee.objectKeys(this.shape))}}Je.create=(t,e)=>new Je({shape:()=>t,unknownKeys:"strip",catchall:xa.create(),typeName:fe.ZodObject,...xe(e)});Je.strictCreate=(t,e)=>new Je({shape:()=>t,unknownKeys:"strict",catchall:xa.create(),typeName:fe.ZodObject,...xe(e)});Je.lazycreate=(t,e)=>new Je({shape:t,unknownKeys:"strip",catchall:xa.create(),typeName:fe.ZodObject,...xe(e)});class Hl extends _e{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new jn(o.ctx.common.issues));return X(r,{code:V.invalid_union,unionErrors:s}),de}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(c=>new jn(c));return X(r,{code:V.invalid_union,unionErrors:o}),de}}get options(){return this._def.options}}Hl.create=(t,e)=>new Hl({options:t,typeName:fe.ZodUnion,...xe(e)});function Ed(t,e){const r=zn(t),n=zn(e);if(t===e)return{valid:!0,data:t};if(r===J.object&&n===J.object){const a=Ee.objectKeys(e),i=Ee.objectKeys(t).filter(o=>a.indexOf(o)!==-1),s={...t,...e};for(const o of i){const c=Ed(t[o],e[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===J.array&&n===J.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],o=e[i],c=Ed(s,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===J.date&&n===J.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Wl extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,s)=>{if(d1(i)||d1(s))return de;const o=Ed(i.value,s.value);return o.valid?((f1(i)||f1(s))&&r.dirty(),{status:r.value,value:o.data}):(X(n,{code:V.invalid_intersection_types}),de)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wl.create=(t,e,r)=>new Wl({left:t,right:e,typeName:fe.ZodIntersection,...xe(r)});class Ga extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==J.array)return X(n,{code:V.invalid_type,expected:J.array,received:n.parsedType}),de;if(n.data.length<this._def.items.length)return X(n,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&n.data.length>this._def.items.length&&(X(n,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ma(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>xr.mergeArray(r,s)):xr.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ga({...this._def,rest:e})}}Ga.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ga({items:t,typeName:fe.ZodTuple,rest:null,...xe(e)})};class w1 extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==J.map)return X(n,{code:V.invalid_type,expected:J.map,received:n.parsedType}),de;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:a._parse(new ma(n,o,n.path,[u,"key"])),value:i._parse(new ma(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return de;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return de;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}w1.create=(t,e,r)=>new w1({valueType:e,keyType:t,typeName:fe.ZodMap,...xe(r)});class so extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==J.set)return X(n,{code:V.invalid_type,expected:J.set,received:n.parsedType}),de;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(X(n,{code:V.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(X(n,{code:V.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return de;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new ma(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(e,r){return new so({...this._def,minSize:{value:e,message:re.toString(r)}})}max(e,r){return new so({...this._def,maxSize:{value:e,message:re.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}so.create=(t,e)=>new so({valueType:t,minSize:null,maxSize:null,typeName:fe.ZodSet,...xe(e)});class b1 extends _e{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}b1.create=(t,e)=>new b1({getter:t,typeName:fe.ZodLazy,...xe(e)});class Cd extends _e{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return X(r,{received:r.data,code:V.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cd.create=(t,e)=>new Cd({value:t,typeName:fe.ZodLiteral,...xe(e)});function cg(t,e){return new Mi({values:t,typeName:fe.ZodEnum,...xe(e)})}class Mi extends _e{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return X(r,{expected:Ee.joinValues(n),received:r.parsedType,code:V.invalid_type}),de}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return X(r,{received:r.data,code:V.invalid_enum_value,options:n}),de}return Mr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Mi.create(e,{...this._def,...r})}exclude(e,r=this._def){return Mi.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Mi.create=cg;class _1 extends _e{_parse(e){const r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==J.string&&n.parsedType!==J.number){const a=Ee.objectValues(r);return X(n,{expected:Ee.joinValues(a),received:n.parsedType,code:V.invalid_type}),de}if(this._cache||(this._cache=new Set(Ee.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Ee.objectValues(r);return X(n,{received:n.data,code:V.invalid_enum_value,options:a}),de}return Mr(e.data)}get enum(){return this._def.values}}_1.create=(t,e)=>new _1({values:t,typeName:fe.ZodNativeEnum,...xe(e)});class Gl extends _e{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==J.promise&&r.common.async===!1)return X(r,{code:V.invalid_type,expected:J.promise,received:r.parsedType}),de;const n=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return Mr(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Gl.create=(t,e)=>new Gl({type:t,typeName:fe.ZodPromise,...xe(e)});class Li extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{X(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return de;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?de:c.status==="dirty"||r.value==="dirty"?xs(c.value):c});{if(r.value==="aborted")return de;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?de:o.status==="dirty"||r.value==="dirty"?xs(o.value):o}}if(a.type==="refinement"){const s=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?de:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?de:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Pi(s))return de;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Pi(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:r.value,value:o})):de);Ee.assertNever(a)}}Li.create=(t,e,r)=>new Li({schema:t,typeName:fe.ZodEffects,effect:e,...xe(r)});Li.createWithPreprocess=(t,e,r)=>new Li({schema:e,effect:{type:"preprocess",transform:t},typeName:fe.ZodEffects,...xe(r)});class ca extends _e{_parse(e){return this._getType(e)===J.undefined?Mr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ca.create=(t,e)=>new ca({innerType:t,typeName:fe.ZodOptional,...xe(e)});class Fi extends _e{_parse(e){return this._getType(e)===J.null?Mr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fi.create=(t,e)=>new Fi({innerType:t,typeName:fe.ZodNullable,...xe(e)});class Sd extends _e{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===J.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Sd.create=(t,e)=>new Sd({innerType:t,typeName:fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xe(e)});class Ad extends _e{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Vl(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new jn(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new jn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ad.create=(t,e)=>new Ad({innerType:t,typeName:fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xe(e)});class N1 extends _e{_parse(e){if(this._getType(e)!==J.nan){const n=this._getOrReturnCtx(e);return X(n,{code:V.invalid_type,expected:J.nan,received:n.parsedType}),de}return{status:"valid",value:e.data}}}N1.create=t=>new N1({typeName:fe.ZodNaN,...xe(t)});class Sb extends _e{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class a0 extends _e{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?de:i.status==="dirty"?(r.dirty(),xs(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?de:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new a0({in:e,out:r,typeName:fe.ZodPipeline})}}class jd extends _e{_parse(e){const r=this._def.innerType._parse(e),n=a=>(Pi(a)&&(a.value=Object.freeze(a.value)),a);return Vl(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}jd.create=(t,e)=>new jd({innerType:t,typeName:fe.ZodReadonly,...xe(e)});Je.lazycreate;var fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(fe||(fe={}));const Ft=Qn.create,Mo=Di.create,Ab=Nd.create;xa.create;fn.create;const wc=Je.create;Je.strictCreate;Hl.create;Wl.create;Ga.create;const jb=Cd.create,Ib=Mi.create;Gl.create;ca.create;Fi.create;const kb=wc({email:Ft().email("Invalid email address"),password:Ft().min(1,"Password is required")}),Tb=()=>{const{login:t,isLoading:e,error:r,isAuthenticated:n}=sr(),{register:a,handleSubmit:i,formState:{errors:s,isSubmitting:o}}=vc({resolver:yc(kb)});if(n)return l.jsx(la,{to:"/dashboard",replace:!0});const c=async u=>{await t(u)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",l.jsx(oe,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),r&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i(c),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{...a("email"),type:"email",className:"input",placeholder:"Enter your email"}),s.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{...a("password"),type:"password",className:"input",placeholder:"Enter your password"}),s.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o||e,className:"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:o||e?"Signing in...":"Sign in"})})]})]})})},Ob=wc({name:Ft().min(1,"Name is required"),email:Ft().email("Invalid email address"),password:Ft().min(8,"Password must be at least 8 characters"),confirmPassword:Ft().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Rb=()=>{const{register:t,isLoading:e,error:r,isAuthenticated:n}=sr(),{register:a,handleSubmit:i,formState:{errors:s,isSubmitting:o}}=vc({resolver:yc(Ob)});if(n)return l.jsx(la,{to:"/dashboard",replace:!0});const c=async u=>{const{confirmPassword:d,...f}=u,h={...f,role:"participant"};await t(h)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(oe,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]}),r&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i(c),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{...a("name"),type:"text",autoComplete:"name",className:"input",placeholder:"Enter your full name"}),s.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("input",{...a("email"),type:"email",autoComplete:"email",className:"input",placeholder:"Enter your email"}),s.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{...a("password"),type:"password",autoComplete:"new-password",className:"input",placeholder:"Create a password (min. 8 characters)"}),s.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),l.jsx("input",{...a("confirmPassword"),type:"password",autoComplete:"new-password",className:"input",placeholder:"Confirm your password"}),s.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword.message})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o||e,className:"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:o||e?"Creating Account...":"Create Account"})})]})]})})},er={async createEvent(t){return je.post("/events",t)},async getEvents(t){const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.visibility&&e.append("visibility",t.visibility),t!=null&&t.categoryId&&e.append("categoryId",t.categoryId),t!=null&&t.organizerId&&e.append("organizerId",t.organizerId),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.upcoming&&e.append("upcoming",t.upcoming.toString());const r=e.toString()?`/events?${e.toString()}`:"/events";return je.get(r)},async getEventById(t){return je.get(`/events/${t}`)},async updateEvent(t,e){return je.put(`/events/${t}`,e)},async deleteEvent(t){return je.delete(`/events/${t}`)},async getMyEvents(){return je.get("/events/my/events")}},ga={async registerForEvent(t,e){return je.post(`/registrations/events/${t}/register`,e)},async getEventRegistrations(t){return je.get(`/registrations/events/${t}/registrations`)},async checkRegistrationStatus(t){return je.get(`/registrations/events/${t}/registration-status`)},async getUserRegistrations(){return je.get("/registrations/my-registrations")},async cancelRegistration(t){return je.put(`/registrations/${t}/cancel`)}};function Pb(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Db(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Mb=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lb=function(t){Mb(e,t);function e(r,n){var a=this.constructor,i=t.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),Pb(i,a.prototype),Db(i),i}return e}(Error),Fb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),or=function(t){Fb(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(Lb),Bb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zr=function(t){Bb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(or),Ub=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(t){Ub(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(or),zb=function(){function t(e){if(this.binarizer=e,e===null)throw new ie("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,a){var i=this.binarizer.getLuminanceSource().crop(e,r,n,a);return new t(this.binarizer.createBinarizer(i))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),Vb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Et=function(t){Vb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(or),$b=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Be=function(){function t(){}return t.arraycopy=function(e,r,n,a,i){for(;i--;)n[a++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),Hb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i0=function(t){Hb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(or),Wb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E1=function(t){Wb(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var a=t.call(this,n)||this;return a.index=r,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(i0),Gb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(){function t(){}return t.fill=function(e,r){for(var n=0,a=e.length;n<a;n++)e[n]=r},t.fillWithin=function(e,r,n,a){t.rangeCheck(e.length,r,n);for(var i=r;i<n;i++)e[i]=a},t.rangeCheck=function(e,r,n){if(r>n)throw new ie("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new E1(r);if(n>e)throw new E1(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var a=Array.from({length:e});return a.map(function(i){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var a=1;try{for(var i=Gb(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=31*a+o}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var a=n-r,i=new Int32Array(a);return Be.arraycopy(e,r,i,0,a),i},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var a=0,i=e.length-1;a<=i;){var s=i+a>>1,o=n(r,e[s]);if(o>0)a=s+1;else if(o<0)i=s-1;else return s}return-a-1},t.numberComparator=function(e,r){return e-r},t}(),me=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Ct=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Be.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=n[a]}var o=a*32+me.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,a=Math.floor(e/32),i=~n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return r;i=~n[a]}var o=a*32+me.numberOfTrailingZeros(i);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new ie;if(r!==e){r--;for(var n=Math.floor(e/32),a=Math.floor(r/32),i=this.bits,s=n;s<=a;s++){var o=s>n?0:e&31,c=s<a?31:r&31,u=(2<<c)-(1<<o);i[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new ie;if(r===e)return!0;r--;for(var a=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,o=a;o<=i;o++){var c=o>a?0:e&31,u=o<i?31:r&31,d=(2<<u)-(1<<c)&4294967295;if((s[o]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new ie("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new ie("Sizes don't match");for(var r=this.bits,n=0,a=r.length;n<a;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,a){for(var i=0;i<a;i++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;r[n+i]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,a=this.bits,i=0;i<n;i++){var s=a[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[r-i]=s}if(this.size!==n*32){for(var o=n*32-this.size,c=e[0]>>>o,i=1;i<n;i++){var u=e[i];c|=u<<32-o,e[i-1]=c,c=u>>>o}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&gt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+gt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),Id;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Id||(Id={}));const Ke=Id;var Xb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W=function(t){Xb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(or),Zb=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ke;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(ke||(ke={}));var xt=function(){function t(e,r,n){for(var a,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var f=c[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=Zb(s),p=h.next();!p.done;p=h.next()){var x=p.value;t.NAME_TO_ECI.set(x,this)}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new W("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new W("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new W("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(ke.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(ke.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(ke.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(ke.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(ke.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(ke.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(ke.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(ke.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(ke.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(ke.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(ke.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(ke.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(ke.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(ke.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(ke.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(ke.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(ke.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(ke.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(ke.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(ke.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(ke.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(ke.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(ke.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(ke.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(ke.Big5,28,"Big5"),t.GB18030=new t(ke.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(ke.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Yb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ol=function(t){Yb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(or),Or=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof xt?e:xt.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var a="",i=0,s=e.length;i<s;i++){var o=e[i].toString(16);o.length<2&&(o="0"+o),a+="%"+o}return decodeURIComponent(a)}if(n.equals(xt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ol("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(xt.UTF8)||e.equals(xt.ISO8859_1)||e.equals(xt.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},t}(),ye=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Or.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Ke.CHARACTER_SET)!==void 0)return r.get(Ke.CHARACTER_SET).toString();for(var n=e.length,a=!0,i=!0,s=!0,o=0,c=0,u=0,d=0,f=0,h=0,p=0,x=0,g=0,y=0,v=0,m=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(a||i||s);w++){var b=e[w]&255;s&&(o>0?b&128?o--:s=!1:b&128&&(b&64?(o++,b&32?(o++,b&16?(o++,b&8?s=!1:d++):u++):c++):s=!1)),a&&(b>127&&b<160?a=!1:b>159&&(b<192||b===215||b===247)&&v++),i&&(f>0?b<64||b===127||b>252?i=!1:f--:b===128||b===160||b>239?i=!1:b>160&&b<224?(h++,x=0,p++,p>g&&(g=p)):b>127?(f++,p=0,x++,x>y&&(y=x)):(p=0,x=0))}return s&&o>0&&(s=!1),i&&f>0&&(i=!1),s&&(m||c+u+d>0)?t.UTF8:i&&(t.ASSUME_SHIFT_JIS||g>=3||y>=3)?t.SHIFT_JIS:a&&i?g===2&&h===2||v*10>=n?t.SHIFT_JIS:t.ISO88591:a?t.ISO88591:i?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a=-1;function i(o,c,u,d,f,h){if(o==="%%")return"%";if(r[++a]!==void 0){o=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,x;switch(h){case"s":x=r[a];break;case"c":x=r[a][0];break;case"f":x=parseFloat(r[a]).toFixed(o);break;case"p":x=parseFloat(r[a]).toPrecision(o);break;case"e":x=parseFloat(r[a]).toExponential(o);break;case"x":x=parseInt(r[a]).toString(p||16);break;case"d":x=parseFloat(parseInt(r[a],p||10).toPrecision(o)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(p);for(var g=parseInt(u),y=u&&u[0]+""=="0"?"0":" ";x.length<g;)x=c!==void 0?x+y:y+x;return x}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.getBytes=function(e,r){return Or.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=xt.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=xt.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=xt.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),pe=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ye.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var a=r;r<r+n;a++)this.append(e[a]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),hn=function(){function t(e,r,n,a){if(this.width=e,this.height=r,this.rowSize=n,this.bits=a,r==null&&(r=e),this.height=r,e<1||r<1)throw new ie("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,a=new t(n,r),i=0;i<r;i++)for(var s=e[i],o=0;o<n;o++)s[o]&&a.set(o,i);return a},t.parseFromString=function(e,r,n){if(e===null)throw new ie("stringRepresentation cannot be null");for(var a=new Array(e.length),i=0,s=0,o=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new ie("row lengths do not match");s=i,c++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,a[i]=!0,i++;else if(e.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new ie("illegal character encountered: "+e.substring(u));if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new ie("row lengths do not match");c++}for(var d=new t(o,c),f=0;f<i;f++)a[f]&&d.set(Math.floor(f%o),Math.floor(f/o));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ie("input matrix dimensions do not match");for(var r=new Ct(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,s=this.height;i<s;i++)for(var o=i*n,c=e.getRow(i,r).getBitArray(),u=0;u<n;u++)a[o+u]^=c[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,a){if(r<0||e<0)throw new ie("Left and top must be nonnegative");if(a<1||n<1)throw new ie("Height and width must be at least 1");var i=e+n,s=r+a;if(s>this.height||i>this.width)throw new ie("The region must fit inside the matrix");for(var o=this.rowSize,c=this.bits,u=r;u<s;u++)for(var d=u*o,f=e;f<i;f++)c[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Ct(this.width):r.clear();for(var n=this.rowSize,a=this.bits,i=e*n,s=0;s<n;s++)r.setBulk(s*32,a[i+s]);return r},t.prototype.setRow=function(e,r){Be.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Ct(e),a=new Ct(e),i=0,s=Math.floor((r+1)/2);i<s;i++)n=this.getRow(i,n),a=this.getRow(r-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(r-1-i,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,a=this.bits,i=e,s=r,o=-1,c=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=a[u*n+d];if(f!==0){if(u<s&&(s=u),u>c&&(c=u),d*32<i){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<i&&(i=d*32+h)}if(d*32+31>o){for(var h=31;!(f>>>h);)h--;d*32+h>o&&(o=d*32+h)}}}return o<i||c<s?null:Int32Array.from([i,s,o-i+1,c-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var a=n/e,i=n%e*32,s=r[n],o=0;!(s<<31-o&4294967295);)o++;return i+=o,Int32Array.from([i,a])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),i=Math.floor(n%e)*32,s=r[n],o=31;!(s>>>o);)o--;return i+=o,Int32Array.from([i,a])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&gt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+gt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var a=new pe,i=0,s=this.height;i<s;i++){for(var o=0,c=this.width;o<c;o++)a.append(this.get(o,i)?e:r);a.append(n)}return a.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),Kb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P=function(t){Kb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(or),qb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qb=function(t){qb(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new Ct(i):n.clear(),this.initArrays(i);for(var s=a.getRow(r,this.luminances),o=this.buckets,c=0;c<i;c++)o[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(i<3)for(var c=0;c<i;c++)(s[c]&255)<u&&n.set(c);else for(var d=s[0]&255,f=s[1]&255,c=1;c<i-1;c++){var h=s[c+1]&255;(f*4-d-h)/2<u&&n.set(c),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight(),i=new hn(n,a);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var c=Math.floor(a*o/5),u=r.getRow(c,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;s[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(s),x=r.getMatrix(),o=0;o<a;o++)for(var g=o*n,f=0;f<n;f++){var h=x[g+f]&255;h<p&&i.set(f,o)}return i},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(r){for(var n=r.length,a=0,i=0,s=0,o=0;o<n;o++)r[o]>s&&(i=o,s=r[o]),r[o]>a&&(a=r[o]);for(var c=0,u=0,o=0;o<n;o++){var d=o-i,f=r[o]*d*d;f>u&&(c=o,u=f)}if(i>c){var h=i;i=c,c=h}if(c-i<=n/16)throw new P;for(var p=c-1,x=-1,o=c-1;o>i;o--){var g=o-i,f=g*g*(c-o)*(a-r[o]);f>x&&(p=o,x=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}($b),Jb=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e_=function(t){Jb(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),a=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var i=r.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&s++;var o=a>>e.BLOCK_SIZE_POWER;a&e.BLOCK_SIZE_MASK&&o++;var c=e.calculateBlackPoints(i,s,o,n,a),u=new hn(n,a);e.calculateThresholdForBlock(i,s,o,n,a,c,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,a,i,s,o,c){for(var u=s-e.BLOCK_SIZE,d=i-e.BLOCK_SIZE,f=0;f<a;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,a-3),x=0;x<n;x++){var g=x<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var y=e.cap(x,2,n-3),v=0,m=-2;m<=2;m++){var w=o[p+m];v+=w[y-2]+w[y-1]+w[y]+w[y+1]+w[y+2]}var b=v/25;e.thresholdBlock(r,g,h,b,i,c)}}},e.cap=function(r,n,a){return r<n?n:r>a?a:r},e.thresholdBlock=function(r,n,a,i,s,o){for(var c=0,u=a*s+n;c<e.BLOCK_SIZE;c++,u+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=i&&o.set(n+d,a+c)},e.calculateBlackPoints=function(r,n,a,i,s){for(var o=s-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var x=0,g=255,y=0,v=0,m=f*i+p;v<e.BLOCK_SIZE;v++,m+=i){for(var w=0;w<e.BLOCK_SIZE;w++){var b=r[m+w]&255;x+=b,b<g&&(g=b),b>y&&(y=b)}if(y-g>e.MIN_DYNAMIC_RANGE)for(v++,m+=i;v<e.BLOCK_SIZE;v++,m+=i)for(var w=0;w<e.BLOCK_SIZE;w++)x+=r[m+w]&255}var N=x>>e.BLOCK_SIZE_POWER*2;if(y-g<=e.MIN_DYNAMIC_RANGE&&(N=g/2,d>0&&h>0)){var A=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;g<A&&(N=A)}u[d][h]=N}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Qb),bc=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,a){throw new ol("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new ol("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new ol("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new pe,n=0;n<this.height;n++){for(var a=this.getRow(n,e),i=0;i<this.width;i++){var s=a[i]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),t_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s0=function(t){t_(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var a=this.delegate.getRow(r,n),i=this.getWidth(),s=0;s<i;s++)a[s]=255-(a[s]&255);return a},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(r[i]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,a,i){return new e(this.delegate.crop(r,n,a,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(bc),r_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n_=function(t){r_(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,a){var i=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var s=0,o=0,c=r.length;s<c;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}i[o]=u}else for(var s=0,o=0,x=r.length;s<x;s+=4,o++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}i[o]=255-u}return i},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ie("Requested row is outside the image: "+r);var a=this.getWidth(),i=r*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return t.prototype.crop.call(this,r,n,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=r*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new s0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(bc),a_=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Vt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})},$t=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},i_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gi=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Vt(this,void 0,void 0,function(){var e,r,n,a,i,s,o,c,u,d,f,h;return $t(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=i_(e),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(o=i.deviceId||i.id,c=i.label||"Video device "+(r.length+1),u=i.groupId,d={deviceId:o,label:c,kind:s,groupId:u},r.push(d))}catch(x){f={error:x}}finally{try{a&&!a.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Vt(this,void 0,void 0,function(){var e;return $t(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new a_(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Vt(this,void 0,void 0,function(){var r;return $t(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(a){return a.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Vt(this,void 0,void 0,function(){return $t(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Vt(this,void 0,void 0,function(){var n,a;return $t(this,function(i){switch(i.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Vt(this,void 0,void 0,function(){var n;return $t(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,a.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Vt(this,void 0,void 0,function(){var n,a;return $t(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Vt(this,void 0,void 0,function(){return $t(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Vt(this,void 0,void 0,function(){var a,i;return $t(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Vt(this,void 0,void 0,function(){var a;return $t(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Vt(this,void 0,void 0,function(){var a;return $t(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Vt(this,void 0,void 0,function(){var n;return $t(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,a){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Vt(this,void 0,void 0,function(){return $t(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new zr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new zr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new zr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new zr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new zr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new zr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new zr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new zr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new zr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new zr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,r);return n.src=e,a},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,a){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Vt(this,void 0,void 0,function(){return $t(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Vt(this,void 0,void 0,function(){return $t(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var a=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(s,o){if(a._stopAsyncDecode){o(new P("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(e);s(c)}catch(h){var u=r&&h instanceof P,d=h instanceof Et||h instanceof W,f=d&&n;if(u||f)return setTimeout(i,a._timeBetweenDecodingAttempts,s,o);o(h)}};return new Promise(function(s,o){return i(s,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(e);r(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){r(null,c);var s=c instanceof Et||c instanceof W,o=c instanceof P;(s||o)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e),e instanceof HTMLVideoElement?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),n=new n_(r),a=new e_(n);return new zb(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,a;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=a+"px",r.width=n,r.height=a,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),zt=function(){function t(e,r,n,a,i,s){n===void 0&&(n=r==null?0:8*r.length),s===void 0&&(s=Be.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,s==null?this.timestamp=Be.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Be.arraycopy(r,0,n,0,r.length),Be.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),kd;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(kd||(kd={}));const ae=kd;var Td;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Td||(Td={}));const Ot=Td;var _c=function(){function t(e,r,n,a,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),gs=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ie;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),ua=function(){function t(e,r){if(r.length===0)throw new ie;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),Be.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var a=0,i=r.length;a!==i;a++){var s=r[a];n=gs.addOrSubtract(n,s)}return n}n=r[0];for(var o=r.length,c=this.field,a=1;a<o;a++)n=gs.addOrSubtract(c.multiply(e,n),r[a]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ie("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;Be.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=gs.addOrSubtract(r[o-s],n[o]);return new t(this.field,i)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ie("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=this.field,c=0;c<n;c++)for(var u=r[c],d=0;d<i;d++)s[c+d]=gs.addOrSubtract(s[c+d],o.multiply(u,a[d]));return new t(o,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,a=new Int32Array(r),i=this.coefficients,s=0;s<r;s++)a[s]=n.multiply(i[s],e);return new t(n,a)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ie;if(r===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+e),s=this.field,o=0;o<a;o++)i[o]=s.multiply(n[o],r);return new t(s,i)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ie("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ie("Divide by 0");for(var r=this.field,n=r.getZero(),a=this,i=e.getCoefficient(e.getDegree()),s=r.inverse(i);a.getDegree()>=e.getDegree()&&!a.isZero();){var o=a.getDegree()-e.getDegree(),c=r.multiply(a.getCoefficient(a.getDegree()),s),u=e.multiplyByMonomial(o,c),d=r.buildMonomial(o,c);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),s_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ug=function(t){s_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(or),o_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tr=function(t){o_(e,t);function e(r,n,a){var i=t.call(this)||this;i.primitive=r,i.size=n,i.generatorBase=a;for(var s=new Int32Array(n),o=1,c=0;c<n;c++)s[c]=o,o*=2,o>=n&&(o^=r,o&=n-1);i.expTable=s;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[s[c]]=c;return i.logTable=u,i.zero=new ua(i,Int32Array.from([0])),i.one=new ua(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ie;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new ua(this,a)},e.prototype.inverse=function(r){if(r===0)throw new ug;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+me.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(gs),l_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lo=function(t){l_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(or),c_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mo=function(t){c_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(or),Nc=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,a=new ua(n,e),i=new Int32Array(r),s=!0,o=0;o<r;o++){var c=a.evaluateAt(n.exp(o+n.getGeneratorBase()));i[i.length-1-o]=c,c!==0&&(s=!1)}if(!s)for(var u=new ua(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),x=this.findErrorMagnitudes(h,p),o=0;o<p.length;o++){var g=e.length-1-n.log(p[o]);if(g<0)throw new Lo("Bad error location");e[g]=tr.addOrSubtract(e[g],x[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=this.field,s=e,o=r,c=i.getZero(),u=i.getOne();o.getDegree()>=(n/2|0);){var d=s,f=c;if(s=o,c=u,s.isZero())throw new Lo("r_{i-1} was zero");o=d;for(var h=i.getZero(),p=s.getCoefficient(s.getDegree()),x=i.inverse(p);o.getDegree()>=s.getDegree()&&!o.isZero();){var g=o.getDegree()-s.getDegree(),y=i.multiply(o.getCoefficient(o.getDegree()),x);h=h.addOrSubtract(i.buildMonomial(g,y)),o=o.addOrSubtract(s.multiplyByMonomial(g,y))}if(u=h.multiply(c).addOrSubtract(f),o.getDegree()>=s.getDegree())throw new mo("Division algorithm failed to reduce polynomial?")}var v=u.getCoefficient(0);if(v===0)throw new Lo("sigmaTilde(0) was zero");var m=i.inverse(v),w=u.multiplyScalar(m),b=o.multiplyScalar(m);return[w,b]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),a=0,i=this.field,s=1;s<i.getSize()&&a<r;s++)e.evaluateAt(s)===0&&(n[a]=i.inverse(s),a++);if(a!==r)throw new Lo("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,a=new Int32Array(n),i=this.field,s=0;s<n;s++){for(var o=i.inverse(r[s]),c=1,u=0;u<n;u++)if(s!==u){var d=i.multiply(r[u],o),f=d&1?d&-2:d|1;c=i.multiply(c,f)}a[s]=i.multiply(e.evaluateAt(o),i.inverse(c)),i.getGeneratorBase()!==0&&(a[s]=i.multiply(a[s],o))}return a},t}(),jt;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(jt||(jt={}));var C1=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),a=this.correctBits(n),i=t.convertBoolArrayToByteArray(a),s=t.getEncodedData(a),o=new _c(i,s,null,null);return o.setNumBits(a.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=jt.UPPER,a=jt.UPPER,i="",s=0;s<r;)if(a===jt.BINARY){if(r-s<5)break;var o=t.readCode(e,s,5);if(s+=5,o===0){if(r-s<11)break;o=t.readCode(e,s,11)+31,s+=11}for(var c=0;c<o;c++){if(r-s<8){s=r;break}var u=t.readCode(e,s,8);i+=ye.castAsNonUtf8Char(u),s+=8}a=n}else{var d=a===jt.DIGIT?4:5;if(r-s<d)break;var u=t.readCode(e,s,d);s+=d;var f=t.getCharacter(a,u);f.startsWith("CTRL_")?(n=a,a=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=a)):(i+=f,a=n)}return i},t.getTable=function(e){switch(e){case"L":return jt.LOWER;case"P":return jt.PUNCT;case"M":return jt.MIXED;case"D":return jt.DIGIT;case"B":return jt.BINARY;case"U":default:return jt.UPPER}},t.getCharacter=function(e,r){switch(e){case jt.UPPER:return t.UPPER_TABLE[r];case jt.LOWER:return t.LOWER_TABLE[r];case jt.MIXED:return t.MIXED_TABLE[r];case jt.PUNCT:return t.PUNCT_TABLE[r];case jt.DIGIT:return t.DIGIT_TABLE[r];default:throw new mo("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=tr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=tr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=tr.AZTEC_DATA_10):(n=12,r=tr.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=e.length/n;if(i<a)throw new W;for(var s=e.length%n,o=new Int32Array(i),c=0;c<i;c++,s+=n)o[c]=t.readCode(e,s,n);try{var u=new Nc(r);u.decode(o,i-a)}catch(y){throw new W(y)}for(var d=(1<<n)-1,f=0,c=0;c<a;c++){var h=o[c];if(h===0||h===d)throw new W;(h===1||h===d-1)&&f++}for(var p=new Array(a*n-f),x=0,c=0;c<a;c++){var h=o[c];if(h===1||h===d-1)p.fill(h>1,x,x+n-1),x+=n-1;else for(var g=n-1;g>=0;--g)p[x++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(r?11:14)+n*4,i=new Int32Array(a),s=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<i.length;o++)i[o]=o;else for(var c=a+1+2*me.truncDivision(me.truncDivision(a,2)-1,15),u=a/2,d=me.truncDivision(c,2),o=0;o<u;o++){var f=o+me.truncDivision(o,15);i[u-o-1]=d-f-1,i[u+o]=d+f+1}for(var o=0,h=0;o<n;o++){for(var p=(n-o)*4+(r?9:12),x=o*2,g=a-1-x,y=0;y<p;y++)for(var v=y*2,m=0;m<2;m++)s[h+v+m]=e.get(i[x+m],i[x+y]),s[h+2*p+v+m]=e.get(i[x+y],i[g-m]),s[h+4*p+v+m]=e.get(i[g-m],i[g-y]),s[h+6*p+v+m]=e.get(i[g-y],i[x+m]);h+=p*8}return s},t.readCode=function(e,r,n){for(var a=0,i=r;i<r+n;i++)a<<=1,e[i]&&(a|=1);return a},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Ne=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,a){var i=e-n,s=r-a;return Math.sqrt(i*i+s*s)},t.sum=function(e){for(var r=0,n=0,a=e.length;n!==a;n++){var i=e[n];r+=i}return r},t}(),Od=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),ee=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Od.floatToIntBits(this.x)+Od.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),i,s,o;if(n>=r&&n>=a?(s=e[0],i=e[1],o=e[2]):a>=n&&a>=r?(s=e[1],i=e[0],o=e[2]):(s=e[2],i=e[0],o=e[1]),this.crossProductZ(i,s,o)<0){var c=i;i=o,o=c}e[0]=i,e[1]=s,e[2]=o},t.distance=function(e,r){return Ne.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var a=r.x,i=r.y;return(n.x-a)*(e.y-i)-(n.y-i)*(e.x-a)},t}(),o0=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),u_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d_=function(t){u_(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n)||this;return o.compact=a,o.nbDatablocks=i,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(o0),Rd=function(){function t(e,r,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var i=r/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new P}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,a=this.downInit,i=!1,s=!0,o=!1,c=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;s;){s=!1;for(var x=!0;(x||!c)&&r<h;)x=this.containsBlackPoint(n,a,r,!1),x?(r++,s=!0,c=!0):c||r++;if(r>=h){i=!0;break}for(var g=!0;(g||!u)&&a<p;)g=this.containsBlackPoint(e,r,a,!0),g?(a++,s=!0,u=!0):u||a++;if(a>=p){i=!0;break}for(var y=!0;(y||!d)&&e>=0;)y=this.containsBlackPoint(n,a,e,!1),y?(e--,s=!0,d=!0):d||e--;if(e<0){i=!0;break}for(var v=!0;(v||!f)&&n>=0;)v=this.containsBlackPoint(e,r,n,!0),v?(n--,s=!0,f=!0):f||n--;if(n<0){i=!0;break}s&&(o=!0)}if(!i&&o){for(var m=r-e,w=null,b=1;w===null&&b<m;b++)w=this.getBlackPointOnSegment(e,a-b,e+b,a);if(w==null)throw new P;for(var N=null,b=1;N===null&&b<m;b++)N=this.getBlackPointOnSegment(e,n+b,e+b,n);if(N==null)throw new P;for(var A=null,b=1;A===null&&b<m;b++)A=this.getBlackPointOnSegment(r,n+b,r-b,n);if(A==null)throw new P;for(var C=null,b=1;C===null&&b<m;b++)C=this.getBlackPointOnSegment(r,a-b,r-b,a);if(C==null)throw new P;return this.centerEdges(C,w,A,N)}else throw new P},t.prototype.getBlackPointOnSegment=function(e,r,n,a){for(var i=Ne.round(Ne.distance(e,r,n,a)),s=(n-e)/i,o=(a-r)/i,c=this.image,u=0;u<i;u++){var d=Ne.round(e+u*s),f=Ne.round(r+u*o);if(c.get(d,f))return new ee(d,f)}return null},t.prototype.centerEdges=function(e,r,n,a){var i=e.getX(),s=e.getY(),o=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),f=a.getX(),h=a.getY(),p=t.CORR;return i<this.width/2?[new ee(f-p,h+p),new ee(o+p,c+p),new ee(u-p,d-p),new ee(i+p,s-p)]:[new ee(f+p,h+p),new ee(o+p,c-p),new ee(u-p,d+p),new ee(i-p,s-p)]},t.prototype.containsBlackPoint=function(e,r,n,a){var i=this.image;if(a){for(var s=e;s<=r;s++)if(i.get(s,n))return!0}else for(var o=e;o<=r;o++)if(i.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),S1=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),a=e.getHeight(),i=!0,s=0;s<r.length&&i;s+=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new P;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}i=!0;for(var s=r.length-2;s>=0&&i;s-=2){var o=Math.floor(r[s]),c=Math.floor(r[s+1]);if(o<-1||o>n||c<-1||c>a)throw new P;i=!1,o===-1?(r[s]=0,i=!0):o===n&&(r[s]=n-1,i=!0),c===-1?(r[s+1]=0,i=!0):c===a&&(r[s+1]=a-1,i=!0)}},t}(),dg=function(){function t(e,r,n,a,i,s,o,c,u){this.a11=e,this.a21=r,this.a31=n,this.a12=a,this.a22=i,this.a32=s,this.a13=o,this.a23=c,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,a,i,s,o,c,u,d,f,h,p,x,g,y){var v=t.quadrilateralToSquare(e,r,n,a,i,s,o,c),m=t.squareToQuadrilateral(u,d,f,h,p,x,g,y);return m.times(v)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],x=e[h+1],g=i*p+c*x+f;e[h]=(n*p+s*x+u)/g,e[h+1]=(a*p+o*x+d)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var x=e[p],g=r[p],y=i*x+c*g+f;e[p]=(n*x+s*g+u)/y,r[p]=(a*x+o*g+d)/y}},t.squareToQuadrilateral=function(e,r,n,a,i,s,o,c){var u=e-n+i-o,d=r-a+s-c;if(u===0&&d===0)return new t(n-e,i-n,e,a-r,s-a,r,0,0,1);var f=n-i,h=o-i,p=a-s,x=c-s,g=f*x-h*p,y=(u*x-h*d)/g,v=(f*d-u*p)/g;return new t(n-e+y*n,o-e+v*o,e,a-r+y*a,c-r+v*c,r,y,v,1)},t.quadrilateralToSquare=function(e,r,n,a,i,s,o,c){return t.squareToQuadrilateral(e,r,n,a,i,s,o,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),f_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h_=function(t){f_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,a,i,s,o,c,u,d,f,h,p,x,g,y,v,m,w,b){var N=dg.quadrilateralToQuadrilateral(i,s,o,c,u,d,f,h,p,x,g,y,v,m,w,b);return this.sampleGridWithTransform(r,n,a,N)},e.prototype.sampleGridWithTransform=function(r,n,a,i){if(n<=0||a<=0)throw new P;for(var s=new hn(n,a),o=new Float32Array(2*n),c=0;c<a;c++){for(var u=o.length,d=c+.5,f=0;f<u;f+=2)o[f]=f/2+.5,o[f+1]=d;i.transformPoints(o),S1.checkAndNudgePoints(r,o);try{for(var f=0;f<u;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&s.set(f/2,c)}catch{throw new P}}return s},e}(S1),l0=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new h_,t}(),qt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new ee(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),p_=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new d_(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new P;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var a=0,i=0;i<4;i++){var s=n[(this.shift+i)%4];this.compact?(a<<=7,a+=s>>1&127):(a<<=10,a+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(i,s,o){var c=(i>>r-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(me.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new P},t.prototype.getCorrectedParameterData=function(e,r){var n,a;r?(n=7,a=2):(n=10,a=4);for(var i=n-a,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var c=new Nc(tr.AZTEC_PARAM);c.decode(s,i)}catch{throw new P}for(var u=0,o=0;o<a;o++)u=(u<<4)+s[o];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,a=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,s,1,-1),c=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(a,s,-1,1),d=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(i,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,c,u,d))break}r=o,n=c,a=u,i=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new P;this.compact=this.nbCenterLayers===5;var h=new ee(r.getX()+.5,r.getY()-.5),p=new ee(n.getX()+.5,n.getY()+.5),x=new ee(a.getX()-.5,a.getY()+.5),g=new ee(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,p,x,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,a;try{var i=new Rd(this.image).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new qt(s+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new qt(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new qt(s-7,o+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new qt(s-7,o-7),!1,-1,-1).toResultPoint()}var c=Ne.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Ne.round((e.getY()+a.getY()+r.getY()+n.getY())/4);try{var i=new Rd(this.image,15,c,u).detect();e=i[0],r=i[1],n=i[2],a=i[3]}catch{e=this.getFirstDifferent(new qt(c+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new qt(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new qt(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new qt(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Ne.round((e.getX()+a.getX()+r.getX()+n.getX())/4),u=Ne.round((e.getY()+a.getY()+r.getY()+n.getY())/4),new qt(c,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,a,i){var s=l0.getInstance(),o=this.getDimension(),c=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,c,c,u,c,u,u,c,u,r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(e,r,n){for(var a=0,i=this.distanceResultPoint(e,r),s=i/n,o=e.getX(),c=e.getY(),u=s*(r.getX()-e.getX())/i,d=s*(r.getY()-e.getY())/i,f=0;f<n;f++)this.image.get(Ne.round(o+f*u),Ne.round(c+f*d))&&(a|=1<<n-f-1);return a},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,a){var i=3;e=new qt(e.getX()-i,e.getY()+i),r=new qt(r.getX()-i,r.getY()-i),n=new qt(n.getX()+i,n.getY()-i),a=new qt(a.getX()+i,a.getY()+i);var s=this.getColor(a,e);if(s===0)return!1;var o=this.getColor(e,r);return o!==s||(o=this.getColor(r,n),o!==s)?!1:(o=this.getColor(n,a),o===s)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),a=(r.getX()-e.getX())/n,i=(r.getY()-e.getY())/n,s=0,o=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)o+=a,c+=i,this.image.get(Ne.round(o),Ne.round(c))!==u&&s++;var h=s/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,a){for(var i=e.getX()+n,s=e.getY()+a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n,s+=a;for(i-=n,s-=a;this.isValid(i,s)&&this.image.get(i,s)===r;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===r;)s+=a;return s-=a,new qt(i,s)},t.prototype.expandSquare=function(e,r,n){var a=n/(2*r),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new ee(o+a*i,c+a*s),d=new ee(o-a*i,c-a*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var f=new ee(o+a*i,c+a*s),h=new ee(o-a*i,c-a*s),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Ne.round(e.getX()),n=Ne.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Ne.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Ne.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(me.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Pd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,a=new p_(e.getBlackMatrix()),i=null,s=null;try{var o=a.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new C1().decode(o)}catch(f){n=f}if(s==null)try{var o=a.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(r,i),s=new C1().decode(o)}catch(f){throw n??f}var c=new zt(s.getText(),s.getRawBytes(),s.getNumBits(),i,ae.AZTEC,Be.currentTimeMillis()),u=s.getByteSegments();u!=null&&c.putMetadata(Ot.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&c.putMetadata(Ot.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Ke.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(a,i,s){n.foundPossibleResultPoint(a)})}},t.prototype.reset=function(){},t}(),m_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){m_(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Pd,r)||this}return e})(Gi);var yt=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Ke.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),i=this.doDecode(a,r),s=i.getResultMetadata(),o=270;s!==null&&s.get(Ot.ORIENTATION)===!0&&(o=o+s.get(Ot.ORIENTATION)%360),i.putMetadata(Ot.ORIENTATION,o);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),d=0;d<c.length;d++)c[d]=new ee(u-c[d].getY()-1,c[d].getX());return i}else throw new P}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),a=e.getHeight(),i=new Ct(n),s=r&&r.get(Ke.TRY_HARDER)===!0,o=Math.max(1,a>>(s?8:5)),c;s?c=a:c=15;for(var u=Math.trunc(a/2),d=0;d<c;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+o*(h?f:-f);if(p<0||p>=a)break;try{i=e.getBlackRow(p,i)}catch{continue}for(var x=function(m){if(m===1&&(i.reverse(),r&&r.get(Ke.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(A,C){return w.set(C,A)}),w.delete(Ke.NEED_RESULT_POINT_CALLBACK),r=w}try{var b=g.decodeRow(p,i,r);if(m===1){b.putMetadata(Ot.ORIENTATION,180);var N=b.getResultPoints();N!==null&&(N[0]=new ee(n-N[0].getX()-1,N[0].getY()),N[1]=new ee(n-N[1].getX()-1,N[1].getY()))}return{value:b}}catch{}},g=this,y=0;y<2;y++){var v=x(y);if(typeof v=="object")return v.value}}throw new P},t.recordPattern=function(e,r,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var s=e.getSize();if(r>=s)throw new P;for(var o=!e.get(r),c=0,u=r;u<s;){if(e.get(u)!==o)n[c]++;else{if(++c===a)break;n[c]=1,o=!o}u++}if(!(c===a||c===a-1&&u===s))throw new P},t.recordPatternInReverse=function(e,r,n){for(var a=n.length,i=e.get(r);r>0&&a>=0;)e.get(--r)!==i&&(a--,i=!i);if(a>=0)throw new P;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return Number.POSITIVE_INFINITY;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/i},t}(),x_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A1=function(t){x_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),a=r.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),o=a,c=!1,u=6,d=a;d<n;d++)if(r.get(d)!==c)s[i]++;else{if(i===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var x=yt.patternMatchVariance(s,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);x<f&&(f=x,h=p)}if(h>=0&&r.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,h]);o+=s[0]+s[1],s=s.slice(2,s.length-1),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new P},e.decodeCode=function(r,n,a){yt.recordPattern(r,a,n);for(var i=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var c=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=o)}if(s>=0)return s;throw new P},e.prototype.decodeRow=function(r,n,a){var i=a&&a.get(Ke.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],c=0,u=new Uint8Array(20);u[c++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new W}for(var f=!1,h=!1,p="",x=s[0],g=s[1],y=Int32Array.from([0,0,0,0,0,0]),v=0,m=0,w=o,b=0,N=!0,A=!1,C=!1;!f;){var S=h;switch(h=!1,v=m,m=e.decodeCode(n,y,g),u[c++]=m,m!==e.CODE_STOP&&(N=!0),m!==e.CODE_STOP&&(b++,w+=b*m),x=g,g+=y.reduce(function(le,U){return le+U},0),m){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new W}switch(d){case e.CODE_CODE_A:if(m<64)C===A?p+=String.fromCharCode(" ".charCodeAt(0)+m):p+=String.fromCharCode(" ".charCodeAt(0)+m+128),C=!1;else if(m<96)C===A?p+=String.fromCharCode(m-64):p+=String.fromCharCode(m+64),C=!1;else switch(m!==e.CODE_STOP&&(N=!1),m){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!A&&C?(A=!0,C=!1):A&&C?(A=!1,C=!1):C=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(m<96)C===A?p+=String.fromCharCode(" ".charCodeAt(0)+m):p+=String.fromCharCode(" ".charCodeAt(0)+m+128),C=!1;else switch(m!==e.CODE_STOP&&(N=!1),m){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!A&&C?(A=!0,C=!1):A&&C?(A=!1,C=!1):C=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(m<100)m<10&&(p+="0"),p+=m;else switch(m!==e.CODE_STOP&&(N=!1),m){case e.CODE_FNC_1:i&&(p.length===0?p+="]C1":p+=String.fromCharCode(29));break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var T=g-x;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-x)/2),!1))throw new P;if(w-=b*v,w%103!==v)throw new Et;var k=p.length;if(k===0)throw new P;k>0&&N&&(d===e.CODE_CODE_C?p=p.substring(0,k-2):p=p.substring(0,k-1));for(var D=(s[1]+s[0])/2,I=x+T/2,L=u.length,F=new Uint8Array(L),$=0;$<L;$++)F[$]=u[$];var K=[new ee(D,r),new ee(I,r)];return new zt(p,F,0,K,ae.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(yt),g_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ou=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j1=function(t){g_(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var a=t.call(this)||this;return a.usingCheckDigit=r,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,x;do{e.recordPattern(n,f,u);var g=e.toNarrowWidePattern(u);if(g<0)throw new P;p=e.patternToChar(g),this.decodeRowResult+=p,x=f;try{for(var y=(i=void 0,ou(u)),v=y.next();!v.done;v=y.next()){var m=v.value;f+=m}}catch(L){i={error:L}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var b=ou(u),N=b.next();!N.done;N=b.next()){var m=N.value;w+=m}}catch(L){o={error:L}}finally{try{N&&!N.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}var A=f-x-w;if(f!==h&&A*2<w)throw new P;if(this.usingCheckDigit){for(var C=this.decodeRowResult.length-1,S=0,T=0;T<C;T++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(T));if(this.decodeRowResult.charAt(C)!==e.ALPHABET_STRING.charAt(S%43))throw new Et;this.decodeRowResult=this.decodeRowResult.substring(0,C)}if(this.decodeRowResult.length===0)throw new P;var k;this.extendedMode?k=e.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;var D=(d[1]+d[0])/2,I=x+w/2;return new zt(k,null,0,[new ee(D,r),new ee(I,r)],ae.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var a=r.getSize(),i=r.getNextSet(0),s=0,o=i,c=!1,u=n.length,d=i;d<a;d++)if(r.get(d)!==c)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new P},e.toNarrowWidePattern=function(r){var n,a,i=r.length,s=0,o;do{var c=2147483647;try{for(var u=(n=void 0,ou(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<c&&f>s&&(c=f)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}s=c,o=0;for(var h=0,p=0,x=0;x<i;x++){var f=r[x];f>s&&(p|=1<<i-1-x,o++,h+=f)}if(o===3){for(var x=0;x<i&&o>0;x++){var f=r[x];if(f>s&&(o--,f*2>=h))return-1}return p}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new P},e.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=r.charAt(i+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new W;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new W;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new W;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new W;break}a+=c,i++}else a+=s}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(yt),v_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},I1=function(t){v_(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,x;do{e.recordPattern(n,d,h);var g=this.toPattern(h);if(g<0)throw new P;p=this.patternToChar(g),this.decodeRowResult+=p,x=d;try{for(var y=(i=void 0,lu(h)),v=y.next();!v.done;v=y.next()){var m=v.value;d+=m}}catch(T){i={error:T}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var b=lu(h),N=b.next();!N.done;N=b.next()){var m=N.value;w+=m}}catch(T){o={error:T}}finally{try{N&&!N.done&&(c=b.return)&&c.call(b)}finally{if(o)throw o.error}}if(d===f||!n.get(d))throw new P;if(this.decodeRowResult.length<2)throw new P;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var A=this.decodeExtended(this.decodeRowResult),C=(u[1]+u[0])/2,S=x+w/2;return new zt(A,null,0,[new ee(C,r),new ee(S,r)],ae.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),a=r.getNextSet(0);this.counters.fill(0);for(var i=this.counters,s=a,o=!1,c=i.length,u=0,d=a;d<n;d++)if(r.get(d)!==o)i[u]++;else{if(u===c-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,o=!o}throw new P},e.prototype.toPattern=function(r){var n,a,i=0;try{for(var s=lu(r),o=s.next();!o.done;o=s.next()){var c=o.value;i+=c}}catch(x){n={error:x}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/i);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new P},e.prototype.decodeExtended=function(r){for(var n=r.length,a="",i=0;i<n;i++){var s=r.charAt(i);if(s>="a"&&s<="d"){if(i>=n-1)throw new W;var o=r.charAt(i+1),c="\0";switch(s){case"d":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new W;break;case"a":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new W;break;case"b":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o>="X"&&o<="Z")c=String.fromCharCode(127);else throw new W;break;case"c":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new W;break}a+=c,i++}else a+=s}return a},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,a){for(var i=1,s=0,o=n-1;o>=0;o--)s+=i*e.ALPHABET_STRING.indexOf(r.charAt(o)),++i>a&&(i=1);if(r.charAt(n)!==e.ALPHABET_STRING[s%47])throw new Et},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(yt),y_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k1=function(t){y_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,a){var i,s,o=this.decodeStart(n),c=this.decodeEnd(n),u=new pe;e.decodeMiddle(n,o[1],c[0],u);var d=u.toString(),f=null;a!=null&&(f=a.get(Ke.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,x=0;try{for(var g=w_(f),y=g.next();!y.done;y=g.next()){var v=y.value;if(h===v){p=!0;break}v>x&&(x=v)}}catch(b){i={error:b}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!p&&h>x&&(p=!0),!p)throw new W;var m=[new ee(o[1],r),new ee(c[0],r)],w=new zt(d,null,0,m,ae.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,a,i){var s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);n<a;){yt.recordPattern(r,n,s);for(var u=0;u<5;u++){var d=2*u;o[u]=s[d],c[u]=s[d+1]}var f=e.decodeDigit(o);i.append(f.toString()),f=this.decodeDigit(c),i.append(f.toString()),s.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),a=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a},e.prototype.validateQuietZone=function(r,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!r.get(i);i--)a--;if(a!==0)throw new P},e.skipWhiteSpace=function(r){var n=r.getSize(),a=r.getNextSet(0);if(a===n)throw new P;return a},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),a=void 0;try{a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof P&&(a=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);var i=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-i,a}finally{r.reverse()}},e.findGuardPattern=function(r,n,a){var i=a.length,s=new Int32Array(i),o=r.getSize(),c=!1,u=0,d=n;s.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==c)s[u]++;else{if(u===i-1){if(yt.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=s[0]+s[1],Be.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new P},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,a=-1,i=e.PATTERNS.length,s=0;s<i;s++){var o=e.PATTERNS[s],c=yt.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=s):c===n&&(a=-1)}if(a>=0)return a%10;throw new P},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(yt),b_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bi=function(t){b_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,a,i=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),a=e.findGuardPattern(r,i,!1,this.START_END_PATTERN,s);var o=a[0];i=a[1];var c=o-(i-o);c>=0&&(n=r.isRange(c,o,!1))}return a},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,a,i){return this.findGuardPattern(r,n,a,i,new Int32Array(i.length))},e.findGuardPattern=function(r,n,a,i,s){var o=r.getSize();n=a?r.getNextUnset(n):r.getNextSet(n);for(var c=0,u=n,d=i.length,f=a,h=n;h<o;h++)if(r.get(h)!==f)s[c]++;else{if(c===d-1){if(yt.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=s[0]+s[1];for(var p=s.slice(2,s.length),x=0;x<c-1;x++)s[x]=p[x];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,f=!f}throw new P},e.decodeDigit=function(r,n,a,i){this.recordPattern(r,a,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,c=i.length,u=0;u<c;u++){var d=i[u],f=yt.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=u)}if(o>=0)return o;throw new P},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(yt),__=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N_=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new ee((n[0]+n[1])/2,e),new ee(i,e)],u=new zt(s,null,0,c,ae.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<5&&c<o;d++){var f=Bi.decodeDigit(e,s,c,Bi.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(a=void 0,__(s)),p=h.next();!p.done;p=h.next()){var x=p.value;c+=x}}catch(y){a={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new P;var g=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==g)throw new P;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,a=r-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var a=r-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new P},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Ot.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return r+a+"."+s},t}(),E_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C_=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(r,n,a),s=a.toString(),o=t.parseExtensionString(s),c=[new ee((n[0]+n[1])/2,e),new ee(i,e)],u=new zt(s,null,0,c,ae.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},t.prototype.decodeMiddle=function(e,r,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=r[1],u=0,d=0;d<2&&c<o;d++){var f=Bi.decodeDigit(e,s,c,Bi.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var h=(a=void 0,E_(s)),p=h.next();!p.done;p=h.next()){var x=p.value;c+=x}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}f>=10&&(u|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new P;if(parseInt(n.toString())%4!==u)throw new P;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Ot.ISSUE_NUMBER,parseInt(e)]])},t}(),S_=function(){function t(){}return t.decodeRow=function(e,r,n){var a=Bi.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new N_;return i.decodeRow(e,r,a)}catch{var s=new C_;return s.decodeRow(e,r,a)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),A_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mt=function(t){A_(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],i=new Int32Array(a.length),s=0;s<a.length;s++)i[s]=a[a.length-s-1];e.L_AND_G_PATTERNS[n]=i}return r}return e.prototype.decodeRow=function(r,n,a){var i=e.findStartGuardPattern(n),s=a==null?null:a.get(Ke.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new ee((i[0]+i[1])/2,r);s.foundPossibleResultPoint(o)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(s!=null){var f=new ee(u,r);s.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(s!=null){var p=new ee((h[0]+h[1])/2,r);s.foundPossibleResultPoint(p)}var x=h[1],g=x+(x-h[0]);if(g>=n.getSize()||!n.isRange(x,g,!1))throw new P;var y=d.toString();if(y.length<8)throw new W;if(!e.checkChecksum(y))throw new Et;var v=(i[1]+i[0])/2,m=(h[1]+h[0])/2,w=this.getBarcodeFormat(),b=[new ee(v,r),new ee(m,r)],N=new zt(y,null,0,b,w,new Date().getTime()),A=0;try{var C=S_.decodeRow(r,n,h[1]);N.putMetadata(Ot.UPC_EAN_EXTENSION,C.getText()),N.putAllMetadata(C.getResultMetadata()),N.addResultPoints(C.getResultPoints()),A=C.getText().length}catch{}var S=a==null?null:a.get(Ke.ALLOWED_EAN_EXTENSIONS);if(S!=null){var T=!1;for(var k in S)if(A.toString()===k){T=!0;break}if(!T)throw new P}return w===ae.EAN_13||ae.UPC_A,N},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var a=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,a=0,i=n-1;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=r.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new W;a+=s}return(1e3-a)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Bi),j_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),T1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dd=function(t){j_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var x=mt.decodeDigit(r,u,f,mt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+x%10);try{for(var g=(i=void 0,T1(u)),y=g.next();!y.done;y=g.next()){var v=y.value;f+=v}}catch(N){i={error:N}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}x>=10&&(h|=1<<5-p)}a=e.determineFirstDigit(a,h);var m=mt.findGuardPattern(r,f,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0));f=m[1];for(var p=0;p<6&&f<d;p++){var x=mt.decodeDigit(r,u,f,mt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+x);try{for(var w=(o=void 0,T1(u)),b=w.next();!b.done;b=w.next()){var v=b.value;f+=v}}catch(C){o={error:C}}finally{try{b&&!b.done&&(c=w.return)&&c.call(w)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return ae.EAN_13},e.determineFirstDigit=function(r,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode("0".charCodeAt(0)+a)+r,r;throw new P},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(mt),I_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R1=function(t){I_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=mt.decodeDigit(r,u,f,mt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var x=(i=void 0,O1(u)),g=x.next();!g.done;g=x.next()){var y=g.value;f+=y}}catch(b){i={error:b}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(i)throw i.error}}}var v=mt.findGuardPattern(r,f,!0,mt.MIDDLE_PATTERN,new Int32Array(mt.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var h=0;h<4&&f<d;h++){var p=mt.decodeDigit(r,u,f,mt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var m=(o=void 0,O1(u)),w=m.next();!w.done;w=m.next()){var y=w.value;f+=y}}catch(A){o={error:A}}finally{try{w&&!w.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:a}},e.prototype.getBarcodeFormat=function(){return ae.EAN_8},e}(mt),k_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P1=function(t){k_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Dd,r}return e.prototype.getBarcodeFormat=function(){return ae.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,a))},e.prototype.decodeMiddle=function(r,n,a){return this.ean13Reader.decodeMiddle(r,n,a)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var a=new zt(n.substring(1),null,null,r.getResultPoints(),ae.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new P},e.prototype.reset=function(){this.ean13Reader.reset()},e}(mt),T_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D1=function(t){T_(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,a){var i,s,o=this.decodeMiddleCounters.map(function(y){return y});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var c=r.getSize(),u=n[1],d=0,f=0;f<6&&u<c;f++){var h=e.decodeDigit(r,o,u,e.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var p=(i=void 0,O_(o)),x=p.next();!x.done;x=p.next()){var g=x.value;u+=g}}catch(y){i={error:y}}finally{try{x&&!x.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new pe(a),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return mt.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){r.insert(0,"0"+a),r.append("0"+i);return}throw P.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ae.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),a=new pe;a.append(r.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(mt),R_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cu=function(t){R_(e,t);function e(r){var n=t.call(this)||this,a=r==null?null:r.get(Ke.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(ae.EAN_13)>-1&&i.push(new Dd),a.indexOf(ae.UPC_A)>-1&&i.push(new P1),a.indexOf(ae.EAN_8)>-1&&i.push(new R1),a.indexOf(ae.UPC_E)>-1&&i.push(new D1)),i.length===0&&(i.push(new Dd),i.push(new P1),i.push(new R1),i.push(new D1)),n.readers=i,n}return e.prototype.decodeRow=function(r,n,a){var i,s;try{for(var o=M1(this.readers),c=o.next();!c.done;c=o.next()){var u=c.value;try{var d=u.decodeRow(r,n,a),f=d.getBarcodeFormat()===ae.EAN_13&&d.getText().charAt(0)==="0",h=a==null?null:a.get(Ke.POSSIBLE_FORMATS),p=h==null||h.includes(ae.UPC_A);if(f&&p){var x=d.getRawBytes(),g=new zt(d.getText().substring(1),x,x?x.length:null,d.getResultPoints(),ae.UPC_A);return g.putAllMetadata(d.getResultMetadata()),g}return d}catch{}}}catch(y){i={error:y}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}throw new P},e.prototype.reset=function(){var r,n;try{for(var a=M1(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e}(yt),P_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D_=function(t){P_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,a){var i=this.getValidRowData(n);if(!i)throw new P;var s=this.codaBarDecodeRow(i.row);if(!s)throw new P;return new zt(s,null,0,[new ee(i.left,r),new ee(i.right,r)],ae.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var s=[],o=n[0],c=1,u=1;u<n.length;u++)n[u]===o?c++:(o=n[u],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:a,right:i}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],a=Math.ceil(r.reduce(function(c,u){return(c+u)/2},0));r.length>0;){var i=r.splice(0,8).splice(0,7),s=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(yt),M_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),L_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ka=function(t){M_(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var a=0;a<n.length;a++)if(yt.patternMatchVariance(r,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new P},e.count=function(r){return Ne.sum(new Int32Array(r))},e.increment=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]>i&&(i=n[s],a=s);r[a]++},e.decrement=function(r,n){for(var a=0,i=n[0],s=1;s<r.length;s++)n[s]<i&&(i=n[s],a=s);r[a]--},e.isFinderPattern=function(r){var n,a,i=r[0]+r[1],s=i+r[2]+r[3],o=i/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=L_(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<c&&(c=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(yt),Xl=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),fg=function(){function t(e,r,n,a,i){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ee(n,i)),this.resultPoints.push(new ee(a,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),F_=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xi=function(){function t(){}return t.getRSSvalue=function(e,r,n){var a,i,s=0;try{for(var o=F_(e),c=o.next();!c.done;c=o.next()){var u=c.value;s+=u}}catch(m){a={error:m}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var x=void 0;for(x=1,f|=1<<p;x<e[p];x++,f&=~(1<<p)){var g=t.combins(s-x-1,h-p-2);if(n&&f===0&&s-x-(h-p-1)>=h-p-1&&(g-=t.combins(s-x-(h-p),h-p-2)),h-p-1>1){for(var y=0,v=s-x-(h-p-2);v>r;v--)y+=t.combins(s-x-v-1,h-p-3);g-=y*(h-1-p)}else s-x>r&&g--;d+=g}s-=x}return d},t.combins=function(e,r){var n,a;e-r>r?(a=r,n=e-r):(a=e-r,n=r);for(var i=1,s=1,o=e;o>n;o--)i*=o,s<=a&&(i/=s,s++);for(;s<=a;)i/=s,s++;return i},t}(),B_=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,a=new Ct(n),i=0,s=e[0],o=s.getRightChar().getValue(),c=11;c>=0;--c)o&1<<c&&a.set(i),i++;for(var c=1;c<e.length;++c){for(var u=e[c],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&a.set(i),i++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&a.set(i),i++}return a},t}(),Ca=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),c0=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),U_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Br=function(t){U_(e,t);function e(r,n){var a=t.call(this,r)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(c0),z_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sa=function(t){z_(e,t);function e(r,n,a){var i=t.call(this,r)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(c0),V_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ja=function(t){V_(e,t);function e(r,n,a){var i=t.call(this,r)||this;if(n<0||n>10||a<0||a>10)throw new W;return i.firstDigit=n,i.secondDigit=a,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(c0),Fo=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$_=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,a,i,s,o,c,u;if(!e)return null;if(e.length<2)throw new P;var d=e.substring(0,2);try{for(var f=Fo(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(A){r={error:A}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new P;var x=e.substring(0,3);try{for(var g=Fo(t.THREE_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next()){var p=y.value;if(p[0]===x)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(A){a={error:A}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}try{for(var v=Fo(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),m=v.next();!m.done;m=v.next()){var p=m.value;if(p[0]===x)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){s={error:A}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}if(e.length<4)throw new P;var w=e.substring(0,4);try{for(var b=Fo(t.FOUR_DIGIT_DATA_LENGTH),N=b.next();!N.done;N=b.next()){var p=N.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){c={error:A}}finally{try{N&&!N.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}throw new P},t.processFixedAI=function(e,r,n){if(n.length<e)throw new P;var a=n.substring(0,e);if(n.length<e+r)throw new P;var i=n.substring(e,e+r),s=n.substring(e+r),o="("+a+")"+i,c=t.parseFieldsInGeneralPurpose(s);return c==null?o:o+c},t.processVariableAI=function(e,r,n){var a=n.substring(0,e),i;n.length<e+r?i=n.length:i=e+r;var s=n.substring(e,i),o=n.substring(i),c="("+a+")"+s,u=t.parseFieldsInGeneralPurpose(o);return u==null?c:c+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),ll=function(){function t(e){this.buffer=new pe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,a=null;do{var i=this.decodeGeneralPurposeField(n,a),s=$_.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Ja(this.information.getSize(),Ja.FNC1,Ja.FNC1):new Ja(this.information.getSize(),r-1,Ja.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,i=(n-8)%11;return new Ja(e+7,a,i)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var a=0,i=0;i<n;++i)e.get(r+i)&&(a|=1<<n-i-1);return a},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Sa(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Sa(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Sa(this.current.getPosition(),this.buffer.toString()):r=new Sa(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ca(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Sa(this.current.getPosition(),this.buffer.toString());return new Ca(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ca(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Sa(this.current.getPosition(),this.buffer.toString());return new Ca(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ca(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Sa(this.current.getPosition(),this.buffer.toString());return new Ca(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ca(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Br(e+5,Br.FNC1);if(r>=5&&r<15)return new Br(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Br(e+7,""+(n+1));if(n>=90&&n<116)return new Br(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new W}return new Br(e+8,i)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Br(e+5,Br.FNC1);if(r>=5&&r<15)return new Br(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Br(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new mo("Decoding invalid alphanumeric value: "+n)}return new Br(e+6,a)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),hg=function(){function t(e){this.information=e,this.generalDecoder=new ll(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),H_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xr=function(t){H_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,a){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);s/100===0&&r.append("0"),s/10===0&&r.append("0"),r.append(s)}e.appendCheckDigit(r,a)},e.appendCheckDigit=function(r,n){for(var a=0,i=0;i<13;i++){var s=r.charAt(i+n).charCodeAt(0)-"0".charCodeAt(0);a+=i&1?s:3*s}a=10-a%10,a===10&&(a=0),r.append(a)},e.GTIN_SIZE=40,e}(hg),W_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G_=function(t){W_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new pe;r.append("(01)");var n=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Xr),X_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z_=function(t){X_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new pe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(hg),Y_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cl=function(t){Y_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(r,i);for(var s=this.checkWeight(i),o=1e5,c=0;c<5;++c)s/o===0&&r.append("0"),o/=10;r.append(s)},e}(Xr),K_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pg=function(t){K_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+cl.GTIN_SIZE+e.WEIGHT_SIZE)throw new P;var r=new pe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+cl.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(cl),q_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q_=function(t){q_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(pg),J_=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e6=function(t){J_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(pg),t6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r6=function(t){t6(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Xr.GTIN_SIZE)throw new P;var r=new pe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Xr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Xr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Xr),n6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a6=function(t){n6(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Xr.GTIN_SIZE)throw new P;var r=new pe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Xr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Xr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Xr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Xr),i6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dn=function(t){i6(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.dateCode=a,i.firstAIdigits=n,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new P;var r=new pe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){r.append("("),r.append(this.dateCode),r.append(")");var i=a%32;a/=32;var s=a%12+1;a/=12;var o=a;o/10===0&&r.append("0"),r.append(o),s/10===0&&r.append("0"),r.append(s),i/10===0&&r.append("0"),r.append(i)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(cl);function s6(t){try{if(t.get(1))return new G_(t);if(!t.get(2))return new Z_(t);var e=ll.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Q_(t);case 5:return new e6(t)}var r=ll.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new r6(t);case 13:return new a6(t)}var n=ll.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Dn(t,"310","11");case 57:return new Dn(t,"320","11");case 58:return new Dn(t,"310","13");case 59:return new Dn(t,"320","13");case 60:return new Dn(t,"310","15");case 61:return new Dn(t,"320","15");case 62:return new Dn(t,"310","17");case 63:return new Dn(t,"320","17")}}catch(a){throw console.log(a),new mo("unknown decoder: "+t)}}var L1=function(){function t(e,r,n,a){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=a}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),o6=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(a,i){r.forEach(function(s){a.getLeftChar().getValue()===s.getLeftChar().getValue()&&a.getRightChar().getValue()===s.getRightChar().getValue()&&a.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),l6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mn=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c6=function(t){l6(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof P){if(!this.pairs.length)throw new P;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(r,!1),i){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new P},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var a,i,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var c=(a=void 0,Mn(r)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,s+1)}catch(h){console.log(h)}}}throw new P},e.isValidSequence=function(r){var n,a;try{for(var i=Mn(e.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var o=s.value;if(!(r.length>o.length)){for(var c=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==o[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var a=0,i=!1,s=!1;a<this.rows.length;){var o=this.rows[a];if(o.getRowNumber()>r){s=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),a++}s||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new o6(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var a,i,s,o,c,u;try{for(var d=Mn(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var x=(s=void 0,Mn(h.getPairs())),g=x.next();!g.done;g=x.next()){var y=g.value,v=!1;try{for(var m=(c=void 0,Mn(r)),w=m.next();!w.done;w=m.next()){var b=w.value;if(L1.equals(y,b)){v=!0;break}}}catch(N){c={error:N}}finally{try{w&&!w.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}v||(p=!1)}}catch(N){s={error:N}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}}}}catch(N){a={error:N}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},e.isPartialRow=function(r,n){var a,i,s,o,c,u;try{for(var d=Mn(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var x=(s=void 0,Mn(r)),g=x.next();!g.done;g=x.next()){var y=g.value,v=!1;try{for(var m=(c=void 0,Mn(h.getPairs())),w=m.next();!w.done;w=m.next()){var b=w.value;if(y.equals(b)){v=!0;break}}}catch(N){c={error:N}}finally{try{w&&!w.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}if(!v){p=!1;break}}}catch(N){s={error:N}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}if(p)return!0}}catch(N){a={error:N}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=B_.buildBitArray(r),a=s6(n),i=a.parseInformation(),s=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new zt(i,null,null,c,ae.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),a=r.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var c=this.pairs.get(o);i+=c.getLeftChar().getChecksumPortion(),s++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),s++)}i%=211;var d=211*(s-4)+i;return d===n.getValue()},e.getNextSecondBar=function(r,n){var a;return r.get(n)?(a=r.getNextUnset(n),a=r.getNextSet(a)):(a=r.getNextSet(n),a=r.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(r,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var s,o=!0,c=-1;do this.findNextPair(r,n,c),s=this.parseFoundFinderPattern(r,a,i),s===null?c=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(r,s,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new P;var d;try{d=this.decodeDataCharacter(r,s,i,!1)}catch(f){d=null,console.log(f)}return new L1(u,d,s,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s=r.getSize(),o;if(a>=0)o=a;else if(this.isEmptyPair(n))o=0;else{var c=n[n.length-1];o=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;o<s&&(d=!r.get(o),!!d);)o++;for(var f=0,h=o,p=o;p<s;p++)if(r.get(p)!==d)i[f]++;else{if(f===3){if(u&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(i),h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,d=!d}throw new P},e.reverseCounters=function(r){for(var n=r.length,a=0;a<n/2;++a){var i=r[a];r[a]=r[n-a-1],r[n-a-1]=i}},e.prototype.parseFoundFinderPattern=function(r,n,a){var i,s,o;if(a){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,i=this.startEnd[0]-c,s=c,o=this.startEnd[1]}else s=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var u=this.getDecodeFinderCounters();Be.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new fg(d,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(r,n,a,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)e.recordPatternInReverse(r,n.getStartEnd()[0],s);else{e.recordPattern(r,n.getStartEnd()[1],s);for(var c=0,u=s.length-1;c<u;c++,u--){var d=s[c];s[c]=s[u],s[u]=d}}var f=17,h=Ne.sum(new Int32Array(s))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new P;for(var x=this.getOddCounts(),g=this.getEvenCounts(),y=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var m=1*s[c]/h,w=m+.5;if(w<1){if(m<.3)throw new P;w=1}else if(w>8){if(m>8.7)throw new P;w=8}var b=c/2;c&1?(g[b]=w,v[b]=m-w):(x[b]=w,y[b]=m-w)}this.adjustOddEvenCounts(f);for(var N=4*n.getValue()+(a?0:2)+(i?0:1)-1,A=0,C=0,c=x.length-1;c>=0;c--){if(e.isNotA1left(n,a,i)){var S=e.WEIGHTS[N][2*c];C+=x[c]*S}A+=x[c]}for(var T=0,c=g.length-1;c>=0;c--)if(e.isNotA1left(n,a,i)){var S=e.WEIGHTS[N][2*c+1];T+=g[c]*S}var k=C+T;if(A&1||A>13||A<4)throw new P;var D=(13-A)/2,I=e.SYMBOL_WIDEST[D],L=9-I,F=xi.getRSSvalue(x,I,!0),$=xi.getRSSvalue(g,L,!1),K=e.EVEN_TOTAL_SUBSET[D],le=e.GSUM[D],U=F*K+$+le;return new Xl(U,k)},e.isNotA1left=function(r,n,a){return!(r.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(r){var n=Ne.sum(new Int32Array(this.getOddCounts())),a=Ne.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);var o=!1,c=!1;a>13?c=!0:a<4&&(o=!0);var u=n+a-r,d=(n&1)===1,f=(a&1)===0;if(u===1)if(d){if(f)throw new P;s=!0}else{if(!f)throw new P;c=!0}else if(u===-1)if(d){if(f)throw new P;i=!0}else{if(!f)throw new P;o=!0}else if(u===0){if(d){if(!f)throw new P;n<a?(i=!0,c=!0):(s=!0,o=!0)}else if(f)throw new P}else throw new P;if(i){if(s)throw new P;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new P;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(ka),u6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d6=function(t){u6(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.count=0,i.finderPattern=a,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Xl),f6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F1=function(t){f6(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,a){var i,s,o,c,u=this.decodePair(n,!1,r,a);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,a);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=uu(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var x=(o=void 0,uu(this.possibleRightPairs)),g=x.next();!g.done;g=x.next()){var y=g.value;if(y.getCount()>1&&e.checkChecksum(p,y))return e.constructResult(p,y)}}catch(v){o={error:v}}finally{try{g&&!g.done&&(c=x.return)&&c.call(x)}finally{if(o)throw o.error}}}}catch(v){i={error:v}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}throw new P},e.addOrTally=function(r,n){var a,i;if(n!=null){var s=!1;try{for(var o=uu(r),c=o.next();!c.done;c=o.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}s||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var a=4537077*r.getValue()+n.getValue(),i=new String(a).toString(),s=new pe,o=13-i.length;o>0;o--)s.append("0");s.append(i);for(var c=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-"0".charCodeAt(0);c+=o&1?u:3*u}c=10-c%10,c===10&&(c=0),s.append(c.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new zt(s.toString(),null,0,[d[0],d[1],f[0],f[1]],ae.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var a=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},e.prototype.decodePair=function(r,n,a,i){try{var s=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,a,n,s),c=i==null?null:i.get(Ke.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(s[0]+s[1])/2;n&&(u=r.getSize()-1-u),c.foundPossibleResultPoint(new ee(u,a))}var d=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new d6(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,a){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(a)yt.recordPatternInReverse(r,n.getStartEnd()[0],i);else{yt.recordPattern(r,n.getStartEnd()[1]+1,i);for(var o=0,c=i.length-1;o<c;o++,c--){var u=i[o];i[o]=i[c],i[c]=u}}for(var d=a?16:15,f=Ne.sum(new Int32Array(i))/d,h=this.getOddCounts(),p=this.getEvenCounts(),x=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var y=i[o]/f,v=Math.floor(y+.5);v<1?v=1:v>8&&(v=8);var m=Math.floor(o/2);o&1?(p[m]=v,g[m]=y-v):(h[m]=v,x[m]=y-v)}this.adjustOddEvenCounts(a,d);for(var w=0,b=0,o=h.length-1;o>=0;o--)b*=9,b+=h[o],w+=h[o];for(var N=0,A=0,o=p.length-1;o>=0;o--)N*=9,N+=p[o],A+=p[o];var C=b+3*N;if(a){if(w&1||w>12||w<4)throw new P;var S=(12-w)/2,T=e.OUTSIDE_ODD_WIDEST[S],k=9-T,D=xi.getRSSvalue(h,T,!1),I=xi.getRSSvalue(p,k,!0),L=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],F=e.OUTSIDE_GSUM[S];return new Xl(D*L+I+F,C)}else{if(A&1||A>10||A<4)throw new P;var S=(10-A)/2,T=e.INSIDE_ODD_WIDEST[S],k=9-T,D=xi.getRSSvalue(h,T,!0),I=xi.getRSSvalue(p,k,!1),$=e.INSIDE_ODD_TOTAL_SUBSET[S],F=e.INSIDE_GSUM[S];return new Xl(I*$+D+F,C)}},e.prototype.findFinderPattern=function(r,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=r.getSize(),s=!1,o=0;o<i&&(s=!r.get(o),n!==s);)o++;for(var c=0,u=o,d=o;d<i;d++)if(r.get(d)!==s)a[c]++;else{if(c===3){if(ka.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new P},e.prototype.parseFoundFinderPattern=function(r,n,a,i){for(var s=r.get(i[0]),o=i[0]-1;o>=0&&s!==r.get(o);)o--;o++;var c=i[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Be.arraycopy(u,0,d,1,u.length-1),d[0]=c;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=o,p=i[1];return a&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new fg(f,[o,i[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var a=Ne.sum(new Int32Array(this.getOddCounts())),i=Ne.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,u=!1;r?(a>12?o=!0:a<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?o=!0:a<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));var d=a+i-n,f=(a&1)===(r?1:0),h=(i&1)===1;if(d===1)if(f){if(h)throw new P;o=!0}else{if(!h)throw new P;u=!0}else if(d===-1)if(f){if(h)throw new P;s=!0}else{if(!h)throw new P;c=!0}else if(d===0){if(f){if(!h)throw new P;a<i?(s=!0,u=!0):(o=!0,c=!0)}else if(h)throw new P}else throw new P;if(s){if(o)throw new P;ka.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&ka.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new P;ka.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&ka.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ka),h6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vs=function(t){h6(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var a=r?r.get(Ke.POSSIBLE_FORMATS):null,i=r&&r.get(Ke.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return a&&((a.includes(ae.EAN_13)||a.includes(ae.UPC_A)||a.includes(ae.EAN_8)||a.includes(ae.UPC_E))&&n.readers.push(new cu(r)),a.includes(ae.CODE_39)&&n.readers.push(new j1(i)),a.includes(ae.CODE_93)&&n.readers.push(new I1),a.includes(ae.CODE_128)&&n.readers.push(new A1),a.includes(ae.ITF)&&n.readers.push(new k1),a.includes(ae.CODABAR)&&n.readers.push(new D_),a.includes(ae.RSS_14)&&n.readers.push(new F1),a.includes(ae.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new c6))),n.readers.length===0&&(n.readers.push(new cu(r)),n.readers.push(new j1),n.readers.push(new I1),n.readers.push(new cu(r)),n.readers.push(new A1),n.readers.push(new k1),n.readers.push(new F1)),n}return e.prototype.decodeRow=function(r,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(r,n,a)}catch{}throw new P},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(yt),p6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){p6(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new vs(n),r,n)||this}return e})(Gi);var B1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ae=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Ce=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),m6=function(){function t(e,r,n,a,i,s){var o,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=s;var u=0,d=s.getECCodewords(),f=s.getECBlocks();try{for(var h=B1(f),p=h.next();!p.done;p=h.next()){var x=p.value;u+=x.getCount()*(x.getDataCodewords()+d)}}catch(g){o={error:g}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,a;if(e&1||r&1)throw new W;try{for(var i=B1(t.VERSIONS),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(c){n={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new W},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ae(5,new Ce(1,3))),new t(2,12,12,10,10,new Ae(7,new Ce(1,5))),new t(3,14,14,12,12,new Ae(10,new Ce(1,8))),new t(4,16,16,14,14,new Ae(12,new Ce(1,12))),new t(5,18,18,16,16,new Ae(14,new Ce(1,18))),new t(6,20,20,18,18,new Ae(18,new Ce(1,22))),new t(7,22,22,20,20,new Ae(20,new Ce(1,30))),new t(8,24,24,22,22,new Ae(24,new Ce(1,36))),new t(9,26,26,24,24,new Ae(28,new Ce(1,44))),new t(10,32,32,14,14,new Ae(36,new Ce(1,62))),new t(11,36,36,16,16,new Ae(42,new Ce(1,86))),new t(12,40,40,18,18,new Ae(48,new Ce(1,114))),new t(13,44,44,20,20,new Ae(56,new Ce(1,144))),new t(14,48,48,22,22,new Ae(68,new Ce(1,174))),new t(15,52,52,24,24,new Ae(42,new Ce(2,102))),new t(16,64,64,14,14,new Ae(56,new Ce(2,140))),new t(17,72,72,16,16,new Ae(36,new Ce(4,92))),new t(18,80,80,18,18,new Ae(48,new Ce(4,114))),new t(19,88,88,20,20,new Ae(56,new Ce(4,144))),new t(20,96,96,22,22,new Ae(68,new Ce(4,174))),new t(21,104,104,24,24,new Ae(56,new Ce(6,136))),new t(22,120,120,18,18,new Ae(68,new Ce(6,175))),new t(23,132,132,20,20,new Ae(62,new Ce(8,163))),new t(24,144,144,22,22,new Ae(62,new Ce(8,156),new Ce(2,155))),new t(25,8,18,6,16,new Ae(7,new Ce(1,5))),new t(26,8,32,6,14,new Ae(11,new Ce(1,10))),new t(27,12,26,10,24,new Ae(14,new Ce(1,16))),new t(28,12,36,10,16,new Ae(18,new Ce(1,22))),new t(29,16,36,14,16,new Ae(24,new Ce(1,32))),new t(30,16,48,14,22,new Ae(28,new Ce(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),x6=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new W;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new hn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return m6.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,c=!1,u=!1,d=!1;do if(n===i&&a===0&&!o)e[r++]=this.readCorner1(i,s)&255,n-=2,a+=2,o=!0;else if(n===i-2&&a===0&&s&3&&!c)e[r++]=this.readCorner2(i,s)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&!(s&7)&&!u)e[r++]=this.readCorner3(i,s)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(s&7)===4&&!d)e[r++]=this.readCorner4(i,s)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n-=2,a+=2;while(n>=0&&a<s);n+=1,a+=3;do n>=0&&a<s&&!this.readMappingMatrix.get(a,n)&&(e[r++]=this.readUtah(n,a,i,s)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<s);if(r!==this.version.getTotalCodewords())throw new W;return e},t.prototype.readModule=function(e,r,n,a){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,a){var i=0;return this.readModule(e-2,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-2,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,r,n,a)&&(i|=1),i<<=1,this.readModule(e,r-2,n,a)&&(i|=1),i<<=1,this.readModule(e,r-1,n,a)&&(i|=1),i<<=1,this.readModule(e,r,n,a)&&(i|=1),i},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new ie("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=r/a|0,o=n/i|0,c=s*a,u=o*i,d=new hn(u,c),f=0;f<s;++f)for(var h=f*a,p=0;p<o;++p)for(var x=p*i,g=0;g<a;++g)for(var y=f*(a+2)+1+g,v=h+g,m=0;m<i;++m){var w=p*(i+2)+1+m;if(e.get(w,y)){var b=x+m;d.set(b,v)}}return d},t}(),U1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g6=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,a,i,s,o=r.getECBlocks(),c=0,u=o.getECBlocks();try{for(var d=U1(u),f=d.next();!f.done;f=d.next()){var h=f.value;c+=h.getCount()}}catch(F){n={error:F}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var p=new Array(c),x=0;try{for(var g=U1(u),y=g.next();!y.done;y=g.next())for(var h=y.value,v=0;v<h.getCount();v++){var m=h.getDataCodewords(),w=o.getECCodewords()+m;p[x++]=new t(m,new Uint8Array(w))}}catch(F){i={error:F}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}for(var b=p[0].codewords.length,N=b-o.getECCodewords(),A=N-1,C=0,v=0;v<A;v++)for(var S=0;S<x;S++)p[S].codewords[v]=e[C++];for(var T=r.getVersionNumber()===24,k=T?8:x,S=0;S<k;S++)p[S].codewords[N-1]=e[C++];for(var D=p[0].codewords.length,v=N;v<D;v++)for(var S=0;S<x;S++){var I=T?(S+8)%x:S,L=T&&I>7?v-1:v;p[I].codewords[L]=e[C++]}if(C!==e.length)throw new ie;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),mg=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ie(""+e);var r=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,c=s-o,u=255>>8-o<<c;r=(i[a]&u)>>c,e-=o,n+=o,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)r=r<<8|i[a]&255,a++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;r=r<<e|(i[a]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=a,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),dt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(dt||(dt={}));var v6=function(){function t(){}return t.decode=function(e){var r=new mg(e),n=new pe,a=new pe,i=new Array,s=dt.ASCII_ENCODE;do if(s===dt.ASCII_ENCODE)s=this.decodeAsciiSegment(r,n,a);else{switch(s){case dt.C40_ENCODE:this.decodeC40Segment(r,n);break;case dt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case dt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case dt.BASE256_ENCODE:this.decodeBase256Segment(r,n,i);break;default:throw new W}s=dt.ASCII_ENCODE}while(s!==dt.PAD_ENCODE&&r.available()>0);return a.length()>0&&n.append(a.toString()),new _c(e,n.toString(),i.length===0?null:i,null)},t.decodeAsciiSegment=function(e,r,n){var a=!1;do{var i=e.readBits(8);if(i===0)throw new W;if(i<=128)return a&&(i+=128),r.append(String.fromCharCode(i-1)),dt.ASCII_ENCODE;if(i===129)return dt.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&r.append("0"),r.append(""+s)}else switch(i){case 230:return dt.C40_ENCODE;case 231:return dt.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return dt.ANSIX12_ENCODE;case 239:return dt.TEXT_ENCODE;case 240:return dt.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new W;break}}while(e.available()>0);return dt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new W;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new W}i=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),i=0;break;default:throw new W}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new W;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(c){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new W}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),i=0}else throw new W;break;default:throw new W}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var i=0;i<3;i++){var s=n[i];switch(s){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(s<14)r.append(String.fromCharCode(s+44));else if(s<40)r.append(String.fromCharCode(s+51));else throw new W;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var a=(e<<8)+r-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var a=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),a++),s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),a++),s<0)throw new W;for(var o=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new W;o[c]=this.unrandomize255State(e.readBits(8),a++)}n.push(o);try{r.append(Or.decode(o,ye.ISO88591))}catch(u){throw new mo("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,a=e-n;return a>=0?a:a+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),y6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w6=function(){function t(){this.rsDecoder=new Nc(tr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,a=new x6(e),i=a.getVersion(),s=a.readCodewords(),o=g6.getDataBlocks(s,i),c=0;try{for(var u=y6(o),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(c),p=o.length,x=0;x<p;x++){var g=o[x],y=g.getCodewords(),v=g.getNumDataCodewords();this.correctErrors(y,v);for(var m=0;m<v;m++)h[m*p+x]=y[m]}return v6.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Et}for(var a=0;a<r;a++)e[a]=n[a]},t}(),b6=function(){function t(e){this.image=e,this.rectangleDetector=new Rd(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new P;r=this.shiftToModuleCenter(r);var n=r[0],a=r[1],i=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(i,s)+1;(o&1)===1&&(o+=1),(c&1)===1&&(c+=1),4*o<7*c&&4*c<7*o&&(o=c=Math.max(o,c));var u=t.sampleGrid(this.image,n,a,i,s,o,c);return new o0(u,[n,a,i,s])},t.shiftPoint=function(e,r,n){var a=(r.getX()-e.getX())/(n+1),i=(r.getY()-e.getY())/(n+1);return new ee(e.getX()+a,e.getY()+i)},t.moveAway=function(e,r,n){var a=e.getX(),i=e.getY();return a<r?a-=1:a+=1,i<n?i-=1:i+=1,new ee(a,i)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],a=e[3],i=e[2],s=this.transitionsBetween(r,n),o=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),d=s,f=[i,r,n,a];return d>o&&(d=o,f[0]=r,f[1]=n,f[2]=a,f[3]=i),d>c&&(d=c,f[0]=n,f[1]=a,f[2]=i,f[3]=r),d>u&&(f[0]=a,f[1]=i,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=t.shiftPoint(n,a,(s+1)*4),c=t.shiftPoint(a,n,(s+1)*4),u=this.transitionsBetween(o,r),d=this.transitionsBetween(c,i);return u<d?(e[0]=r,e[1]=n,e[2]=a,e[3]=i):(e[0]=n,e[1]=a,e[2]=i,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i),o=this.transitionsBetween(n,i),c=t.shiftPoint(r,n,(o+1)*4),u=t.shiftPoint(a,n,(s+1)*4);s=this.transitionsBetween(c,i),o=this.transitionsBetween(u,i);var d=new ee(i.getX()+(a.getX()-n.getX())/(s+1),i.getY()+(a.getY()-n.getY())/(s+1)),f=new ee(i.getX()+(r.getX()-n.getX())/(o+1),i.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(c,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(r,i)+1,o=this.transitionsBetween(a,i)+1,c=t.shiftPoint(r,n,o*4),u=t.shiftPoint(a,n,s*4);s=this.transitionsBetween(c,i)+1,o=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var d=(r.getX()+n.getX()+a.getX()+i.getX())/4,f=(r.getY()+n.getY()+a.getY()+i.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),a=t.moveAway(a,d,f),i=t.moveAway(i,d,f);var h,p;return c=t.shiftPoint(r,n,o*4),c=t.shiftPoint(c,i,s*4),h=t.shiftPoint(n,r,o*4),h=t.shiftPoint(h,a,s*4),u=t.shiftPoint(a,i,o*4),u=t.shiftPoint(u,n,s*4),p=t.shiftPoint(i,a,o*4),p=t.shiftPoint(p,r,s*4),[c,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,a,i,s,o){var c=l0.getInstance();return c.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),i=Math.trunc(r.getX()),s=Math.trunc(r.getY()),o=Math.abs(s-a)>Math.abs(i-n);if(o){var c=n;n=a,a=c,c=i,i=s,s=c}for(var u=Math.abs(i-n),d=Math.abs(s-a),f=-u/2,h=a<s?1:-1,p=n<i?1:-1,x=0,g=this.image.get(o?a:n,o?n:a),y=n,v=a;y!==i;y+=p){var m=this.image.get(o?v:y,o?y:v);if(m!==g&&(x++,g=m),f+=d,f>0){if(v===s)break;v+=h,f-=u}}return x},t}(),Md=function(){function t(){this.decoder=new w6}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,a;if(r!=null&&r.has(Ke.PURE_BARCODE)){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(i),a=t.NO_POINTS}else{var s=new b6(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),a=s.getPoints()}var o=n.getRawBytes(),c=new zt(n.getText(),o,8*o.length,a,ae.DATA_MATRIX,Be.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(Ot.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(Ot.ERROR_CORRECTION_LEVEL,d),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new P;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0],u=(c-o+1)/a,d=(s-i+1)/a;if(u<=0||d<=0)throw new P;var f=a/2;i+=f,o+=f;for(var h=new hn(u,d),p=0;p<d;p++)for(var x=i+p*a,g=0;g<u;g++)e.get(o+g*a,x)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),a=e[0],i=e[1];a<n&&r.get(a,i);)a++;if(a===n)throw new P;var s=a-e[0];if(s===0)throw new P;return s},t.NO_POINTS=[],t}(),_6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){_6(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Md,r)||this}return e})(Gi);var gi;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(gi||(gi={}));var N6=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new zr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new ie;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(gi.L,"L",1),t.M=new t(gi.M,"M",0),t.Q=new t(gi.Q,"Q",3),t.H=new t(gi.H,"H",2),t}(),E6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xg=function(){function t(e){this.errorCorrectionLevel=N6.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return me.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,a,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=E6(t.FORMAT_INFO_DECODE_LOOKUP),c=o.next();!c.done;c=o.next()){var u=c.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<i&&(s=u[1],i=f),e!==r&&(f=t.numBitsDiffering(r,d),f<i&&(s=u[1],i=f))}}catch(h){n={error:h}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),C6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,a=this.ecBlocks;try{for(var i=C6(a),s=i.next();!s.done;s=i.next()){var o=s.value;n+=o.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),_=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),S6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ba=function(){function t(e,r){for(var n,a,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=i;var o=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=S6(u),f=d.next();!f.done;f=d.next()){var h=f.value;o+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new W;try{return this.getVersionForNumber((e-17)/4)}catch{throw new W}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new ie;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,a=0;a<t.VERSION_DECODE_INFO.length;a++){var i=t.VERSION_DECODE_INFO[a];if(i===e)return t.getVersionForNumber(a+7);var s=xg.numBitsDiffering(e,i);s<r&&(n=a+7,r=s)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new hn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,s=0;s<n;s++)a===0&&(s===0||s===n-1)||a===n-1&&s===0||r.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new O(7,new _(1,19)),new O(10,new _(1,16)),new O(13,new _(1,13)),new O(17,new _(1,9))),new t(2,Int32Array.from([6,18]),new O(10,new _(1,34)),new O(16,new _(1,28)),new O(22,new _(1,22)),new O(28,new _(1,16))),new t(3,Int32Array.from([6,22]),new O(15,new _(1,55)),new O(26,new _(1,44)),new O(18,new _(2,17)),new O(22,new _(2,13))),new t(4,Int32Array.from([6,26]),new O(20,new _(1,80)),new O(18,new _(2,32)),new O(26,new _(2,24)),new O(16,new _(4,9))),new t(5,Int32Array.from([6,30]),new O(26,new _(1,108)),new O(24,new _(2,43)),new O(18,new _(2,15),new _(2,16)),new O(22,new _(2,11),new _(2,12))),new t(6,Int32Array.from([6,34]),new O(18,new _(2,68)),new O(16,new _(4,27)),new O(24,new _(4,19)),new O(28,new _(4,15))),new t(7,Int32Array.from([6,22,38]),new O(20,new _(2,78)),new O(18,new _(4,31)),new O(18,new _(2,14),new _(4,15)),new O(26,new _(4,13),new _(1,14))),new t(8,Int32Array.from([6,24,42]),new O(24,new _(2,97)),new O(22,new _(2,38),new _(2,39)),new O(22,new _(4,18),new _(2,19)),new O(26,new _(4,14),new _(2,15))),new t(9,Int32Array.from([6,26,46]),new O(30,new _(2,116)),new O(22,new _(3,36),new _(2,37)),new O(20,new _(4,16),new _(4,17)),new O(24,new _(4,12),new _(4,13))),new t(10,Int32Array.from([6,28,50]),new O(18,new _(2,68),new _(2,69)),new O(26,new _(4,43),new _(1,44)),new O(24,new _(6,19),new _(2,20)),new O(28,new _(6,15),new _(2,16))),new t(11,Int32Array.from([6,30,54]),new O(20,new _(4,81)),new O(30,new _(1,50),new _(4,51)),new O(28,new _(4,22),new _(4,23)),new O(24,new _(3,12),new _(8,13))),new t(12,Int32Array.from([6,32,58]),new O(24,new _(2,92),new _(2,93)),new O(22,new _(6,36),new _(2,37)),new O(26,new _(4,20),new _(6,21)),new O(28,new _(7,14),new _(4,15))),new t(13,Int32Array.from([6,34,62]),new O(26,new _(4,107)),new O(22,new _(8,37),new _(1,38)),new O(24,new _(8,20),new _(4,21)),new O(22,new _(12,11),new _(4,12))),new t(14,Int32Array.from([6,26,46,66]),new O(30,new _(3,115),new _(1,116)),new O(24,new _(4,40),new _(5,41)),new O(20,new _(11,16),new _(5,17)),new O(24,new _(11,12),new _(5,13))),new t(15,Int32Array.from([6,26,48,70]),new O(22,new _(5,87),new _(1,88)),new O(24,new _(5,41),new _(5,42)),new O(30,new _(5,24),new _(7,25)),new O(24,new _(11,12),new _(7,13))),new t(16,Int32Array.from([6,26,50,74]),new O(24,new _(5,98),new _(1,99)),new O(28,new _(7,45),new _(3,46)),new O(24,new _(15,19),new _(2,20)),new O(30,new _(3,15),new _(13,16))),new t(17,Int32Array.from([6,30,54,78]),new O(28,new _(1,107),new _(5,108)),new O(28,new _(10,46),new _(1,47)),new O(28,new _(1,22),new _(15,23)),new O(28,new _(2,14),new _(17,15))),new t(18,Int32Array.from([6,30,56,82]),new O(30,new _(5,120),new _(1,121)),new O(26,new _(9,43),new _(4,44)),new O(28,new _(17,22),new _(1,23)),new O(28,new _(2,14),new _(19,15))),new t(19,Int32Array.from([6,30,58,86]),new O(28,new _(3,113),new _(4,114)),new O(26,new _(3,44),new _(11,45)),new O(26,new _(17,21),new _(4,22)),new O(26,new _(9,13),new _(16,14))),new t(20,Int32Array.from([6,34,62,90]),new O(28,new _(3,107),new _(5,108)),new O(26,new _(3,41),new _(13,42)),new O(30,new _(15,24),new _(5,25)),new O(28,new _(15,15),new _(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new O(28,new _(4,116),new _(4,117)),new O(26,new _(17,42)),new O(28,new _(17,22),new _(6,23)),new O(30,new _(19,16),new _(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new O(28,new _(2,111),new _(7,112)),new O(28,new _(17,46)),new O(30,new _(7,24),new _(16,25)),new O(24,new _(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new O(30,new _(4,121),new _(5,122)),new O(28,new _(4,47),new _(14,48)),new O(30,new _(11,24),new _(14,25)),new O(30,new _(16,15),new _(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new O(30,new _(6,117),new _(4,118)),new O(28,new _(6,45),new _(14,46)),new O(30,new _(11,24),new _(16,25)),new O(30,new _(30,16),new _(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new O(26,new _(8,106),new _(4,107)),new O(28,new _(8,47),new _(13,48)),new O(30,new _(7,24),new _(22,25)),new O(30,new _(22,15),new _(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new O(28,new _(10,114),new _(2,115)),new O(28,new _(19,46),new _(4,47)),new O(28,new _(28,22),new _(6,23)),new O(30,new _(33,16),new _(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new O(30,new _(8,122),new _(4,123)),new O(28,new _(22,45),new _(3,46)),new O(30,new _(8,23),new _(26,24)),new O(30,new _(12,15),new _(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new O(30,new _(3,117),new _(10,118)),new O(28,new _(3,45),new _(23,46)),new O(30,new _(4,24),new _(31,25)),new O(30,new _(11,15),new _(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new O(30,new _(7,116),new _(7,117)),new O(28,new _(21,45),new _(7,46)),new O(30,new _(1,23),new _(37,24)),new O(30,new _(19,15),new _(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new O(30,new _(5,115),new _(10,116)),new O(28,new _(19,47),new _(10,48)),new O(30,new _(15,24),new _(25,25)),new O(30,new _(23,15),new _(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new O(30,new _(13,115),new _(3,116)),new O(28,new _(2,46),new _(29,47)),new O(30,new _(42,24),new _(1,25)),new O(30,new _(23,15),new _(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new O(30,new _(17,115)),new O(28,new _(10,46),new _(23,47)),new O(30,new _(10,24),new _(35,25)),new O(30,new _(19,15),new _(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new O(30,new _(17,115),new _(1,116)),new O(28,new _(14,46),new _(21,47)),new O(30,new _(29,24),new _(19,25)),new O(30,new _(11,15),new _(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new O(30,new _(13,115),new _(6,116)),new O(28,new _(14,46),new _(23,47)),new O(30,new _(44,24),new _(7,25)),new O(30,new _(59,16),new _(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new O(30,new _(12,121),new _(7,122)),new O(28,new _(12,47),new _(26,48)),new O(30,new _(39,24),new _(14,25)),new O(30,new _(22,15),new _(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new O(30,new _(6,121),new _(14,122)),new O(28,new _(6,47),new _(34,48)),new O(30,new _(46,24),new _(10,25)),new O(30,new _(2,15),new _(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new O(30,new _(17,122),new _(4,123)),new O(28,new _(29,46),new _(14,47)),new O(30,new _(49,24),new _(10,25)),new O(30,new _(24,15),new _(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new O(30,new _(4,122),new _(18,123)),new O(28,new _(13,46),new _(32,47)),new O(30,new _(48,24),new _(14,25)),new O(30,new _(42,15),new _(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new O(30,new _(20,117),new _(4,118)),new O(28,new _(40,47),new _(7,48)),new O(30,new _(43,24),new _(22,25)),new O(30,new _(10,15),new _(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new O(30,new _(19,118),new _(6,119)),new O(28,new _(18,47),new _(31,48)),new O(30,new _(34,24),new _(34,25)),new O(30,new _(20,15),new _(61,16)))],t}(),bt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(bt||(bt={}));var z1=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var a=0;a<r;a++)this.isMasked(n,a)&&e.flip(a,n)},t.values=new Map([[bt.DATA_MASK_000,new t(bt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[bt.DATA_MASK_001,new t(bt.DATA_MASK_001,function(e,r){return(e&1)===0})],[bt.DATA_MASK_010,new t(bt.DATA_MASK_010,function(e,r){return r%3===0})],[bt.DATA_MASK_011,new t(bt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[bt.DATA_MASK_100,new t(bt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[bt.DATA_MASK_101,new t(bt.DATA_MASK_101,function(e,r){return e*r%6===0})],[bt.DATA_MASK_110,new t(bt.DATA_MASK_110,function(e,r){return e*r%6<3})],[bt.DATA_MASK_111,new t(bt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),A6=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new W;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),i=0,s=a-7,n=a-1;n>=s;n--)i=this.copyBit(8,n,i);for(var r=a-8;r<a;r++)i=this.copyBit(r,8,i);if(this.parsedFormatInfo=xg.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new W},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ba.getVersionForNumber(r);for(var n=0,a=e-11,i=5;i>=0;i--)for(var s=e-9;s>=a;s--)n=this.copyBit(s,i,n);var o=Ba.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var i=e-9;i>=a;i--)n=this.copyBit(s,i,n);if(o=Ba.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new W},t.prototype.copyBit=function(e,r,n){var a=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return a?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=z1.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=r.buildFunctionPattern(),s=!0,o=new Uint8Array(r.getTotalCodewords()),c=0,u=0,d=0,f=a-1;f>0;f-=2){f===6&&f--;for(var h=0;h<a;h++)for(var p=s?a-1-h:h,x=0;x<2;x++)i.get(f-x,p)||(d++,u<<=1,this.bitMatrix.get(f-x,p)&&(u|=1),d===8&&(o[c++]=u,d=0,u=0));s=!s}if(c!==r.getTotalCodewords())throw new W;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=z1.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var a=r+1,i=e.getHeight();a<i;a++)e.get(r,a)!==e.get(a,r)&&(e.flip(a,r),e.flip(r,a))},t}(),V1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j6=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var a,i,s,o;if(e.length!==r.getTotalCodewords())throw new ie;var c=r.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var f=V1(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(L){a={error:L}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var x=new Array(u),g=0;try{for(var y=V1(d),v=y.next();!v.done;v=y.next())for(var p=v.value,m=0;m<p.getCount();m++){var w=p.getDataCodewords(),b=c.getECCodewordsPerBlock()+w;x[g++]=new t(w,new Uint8Array(b))}}catch(L){s={error:L}}finally{try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}for(var N=x[0].codewords.length,A=x.length-1;A>=0;){var C=x[A].codewords.length;if(C===N)break;A--}A++;for(var S=N-c.getECCodewordsPerBlock(),T=0,m=0;m<S;m++)for(var k=0;k<g;k++)x[k].codewords[m]=e[T++];for(var k=A;k<g;k++)x[k].codewords[S]=e[T++];for(var D=x[0].codewords.length,m=S;m<D;m++)for(var k=0;k<g;k++){var I=k<A?m:m+1;x[k].codewords[I]=e[T++]}return x},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Sr;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Sr||(Sr={}));var $e=function(){function t(e,r,n,a){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=a,t.FOR_BITS.set(a,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new ie;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Sr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Sr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Sr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Sr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Sr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Sr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Sr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Sr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Sr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Sr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),I6=function(){function t(){}return t.decode=function(e,r,n,a){var i=new mg(e),s=new pe,o=new Array,c=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(i.available()<4)h=$e.TERMINATOR;else{var p=i.readBits(4);h=$e.forBits(p)}switch(h){case $e.TERMINATOR:break;case $e.FNC1_FIRST_POSITION:case $e.FNC1_SECOND_POSITION:f=!0;break;case $e.STRUCTURED_APPEND:if(i.available()<16)throw new W;c=i.readBits(8),u=i.readBits(8);break;case $e.ECI:var x=t.parseECIValue(i);if(d=xt.getCharacterSetECIByValue(x),d===null)throw new W;break;case $e.HANZI:var g=i.readBits(4),y=i.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(i,s,y);break;default:var v=i.readBits(h.getCharacterCountBits(r));switch(h){case $e.NUMERIC:t.decodeNumericSegment(i,s,v);break;case $e.ALPHANUMERIC:t.decodeAlphanumericSegment(i,s,v,f);break;case $e.BYTE:t.decodeByteSegment(i,s,v,d,o,a);break;case $e.KANJI:t.decodeKanjiSegment(i,s,v);break;default:throw new W}break}}while(h!==$e.TERMINATOR)}catch{throw new W}return new _c(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),c,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new W;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,a[i]=o>>8&255,a[i+1]=o&255,i+=2,n--}try{r.append(Or.decode(a,ye.GB2312))}catch(c){throw new W(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new W;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,a[i]=o>>8,a[i+1]=o,i+=2,n--}try{r.append(Or.decode(a,ye.SHIFT_JIS))}catch(c){throw new W(c)}},t.decodeByteSegment=function(e,r,n,a,i,s){if(8*n>e.available())throw new W;for(var o=new Uint8Array(n),c=0;c<n;c++)o[c]=e.readBits(8);var u;a===null?u=ye.guessEncoding(o,s):u=a.getName();try{r.append(Or.decode(o,u))}catch(d){throw new W(d)}i.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new W;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,a){for(var i=r.length();n>1;){if(e.available()<11)throw new W;var s=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(s/45))),r.append(t.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new W;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(a)for(var o=i;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new W;var a=e.readBits(10);if(a>=1e3)throw new W;r.append(t.toAlphaNumericChar(Math.floor(a/100))),r.append(t.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(t.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new W;var i=e.readBits(7);if(i>=100)throw new W;r.append(t.toAlphaNumericChar(Math.floor(i/10))),r.append(t.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new W;var s=e.readBits(4);if(s>=10)throw new W;r.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var a=e.readBits(16);return(r&31)<<16&4294967295|a}throw new W},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),gg=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),$1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k6=function(){function t(){this.rsDecoder=new Nc(tr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(hn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new A6(e),a=null;try{return this.decodeBitMatrixParser(n,r)}catch(s){a=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,r);return i.setOther(new gg(!0)),i}catch(s){throw a!==null?a:s}},t.prototype.decodeBitMatrixParser=function(e,r){var n,a,i,s,o=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=j6.getDataBlocks(u,o,c),f=0;try{for(var h=$1(d),p=h.next();!p.done;p=h.next()){var x=p.value;f+=x.getNumDataCodewords()}}catch(A){n={error:A}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),y=0;try{for(var v=$1(d),m=v.next();!m.done;m=v.next()){var x=m.value,w=x.getCodewords(),b=x.getNumDataCodewords();this.correctErrors(w,b);for(var N=0;N<b;N++)g[y++]=w[N]}}catch(A){i={error:A}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}return I6.decode(g,o,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Et}for(var a=0;a<r;a++)e[a]=n[a]},t}(),T6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O6=function(t){T6(e,t);function e(r,n,a){var i=t.call(this,r,n)||this;return i.estimatedModuleSize=a,i}return e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=(this.getX()+n)/2,s=(this.getY()+r)/2,o=(this.estimatedModuleSize+a)/2;return new e(i,s,o)},e}(ee),R6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P6=function(){function t(e,r,n,a,i,s,o){this.image=e,this.startX=r,this.startY=n,this.width=a,this.height=i,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,a=e+n,i=this.startY+r/2,s=new Int32Array(3),o=this.image,c=0;c<r;c++){var u=i+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<a&&!o.get(d,u);)d++;for(var f=0;d<a;){if(o.get(d,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,d);if(h!==null)return h}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;d++}if(this.foundPatternCross(s)){var h=this.handlePossibleCenter(s,u,a);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new P},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,a=0;a<3;a++)if(Math.abs(r-e[a])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,a){var i=this.image,s=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var c=e;c>=0&&i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&!i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c)&&o[1]<=n;)o[1]++,c++;if(c===s||o[1]>n)return NaN;for(;c<s&&!i.get(r,c)&&o[2]<=n;)o[2]++,c++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var a,i,s=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,o,2*e[1],s);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=R6(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,c,o))return h.combineEstimate(c,o,u)}}catch(x){a={error:x}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var p=new O6(o,c,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),D6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M6=function(t){D6(e,t);function e(r,n,a,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=a,s.count=i,i===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,a){if(Math.abs(n-this.getY())<=r&&Math.abs(a-this.getX())<=r){var i=Math.abs(r-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,a){var i=this.count+1,s=(this.count*this.getX()+n)/i,o=(this.count*this.getY()+r)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new e(s,o,c,i)},e}(ee),L6=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),ns=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F6=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Ke.TRY_HARDER)!==void 0,n=e!=null&&e.get(Ke.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),s=a.getWidth(),o=Math.floor(3*i/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=o-1;d<i&&!c;d+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<s;h++)if(a.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(o=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var x=this.findRowSkip();x>u[2]&&(d+=x-u[2]-o,h=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,s,n);p===!0&&(o=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return ee.orderBestPatterns(g),new L6(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;r+=a}if(r<7)return!1;var i=r/7,s=i/2;return Math.abs(i-e[0])<s&&Math.abs(i-e[1])<s&&Math.abs(3*i-e[2])<3*s&&Math.abs(i-e[3])<s&&Math.abs(i-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,a){for(var i=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&r>=s&&o.get(r-s,e-s);)i[2]++,s++;if(e<s||r<s)return!1;for(;e>=s&&r>=s&&!o.get(r-s,e-s)&&i[1]<=n;)i[1]++,s++;if(e<s||r<s||i[1]>n)return!1;for(;e>=s&&r>=s&&o.get(r-s,e-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;var c=o.getHeight(),u=o.getWidth();for(s=1;e+s<c&&r+s<u&&o.get(r+s,e+s);)i[2]++,s++;if(e+s>=c||r+s>=u)return!1;for(;e+s<c&&r+s<u&&!o.get(r+s,e+s)&&i[3]<n;)i[3]++,s++;if(e+s>=c||r+s>=u||i[3]>=n)return!1;for(;e+s<c&&r+s<u&&o.get(r+s,e+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&t.foundPatternCross(i)},t.prototype.crossCheckVertical=function(e,r,n,a){for(var i=this.image,s=i.getHeight(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(r,c);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(r,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(r,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(r,c);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(r,c)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(r,c)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=2*a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,a){for(var i=this.image,s=i.getWidth(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(c,r);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,r)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(c,r)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(c,r);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(c,r)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(c,r)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=a?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,a){var i=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(s),e[2],i);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],i),!isNaN(s)&&(!a||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],i)))){for(var c=i/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,o,s)){d[f]=p.combineEstimate(o,s,c),u=!0;break}}if(!u){var x=new M6(s,o,c);d.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=ns(this.possibleCenters),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.getCount()>=t.CENTER_QUORUM)if(a==null)a=o;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,a,i=0,s=0,o=this.possibleCenters.length;try{for(var c=ns(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(i<3)return!1;var f=s/o,h=0;try{for(var p=ns(this.possibleCenters),x=p.next();!x.done;x=p.next()){var d=x.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{x&&!x.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return h<=.05*s},t.prototype.selectBestPatterns=function(){var e,r,n,a,i=this.possibleCenters.length;if(i<3)throw new P;var s=this.possibleCenters,o;if(i>3){var c=0,u=0;try{for(var d=ns(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();c+=p,u+=p*p}}catch(N){e={error:N}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}o=c/i;var x=Math.sqrt(u/i-o*o);s.sort(function(N,A){var C=Math.abs(A.getEstimatedModuleSize()-o),S=Math.abs(N.getEstimatedModuleSize()-o);return C<S?-1:C>S?1:0});for(var g=Math.max(.2*o,x),y=0;y<s.length&&s.length>3;y++){var v=s[y];Math.abs(v.getEstimatedModuleSize()-o)>g&&(s.splice(y,1),y--)}}if(s.length>3){var c=0;try{for(var m=ns(s),w=m.next();!w.done;w=m.next()){var b=w.value;c+=b.getEstimatedModuleSize()}}catch(A){n={error:A}}finally{try{w&&!w.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}o=c/s.length,s.sort(function(A,C){if(C.getCount()===A.getCount()){var S=Math.abs(C.getEstimatedModuleSize()-o),T=Math.abs(A.getEstimatedModuleSize()-o);return S<T?1:S>T?-1:0}else return C.getCount()-A.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),B6=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ke.NEED_RESULT_POINT_CALLBACK);var r=new F6(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),i=this.calculateModuleSize(r,n,a);if(i<1)throw new P("No pattern found in proccess finder.");var s=t.computeDimension(r,n,a,i),o=Ba.getProvisionalVersionForDimension(s),c=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+a.getX(),f=n.getY()-r.getY()+a.getY(),h=1-3/c,p=Math.floor(r.getX()+h*(d-r.getX())),x=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{u=this.findAlignmentInRegion(i,p,x,g);break}catch(w){if(!(w instanceof P))throw w}var y=t.createTransform(r,n,a,u,s),v=t.sampleGrid(this.image,y,s),m;return u===null?m=[a,r,n]:m=[a,r,n,u],new o0(v,m)},t.createTransform=function(e,r,n,a,i){var s=i-3.5,o,c,u,d;return a!==null?(o=a.getX(),c=a.getY(),u=s-3,d=u):(o=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),u=s,d=s),dg.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),r.getX(),r.getY(),o,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var a=l0.getInstance();return a.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,a){var i=Ne.round(ee.distance(e,r)/a),s=Ne.round(ee.distance(e,n)/a),o=Math.floor((i+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new P("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,a){var i=this.sizeOfBlackWhiteBlackRun(e,r,n,a),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var c=Math.floor(r-(a-r)*s);return s=1,c<0?(s=r/(r-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,r,o,c),i-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,a){var i=Math.abs(a-r)>Math.abs(n-e);if(i){var s=e;e=r,r=s,s=n,n=a,a=s}for(var o=Math.abs(n-e),c=Math.abs(a-r),u=-o/2,d=e<n?1:-1,f=r<a?1:-1,h=0,p=n+d,x=e,g=r;x!==p;x+=d){var y=i?g:x,v=i?x:g;if(h===1===this.image.get(y,v)){if(h===2)return Ne.distance(x,g,e,r);h++}if(u+=c,u>0){if(g===a)break;g+=f,u-=o}}return h===2?Ne.distance(n+d,a,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,a){var i=Math.floor(a*e),s=Math.max(0,r-i),o=Math.min(this.image.getWidth()-1,r+i);if(o-s<e*3)throw new P("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<e*3)throw new P("Alignment bottom exceeds estimated module size.");var d=new P6(this.image,s,c,o-s,u-c,e,this.resultPointCallback);return d.find()},t}(),Ld=function(){function t(){this.decoder=new k6}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,a;if(r!=null&&r.get(Ke.PURE_BARCODE)!==void 0){var i=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,r),a=t.NO_POINTS}else{var s=new B6(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(s.getBits(),r),a=s.getPoints()}n.getOther()instanceof gg&&n.getOther().applyMirroredCorrection(a);var o=new zt(n.getText(),n.getRawBytes(),void 0,a,ae.QR_CODE,void 0),c=n.getByteSegments();c!==null&&o.putMetadata(Ot.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&o.putMetadata(Ot.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(Ot.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(Ot.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new P;var a=this.moduleSize(r,e),i=r[1],s=n[1],o=r[0],c=n[0];if(o>=c||i>=s)throw new P;if(s-i!==c-o&&(c=o+(s-i),c>=e.getWidth()))throw new P;var u=Math.round((c-o+1)/a),d=Math.round((s-i+1)/a);if(u<=0||d<=0)throw new P;if(d!==u)throw new P;var f=Math.floor(a/2);i+=f,o+=f;var h=o+Math.floor((u-1)*a)-c;if(h>0){if(h>f)throw new P;o-=h}var p=i+Math.floor((d-1)*a)-s;if(p>0){if(p>f)throw new P;i-=p}for(var x=new hn(u,d),g=0;g<d;g++)for(var y=i+Math.floor(g*a),v=0;v<u;v++)e.get(o+Math.floor(v*a),y)&&x.set(v,g);return x},t.moduleSize=function(e,r){for(var n=r.getHeight(),a=r.getWidth(),i=e[0],s=e[1],o=!0,c=0;i<a&&s<n;){if(o!==r.get(i,s)){if(++c===5)break;o=!o}i++,s++}if(i===a||s===n)throw new P;return(i-e[0])/7},t.NO_POINTS=new Array,t}(),U6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},we=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Ne.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),i=0;try{for(var s=U6(e),o=s.next();!o.done;o=s.next()){var c=o.value;a[i++]=c}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.getCodeword=function(e){var r=gt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),z6=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),V6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$6=function(){function t(){}return t.detectMultiple=function(e,r,n){var a=e.getBlackMatrix(),i=t.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=t.detect(n,a)),new z6(a,i)},t.detect=function(e,r){for(var n,a,i=new Array,s=0,o=0,c=!1;s<r.getHeight();){var u=t.findVertices(r,s,o);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,o=0;try{for(var d=(n=void 0,V6(i)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}s+=t.ROW_STEP;continue}if(c=!0,i.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return i},t.findVertices=function(e,r,n){var a=e.getHeight(),i=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,a,i,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,r,n){for(var a=0;a<n.length;a++)e[n[a]]=r[a]},t.findRowsWithPattern=function(e,r,n,a,i,s){for(var o=new Array(4),c=!1,u=new Int32Array(s.length);a<r;a+=t.ROW_STEP){var d=t.findGuardPattern(e,i,a,n,!1,s,u);if(d!=null){for(;a>0;){var f=t.findGuardPattern(e,i,--a,n,!1,s,u);if(f!=null)d=f;else{a++;break}}o[0]=new ee(d[0],a),o[1]=new ee(d[1],a),c=!0;break}}var h=a+1;if(c){for(var p=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,s,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,o[2]=new ee(f[0],h),o[3]=new ee(f[1],h)}return h-a<t.BARCODE_MIN_HEIGHT&&gt.fill(o,null),o},t.findGuardPattern=function(e,r,n,a,i,s,o){gt.fillWithin(o,0,o.length,0);for(var c=r,u=0;e.get(c,n)&&c>0&&u++<t.MAX_PIXEL_DRIFT;)c--;for(var d=c,f=0,h=s.length,p=i;d<a;d++){var x=e.get(d,n);if(x!==p)o[f]++;else{if(f===h-1){if(t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=o[0]+o[1],Be.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(o,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=r[o];if(i<s)return 1/0;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var f=e[d],h=r[d]*c,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),H6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Da=function(){function t(e,r){if(r.length===0)throw new ie;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var a=1;a<n&&r[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),Be.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var i=H6(this.coefficients),s=i.next();!s.done;s=i.next()){var o=s.value;a=this.field.add(a,o)}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new ie("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var a=r;r=n,n=a}var i=new Int32Array(n.length),s=n.length-r.length;Be.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=this.field.add(r[o-s],n[o]);return new t(this.field,i)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ie("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ie("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=0;o<n;o++)for(var c=r[o],u=0;u<i;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(c,a[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new ie;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],r);return new t(this.field,a)},t.prototype.toString=function(){for(var e=new pe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),W6=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ie;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new ug;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),G6=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X6=function(t){G6(e,t);function e(r,n){var a=t.call(this)||this;a.modulus=r,a.expTable=new Int32Array(r),a.logTable=new Int32Array(r);for(var i=1,s=0;s<r;s++)a.expTable[s]=i,i=i*n%r;for(var s=0;s<r-1;s++)a.logTable[a.expTable[s]]=s;return a.zero=new Da(a,new Int32Array([0])),a.one=new Da(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new ie;if(n===0)return this.zero;var a=new Int32Array(r+1);return a[0]=n,new Da(this,a)},e.PDF417_GF=new e(we.NUMBER_OF_CODEWORDS,3),e}(W6),Z6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y6=function(){function t(){this.field=X6.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var a,i,s=new Da(this.field,e),o=new Int32Array(r),c=!1,u=r;u>0;u--){var d=s.evaluateAt(this.field.exp(u));o[r-u]=d,d!==0&&(c=!0)}if(!c)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=Z6(n),p=h.next();!p.done;p=h.next()){var x=p.value,g=this.field.exp(e.length-1-x),y=new Da(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(y)}}catch(S){a={error:S}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}for(var v=new Da(this.field,o),m=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),v,r),w=m[0],b=m[1],N=this.findErrorLocations(w),A=this.findErrorMagnitudes(b,w,N),u=0;u<N.length;u++){var C=e.length-1-this.field.log(N[u]);if(C<0)throw Et.getChecksumInstance();e[C]=this.field.subtract(e[C],A[u])}return N.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var a=e;e=r,r=a}for(var i=e,s=r,o=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=i,d=o;if(i=s,o=c,i.isZero())throw Et.getChecksumInstance();s=u;for(var f=this.field.getZero(),h=i.getCoefficient(i.getDegree()),p=this.field.inverse(h);s.getDegree()>=i.getDegree()&&!s.isZero();){var x=s.getDegree()-i.getDegree(),g=this.field.multiply(s.getCoefficient(s.getDegree()),p);f=f.add(this.field.buildMonomial(x,g)),s=s.subtract(i.multiplyByMonomial(x,g))}c=f.multiply(o).subtract(d).negative()}var y=c.getCoefficient(0);if(y===0)throw Et.getChecksumInstance();var v=this.field.inverse(y),m=c.multiply(v),w=s.multiply(v);return[m,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),a=0,i=1;i<this.field.getSize()&&a<r;i++)e.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==r)throw Et.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var a=r.getDegree(),i=new Int32Array(a),s=1;s<=a;s++)i[a-s]=this.field.multiply(s,r.getCoefficient(s));for(var o=new Da(this.field,i),c=n.length,u=new Int32Array(c),s=0;s<c;s++){var d=this.field.inverse(n[s]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(o.evaluateAt(d));u[s]=this.field.multiply(f,h)}return u},t}(),Fd=function(){function t(e,r,n,a,i){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,a,i)}return t.prototype.constructor_1=function(e,r,n,a,i){var s=r==null||n==null,o=a==null||i==null;if(s&&o)throw new P;s?(r=new ee(0,a.getY()),n=new ee(0,i.getY())):o&&(a=new ee(e.getWidth()-1,r.getY()),i=new ee(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var a=this.topLeft,i=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var d=new ee(c.getX(),u);n?a=d:s=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new ee(f.getX(),h);n?i=p:o=p}return new t(this.image,a,i,s,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),K6=function(){function t(e,r,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),u0=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function a(s,o,c,u,d,f){if(s==="%%")return"%";if(r[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(s);break;case"p":p=parseFloat(r[n]).toPrecision(s);break;case"e":p=parseFloat(r[n]).toExponential(s);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var x=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";p.length<x;)p=o!==void 0?p+g:g+p;return p}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,a)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),q6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vg=function(){function t(e){this.boundingBox=new Fd(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new u0,a=0;try{for(var i=q6(this.codewords),s=i.next();!s.done;s=i.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Q6=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J6=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ys=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,a=new Array,i=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===n&&a.push(p.getKey())};try{for(var s=Q6(this.values.entries()),o=s.next();!o.done;o=s.next()){var c=J6(o.value,2),u=c[0],d=c[1];i(u,d)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return we.toIntArray(a)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),eN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),du=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H1=function(t){eN(e,t);function e(r,n){var a=t.call(this,r)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var r,n;try{for(var a=du(this.getCodewords()),i=a.next();!i.done;i=a.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,f=0,h=o;h<c;h++)if(n[h]!=null){var p=n[h],x=p.getRowNumber()-u;if(x===0)f++;else if(x===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(x<0||p.getRowNumber()>=r.getRowCount()||x>h)n[h]=null;else{var g=void 0;d>2?g=(d-2)*x:g=x;for(var y=g>=h,v=1;v<=g&&!y;v++)y=n[h-v]!=null;y?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var s=du(this.getCodewords()),o=s.next();!o.done;o=s.next()){var c=o.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,d=s;d<o;d++)if(c[d]!=null){var f=c[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?c[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,a=this.getCodewords(),i=new ys,s=new ys,o=new ys,c=new ys;try{for(var u=du(a),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:c.setValue(h/3),o.setValue(h%3);break;case 2:i.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<we.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;var x=new K6(i.getValue()[0],s.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,x),x},e.prototype.removeIncorrectCodewords=function(r,n){for(var a=0;a<r.length;a++){var i=r[a];if(r[a]!=null){var s=i.getValue()%30,o=i.getRowNumber();if(o>n.getRowCount()){r[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(r[a]=null);break;case 2:s+1!==n.getColumnCount()&&(r[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(vg),tN=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rN=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=we.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var a=r[n].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=t.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var a,i;if(this.detectionResultColumns[e-1]!=null){var s=n[r],o=this.detectionResultColumns[e-1].getCodewords(),c=o;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[r],u[3]=c[r],r>0&&(u[0]=n[r-1],u[4]=o[r-1],u[5]=c[r-1]),r>1&&(u[8]=n[r-2],u[10]=o[r-2],u[11]=c[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=o[r+1],u[7]=c[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=o[r+2],u[13]=c[r+2]);try{for(var d=tN(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(s,h))return}}catch(p){a={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new u0,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){r.format("    |   ");continue}r.format(" %3d|%3d",i.getRowNumber(),i.getValue())}r.format("%n")}return r.toString()},t}(),nN=function(){function t(e,r,n,a){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),aN=function(){function t(){}return t.initialize=function(){for(var e=0;e<we.SYMBOL_TABLE.length;e++)for(var r=we.SYMBOL_TABLE[e],n=r&1,a=0;a<we.BARS_IN_MODULE;a++){for(var i=0;(r&1)===n;)i+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(we.BARS_IN_MODULE)),t.RATIOS_TABLE[e][we.BARS_IN_MODULE-a-1]=Math.fround(i/we.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Ne.sum(e),n=new Int32Array(we.BARS_IN_MODULE),a=0,i=0,s=0;s<we.MODULES_IN_CODEWORD;s++){var o=r/(2*we.MODULES_IN_CODEWORD)+s*r/we.MODULES_IN_CODEWORD;i+e[a]<=o&&(i+=e[a],a++),n[a]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return we.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Ne.sum(e),n=new Array(we.BARS_IN_MODULE);if(r>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/r);var i=Od.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var c=0,u=t.RATIOS_TABLE[o],d=0;d<we.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(c+=Math.fround(f*f),c>=i)break}c<i&&(i=c,s=we.SYMBOL_TABLE[o])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(function(e){return new Array(we.BARS_IN_MODULE)}),t}(),iN=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),W1=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),sN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oN=function(t){sN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(or),lN=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new oN;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new i0;if(n===0)return;for(var a=0;a<n;a++)this.write(e[r+a])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),cN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uN=function(t){cN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(or),dN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fN=function(t){dN(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new ie("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,a=n<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new uN;a=me.MAX_VALUE}this.buf=gt.copyOfUint8Array(this.buf,a)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,a){if(n<0||n>r.length||a<0||n+a-r.length>0)throw new i0;this.ensureCapacity(this.count+a),Be.arraycopy(r,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return gt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(lN),Pe;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pe||(Pe={}));function yg(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Bo;function Vn(t){if(typeof Bo>"u"&&(Bo=yg()),Bo===null)throw new Error("BigInt is not supported!");return Bo(t)}function hN(){var t=[];t[0]=Vn(1);var e=Vn(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var pN=function(){function t(){}return t.decode=function(e,r){var n=new pe(""),a=xt.ISO8859_1;n.enableDecoding(a);for(var i=1,s=e[i++],o=new iN;i<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:i=t.textCompaction(e,i,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:i=t.byteCompaction(s,e,a,i,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:i=t.numericCompaction(e,i,n);break;case t.ECI_CHARSET:xt.getCharacterSetECIByValue(e[i++]);break;case t.ECI_GENERAL_PURPOSE:i+=2;break;case t.ECI_USER_DEFINED:i++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=t.decodeMacroBlock(e,i,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new W;default:i--,i=t.textCompaction(e,i,n);break}if(i<e.length)s=e[i++];else throw W.getFormatInstance()}if(n.length()===0)throw W.getFormatInstance();var c=new _c(null,n.toString(),null,r);return c.setOther(o),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw W.getFormatInstance();for(var a=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<t.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)a[i]=e[r];n.setSegmentIndex(me.parseInt(t.decodeBase900toBase10(a,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new pe;r=t.textCompaction(e,r,s),n.setFileId(s.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new pe;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new pe;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new pe;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new pe;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(me.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new pe;r=t.numericCompaction(e,r+1,h),n.setTimestamp(W1.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new pe;r=t.numericCompaction(e,r+1,p),n.setChecksum(me.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var x=new pe;r=t.numericCompaction(e,r+1,x),n.setFileSize(W1.parseLong(x.toString()));break;default:throw W.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw W.getFormatInstance()}if(o!==-1){var g=r-o;n.isLastSegment()&&g--,n.setOptionalData(gt.copyOfRange(e,o,o+g))}return r},t.textCompaction=function(e,r,n){for(var a=new Int32Array((e[0]-r)*2),i=new Int32Array((e[0]-r)*2),s=0,o=!1;r<e[0]&&!o;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)a[s]=c/30,a[s+1]=c%30,s+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:a[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],i[s]=c,s++;break}}return t.decodeTextCompaction(a,i,s,n),r},t.decodeTextCompaction=function(e,r,n,a){for(var i=Pe.ALPHA,s=Pe.ALPHA,o=0;o<n;){var c=e[o],u="";switch(i){case Pe.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.LL:i=Pe.LOWER;break;case t.ML:i=Pe.MIXED;break;case t.PS:s=i,i=Pe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pe.ALPHA;break}break;case Pe.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case t.AS:s=i,i=Pe.ALPHA_SHIFT;break;case t.ML:i=Pe.MIXED;break;case t.PS:s=i,i=Pe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pe.ALPHA;break}break;case Pe.MIXED:if(c<t.PL)u=t.MIXED_CHARS[c];else switch(c){case t.PL:i=Pe.PUNCT;break;case 26:u=" ";break;case t.LL:i=Pe.LOWER;break;case t.AL:i=Pe.ALPHA;break;case t.PS:s=i,i=Pe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pe.ALPHA;break}break;case Pe.PUNCT:if(c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=Pe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pe.ALPHA;break}break;case Pe.ALPHA_SHIFT:if(i=s,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pe.ALPHA;break}break;case Pe.PUNCT_SHIFT:if(i=s,c<t.PAL)u=t.PUNCT_CHARS[c];else switch(c){case t.PAL:i=Pe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:i=Pe.ALPHA;break}break}u!==""&&a.append(u),o++}},t.byteCompaction=function(e,r,n,a,i){var s=new fN,o=0,c=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[a++];a<r[0]&&!u;)switch(d[o++]=f,c=900*c+f,f=r[a++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(Vn(c)>>Vn(8*(5-h))));c=0,o=0}break}a===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=f);for(var p=0;p<o;p++)s.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!u;){var x=r[a++];if(x<t.TEXT_COMPACTION_MODE_LATCH)o++,c=900*c+x;else switch(x){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(o%5===0&&o>0){for(var h=0;h<6;++h)s.write(Number(Vn(c)>>Vn(8*(5-h))));c=0,o=0}}break}return i.append(Or.decode(s.toByteArray(),n)),a},t.numericCompaction=function(e,r,n){for(var a=0,i=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!i;){var o=e[r++];if(r===e[0]&&(i=!0),o<t.TEXT_COMPACTION_MODE_LATCH)s[a]=o,a++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,i=!0;break}(a%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(t.decodeBase900toBase10(s,a)),a=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Vn(0),a=0;a<r;a++)n+=t.EXP900[r-a-1]*Vn(e[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new W;return i.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=yg()?hN():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),as=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mN=function(){function t(){}return t.decode=function(e,r,n,a,i,s,o){for(var c=new Fd(e,r,n,a,i),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,c,r,!0,s,o)),a!=null&&(d=t.getRowIndicatorColumn(e,c,a,!1,s,o)),f=t.merge(u,d),f==null)throw P.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}f.setBoundingBox(c);var x=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(x,d);for(var g=u!=null,y=1;y<=x;y++){var v=g?y:x-y;if(f.getDetectionResultColumn(v)===void 0){var m=void 0;v===0||v===x?m=new H1(c,v===0):m=new vg(c),f.setDetectionResultColumn(v,m);for(var w=-1,b=w,N=c.getMinY();N<=c.getMaxY();N++){if(w=t.getStartColumn(f,v,N,g),w<0||w>c.getMaxX()){if(b===-1)continue;w=b}var A=t.detectCodeword(e,c.getMinX(),c.getMaxX(),g,w,N,s,o);A!=null&&(m.setCodeword(N,A),b=w,s=Math.min(s,A.getWidth()),o=Math.max(o,A.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var a=Fd.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new rN(n,a)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var i=t.getMax(a),s=0;try{for(var o=as(a),c=o.next();!c.done;c=o.next()){var u=c.value;if(s+=i-u,u>0)break}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;s>0&&d[f]==null;f++)s--;for(var h=0,f=a.length-1;f>=0&&(h+=i-a[f],!(a[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(s,h,e.isLeft())},t.getMax=function(e){var r,n,a=-1;try{for(var i=as(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=Math.max(a,o)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var a;return r==null||(a=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,a,i,s){for(var o=new H1(r,a),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),a,d,f,i,s);h!=null&&(o.setCodeword(f,h),a?d=h.getStartX():d=h.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],a=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(i<1||i>we.MAX_CODEWORDS_IN_BARCODE)throw P.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=r[o][c+1].getValue(),d=o*e.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(s.push(d),i.push(u))}for(var f=new Array(i.length),h=0;h<f.length;h++)f[h]=i[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,we.toIntArray(n),we.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,a,i){for(var s=new Int32Array(a.length),o=100;o-- >0;){for(var c=0;c<s.length;c++)r[a[c]]=i[c][s[c]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof Et;if(!u)throw d}if(s.length===0)throw Et.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<i[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Et.getChecksumInstance()}throw Et.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,a,i,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var c=0;c<s[o].length;c++)s[o][c]=new ys;var u=0;try{for(var d=as(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(a=void 0,as(h.getCodewords())),x=p.next();!x.done;x=p.next()){var g=x.value;if(g!=null){var y=g.getRowNumber();if(y>=0){if(y>=s.length)continue;s[y][u].setValue(g.getValue())}}}}catch(v){a={error:v}}finally{try{x&&!x.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}u++}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return s},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,a){var i,s,o=a?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(c=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var d=(i=void 0,as(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(a?h.getEndX():h.getStartX())+o*u*(h.getEndX()-h.getStartX())}}catch(p){i={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}u++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,a,i,s,o,c){i=t.adjustCodewordStartColumn(e,r,n,a,i,s);var u=t.getModuleBitCount(e,r,n,a,i,s);if(u==null)return null;var d,f=Ne.sum(u);if(a)d=i+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=i,i=d-f}if(!t.checkCodewordSkew(f,o,c))return null;var x=aN.getDecodedValue(u),g=we.getCodeword(x);return g===-1?null:new nN(i,d,t.getCodewordBucketNumber(x),g)},t.getModuleBitCount=function(e,r,n,a,i,s){for(var o=i,c=new Int32Array(8),u=0,d=a?1:-1,f=a;(a?o<n:o>=r)&&u<c.length;)e.get(o,s)===f?(c[u]++,o+=d):(u++,f=!f);return u===c.length||o===(a?n:r)&&u===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,a,i,s){for(var o=i,c=a?-1:1,u=0;u<2;u++){for(;(a?o>=r:o<n)&&a===e.get(o,s);){if(Math.abs(i-o)>t.CODEWORD_SKEW_SIZE)return i;o+=c}c=-c,a=!a}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw W.getFormatInstance();var a=1<<r+1,i=t.correctErrors(e,n,a);t.verifyCodewordCount(e,a);var s=pN.decode(e,""+r);return s.setErrorsCorrected(i),s.setErasures(n.length),s},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Et.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw W.getFormatInstance();var n=e[0];if(n>e.length)throw W.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw W.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,a=r.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)r[a]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new u0,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var i=e[n][a];i.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Y6,t}(),xN=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw P.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof W||n instanceof Et?P.getNotFoundInstance():n}},t.decode=function(e,r,n){var a,i,s=new Array,o=$6.detectMultiple(e,r,n);try{for(var c=xN(o.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,f=mN.decode(o.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new zt(f.getText(),f.getRawBytes(),void 0,d,ae.PDF_417);h.putMetadata(Ot.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Ot.PDF417_EXTRA_METADATA,p),s.push(h)}}catch(x){a={error:x}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s.map(function(x){return x})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?me.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),gN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G1=function(t){gN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(or),X1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vN=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Ke.TRY_HARDER)!==void 0,n=e==null?null:e.get(Ke.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(s){return s===ae.UPC_A||s===ae.UPC_E||s===ae.EAN_13||s===ae.EAN_8||s===ae.CODABAR||s===ae.CODE_39||s===ae.CODE_93||s===ae.CODE_128||s===ae.ITF||s===ae.RSS_14||s===ae.RSS_EXPANDED});i&&!r&&a.push(new vs(e)),n.includes(ae.QR_CODE)&&a.push(new Ld),n.includes(ae.DATA_MATRIX)&&a.push(new Md),n.includes(ae.AZTEC)&&a.push(new Pd),n.includes(ae.PDF_417)&&a.push(new Bd),i&&r&&a.push(new vs(e))}a.length===0&&(r||a.push(new vs(e)),a.push(new Ld),a.push(new Md),a.push(new Pd),a.push(new Bd),r&&a.push(new vs(e))),this.readers=a},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=X1(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new G1("No readers where selected, nothing can be read.");try{for(var a=X1(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof G1)continue}}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}throw new P("No MultiFormat Readers were able to detect the code.")},t}(),yN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wN=function(t){yN(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var a=this,i=new vN;return i.setHints(r),a=t.call(this,i,n)||this,a}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Gi),bN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){bN(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Bd,r)||this}return e})(Gi);var _N=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){_N(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Ld,r)||this}return e})(Gi);var Ud;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Ud||(Ud={}));const Uo=Ud;var wg=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ua(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],a=this.field,i=r.length;i<=e;i++){var s=n.multiply(new ua(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));r.push(s),n=s}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new ie("No error correction bytes");var n=e.length-r;if(n<=0)throw new ie("No data bytes provided");var a=this.buildGenerator(r),i=new Int32Array(n);Be.arraycopy(e,0,i,0,n);var s=new ua(this.field,i);s=s.multiplyByMonomial(r,1);for(var o=s.divide(a)[1],c=o.getCoefficients(),u=r-c.length,d=0;d<u;d++)e[n+d]=0;Be.arraycopy(c,0,e,n+u,c.length)},t}(),ws=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i-1;s++)for(var o=n[s],c=0;c<a-1;c++){var u=o[c];u===o[c+1]&&u===n[s+1][c]&&u===n[s+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=0;o<a;o++){var c=n[s];o+6<a&&c[o]===1&&c[o+1]===0&&c[o+2]===1&&c[o+3]===1&&c[o+4]===1&&c[o+5]===0&&c[o+6]===1&&(t.isWhiteHorizontal(c,o-4,o)||t.isWhiteHorizontal(c,o+7,o+11))&&r++,s+6<i&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(t.isWhiteVertical(n,o,s-4,s)||t.isWhiteVertical(n,o,s+7,s+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var a=r;a<n;a++)if(e[a]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=n[s],c=0;c<a;c++)o[c]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var a,i;switch(e){case 0:a=n+r&1;break;case 1:a=n&1;break;case 2:a=r%3;break;case 3:a=(n+r)%3;break;case 4:a=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:i=n*r,a=(i&1)+i%3;break;case 6:i=n*r,a=(i&1)+i%3&1;break;case 7:i=n*r,a=i%3+(n+r&1)&1;break;default:throw new ie("Invalid mask pattern: "+e)}return a===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,a=r?e.getHeight():e.getWidth(),i=r?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<a;o++){for(var c=0,u=-1,d=0;d<i;d++){var f=r?s[o][d]:s[d][o];f===u?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,u=f)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),NN=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EN=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),a=0;a!==r;a++)n[a]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var a=NN(this.bytes),i=a.next();!i.done;i=a.next()){var s=i.value;gt.fill(s,e)}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],s=r.bytes[n],o=0,c=this.width;o<c;++o)if(i[o]!==s[o])return!1;return!0},t.prototype.toString=function(){for(var e=new pe,r=0,n=this.height;r<n;++r){for(var a=this.bytes[r],i=0,s=this.width;i<s;++i)switch(a[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),zd=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new pe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),CN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ve=function(t){CN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(or),Z1=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,a,i){t.clearMatrix(i),t.embedBasicPatterns(n,i),t.embedTypeInfo(r,a,i),t.maybeEmbedVersionInfo(n,i),t.embedDataBits(e,a,i)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var a=new Ct;t.makeTypeInfoBits(e,r,a);for(var i=0,s=a.getSize();i<s;++i){var o=a.get(a.getSize()-1-i),c=t.TYPE_INFO_COORDINATES[i],u=c[0],d=c[1];if(n.setBoolean(u,d,o),i<8){var f=n.getWidth()-i-1,h=8;n.setBoolean(f,h,o)}else{var f=8,h=n.getHeight()-7+(i-8);n.setBoolean(f,h,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Ct;t.makeVersionInfoBits(e,n);for(var a=6*3-1,i=0;i<6;++i)for(var s=0;s<3;++s){var o=n.get(a);a--,r.setBoolean(i,r.getHeight()-11+s,o),r.setBoolean(r.getHeight()-11+s,i,o)}}},t.embedDataBits=function(e,r,n){for(var a=0,i=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var c=0;c<2;++c){var u=s-c;if(t.isEmpty(n.get(u,o))){var d=void 0;a<e.getSize()?(d=e.get(a),++a):d=!1,r!==255&&ws.getDataMaskBit(r,u,o)&&(d=!d),n.setBoolean(u,o,d)}}o+=i}i=-i,o+=i,s-=2}if(a!==e.getSize())throw new Ve("Not all bits consumed: "+a+"/"+e.getSize())},t.findMSBSet=function(e){return 32-me.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new ie("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!zd.isValidMaskPattern(r))throw new Ve("Invalid mask pattern");var a=e.getBits()<<3|r;n.appendBits(a,5);var i=t.calculateBCHCode(a,t.TYPE_INFO_POLY);n.appendBits(i,10);var s=new Ct;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Ve("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Ve("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ve;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var a=0;a<8;++a){if(!t.isEmpty(n.get(e+a,r)))throw new Ve;n.setNumber(e+a,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var a=0;a<7;++a){if(!t.isEmpty(n.get(e,r+a)))throw new Ve;n.setNumber(e,r+a,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var a=0;a<5;++a)for(var i=t.POSITION_ADJUSTMENT_PATTERN[a],s=0;s<5;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPattern=function(e,r,n){for(var a=0;a<7;++a)for(var i=t.POSITION_DETECTION_PATTERN[a],s=0;s<7;++s)n.setNumber(e+s,r+a,i[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;t.embedVerticalSeparationPattern(a,0,e),t.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),t.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,s=a.length;i!==s;i++){var o=a[i];if(o>=0)for(var c=0;c!==s;c++){var u=a[c];u>=0&&t.isEmpty(r.get(u,o))&&t.embedPositionAdjustmentPattern(u-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),SN=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),Y1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ws.applyMaskPenaltyRule1(e)+ws.applyMaskPenaltyRule2(e)+ws.applyMaskPenaltyRule3(e)+ws.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var a=t.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(Uo.CHARACTER_SET)!==void 0;i&&(a=n.get(Uo.CHARACTER_SET).toString());var s=this.chooseMode(e,a),o=new Ct;if(s===$e.BYTE&&(i||t.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=xt.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,o)}this.appendModeInfo(s,o);var u=new Ct;this.appendBytes(e,s,u,a);var d;if(n!==null&&n.get(Uo.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Uo.QR_VERSION).toString(),10);d=Ba.getVersionForNumber(f);var h=this.calculateBitsNeeded(s,o,u,d);if(!this.willFit(h,d,r))throw new Ve("Data too big for requested version")}else d=this.recommendVersion(r,s,o,u);var p=new Ct;p.appendBitArray(o);var x=s===$e.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(x,d,s,p),p.appendBitArray(u);var g=d.getECBlocksForLevel(r),y=d.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(y,p);var v=this.interleaveWithECBytes(p,d.getTotalCodewords(),y,g.getNumBlocks()),m=new zd;m.setECLevel(r),m.setMode(s),m.setVersion(d);var w=d.getDimensionForVersion(),b=new EN(w,w),N=this.chooseMaskPattern(v,r,d,b);return m.setMaskPattern(N),Z1.buildMatrix(v,r,d,N,b),m.setMatrix(b),m},t.recommendVersion=function(e,r,n,a){var i=this.calculateBitsNeeded(r,n,a,Ba.getVersionForNumber(1)),s=this.chooseVersion(i,e),o=this.calculateBitsNeeded(r,n,a,s);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,a){return r.getSize()+e.getCharacterCountBits(a)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),xt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return $e.KANJI;for(var n=!1,a=!1,i=0,s=e.length;i<s;++i){var o=e.charAt(i);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)a=!0;else return $e.BYTE}return a?$e.ALPHANUMERIC:n?$e.NUMERIC:$e.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Or.encode(e,xt.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=r[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,a){for(var i=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<zd.NUM_MASK_PATTERNS;o++){Z1.buildMatrix(e,r,n,o,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,s=o)}return s},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var a=Ba.getVersionForNumber(n);if(t.willFit(e,a,r))return a}throw new Ve("Data too big")},t.willFit=function(e,r,n){var a=r.getTotalCodewords(),i=r.getECBlocksForLevel(n),s=i.getTotalECCodewords(),o=a-s,c=(e+7)/8;return o>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Ve("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var a=0;a<4&&r.getSize()<n;++a)r.appendBit(!1);var i=r.getSize()&7;if(i>0)for(var a=i;a<8;a++)r.appendBit(!1);for(var s=e-r.getSizeInBytes(),a=0;a<s;++a)r.appendBits(a&1?17:236,8);if(r.getSize()!==n)throw new Ve("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,a,i,s){if(a>=n)throw new Ve("Block ID too large");var o=e%n,c=n-o,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,x=d-h;if(p!==x)throw new Ve("EC bytes mismatch");if(n!==c+o)throw new Ve("RS blocks mismatch");if(e!==(f+p)*c+(h+x)*o)throw new Ve("Total bytes mismatch");a<c?(i[0]=f,s[0]=p):(i[0]=h,s[0]=x)},t.interleaveWithECBytes=function(e,r,n,a){var i,s,o,c;if(e.getSizeInBytes()!==n)throw new Ve("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<a;++p){var x=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,a,p,x,g);var y=x[0],v=new Uint8Array(y);e.toBytes(8*u,v,0,y);var m=t.generateECBytes(v,g[0]);h.push(new SN(v,m)),d=Math.max(d,y),f=Math.max(f,m.length),u+=x[0]}if(n!==u)throw new Ve("Data bytes does not match offset");for(var w=new Ct,p=0;p<d;++p)try{for(var b=(i=void 0,Y1(h)),N=b.next();!N.done;N=b.next()){var A=N.value,v=A.getDataBytes();p<v.length&&w.appendBits(v[p],8)}}catch(k){i={error:k}}finally{try{N&&!N.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}for(var p=0;p<f;++p)try{for(var C=(o=void 0,Y1(h)),S=C.next();!S.done;S=C.next()){var A=S.value,m=A.getErrorCorrectionBytes();p<m.length&&w.appendBits(m[p],8)}}catch(k){o={error:k}}finally{try{S&&!S.done&&(c=C.return)&&c.call(C)}finally{if(o)throw o.error}}if(r!==w.getSizeInBytes())throw new Ve("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,a=new Int32Array(n+r),i=0;i<n;i++)a[i]=e[i]&255;new wg(tr.QR_CODE_FIELD_256).encode(a,r);for(var s=new Uint8Array(r),i=0;i<r;i++)s[i]=a[n+i];return s},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,a){var i=n.getCharacterCountBits(r);if(e>=1<<i)throw new Ve(e+" is bigger than "+((1<<i)-1));a.appendBits(e,i)},t.appendBytes=function(e,r,n,a){switch(r){case $e.NUMERIC:t.appendNumericBytes(e,n);break;case $e.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case $e.BYTE:t.append8BitBytes(e,n,a);break;case $e.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Ve("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getDigit(e.charAt(a));if(a+2<n){var s=t.getDigit(e.charAt(a+1)),o=t.getDigit(e.charAt(a+2));r.appendBits(i*100+s*10+o,10),a+=3}else if(a+1<n){var s=t.getDigit(e.charAt(a+1));r.appendBits(i*10+s,7),a+=2}else r.appendBits(i,4),a++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,a=0;a<n;){var i=t.getAlphanumericCode(e.charCodeAt(a));if(i===-1)throw new Ve;if(a+1<n){var s=t.getAlphanumericCode(e.charCodeAt(a+1));if(s===-1)throw new Ve;r.appendBits(i*45+s,11),a+=2}else r.appendBits(i,6),a++}},t.append8BitBytes=function(e,r,n){var a;try{a=Or.encode(e,n)}catch(c){throw new Ve(c)}for(var i=0,s=a.length;i!==s;i++){var o=a[i];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Or.encode(e,xt.SJIS)}catch(f){throw new Ve(f)}for(var a=n.length,i=0;i<a;i+=2){var s=n[i]&255,o=n[i+1]&255,c=s<<8&4294967295|o,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Ve("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits($e.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=xt.UTF8.getName(),t})();var AN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){AN(e,t);function e(r,n,a,i,s,o,c,u){var d=t.call(this,o,c)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=s,i+o>n||s+c>a)throw new ie("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(o,c),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ie("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Be.arraycopy(this.yuvData,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Be.arraycopy(this.yuvData,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;Be.arraycopy(this.yuvData,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,a,i,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*n),i=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var c=o*r,u=0;u<r;u++){var d=i[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var a=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<n;i++,s+=this.dataWidth)for(var o=s+r/2,c=s,u=s+r-1;c<o;c++,u--){var d=a[c];a[c]=a[u],a[u]=d}},e.prototype.invert=function(){return new s0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(bc);var jN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){jN(e,t);function e(r,n,a,i,s,o,c){var u=t.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=s,u.left=o,u.top=c,r.BYTES_PER_ELEMENT===4){for(var d=n*a,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],x=p>>16&255,g=p>>7&510,y=p&255;f[h]=(x+g+y)/4&255}u.luminances=f}else u.luminances=r;if(i===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=a),o===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new ie("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new ie("Requested row is outside the image: "+r);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(r+this.top)*this.dataWidth+this.left;return Be.arraycopy(this.luminances,i,n,0,a),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=r*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Be.arraycopy(this.luminances,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*r;Be.arraycopy(this.luminances,s,i,c,r),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,a,i){return new e(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new s0(this)},e})(bc);var IN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kN=function(t){IN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(xt),TN=function(){function t(){}return t.ISO_8859_1=xt.ISO8859_1,t}(),Vd,ON=301,RN=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=ON);return{LOG:t,ALOG:e}};Vd=RN([],[]),Vd.LOG;Vd.ALOG;var K1;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(K1||(K1={}));var q1=129,bg=230,PN=231,DN=235,MN=236,LN=237,FN=238,BN=239,UN=240,fu=254,zN=254,Q1="[)>05",J1="[)>06",ep="",Te=0,It=1,Ht=2,ft=3,_t=4,Lt=5,VN=function(){function t(){}return t.prototype.getEncodingMode=function(){return Te},t.prototype.encode=function(e){var r=Zr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=Zr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case Lt:e.writeCodeword(PN),e.signalEncoderChange(Lt);return;case It:e.writeCodeword(bg),e.signalEncoderChange(It);return;case ft:e.writeCodeword(FN),e.signalEncoderChange(ft);break;case Ht:e.writeCodeword(BN),e.signalEncoderChange(Ht);break;case _t:e.writeCodeword(UN),e.signalEncoderChange(_t);break;default:throw new Error("Illegal mode: "+a)}else Zr.isExtendedASCII(n)?(e.writeCodeword(DN),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Zr.isDigit(e)&&Zr.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),$N=function(){function t(){}return t.prototype.getEncodingMode=function(){return Lt},t.prototype.encode=function(e){var r=new pe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var a=Zr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Te);break}}var i=r.length()-1,s=1,o=e.getCodewordCount()+i+s;e.updateSymbolInfo(o);var c=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||c)if(i<=249)r.setCharAt(0,ye.getCharAt(i));else if(i<=1555)r.setCharAt(0,ye.getCharAt(Math.floor(i/250)+249)),r.insert(1,ye.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,a=e+n;return a<=255?a:a-256},t}(),d0=function(){function t(){}return t.prototype.getEncodingMode=function(){return It},t.prototype.encodeMaximal=function(e){for(var r=new pe,n=0,a=e.pos,i=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,r),r.length()%3===0&&(a=e.pos,i=r.length())}if(i!==r.length()){var o=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=a)}r.length()>0&&e.writeCodeword(bg),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new pe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,r),i=Math.floor(r.length()/3)*2,s=e.getCodewordCount()+i;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new pe;for(r.length()%3===2&&o!==2&&(a=this.backtrackOneCharacter(e,r,c,a));r.length()%3===1&&(a>3||o!==1);)a=this.backtrackOneCharacter(e,r,c,a);break}var u=r.length();if(u%3===0){var d=Zr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Te);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,a){var i=r.length(),s=r.toString().substring(0,i-a);r.setLengthToZero(),r.append(s),e.pos--;var o=e.getCurrentChar();return a=this.encodeChar(o,n),e.resetSymbolInfo(),a},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),a=r.length()%3,i=e.getCodewordCount()+n;e.updateSymbolInfo(i);var s=e.getSymbolInfo().getDataCapacity()-i;if(a===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(fu)}else if(s===1&&a===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(fu),e.pos--}else if(a===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(s>0||e.hasMoreCharacters())&&e.writeCodeword(fu)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Te)},t.prototype.encodeChar=function(e,r){if(e===" ".charCodeAt(0))return r.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return r.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return r.append(e-65+14),1;if(e<" ".charCodeAt(0))return r.append(0),r.append(e),2;if(e<="/".charCodeAt(0))return r.append(1),r.append(e-33),2;if(e<="@".charCodeAt(0))return r.append(1),r.append(e-58+15),2;if(e<="_".charCodeAt(0))return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,a=r%256,i=new pe;return i.append(n),i.append(a),i.toString()},t}(),HN=function(){function t(){}return t.prototype.getEncodingMode=function(){return _t},t.prototype.encode=function(e){for(var r=new pe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var a=r.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var i=r.toString().substring(4);r.setLengthToZero(),r.append(i);var s=Zr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Te);break}}}r.append(ye.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),u=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(Te)}},t.prototype.encodeChar=function(e,r){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?r.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?r.append(ye.getCharAt(e-64)):Zr.illegalCharacter(ye.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=r>=2?e.charAt(1).charCodeAt(0):0,i=r>=3?e.charAt(2).charCodeAt(0):0,s=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(a<<12)+(i<<6)+s,c=o>>16&255,u=o>>8&255,d=o&255,f=new pe;return f.append(c),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),WN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GN=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Se=function(){function t(e,r,n,a,i,s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=c}return t.lookup=function(e,r,n,a,i){var s,o;r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=GN(ZN),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),XN=function(t){WN(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Se),ZN=[new Se(!1,3,5,8,8,1),new Se(!1,5,7,10,10,1),new Se(!0,5,7,16,6,1),new Se(!1,8,10,12,12,1),new Se(!0,10,11,14,6,2),new Se(!1,12,12,14,14,1),new Se(!0,16,14,24,10,1),new Se(!1,18,14,16,16,1),new Se(!1,22,18,18,18,1),new Se(!0,22,18,16,10,2),new Se(!1,30,20,20,20,1),new Se(!0,32,24,16,14,2),new Se(!1,36,24,22,22,1),new Se(!1,44,28,24,24,1),new Se(!0,49,28,22,14,2),new Se(!1,62,36,14,14,4),new Se(!1,86,42,16,16,4),new Se(!1,114,48,18,18,4),new Se(!1,144,56,20,20,4),new Se(!1,174,68,22,22,4),new Se(!1,204,84,24,24,4,102,42),new Se(!1,280,112,14,14,16,140,56),new Se(!1,368,144,16,16,16,92,36),new Se(!1,456,192,18,18,16,114,48),new Se(!1,576,224,20,20,16,144,56),new Se(!1,696,272,22,22,16,174,68),new Se(!1,816,336,24,24,16,136,56),new Se(!1,1050,408,18,18,36,175,68),new Se(!1,1304,496,20,20,36,163,62),new XN],YN=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new pe,a=0,i=r.length;a<i;a++){var s=String.fromCharCode(r[a]&255);if(s==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new pe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Se.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),KN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qN=function(t){KN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ft},e.prototype.encode=function(r){for(var n=new pe;r.hasMoreCharacters();){var a=r.getCurrentChar();r.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(r,n);var s=Zr.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){r.signalEncoderChange(Te);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case"*".charCodeAt(0):n.append(1);break;case">".charCodeAt(0):n.append(2);break;case" ".charCodeAt(0):n.append(3);break;default:r>="0".charCodeAt(0)&&r<="9".charCodeAt(0)?n.append(r-48+4):r>="A".charCodeAt(0)&&r<="Z".charCodeAt(0)?n.append(r-65+14):Zr.illegalCharacter(ye.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var a=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),i=n.length();r.pos-=i,(r.getRemainingCharacters()>1||a>1||r.getRemainingCharacters()!==a)&&r.writeCodeword(zN),r.getNewEncoding()<0&&r.signalEncoderChange(Te)},e}(d0),QN=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JN=function(t){QN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ht},e.prototype.encodeChar=function(r,n){if(r===" ".charCodeAt(0))return n.append(3),1;if(r>="0".charCodeAt(0)&&r<="9".charCodeAt(0))return n.append(r-48+4),1;if(r>="a".charCodeAt(0)&&r<="z".charCodeAt(0))return n.append(r-97+14),1;if(r<" ".charCodeAt(0))return n.append(0),n.append(r),2;if(r<="/".charCodeAt(0))return n.append(1),n.append(r-33),2;if(r<="@".charCodeAt(0))return n.append(1),n.append(r-58+15),2;if(r>="[".charCodeAt(0)&&r<="_".charCodeAt(0))return n.append(1),n.append(r-91+22),2;if(r==="`".charCodeAt(0))return n.append(2),n.append(0),2;if(r<="Z".charCodeAt(0))return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(r-128,n),a},e}(d0),e8=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=q1+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,a,i){r===void 0&&(r=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var s=new d0,o=[new VN,s,new JN,new qN,new HN,new $N],c=new YN(e);c.setSymbolShape(r),c.setSizeConstraints(n,a),e.startsWith(Q1)&&e.endsWith(ep)?(c.writeCodeword(MN),c.setSkipAtEnd(2),c.pos+=Q1.length):e.startsWith(J1)&&e.endsWith(ep)&&(c.writeCodeword(LN),c.setSkipAtEnd(2),c.pos+=J1.length);var u=Te;for(i&&(s.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)o[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var f=c.getSymbolInfo().getDataCapacity();d<f&&u!==Te&&u!==Lt&&u!==_t&&c.writeCodeword("");var h=c.getCodewords();for(h.length()<f&&h.append(q1);h.length()<f;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var a=this.lookAheadTestIntern(e,r,n);if(n===ft&&a===ft){for(var i=Math.min(r+3,e.length),s=r;s<i;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Te}else if(n===_t&&a===_t){for(var i=Math.min(r+4,e.length),s=r;s<i;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Te}return a},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var a;n===Te?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,s=new Uint8Array(6),o=[];;){if(r+i===e.length){gt.fill(s,0),gt.fill(o,0);var c=this.findMinimums(a,o,me.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[Te]===c)return Te;if(u===1){if(s[Lt]>0)return Lt;if(s[_t]>0)return _t;if(s[Ht]>0)return Ht;if(s[ft]>0)return ft}return It}var d=e.charCodeAt(r+i);if(i++,this.isDigit(d)?a[Te]+=.5:this.isExtendedASCII(d)?(a[Te]=Math.ceil(a[Te]),a[Te]+=2):(a[Te]=Math.ceil(a[Te]),a[Te]++),this.isNativeC40(d)?a[It]+=2/3:this.isExtendedASCII(d)?a[It]+=8/3:a[It]+=4/3,this.isNativeText(d)?a[Ht]+=2/3:this.isExtendedASCII(d)?a[Ht]+=8/3:a[Ht]+=4/3,this.isNativeX12(d)?a[ft]+=2/3:this.isExtendedASCII(d)?a[ft]+=13/3:a[ft]+=10/3,this.isNativeEDIFACT(d)?a[_t]+=3/4:this.isExtendedASCII(d)?a[_t]+=17/4:a[_t]+=13/4,this.isSpecialB256(d)?a[Lt]+=4:a[Lt]++,i>=4){if(gt.fill(s,0),gt.fill(o,0),this.findMinimums(a,o,me.MAX_VALUE,s),o[Te]<this.min(o[Lt],o[It],o[Ht],o[ft],o[_t]))return Te;if(o[Lt]<o[Te]||o[Lt]+1<this.min(o[It],o[Ht],o[ft],o[_t]))return Lt;if(o[_t]+1<this.min(o[Lt],o[It],o[Ht],o[ft],o[Te]))return _t;if(o[Ht]+1<this.min(o[Lt],o[It],o[_t],o[ft],o[Te]))return Ht;if(o[ft]+1<this.min(o[Lt],o[It],o[_t],o[Ht],o[Te]))return ft;if(o[It]+1<this.min(o[Te],o[Lt],o[_t],o[Ht])){if(o[It]<o[ft])return It;if(o[It]===o[ft]){for(var f=r+i+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return ft;if(!this.isNativeX12(h))break;f++}return It}}}}},t.min=function(e,r,n,a,i){var s=Math.min(e,Math.min(r,Math.min(n,a)));return i===void 0?s:Math.min(s,i)},t.findMinimums=function(e,r,n,a){for(var i=0;i<6;i++){var s=r[i]=Math.ceil(e[i]);n>s&&(n=s,gt.fill(a,0)),n===s&&(a[i]=a[i]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return e===13||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,a=r;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-r},t.illegalCharacter=function(e){var r=me.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}();const Zr=e8;var hu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tp=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Or.encode(e,this.charset)!=null}catch{return!1}},t}(),t8=function(){function t(e,r,n){var a,i,s,o,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(T){return new tp(kN.forName(T))}),this.encoders=[];var d=[];d.push(new tp(TN.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var x=(a=void 0,hu(d)),g=x.next();!g.done;g=x.next()){var y=g.value,v=e.charAt(h),m=v.charCodeAt(0);if(m===n||y.canEncode(v)){p=!0;break}}}catch(T){a={error:T}}finally{try{g&&!g.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}if(!p)try{for(var w=(s=void 0,hu(this.ENCODERS)),b=w.next();!b.done;b=w.next()){var y=b.value;if(y.canEncode(e.charAt(h))){d.push(y),p=!0;break}}}catch(T){s={error:T}}finally{try{b&&!b.done&&(o=w.return)&&o.call(w)}finally{if(s)throw s.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var N=0;try{for(var A=hu(d),C=A.next();!C.done;C=A.next()){var y=C.value;this.encoders[N++]=y}}catch(T){c={error:T}}finally{try{C&&!C.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}}var S=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){S=h;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Or.encode(ye.getCharAt(e),this.encoders[r].name)},t}(),r8=3,n8=function(){function t(e,r,n){this.fnc1=n;var a=new t8(e,r,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var s=e.charAt(i).charCodeAt(0);this.bytes[i]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,a,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new pe,a=e;a<r;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,a,i,s){var o=e.charAt(a).charCodeAt(0),c=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(o===s||r.canEncode(o,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(o===s||r.canEncode(o,d))&&this.addEdge(n,a+1,new rp(o,r,d,i,s))},t.prototype.encodeMinimally=function(e,r,n){var a=e.length,i=new rp[a+1][r.length()];this.addEdges(e,r,i,0,null,n);for(var s=1;s<=a;s++){for(var o=0;o<r.length();o++)i[s][o]!=null&&s<a&&this.addEdges(e,r,i,s,i[s][o],n);for(var o=0;o<r.length();o++)i[s-1][o]=null}for(var c=-1,u=me.MAX_VALUE,o=0;o<r.length();o++)if(i[a][o]!=null){var d=i[a][o];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=o)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=i[a][c];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),s=p.length-1;s>=0;s--)f.unshift(p[s]&255);var x=h.previous===null?0:h.previous.encoderIndex;x!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],s=0;s<g.length;s++)g[s]=f[s];return g},t}(),rp=function(){function t(e,r,n,a,i){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=e===i?1e3:e;var s=this.isFNC1()?1:r.encode(e,n).length,o=a===null?0:a.encoderIndex;o!==n&&(s+=r8),a!=null&&(s+=a.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),a8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__values;var i8=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i};globalThis&&globalThis.__spread;var np;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(np||(np={}));(function(t){a8(e,t);function e(r,n,a,i,s){var o=t.call(this,r,n,a)||this;return o.shape=i,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(n8);var s8=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),ap=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),o8=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),l8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f0=function(t){l8(e,t);function e(r,n,a){var i=t.call(this,r)||this;return i.value=n,i.bitCount=a,i}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+me.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(o8),c8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u8=function(t){c8(e,t);function e(r,n,a){var i=t.call(this,r,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return e.prototype.appendTo=function(r,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(f0);function d8(t,e,r){return new u8(t,e,r)}function is(t,e,r){return new f0(t,e,r)}var f8=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],da=0,Zl=1,kr=2,_g=3,ln=4,h8=new f0(null,0,0),pu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])],p8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function m8(t){var e,r;try{for(var n=p8(t),a=n.next();!a.done;a=n.next()){var i=a.value;gt.fill(i,-1)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[da][ln]=0,t[Zl][ln]=0,t[Zl][da]=28,t[_g][ln]=0,t[kr][ln]=0,t[kr][da]=15,t}var Ng=m8(gt.createInt32Array(6,6)),x8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g8=function(){function t(e,r,n,a){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=a}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,a=this.token;if(e!==this.mode){var i=pu[this.mode][e];a=is(a,i&65535,i>>16),n+=i>>16}var s=e===kr?4:5;return a=is(a,r,s),new t(a,e,0,n+s)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,a=this.mode===kr?4:5;return n=is(n,Ng[this.mode][e],a),n=is(n,r,5),new t(n,this.mode,0,this.bitCount+a+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,a=this.bitCount;if(this.mode===ln||this.mode===kr){var i=pu[n][da];r=is(r,i&65535,i>>16),a+=i>>16,n=da}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,a+s);return o.binaryShiftByteCount===2047+31&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=d8(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(pu[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,a=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())a.unshift(i);var s=new Ct;try{for(var o=x8(a),c=o.next();!c.done;c=o.next()){var u=c.value;u.appendTo(s,e)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t.prototype.toString=function(){return ye.format("%s bits=%d bytes=%d",f8[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(h8,da,0,0),t}();function v8(t){var e=ye.getCharCode(" "),r=ye.getCharCode("."),n=ye.getCharCode(",");t[da][e]=1;for(var a=ye.getCharCode("Z"),i=ye.getCharCode("A"),s=i;s<=a;s++)t[da][s]=s-i+2;t[Zl][e]=1;for(var o=ye.getCharCode("z"),c=ye.getCharCode("a"),s=c;s<=o;s++)t[Zl][s]=s-c+2;t[kr][e]=1;for(var u=ye.getCharCode("9"),d=ye.getCharCode("0"),s=d;s<=u;s++)t[kr][s]=s-d+2;t[kr][n]=12,t[kr][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[_g][ye.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)ye.getCharCode(p[h])>0&&(t[ln][ye.getCharCode(p[h])]=h);return t}var mu=v8(gt.createInt32Array(5,256)),zo=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y8=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ye.getCharCode(" "),r=ye.getCharCode(`
`),n=ap.singletonList(g8.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,s=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case ye.getCharCode("\r"):i=s===r?2:0;break;case ye.getCharCode("."):i=s===e?3:0;break;case ye.getCharCode(","):i=s===e?4:0;break;case ye.getCharCode(":"):i=s===e?5:0;break;default:i=0}i>0?(n=t.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var o=ap.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,a,i=[];try{for(var s=zo(e),o=s.next();!o.done;o=s.next()){var c=o.value;this.updateStateForChar(c,r,i)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return t.simplifyStates(i)},t.prototype.updateStateForChar=function(e,r,n){for(var a=this.text[r]&255,i=mu[e.getMode()][a]>0,s=null,o=0;o<=ln;o++){var c=mu[o][a];if(c>0){if(s==null&&(s=e.endBinaryShift(r)),!i||o===e.getMode()||o===kr){var u=s.latchAndAppend(o,c);n.push(u)}if(!i&&Ng[e.getMode()][o]>=0){var d=s.shiftAndAppend(o,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||mu[e.getMode()][a]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var a,i,s=[];try{for(var o=zo(e),c=o.next();!c.done;c=o.next()){var u=c.value;this.updateStateForPair(u,r,n,s)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,r,n,a){var i=e.endBinaryShift(r);if(a.push(i.latchAndAppend(ln,n)),e.getMode()!==ln&&a.push(i.shiftAndAppend(ln,n)),n===3||n===4){var s=i.latchAndAppend(kr,16-n).latchAndAppend(kr,1);a.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(o)}},t.simplifyStates=function(e){var r,n,a,i,s=[];try{for(var o=zo(e),c=o.next();!c.done;c=o.next()){var u=c.value,d=!0,f=function(y){if(y.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(y)&&(s=s.filter(function(v){return v!==y}))};try{for(var h=(a=void 0,zo(s)),p=h.next();!p.done;p=h.next()){var x=p.value,g=f(x);if(g==="break")break}}catch(y){a={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}d&&s.push(u)}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t}(),w8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var a=new y8(e).encode(),i=me.truncDivision(a.getSize()*r,100)+11,s=a.getSize()+i,o,c,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,c=Math.abs(n),c>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new ie(ye.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(c,o),d=t.WORD_SIZE[c];var h=u-u%d;if(f=t.stuffBits(a,d),f.getSize()+i>h)throw new ie("Data to large for user specified layer");if(o&&f.getSize()>d*64)throw new ie("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new ie("Data too large for an Aztec code");if(o=p<=3,c=o?p+1:p,u=t.totalBitsInLayer(c,o),!(s>u)){(f==null||d!==t.WORD_SIZE[c])&&(d=t.WORD_SIZE[c],f=t.stuffBits(a,d));var h=u-u%d;if(!(o&&f.getSize()>d*64)&&f.getSize()+i<=h)break}}}var x=t.generateCheckWords(f,u,d),g=f.getSize()/d,y=t.generateModeMessage(o,c,g),v=(o?11:14)+c*4,m=new Int32Array(v),w;if(o){w=v;for(var p=0;p<m.length;p++)m[p]=p}else{w=v+1+2*me.truncDivision(me.truncDivision(v,2)-1,15);for(var b=me.truncDivision(v,2),N=me.truncDivision(w,2),p=0;p<b;p++){var A=p+me.truncDivision(p,15);m[b-p-1]=N-A-1,m[b+p]=N+A+1}}for(var C=new hn(w),p=0,S=0;p<c;p++){for(var T=(c-p)*4+(o?9:12),k=0;k<T;k++)for(var D=k*2,I=0;I<2;I++)x.get(S+D+I)&&C.set(m[p*2+I],m[p*2+k]),x.get(S+T*2+D+I)&&C.set(m[p*2+k],m[v-1-p*2-I]),x.get(S+T*4+D+I)&&C.set(m[v-1-p*2-I],m[v-1-p*2-k]),x.get(S+T*6+D+I)&&C.set(m[v-1-p*2-k],m[p*2+I]);S+=T*8}if(t.drawModeMessage(C,o,w,y),o)t.drawBullsEye(C,me.truncDivision(w,2),5);else{t.drawBullsEye(C,me.truncDivision(w,2),7);for(var p=0,k=0;p<me.truncDivision(v,2)-1;p+=15,k+=16)for(var I=me.truncDivision(w,2)&1;I<w;I+=2)C.set(me.truncDivision(w,2)-k,I),C.set(me.truncDivision(w,2)+k,I),C.set(I,me.truncDivision(w,2)-k),C.set(I,me.truncDivision(w,2)+k)}var L=new s8;return L.setCompact(o),L.setSize(w),L.setLayers(c),L.setCodeWords(g),L.setMatrix(C),L},t.drawBullsEye=function(e,r,n){for(var a=0;a<n;a+=2)for(var i=r-a;i<=r+a;i++)e.set(i,r-a),e.set(i,r+a),e.set(r-a,i),e.set(r+a,i);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var a=new Ct;return e?(a.appendBits(r-1,2),a.appendBits(n-1,6),a=t.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(n-1,11),a=t.generateCheckWords(a,40,4)),a},t.drawModeMessage=function(e,r,n,a){var i=me.truncDivision(n,2);if(r)for(var s=0;s<7;s++){var o=i-3+s;a.get(s)&&e.set(o,i-5),a.get(s+7)&&e.set(i+5,o),a.get(20-s)&&e.set(o,i+5),a.get(27-s)&&e.set(i-5,o)}else for(var s=0;s<10;s++){var o=i-5+s+me.truncDivision(s,5);a.get(s)&&e.set(o,i-7),a.get(s+10)&&e.set(i+7,o),a.get(29-s)&&e.set(o,i+7),a.get(39-s)&&e.set(i-7,o)}},t.generateCheckWords=function(e,r,n){var a,i,s=e.getSize()/n,o=new wg(t.getGF(n)),c=me.truncDivision(r,n),u=t.bitsToWords(e,n,c);o.encode(u,c-s);var d=r%n,f=new Ct;f.appendBits(0,d);try{for(var h=w8(Array.from(u)),p=h.next();!p.done;p=h.next()){var x=p.value;f.appendBits(x,n)}}catch(g){a={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}return f},t.bitsToWords=function(e,r,n){var a=new Int32Array(n),i,s;for(i=0,s=e.getSize()/r;i<s;i++){for(var o=0,c=0;c<r;c++)o|=e.get(i*r+c)?1<<r-c-1:0;a[i]=o}return a},t.getGF=function(e){switch(e){case 4:return tr.AZTEC_PARAM;case 6:return tr.AZTEC_DATA_6;case 8:return tr.AZTEC_DATA_8;case 10:return tr.AZTEC_DATA_10;case 12:return tr.AZTEC_DATA_12;default:throw new ie("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Ct,a=e.getSize(),i=(1<<r)-2,s=0;s<a;s+=r){for(var o=0,c=0;c<r;c++)(s+c>=a||e.get(s+c))&&(o|=1<<r-1-c);(o&i)===i?(n.appendBits(o&i,r),s--):o&i?n.appendBits(o,r):(n.appendBits(o|1,r),s--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();function b8({onScan:t,isScanning:e,setIsScanning:r}){const n=E.useRef(null),a=E.useRef(null),[i,s]=E.useState(null),[o,c]=E.useState(null),[u,d]=E.useState(!1),f=E.useRef(!0);E.useEffect(()=>(f.current=e,e?h():p(),()=>{f.current=!1,p()}),[e]);const h=async()=>{try{const y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});s(!0),n.current&&(n.current.srcObject=y),a.current=new wN,n.current&&a.current.decodeFromVideoDevice(null,n.current,async(v,m)=>{if(f.current){if(v&&!u){d(!0);const w=v.getText();try{await x(w)}catch(b){console.error("Scan error:",b),c({type:"error",message:"Failed to process scan"})}finally{setTimeout(()=>{d(!1)},2e3)}}if(m&&f.current){if(m.name==="NotFoundException")return;m.name==="NotAllowedError"?(c({type:"error",message:"Camera permission denied"}),r(!1)):m.name==="NotFoundError"?(c({type:"error",message:"No camera found"}),r(!1)):m.name!=="ChecksumException"&&console.error("QR Scanner error:",m.name,m.message)}}})}catch(y){console.error("Camera access error:",y),s(!1)}},p=()=>{a.current&&a.current.reset(),n.current&&n.current.srcObject&&(n.current.srcObject.getTracks().forEach(v=>v.stop()),n.current.srcObject=null)},x=async y=>{var v;try{await t(y)}catch(m){(v=m.message)!=null&&v.includes("already checked in")?c({type:"duplicate",message:"Participant already checked in"}):c({type:"error",message:m.message||"Invalid QR code"})}},g=()=>{r(!e),c(null)};return i===!1?l.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Hh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Camera Permission Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please allow camera access to scan QR codes for check-in."}),l.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"QR Code Scanner"}),l.jsx("button",{onClick:g,className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium ${e?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e?l.jsxs(l.Fragment,{children:[l.jsx(Hh,{className:"h-4 w-4"}),l.jsx("span",{children:"Stop Scanning"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Wh,{className:"h-4 w-4"}),l.jsx("span",{children:"Start Scanning"})]})})]})}),l.jsx("div",{className:"relative",children:e?l.jsxs("div",{className:"relative",children:[l.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover bg-black"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"border-2 border-white border-dashed rounded-lg w-48 h-48 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-sm font-medium",children:"Point camera at QR code"})})}),u&&l.jsx("div",{className:"absolute top-4 left-4 right-4",children:l.jsx("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-md text-sm",children:"Processing scan..."})})]}):l.jsx("div",{className:"h-64 bg-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Wh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:'Click "Start Scanning" to begin'})]})})}),o&&l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-md ${o.type==="success"?"bg-green-50 text-green-800":o.type==="duplicate"?"bg-yellow-50 text-yellow-800":"bg-red-50 text-red-800"}`,children:[o.type==="success"&&l.jsx(Ya,{className:"h-5 w-5"}),o.type==="duplicate"&&l.jsx(pa,{className:"h-5 w-5"}),o.type==="error"&&l.jsx(no,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:o.message}),o.participantName&&l.jsxs("p",{className:"text-sm opacity-75",children:["Participant: ",o.participantName]})]})]})}),l.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Instructions:"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[l.jsx("li",{children:" Point the camera at the participant's QR code"}),l.jsx("li",{children:" Ensure good lighting for better scanning"}),l.jsx("li",{children:" Hold steady until the scan completes"}),l.jsx("li",{children:" Each participant can only be checked in once"})]})]})]})}function h0({eventId:t}){const{accessToken:e}=mr(),[r,n]=E.useState({total_registrations:0,total_check_ins:0,check_in_rate:"0"}),[a,i]=E.useState([]),[s,o]=E.useState(!0),[c,u]=E.useState(!1),[d,f]=E.useState(""),[h,p]=E.useState(null);E.useEffect(()=>{x();const v=setInterval(x,3e4);return()=>clearInterval(v)},[t]);const x=async()=>{try{const v=await fetch(`/api/checkin/events/${t}/check-in-stats`,{headers:{Authorization:`Bearer ${e}`}});if(!v.ok)throw new Error("Failed to fetch stats");const m=await v.json();n(m.stats),i(m.recent_check_ins),o(!1)}catch(v){console.error("Error fetching stats:",v),o(!1)}},g=async v=>{const m=await fetch(`/api/checkin/events/${t}/check-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({qr_code:v,location:"Main Entrance",device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})});if(!m.ok){const b=await m.json();throw new Error(b.error||"Failed to check in participant")}const w=await m.json();return p({name:w.participant.name,time:new Date().toLocaleTimeString()}),x(),w},y=a.filter(v=>v.registration.name.toLowerCase().includes(d.toLowerCase())||v.registration.email.toLowerCase().includes(d.toLowerCase()));return s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading check-in dashboard..."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Check-In"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Scan QR codes to check in participants"})]}),h&&l.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(vd,{className:"h-6 w-6 text-green-600"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-green-800 font-medium",children:[" ",h.name," checked in successfully"]}),l.jsxs("p",{className:"text-green-600 text-sm",children:["at ",h.time]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:l.jsx(Dr,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Registrations"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_registrations})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:l.jsx(vd,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked In"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_check_ins})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:l.jsx(H3,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-in Rate"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.check_in_rate,"%"]})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx("div",{children:l.jsx(b8,{onScan:g,isScanning:c,setIsScanning:u,eventId:t})}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Check-ins"}),l.jsx("button",{onClick:x,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Refresh"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search participants...",value:d,onChange:v=>f(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:y.length===0?l.jsx("div",{className:"p-6 text-center text-gray-500",children:d?"No participants found":"No check-ins yet"}):l.jsx("div",{className:"divide-y divide-gray-200",children:y.map(v=>l.jsx("div",{className:"p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:v.registration.name}),l.jsx("p",{className:"text-sm text-gray-600",children:v.registration.email}),v.location&&l.jsxs("p",{className:"text-xs text-gray-500",children:[" ",v.location]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ti,{className:"h-4 w-4 text-gray-400"}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.checked_in_at).toLocaleTimeString()})]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["by ",v.checked_in_by_user.name]})]})]})},v.id))})})]})]}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsx("h4",{className:"text-lg font-medium text-blue-900 mb-3",children:" How to Use Check-In System"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:"For Staff:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:' Click "Start Scanning" to activate camera'}),l.jsx("li",{children:" Point camera at participant's QR code"}),l.jsx("li",{children:" Wait for automatic scan and confirmation"}),l.jsx("li",{children:" Monitor real-time check-in statistics"})]})]}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",children:"For Participants:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Show QR code from registration email"}),l.jsx("li",{children:" Ensure QR code is clearly visible"}),l.jsx("li",{children:" One-time check-in per registration"}),l.jsx("li",{children:" Get instant confirmation when checked in"})]})]})]})]})]})})}function _8(){const{user:t}=sr(),{accessToken:e}=mr(),[r,n]=E.useState([]),[a,i]=E.useState(null),[s,o]=E.useState(!1),[c,u]=E.useState(!0),[d,f]=E.useState(null);E.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{if(!e)throw new Error("No authentication token found");const g=await fetch("/api/staff/assigned-events",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!g.ok)throw new Error(`Failed to fetch assigned events: ${g.status}`);const y=await g.json();n(y.events||[])}catch(g){console.error("Error fetching assigned events:",g),f(g instanceof Error?g.message:"Failed to load assigned events")}finally{u(!1)}},p=g=>{i(g),o(!0)},x=()=>{o(!1),i(null)};if(c)return l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})});if(d)return l.jsxs("div",{className:"max-w-md mx-auto mt-8 p-6 bg-red-50 border border-red-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(pa,{className:"h-5 w-5 text-red-600 mr-2"}),l.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading Events"})]}),l.jsx("p",{className:"text-red-600 mt-2",children:d}),l.jsx("button",{onClick:h,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Retry"})]});if(s&&a){const g=r.find(y=>y.id===a);return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"QR Code Scanner"}),l.jsx("p",{className:"text-gray-600",children:g?`Scanning for: ${g.title}`:"Event Scanner"})]}),l.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(h0,{eventId:a})})]})}return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex justify-between items-center py-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Dashboard"}),l.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",t==null?void 0:t.name]})]})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zt,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Events Assigned"}),l.jsx("p",{className:"mt-1 text-gray-500",children:"You haven't been assigned to any events yet. Contact your event organizer."})]}):l.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(g=>{var y,v,m;return l.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx(Zt,{className:"h-8 w-8 text-indigo-600 flex-shrink-0"}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:g.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.location})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:g.description}),l.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[l.jsx("strong",{children:"Starts:"})," ",new Date(g.start_date).toLocaleString()]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:"Ends:"})," ",new Date(g.end_date).toLocaleString()]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[((y=g.permissions)==null?void 0:y.can_check_in)&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[l.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Check-in"]}),((v=g.permissions)==null?void 0:v.can_view_stats)&&l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(md,{className:"w-3 h-3 mr-1"}),"View Stats"]})]}),l.jsx("div",{className:"mt-6",children:(m=g.permissions)!=null&&m.can_check_in?l.jsxs("button",{onClick:()=>p(g.id),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[l.jsx(to,{className:"w-4 h-4 mr-2"}),"Start QR Scanning"]}):l.jsxs("div",{className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-500 bg-gray-50 cursor-not-allowed",children:[l.jsx(to,{className:"w-4 h-4 mr-2"}),"No Check-in Permission"]})})]})},g.id)})})})]})}const xu=t=>t.registrations&&Array.isArray(t.registrations)?t.registrations.length>0&&typeof t.registrations[0]=="object"&&"count"in t.registrations[0]?t.registrations[0].count||0:t.registrations.length:0,N8=()=>{const{user:t,accessToken:e,isAuthenticated:r,clearAuth:n}=mr(),a=yr(),[i,s]=E.useState([]),[o,c]=E.useState([]),[u,d]=E.useState(!0),[f,h]=E.useState(null);E.useEffect(()=>{const y=async()=>{var m,w,b;try{if(d(!0),h(null),!r||!e){h("Authentication required"),n(),a("/login");return}const N=await er.getMyEvents();if(N.success&&N.data)s(N.data.events);else{if((m=N.error)!=null&&m.includes("403")||(w=N.error)!=null&&w.includes("Invalid or expired token")){console.log("Token expired, redirecting to login"),n(),a("/login");return}h(N.error||"Failed to fetch events")}}catch(N){if(console.error("Dashboard events error:",N),(b=N.message)!=null&&b.includes("Invalid or expired token")||N.status===403){console.log("Authentication failed, clearing auth and redirecting"),n(),a("/login");return}h("Failed to fetch events")}finally{d(!1)}},v=async()=>{var m,w,b;try{if(d(!0),h(null),!r||!e){h("Authentication required"),n(),a("/login");return}const N=await ga.getUserRegistrations();if(N.success&&N.data)c(N.data.registrations);else{if((m=N.error)!=null&&m.includes("403")||(w=N.error)!=null&&w.includes("Invalid or expired token")){console.log("Token expired, redirecting to login"),n(),a("/login");return}h(N.error||"Failed to fetch registrations")}}catch(N){if(console.error("Dashboard registrations error:",N),(b=N.message)!=null&&b.includes("Invalid or expired token")||N.status===403){console.log("Authentication failed, clearing auth and redirecting"),n(),a("/login");return}h("Failed to fetch registrations")}finally{d(!1)}};(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin"?y():(t==null?void 0:t.role)==="participant"?v():d(!1)},[r,e,t,a]),E.useEffect(()=>{console.log("Dashboard Auth Debug:",{user:t==null?void 0:t.email,userRole:t==null?void 0:t.role,hasToken:!!e,isAuthenticated:r,tokenPreview:e?e.substring(0,20)+"...":"No token"})},[t,e,r]);const p=(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin",x=(t==null?void 0:t.role)==="participant";if((t==null?void 0:t.role)==="staff")return l.jsx(_8,{});const g=o.filter(y=>y.event&&new Date(y.event.start_date)>new Date);return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),x?l.jsxs(oe,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Browse Events"]}):l.jsxs(oe,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),x?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Registrations"}),l.jsx("p",{className:"text-3xl font-bold text-primary-600",children:u?"...":o.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Events"}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:u?"...":g.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Attended Events"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:u?"...":o.filter(y=>y.status==="attended").length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Spent"}),l.jsx("p",{className:"text-3xl font-bold text-purple-600",children:u?"...":`$${o.reduce((y,v)=>{var m;return(m=v.event)!=null&&m.is_paid&&v.event.price&&v.payment_status==="completed"?y+v.event.price:y},0).toLocaleString()}`})]})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Events"}),l.jsx("p",{className:"text-3xl font-bold text-primary-600",children:u?"...":i.length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Registrations"}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:u?"...":i.reduce((y,v)=>y+xu(v),0)})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Events"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:u?"...":i.filter(y=>new Date(y.start_date)>new Date).length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Events"}),l.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:u?"...":i.filter(y=>{const v=new Date,m=new Date(y.start_date),w=new Date(y.end_date);return m<=v&&v<=w}).length})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Revenue"}),l.jsx("p",{className:"text-3xl font-bold text-purple-600",children:u?"...":`$${i.reduce((y,v)=>{if(!v.is_paid||!v.price)return y;const m=xu(v);return y+v.price*m},0).toLocaleString()}`})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x?"My Registrations":p?"My Events":"Welcome to Event Management"}),x&&l.jsx(oe,{to:"/my-registrations",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All "})]}),u?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):f?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-red-600",children:f})}):x?o.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No event registrations"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by browsing and registering for events."}),l.jsx("div",{className:"mt-6",children:l.jsx(oe,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg",children:"Browse Events"})})]}):l.jsx("div",{className:"space-y-4",children:o.slice(0,5).map(y=>{if(!y.event)return null;const v=y.event,m=new Date(v.start_date),w=m>new Date,b=v.is_paid&&y.payment_status==="completed",N=y.status==="confirmed"||b;return l.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:l.jsxs(oe,{to:`/events/${v.id}`,className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:l.jsx("div",{className:"hover:text-primary-600",children:v.title})}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:v.description}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),m.toLocaleDateString()]}),l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v.location]}),v.is_paid&&l.jsxs("span",{className:"text-green-600 font-medium",children:["$",v.price]})]})]}),l.jsxs("div",{className:"ml-4 flex items-center justify-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded-full block text-center ${w?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w?"Upcoming":"Past"}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full block text-center ${N?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:N?"Confirmed":"Pending"}),w&&N&&l.jsx(oe,{to:`/ticket/${y.id}`,className:"block text-xs text-primary-600 hover:text-primary-700 text-center",onClick:A=>A.stopPropagation(),children:"View Ticket"})]})]})},y.id)})}):p?i.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first event."}),l.jsx("div",{className:"mt-6",children:l.jsx(oe,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg",children:"Create Event"})})]}):l.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(y=>{const v=new Date(y.start_date),m=v>new Date;return l.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:l.jsxs(oe,{to:`/events/${y.id}`,className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:l.jsx("div",{className:"hover:text-primary-600",children:y.title})}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:y.description}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),v.toLocaleDateString()]}),l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),y.location]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),xu(y)," registered"]})]})]}),l.jsx("div",{className:"ml-4",children:l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m?"Upcoming":"Past"})})]})},y.id)})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Welcome, ",t==null?void 0:t.name,"!"]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Explore upcoming events and register for events you're interested in."}),l.jsx(oe,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg",children:"Browse Events"})]})]})]})},E8=({value:t,onChange:e,placeholder:r="Search for a location...",className:n=""})=>{const[a,i]=E.useState((t==null?void 0:t.address)||""),[s,o]=E.useState([]),[c,u]=E.useState(!1),[d,f]=E.useState(!1),[h,p]=E.useState(t||null),[x,g]=E.useState(null),[y,v]=E.useState(""),m=E.useRef(),w=E.useRef(null),b=E.useRef(null);E.useEffect(()=>{(t==null?void 0:t.address)!==a&&(i((t==null?void 0:t.address)||""),p(t||null))},[t]);const N=async T=>{var k,D;if(!T.trim()||T.length<3){o([]);return}u(!0),g(null);try{const I=await fetch(`http://localhost:3001/api/maps/search?query=${encodeURIComponent(T)}&region=IND`);if(!I.ok){const F=await I.json().catch(()=>({}));I.status===500&&((k=F.error)!=null&&k.includes("API key"))?g("Location API not properly configured on server. Please contact administrator."):g("Failed to search locations. Please try again.");return}const L=await I.json();L.success&&((D=L.data)!=null&&D.results)&&Array.isArray(L.data.results)?(v(L.provider||"unknown"),o(L.data.results.slice(0,5)),f(!0),console.log(`Using ${L.provider} API for location search`)):o([])}catch(I){console.error("MapMyIndia search error:",I),g("Network error. Please check your connection."),o([])}finally{u(!1)}},A=T=>{const k=T.target.value;i(k),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{N(k)},300)},C=T=>{var D,I,L,F;console.log("handleLocationSelect called with:",T);const k={address:T.formatted_address||T.name,latitude:((I=(D=T.geometry)==null?void 0:D.location)==null?void 0:I.lat)||0,longitude:((F=(L=T.geometry)==null?void 0:L.location)==null?void 0:F.lng)||0,placeId:T.place_id};console.log("Location selected:",k),console.log("Setting searchQuery to:",k.address),i(k.address),p(k),setTimeout(()=>{f(!1),o([])},10),g(null),console.log("Calling onChange with:",k),e(k),console.log("handleLocationSelect completed")},S=()=>{p(null),i(""),o([]),f(!1),g(null),e({address:"",latitude:0,longitude:0})};return E.useEffect(()=>{const T=k=>{const D=k.target;w.current&&!w.current.contains(D)&&b.current&&!b.current.contains(D)&&f(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]),E.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),l.jsxs("div",{className:`relative ${n}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Qr,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{ref:w,type:"text",value:a,onChange:A,placeholder:r,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onFocus:()=>{s.length>0&&f(!0)}}),a&&l.jsx("button",{type:"button",onClick:S,className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-gray-600",children:l.jsx(Wa,{className:"h-4 w-4 text-gray-400"})}),c&&l.jsx("div",{className:"absolute inset-y-0 right-8 flex items-center",children:l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]}),x&&l.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:x}),h&&h.address&&l.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Qr,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-green-800",children:"Selected Location:"}),l.jsx("p",{className:"text-sm text-green-700",children:h.address}),l.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Coordinates: ",h.latitude.toFixed(6),","," ",h.longitude.toFixed(6)]})]})]})}),d&&s.length>0&&l.jsxs("div",{ref:b,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[y&&l.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-200",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Results from"," ",y==="olamaps"?"Ola Maps  ":y==="mapmyindia"?"MapMyIndia ":"Unknown Provider",y==="olamaps"&&"  500K free/month  Verified"]})}),s.map((T,k)=>l.jsx("button",{type:"button",onMouseDown:D=>{D.preventDefault(),D.stopPropagation(),C(T)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Qr,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:T.name}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:T.formatted_address})]})]})},T.place_id||k))]}),d&&s.length===0&&a.length>=3&&!c&&!x&&l.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4",children:l.jsxs("div",{className:"text-center text-gray-500",children:[l.jsx(mc,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),l.jsxs("p",{className:"text-sm",children:['No locations found for "',a,'"']}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]})})]})};class C8{static async upgradeToOrganizer(e){return je.post("/users/upgrade-to-organizer",e)}static async getProfile(){return je.get("/users/profile")}}const S8=wc({organizationName:Ft().min(1,"Organization name is required"),phoneNumber:Ft().optional(),description:Ft().optional()}),A8=({isOpen:t,onClose:e,onSuccess:r})=>{const[n,a]=E.useState(!1),{updateUser:i}=sr(),{register:s,handleSubmit:o,formState:{errors:c},reset:u}=vc({resolver:yc(S8)}),d=async h=>{try{a(!0);const p={organizationName:h.organizationName,phoneNumber:h.phoneNumber||void 0,description:h.description||void 0},x=await C8.upgradeToOrganizer(p);if(x.success&&x.data)i(x.data.user),vn.success("Successfully upgraded to organizer!"),u(),r();else throw new Error(x.error||"Failed to upgrade to organizer")}catch(p){console.error("Organizer upgrade failed:",p),vn.error(p instanceof Error?p.message:"Failed to upgrade to organizer. Please try again.")}finally{a(!1)}},f=()=>{n||(u(),e())};return t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Become an Event Organizer"}),l.jsx("button",{onClick:f,disabled:n,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:l.jsx(Wa,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-gray-600 mb-6",children:"To create events, you need to upgrade your account to an organizer. Please provide some additional information about your organization."}),l.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name *"}),l.jsx("input",{...s("organizationName"),type:"text",id:"organizationName",className:"input",placeholder:"Enter your organization name",disabled:n}),c.organizationName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.organizationName.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (Optional)"}),l.jsx("input",{...s("phoneNumber"),type:"tel",id:"phoneNumber",className:"input",placeholder:"Enter your phone number",disabled:n}),c.phoneNumber&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phoneNumber.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Description (Optional)"}),l.jsx("textarea",{...s("description"),id:"description",rows:3,className:"input resize-none",placeholder:"Brief description of your organization",disabled:n}),c.description&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.description.message})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:f,disabled:n,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:n,className:"flex-1 btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Upgrading...":"Upgrade Account"})]})]})]})]})}):null},j8=wc({title:Ft().min(1,"Title is required"),description:Ft().min(1,"Description is required"),startDate:Ft().min(1,"Start date is required"),endDate:Ft().min(1,"End date is required"),location:Ft().min(1,"Location is required"),latitude:Mo().optional(),longitude:Mo().optional(),capacity:Mo().min(1,"Capacity must be at least 1"),bannerUrl:Ft().url("Must be a valid URL").optional().or(jb("")),visibility:Ib(["public","private","invite-only"]),registrationDeadline:Ft().optional(),isPaid:Ab(),price:Mo().min(0,"Price must be 0 or greater").optional()}),I8=()=>{const t=yr(),{user:e,isOrganizer:r}=sr(),[n,a]=E.useState(!1),[i,s]=E.useState(null),[o,c]=E.useState(!1),[u,d]=E.useState(void 0);console.log("CreateEventPage Debug:",{user:e==null?void 0:e.email,userRole:e==null?void 0:e.role,isOrganizer:r,showUpgradeModal:o}),E.useEffect(()=>{e&&e.role==="participant"&&(console.log("Participant detected on page load, showing upgrade modal"),c(!0))},[e]);const{register:f,handleSubmit:h,watch:p,setValue:x,formState:{errors:g}}=vc({resolver:yc(j8),defaultValues:{visibility:"public",isPaid:!1,capacity:50}}),y=p("isPaid"),v=async m=>{try{a(!0),s(null);const w=new Date(m.startDate);if(new Date(m.endDate)<=w){s("End date must be after start date");return}if(m.registrationDeadline&&new Date(m.registrationDeadline)>=w){s("Registration deadline must be before the event start date");return}const N={title:m.title,description:m.description,startDate:m.startDate,endDate:m.endDate,location:m.location,latitude:m.latitude,longitude:m.longitude,capacity:m.capacity,bannerUrl:m.bannerUrl||void 0,visibility:m.visibility,registrationDeadline:m.registrationDeadline||void 0,isPaid:m.isPaid,price:m.isPaid?m.price:void 0},A=await er.createEvent(N);A.success&&A.data?t(`/events/${A.data.event.id}`):s(A.error||"Failed to create event")}catch(w){s("Failed to create event. Please try again."),console.error("Create event error:",w)}finally{a(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),l.jsx("button",{type:"button",onClick:()=>t(-1),className:"text-gray-600 hover:text-gray-900",children:" Back"})]}),!o&&r&&l.jsxs(l.Fragment,{children:[i&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),l.jsxs("form",{onSubmit:h(v),className:"card space-y-6",children:[l.jsxs("div",{className:"form-section",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"form-label",children:"Event Title *"}),l.jsx("input",{...f("title"),type:"text",id:"title",className:`input ${g.title?"border-red-500":""}`,placeholder:"Enter event title"}),g.title&&l.jsx("p",{className:"form-error",children:g.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"form-label",children:"Description *"}),l.jsx("textarea",{...f("description"),id:"description",rows:4,className:`input ${g.description?"border-red-500":""}`,placeholder:"Describe your event"}),g.description&&l.jsx("p",{className:"form-error",children:g.description.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"location",className:"form-label",children:"Event Location *"}),l.jsx(E8,{value:u,onChange:m=>{d(m),x("location",m.address),x("latitude",m.latitude),x("longitude",m.longitude)},placeholder:"Search for event location...",className:"mt-1"}),g.location&&l.jsx("p",{className:"form-error",children:g.location.message}),l.jsx("input",{type:"hidden",...f("location")}),l.jsx("input",{type:"hidden",...f("latitude",{valueAsNumber:!0})}),l.jsx("input",{type:"hidden",...f("longitude",{valueAsNumber:!0})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"bannerUrl",className:"form-label",children:"Banner Image URL"}),l.jsx("input",{...f("bannerUrl"),type:"url",id:"bannerUrl",className:`input ${g.bannerUrl?"border-red-500":""}`,placeholder:"https://example.com/banner.jpg"}),g.bannerUrl&&l.jsx("p",{className:"form-error",children:g.bannerUrl.message})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Date & Time"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time *"}),l.jsx("input",{...f("startDate"),type:"datetime-local",id:"startDate",className:`input ${g.startDate?"border-red-500":""}`}),g.startDate&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.startDate.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time *"}),l.jsx("input",{...f("endDate"),type:"datetime-local",id:"endDate",className:`input ${g.endDate?"border-red-500":""}`}),g.endDate&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.endDate.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"registrationDeadline",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Deadline"}),l.jsx("input",{...f("registrationDeadline"),type:"datetime-local",id:"registrationDeadline",className:"input"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: Set a deadline for registrations"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Event Settings"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Capacity *"}),l.jsx("input",{...f("capacity",{valueAsNumber:!0}),type:"number",id:"capacity",min:"1",className:`input ${g.capacity?"border-red-500":""}`}),g.capacity&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.capacity.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"visibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Visibility *"}),l.jsxs("select",{...f("visibility"),id:"visibility",className:"input",children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"private",children:"Private"}),l.jsx("option",{value:"invite-only",children:"Invite Only"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{...f("isPaid"),type:"checkbox",id:"isPaid",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),l.jsx("label",{htmlFor:"isPaid",className:"ml-2 text-sm font-medium text-gray-700",children:"This is a paid event"})]}),y&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Price *"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{...f("price",{valueAsNumber:!0}),type:"number",id:"price",min:"0",step:"0.5",className:`input pl-8 ${g.price?"border-red-500":""}`,placeholder:"0.00"})]}),g.price&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.price.message})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),className:"btn btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Event"})]})]})]}),l.jsx(A8,{isOpen:o,onClose:()=>c(!1),onSuccess:()=>{c(!1)}})]})};function k8({eventId:t}){const{accessToken:e}=mr(),[r,n]=E.useState([]),[a,i]=E.useState(!0),[s,o]=E.useState(null),[c,u]=E.useState(!1),[d,f]=E.useState(!1),[h,p]=E.useState(!1),[x,g]=E.useState(null),[y,v]=E.useState({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}});E.useEffect(()=>{m(),w()},[t]),E.useEffect(()=>{const C=S=>{x&&!S.target.closest(".relative")&&g(null)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[x]);const m=async()=>{var C;try{o(null);const S=await fetch(`/api/checkin/events/${t}/staff`,{headers:{Authorization:`Bearer ${e}`}});if(S.ok){const T=await S.json();console.log(" Staff data received:",T),console.log(" Staff array:",T.staff),console.log(" Staff length:",(C=T.staff)==null?void 0:C.length),console.log(" Is array?",Array.isArray(T.staff)),n(Array.isArray(T.staff)?T.staff:[])}else console.error("Failed to fetch staff:",S.status),n([]),S.status===403?o("You don't have permission to view staff for this event. Only event organizers and administrators can access staff management."):S.status===404?o("Event not found. Please check if the event still exists and refresh the page."):S.status===401?o("Your session has expired. Please log in again to view staff information."):o("Unable to load staff information. Please try refreshing the page.")}catch(S){console.error("Error fetching staff:",S),n([]),o("Unable to connect to the server. Please check your internet connection and try again.")}finally{i(!1)}},w=async()=>{try{p(!0);const C=await fetch("/api/email/status",{headers:{Authorization:`Bearer ${e}`}});if(C.ok){const S=await C.json();f(S.hasGmailPermission)}}catch(C){console.error("Error checking Gmail permission:",C)}finally{p(!1)}},b=async()=>{try{const C=await fetch("/api/email/authorize",{headers:{Authorization:`Bearer ${e}`}});if(C.ok){const S=await C.json();window.location.href=S.authUrl}else console.error("Failed to get Gmail authorization URL")}catch(C){console.error("Error requesting Gmail permission:",C)}},N=async C=>{var S,T,k;C.preventDefault(),console.log(" Frontend newStaff state:",y);try{const D=[];y.permissions.can_check_in&&D.push("check-in"),y.permissions.can_view_stats&&D.push("view-stats");const I={email:y.email,name:y.name,permissions:D};console.log(" Sending staff data:",I);const L=await fetch(`/api/checkin/events/${t}/staff`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(I)});if(L.ok)await m(),v({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}}),u(!1),alert("Staff member added successfully! Login credentials will be sent via email.");else{const F=await L.json();console.error(" Full error response:",F),console.error(" Response status:",L.status),console.error(" Response headers:",Object.fromEntries(L.headers.entries()));let $="Failed to add staff member";L.status===400?(S=F.error)!=null&&S.includes("already exists")||(T=F.error)!=null&&T.includes("duplicate")?$="This person is already a staff member for this event.":(k=F.error)!=null&&k.includes("validation")||F.details?($="Please check that the email address and name are valid and try again.",console.error(" Validation details:",F.details)):$=F.error||"Invalid staff information provided.":L.status===403?$="You don't have permission to add staff members to this event. Only event organizers and administrators can manage staff.":L.status===404?$="Event not found. Please refresh the page and try again.":L.status===500?$="Server error occurred while adding staff member. Please try again in a few moments.":$=F.error||"An unexpected error occurred while adding the staff member.",alert($)}}catch(D){console.error("Error adding staff:",D),alert("Unable to connect to the server. Please check your internet connection and try again.")}},A=async C=>{if(confirm("Are you sure you want to remove this staff member?"))try{const S=localStorage.getItem("token"),T=await fetch(`/api/checkin/events/${t}/staff/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}});if(T.ok)await m(),alert("Staff member removed successfully");else{const k=await T.json();let D="Failed to remove staff member";T.status===403?D="You don't have permission to remove staff members from this event. Only event organizers and administrators can manage staff.":T.status===404?D="Staff member not found. They may have already been removed or the event information is outdated.":T.status===400?D="Cannot remove this staff member. They may be currently checked in or have active sessions.":D=k.error||"An unexpected error occurred while removing the staff member.",alert(D)}}catch(S){console.error("Error removing staff:",S),alert("Unable to connect to the server. Please check your internet connection and try again.")}};return a?l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Staff Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage staff access for check-in and event management"})]}),l.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(G3,{className:"h-4 w-4"}),l.jsx("span",{children:"Add Staff"})]})]})}),!d&&l.jsx("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(qn,{className:"h-5 w-5 text-amber-600"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Gmail Permission Required"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Grant Gmail access to automatically send staff credentials from your email account"})]})]}),l.jsx("button",{onClick:b,disabled:h,className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 disabled:opacity-50",children:h?"Checking...":"Grant Permission"})]})}),d&&l.jsx("div",{className:"px-6 py-3 bg-green-50 border-b border-green-200",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qn,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm text-green-800",children:" Gmail permission granted - Staff emails will be sent from your account"})]})}),c&&l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",required:!0,value:y.email,onChange:C=>v({...y,email:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"staff@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,value:y.name,onChange:C=>v({...y,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:y.permissions.can_check_in,onChange:C=>v({...y,permissions:{...y.permissions,can_check_in:C.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can check-in participants"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:y.permissions.can_view_stats,onChange:C=>v({...y,permissions:{...y.permissions,can_view_stats:C.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can view check-in statistics"})]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Staff Member"}),l.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),l.jsx("div",{className:"divide-y divide-gray-200",children:a?l.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:l.jsx("p",{children:"Loading staff..."})}):s?l.jsxs("div",{className:"px-6 py-8 text-center",children:[l.jsxs("div",{className:"text-red-600 mb-4",children:[l.jsx(nu,{className:"h-12 w-12 text-red-300 mx-auto mb-4"}),l.jsx("p",{className:"font-medium",children:s})]}),l.jsx("button",{onClick:()=>{o(null),m()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]}):r.length===0?l.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[l.jsx(nu,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{children:"No staff members assigned to this event."}),l.jsx("p",{className:"text-sm",children:"Add staff members to help with check-in and event management."})]}):r.map(C=>{var S,T,k,D,I,L,F;return l.jsx("div",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((T=(S=C.user)==null?void 0:S.name)==null?void 0:T.charAt(0).toUpperCase())||"?"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:((k=C.user)==null?void 0:k.name)||"Unknown User"}),l.jsx("p",{className:"text-sm text-gray-600",children:((D=C.user)==null?void 0:D.email)||"No email"}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Added"," ",new Date(C.assigned_at).toLocaleDateString()," by"," ",((I=C.assigned_by_user)==null?void 0:I.name)||"Unknown"]})]})]})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[C.permissions.can_check_in&&l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),C.permissions.can_view_stats&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(xd,{className:"h-3 w-3 mr-1"}),"Stats"]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:(L=C.user)!=null&&L.last_login_at?l.jsxs(l.Fragment,{children:["Last login:"," ",new Date(C.user.last_login_at).toLocaleDateString()]}):"Never logged in"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{var le,U;const $=encodeURIComponent(`Event Staff Access - ${t}`),K=encodeURIComponent(`Hi ${((le=C.user)==null?void 0:le.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((U=C.user)==null?void 0:U.email)||""}?subject=${$}&body=${K}`)},className:"text-blue-600 hover:text-blue-700",title:"Send email",children:l.jsx(qn,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>{var $;return A((($=C.user)==null?void 0:$.id)||C.id)},className:"text-red-600 hover:text-red-700",title:"Remove staff",children:l.jsx(Oi,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"md:hidden relative",children:[l.jsx("button",{onClick:()=>g(x===C.id?null:C.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:l.jsx(U3,{className:"h-4 w-4"})}),x===C.id&&l.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:l.jsxs("div",{className:"p-3 space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Permissions:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.permissions.can_check_in&&l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),C.permissions.can_view_stats&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[l.jsx(xd,{className:"h-3 w-3 mr-1"}),"Stats"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Last Login:"}),l.jsx("p",{className:"text-xs text-gray-500",children:(F=C.user)!=null&&F.last_login_at?new Date(C.user.last_login_at).toLocaleDateString():"Never logged in"})]}),l.jsxs("div",{className:"flex space-x-2 pt-2 border-t border-gray-100",children:[l.jsxs("button",{onClick:()=>{var le,U;const $=encodeURIComponent(`Event Staff Access - ${t}`),K=encodeURIComponent(`Hi ${((le=C.user)==null?void 0:le.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((U=C.user)==null?void 0:U.email)||""}?subject=${$}&body=${K}`),g(null)},className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md",children:[l.jsx(qn,{className:"h-4 w-4"}),l.jsx("span",{children:"Email"})]}),l.jsxs("button",{onClick:()=>{var $;A((($=C.user)==null?void 0:$.id)||C.id),g(null)},className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md",children:[l.jsx(Oi,{className:"h-4 w-4"}),l.jsx("span",{children:"Remove"})]})]})]})})]})]})},C.id)})}),l.jsx("div",{className:"px-6 py-4 bg-blue-50 border-t border-blue-200",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(nu,{className:"h-5 w-5 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"Staff Access Information:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Staff members receive login credentials via email"}),l.jsx("li",{children:" They can access the check-in system with their assigned permissions"}),l.jsx("li",{children:" Staff accounts are created automatically if they don't exist"}),l.jsx("li",{children:" You can modify or revoke access at any time"})]})]})]})})]})}const T8=({latitude:t,longitude:e,address:r,eventTitle:n,className:a="",height:i="300px"})=>{const s=E.useRef(null),[o,c]=E.useState(null),[u,d]=E.useState(!1),f="cca7cc6fa46564a60cc71da4892107e0";E.useEffect(()=>{if(!t||!e){c("Invalid coordinates");return}const x=()=>{if(window.mappls){g();return}const y=document.createElement("script");y.src=`https://apis.mapmyindia.com/advancedmaps/v1/${f}/map_load?v=1.3`,y.async=!0,y.onload=g,y.onerror=()=>{c("Failed to load map. Please check your API key.")},document.head.appendChild(y)},g=()=>{if(!(!s.current||!window.mappls))try{s.current.innerHTML="";const y=new window.mappls.Map(s.current,{center:[t,e],zoom:15,search:!1,traffic:!1,location:!1,geolocation:!1});new window.mappls.Marker({map:y,position:[t,e],fitbounds:!0,icon_url:"https://apis.mapmyindia.com/map_v3/1.3/png?height=30&width=20&color=red&text=",popup:n?`<div class="p-2"><strong>${n}</strong><br/>${r}</div>`:r}),c(null)}catch(y){console.error("Map initialization error:",y),c("Failed to initialize map")}};x()},[t,e,r,n,f]);const h=async()=>{try{await navigator.clipboard.writeText(`${t}, ${e}`),d(!0),setTimeout(()=>d(!1),2e3)}catch(x){console.error("Failed to copy coordinates:",x)}},p=x=>{const g=`${t},${e}`;let y="";switch(x){case"google":y=`https://www.google.com/maps?q=${g}`;break;case"mapmyindia":y=`https://maps.mapmyindia.com/?lat=${t}&lng=${e}&z=15`;break}y&&window.open(y,"_blank")};return o?l.jsx("div",{className:`bg-gray-50 border border-gray-200 rounded-lg p-6 ${a}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx(Qr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Map Unavailable"}),l.jsx("p",{className:"text-gray-500 text-sm mb-4",children:o}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-left",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Qr,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:r}),l.jsx("div",{className:"flex items-center space-x-2 mt-2",children:l.jsx("button",{onClick:h,className:"inline-flex items-center space-x-1 text-xs text-gray-500 hover:text-gray-700",children:u?l.jsxs(l.Fragment,{children:[l.jsx(ks,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-green-600",children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ts,{className:"h-3 w-3"}),l.jsxs("span",{children:[t.toFixed(6),", ",e.toFixed(6)]})]})})})]})]})}),l.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[l.jsxs("button",{onClick:()=>p("google"),className:"inline-flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Bl,{className:"h-4 w-4"}),l.jsx("span",{children:"Open in Google Maps"})]}),l.jsxs("button",{onClick:()=>p("mapmyindia"),className:"inline-flex items-center space-x-2 px-3 py-2 text-sm bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[l.jsx(Zh,{className:"h-4 w-4"}),l.jsx("span",{children:"Open in MapMyIndia"})]})]})]})}):l.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg overflow-hidden ${a}`,children:[l.jsx("div",{ref:s,style:{height:i},className:"w-full"}),l.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Qr,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),l.jsx("button",{onClick:h,className:"inline-flex items-center space-x-1 text-xs text-gray-500 hover:text-gray-700 mt-1",children:u?l.jsxs(l.Fragment,{children:[l.jsx(ks,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-green-600",children:"Coordinates copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ts,{className:"h-3 w-3"}),l.jsxs("span",{children:[t.toFixed(6),", ",e.toFixed(6)]})]})})]})]})}),l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsxs("button",{onClick:()=>p("google"),className:"inline-flex items-center space-x-1 px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",title:"Open in Google Maps",children:[l.jsx(Bl,{className:"h-3 w-3"}),l.jsx("span",{className:"hidden sm:inline",children:"Google"})]}),l.jsxs("button",{onClick:()=>p("mapmyindia"),className:"inline-flex items-center space-x-1 px-2 py-1 text-xs bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",title:"Open in MapMyIndia",children:[l.jsx(Zh,{className:"h-3 w-3"}),l.jsx("span",{className:"hidden sm:inline",children:"Maps"})]})]})]})})]})},O8=()=>{var S,T,k;const{id:t}=_a(),e=yr(),{user:r}=mr(),[n,a]=E.useState(null),[i,s]=E.useState([]),[o,c]=E.useState(!0),[u,d]=E.useState(null),[f,h]=E.useState(!1),p=async()=>{if(r)try{const D=await ga.getUserRegistrations();D.success&&D.data&&s(D.data.registrations)}catch(D){console.error("Failed to fetch user registrations:",D)}},x=D=>{var F,$;const I=i.find(K=>{var le;return((le=K.event)==null?void 0:le.id)===D&&K.status!=="cancelled"});if(console.log(` Checking registration for event ${D}:`,{foundRegistration:!!I,registrationStatus:I==null?void 0:I.status,paymentStatus:I==null?void 0:I.payment_status,isEventPaid:(F=I==null?void 0:I.event)==null?void 0:F.is_paid,allUserRegistrations:i.length}),!I)return!1;if(($=I.event)!=null&&$.is_paid){const K=I.payment_status==="completed";return console.log(` Paid event - payment completed: ${K}`),K}const L=I.status==="confirmed"||I.payment_status===null;return console.log(` Free event - valid registration: ${L}`),L},g=D=>{var F;const I=i.find($=>{var K;return((K=$.event)==null?void 0:K.id)===D&&$.status!=="cancelled"});return I?(F=I.event)!=null&&F.is_paid?I.payment_status==="completed"?I:void 0:I.status==="confirmed"||I.payment_status===null?I:void 0:void 0};E.useEffect(()=>{(async()=>{var I,L,F,$;if(!t){d("Event ID is required"),c(!1);return}try{c(!0);const K=await er.getEventById(t);K.success&&K.data?a(K.data.event):(I=K.error)!=null&&I.includes("not found")||(L=K.error)!=null&&L.includes("404")?d("This event could not be found. It may have been deleted or the link is incorrect."):(F=K.error)!=null&&F.includes("permission")||($=K.error)!=null&&$.includes("access")?d("You don't have permission to view this event. It may be private or restricted."):d(K.error||"Event not found")}catch(K){if(K instanceof Error&&"response"in K){const le=K;le.status===404?d("This event could not be found. It may have been deleted or the link is incorrect."):le.status===403?d("You don't have permission to view this event. It may be private or restricted."):le.status===401?d("Please log in to view this event."):d("An unexpected error occurred while loading the event. Please try again.")}else d("Unable to connect to the server. Please check your internet connection and try again.");console.error("Event details error:",K)}finally{c(!1)}})(),p()},[t,r]);const y=async()=>{if(!(!n||!t)&&confirm(`Are you sure you want to delete "${n.title}"? This action cannot be undone.`))try{const D=await er.deleteEvent(t);D.success?e("/dashboard"):alert(D.error||"Failed to delete event")}catch(D){alert("Failed to delete event"),console.error("Delete event error:",D)}};if(o)return l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading event details..."})]})});if(u||!n)return l.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:u}),l.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});const m=r&&n.organizer&&r.id===n.organizer.id||(r==null?void 0:r.role)==="admin",w=new Date(n.start_date),b=new Date(n.end_date),N=w>new Date,A=new Date>=w&&new Date<=b,C=((S=n.registrations)==null?void 0:S.length)||0;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[l.jsx("div",{className:"relative",children:n.banner_url?l.jsxs("div",{className:"relative h-80 lg:h-96 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent z-10"}),l.jsx("img",{src:n.banner_url,alt:n.title,className:"w-full h-full object-cover transform scale-105 hover:scale-100 transition-transform duration-700"}),l.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]}),m&&l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-2xl px-4 py-2 rounded-full",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage",l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 py-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-40",children:[l.jsxs(oe,{to:`/events/${n.id}/registrations`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registrations"}),l.jsxs("div",{className:"text-xs text-slate-500",children:[C," registered"]})]})]}),l.jsxs(oe,{to:`/events/${n.id}/attendance`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Take Attendance"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Check-in attendees"})]})]}),l.jsxs(oe,{to:`/events/${n.id}/form-builder`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registration Form"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Customize form fields"})]})]}),l.jsxs(oe,{to:`/events/${n.id}/certificates`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Certificates"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Generate certificates"})]})]}),l.jsx("hr",{className:"my-1 border-slate-200"}),l.jsxs("button",{onClick:y,className:"flex items-center w-full px-6 text-sm text-red-600 hover:bg-red-50/70 hover:text-red-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Delete Event"}),l.jsx("div",{className:"text-xs text-red-400",children:"Permanently remove"})]})]})]})]})]})}),l.jsx("div",{className:"absolute inset-0 z-20 flex items-end",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full",children:l.jsxs("div",{className:"max-w-4xl",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[l.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ${A?"bg-emerald-500 text-white shadow-emerald-500/25":N?"bg-blue-500 text-white shadow-blue-500/25":"bg-slate-500 text-white shadow-slate-500/25"} shadow-lg backdrop-blur-sm`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${A?"bg-emerald-200 animate-pulse":"bg-white/70"}`}),A?"Live Now":N?"Upcoming":"Past Event"]}),n.is_paid&&l.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white shadow-lg shadow-amber-500/25 backdrop-blur-sm",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"$",n.price]}),n.category&&l.jsx("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold text-white shadow-lg backdrop-blur-sm",style:{backgroundColor:n.category.color},children:n.category.name})]}),l.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-4 drop-shadow-2xl leading-tight",children:n.title}),l.jsx("p",{className:"text-lg lg:text-xl text-white/95 mb-6 leading-relaxed max-w-3xl font-medium",children:n.description}),l.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[l.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{className:"font-semibold",children:[w.toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","at"," ",w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),l.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),l.jsx("span",{className:"font-semibold",children:n.location})]}),l.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsxs("span",{className:"font-semibold",children:[C,"/",n.capacity," attending"]})]})]})]})})})]}):l.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 py-24",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>e(-1),className:"group flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]}),m&&l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage",l.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 py-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-40",children:[l.jsxs(oe,{to:`/events/${n.id}/registrations`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registrations"}),l.jsxs("div",{className:"text-xs text-slate-500",children:[C," registered"]})]})]}),l.jsxs(oe,{to:`/events/${n.id}/attendance`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Take Attendance"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Check-in attendees"})]})]}),l.jsxs(oe,{to:`/events/${n.id}/form-builder`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Registration Form"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Customize form fields"})]})]}),l.jsxs(oe,{to:`/events/${n.id}/certificates`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Certificates"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Generate certificates"})]})]}),l.jsx("hr",{className:"my-3 border-slate-200"}),l.jsxs("button",{onClick:y,className:"flex items-center w-full px-6 py-3 text-sm text-red-600 hover:bg-red-50/70 hover:text-red-700 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Delete Event"}),l.jsx("div",{className:"text-xs text-red-400",children:"Permanently remove"})]})]})]})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ${A?"bg-emerald-500 text-white":N?"bg-blue-500 text-white":"bg-slate-500 text-white"} shadow-lg`,children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${A?"bg-emerald-200 animate-pulse":"bg-white/70"}`}),A?"Live Now":N?"Upcoming":"Past Event"]}),n.is_paid&&l.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white shadow-lg",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"$",n.price]})]})}),l.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-6 drop-shadow-2xl",children:n.title}),l.jsx("p",{className:"text-xl text-white/95 mb-8 max-w-4xl mx-auto leading-relaxed",children:n.description})]})})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r&&x(n.id)&&l.jsx("div",{className:"mb-8 bg-gradient-to-r from-emerald-50 to-emerald-100 border-l-4 border-emerald-500 rounded-xl p-6 shadow-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-emerald-800",children:"Successfully Registered!"}),l.jsx("p",{className:"text-emerald-700 mt-1",children:"You're all set for this event. Check your email for confirmation details."})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(oe,{to:`/ticket/${(T=g(n.id))==null?void 0:T.id}`,className:"inline-flex items-center px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"View Ticket"]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Event Overview"}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${n.visibility==="public"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:n.visibility==="public"?"Public":"Private"})})]}),!n.banner_url&&l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4",children:n.title}),l.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:n.description})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Date & Time"}),l.jsx("p",{className:"text-slate-600 font-medium",children:w.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),l.jsxs("p",{className:"text-slate-500 text-sm",children:[w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Location"}),l.jsx("p",{className:"text-slate-600 font-medium mb-3",children:n.location}),n.latitude&&n.longitude?l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>h(!f),className:"text-blue-600 hover:text-blue-700 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors",children:f?"Hide Map":"View on Map "}),f&&l.jsx("div",{className:"mt-4",children:l.jsx(T8,{latitude:n.latitude,longitude:n.longitude,address:n.location,eventTitle:n.title,height:"250px",className:"rounded-lg overflow-hidden shadow-sm"})})]}):l.jsx("button",{onClick:()=>{window.open(`https://www.google.com/maps/search/${encodeURIComponent(n.location)}`,"_blank")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors",children:"Search on Maps "})]})]})}),n.organizer&&l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Organizer"}),l.jsx("p",{className:"text-slate-600 font-medium",children:n.organizer.name}),l.jsx("p",{className:"text-slate-500 text-sm",children:n.organizer.email})]})]})}),l.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Attendance"}),l.jsxs("p",{className:"text-slate-600 font-medium mb-3",children:[C," of ",n.capacity," spots filled"]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(C/n.capacity*100,100)}%`}})}),l.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:[n.capacity-C," spots remaining"]})]})]})})]})]})}),m&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-8 py-6 border-b border-slate-200",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[l.jsx("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Event Analytics"]}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Monitor your event performance and engagement"})]}),l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Registrations"}),l.jsx("p",{className:"text-3xl font-bold text-blue-900",children:C}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:C>0?`+${Math.round(C/n.capacity*100)}% capacity`:"No registrations yet"})]}),l.jsx("div",{className:"w-14 h-14 bg-blue-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-6 border border-emerald-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-1",children:"Available Spots"}),l.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:n.capacity-C}),l.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:n.capacity-C>0?"Spots remaining":"Event is full"})]}),l.jsx("div",{className:"w-14 h-14 bg-emerald-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),l.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Capacity Usage"}),l.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:[Math.round(C/n.capacity*100),"%"]}),l.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Of total capacity"})]}),l.jsx("div",{className:"w-14 h-14 bg-purple-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),n.is_paid?l.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-6 border border-amber-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-700 mb-1",children:"Total Revenue"}),l.jsxs("p",{className:"text-3xl font-bold text-amber-900",children:["$",(C*(n.price||0)).toFixed(2)]}),l.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["From ",C," tickets"]})]}),l.jsx("div",{className:"w-14 h-14 bg-amber-200 rounded-xl flex items-center justify-center",children:l.jsx("svg",{className:"w-7 h-7 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}):l.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-6 border border-slate-200",children:l.jsxs("div",{className:"flex flex-col space-y-3",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Quick Actions"}),l.jsxs(oe,{to:`/events/${n.id}/registrations`,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Registrations"]}),l.jsxs(oe,{to:`/events/${n.id}/attendance`,className:"flex items-center justify-center px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-lg hover:bg-emerald-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Attendance"]})]})})]})})]}),m&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-8 py-6 border-b border-slate-200",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[l.jsx("svg",{className:"w-6 h-6 mr-3 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Staff Management"]}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Manage event staff and administrative access permissions"})]}),l.jsx("div",{className:"p-8",children:l.jsx(k8,{eventId:n.id})})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"sticky top-24 space-y-6",children:[!m&&N&&l.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"Registration"]}),r&&x(n.id)?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("p",{className:"text-emerald-800 font-semibold mb-4",children:"You're registered!"}),l.jsxs(oe,{to:`/ticket/${(k=g(n.id))==null?void 0:k.id}`,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-semibold rounded-xl transition-all duration-200 shadow-sm",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"View Ticket"]})]}):C<n.capacity?l.jsxs("div",{children:[n.is_paid&&l.jsx("div",{className:"text-center mb-6",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl border border-amber-200",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),l.jsxs("span",{className:"text-2xl font-bold text-amber-900",children:["$",n.price]}),l.jsx("span",{className:"text-amber-700 text-sm ml-1",children:"/ ticket"})]})}),l.jsxs(oe,{to:`/events/${n.id}/register`,className:"w-full inline-flex items-center justify-center px-6 py-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.is_paid?`Register - $${n.price}`:"Register Free"]}),l.jsxs("p",{className:"text-slate-500 text-sm text-center mt-3",children:[n.capacity-C," spots remaining"]})]}):l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("p",{className:"text-slate-600 font-medium mb-4",children:"Event is Full"}),l.jsx("button",{disabled:!0,className:"w-full px-6 py-3 bg-slate-300 text-slate-500 font-medium rounded-xl cursor-not-allowed",children:"Registration Closed"})]})]})}),m&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-slate-200",children:l.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center",children:[l.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Management"]})}),l.jsxs("div",{className:"p-6 space-y-3",children:[l.jsxs(oe,{to:`/events/${n.id}/registrations`,className:"w-full flex items-center justify-between px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("span",{className:"font-medium",children:"Registrations"})]}),l.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-1 rounded text-sm font-medium",children:C})]}),l.jsxs(oe,{to:`/events/${n.id}/form-builder`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("span",{className:"font-medium",children:"Registration Form"})]}),l.jsxs(oe,{to:`/events/${n.id}/attendance`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsx("span",{className:"font-medium",children:"Take Attendance"})]}),l.jsxs(oe,{to:`/events/${n.id}/certificates`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),l.jsx("span",{className:"font-medium",children:"Certificates"})]}),l.jsx("hr",{className:"my-4 border-slate-200"}),l.jsxs("button",{onClick:y,className:"w-full flex items-center px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors group",children:[l.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),l.jsx("span",{className:"font-medium",children:"Delete Event"})]})]})]})]})})]})]})]})},ri={async getFormTemplates(){return je.get("/registration-forms/templates")},async createRegistrationForm(t,e){return je.post(`/registration-forms/events/${t}/form`,e)},async getRegistrationForm(t){return je.get(`/registration-forms/events/${t}/form`)},async updateRegistrationForm(t,e,r){return je.put(`/registration-forms/events/${t}/form/${e}`,r)},async deleteRegistrationForm(t,e){return je.delete(`/registration-forms/events/${t}/form/${e}`)}};function R8(t,e={}){var i;const{action:r,fallbackMessage:n}=e,a=n||(r?`Failed to ${r}`:"An unexpected error occurred");if(t instanceof Error&&"response"in t){const s=t,o=s.status,c=((i=s.response)==null?void 0:i.error)||"";switch(o){case 400:return c.includes("validation")||c.includes("invalid")?"Please check your information and try again.":c.includes("deadline")?"The deadline for this action has passed.":c.includes("capacity")||c.includes("full")?"This action cannot be completed due to capacity limitations.":c.includes("already")?"This action has already been completed.":c||"Invalid request. Please check your information.";case 401:return"Your session has expired. Please log in again.";case 403:return c.includes("organizer")?"As an organizer, you cannot perform this action on your own event.":c.includes("permission")||c.includes("access")?"You don't have permission to perform this action.":c.includes("invitation")||c.includes("private")?"This is a private resource that requires special access.":c||"Access denied. You don't have permission for this action.";case 404:return r!=null&&r.includes("event")?"The event could not be found. It may have been deleted or the link is incorrect.":r!=null&&r.includes("user")||r!=null&&r.includes("staff")?"The user could not be found. They may have been removed or the information is outdated.":c||"The requested resource could not be found.";case 409:return c.includes("already registered")?"You have already registered for this event.":c.includes("already exists")?"This item already exists. Please use a different name or identifier.":c||"This action conflicts with existing data.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:case 502:case 503:return"Server error occurred. Please try again in a few moments.";default:return c||a}}return t instanceof Error?t.message.includes("network")||t.message.includes("fetch")||t.message.includes("connection")?"Unable to connect to the server. Please check your internet connection and try again.":t.message.includes("timeout")?"The request timed out. Please try again.":t.message||a:typeof t=="string"?t:a}const P8={REGISTRATION:{action:"register for the event",fallbackMessage:"Registration failed. Please try again."},LOGIN:{action:"log in",fallbackMessage:"Login failed. Please check your credentials."},LOADING_EVENTS:{action:"load events",fallbackMessage:"Unable to load events. Please refresh the page."},SAVING_DATA:{action:"save your changes",fallbackMessage:"Failed to save. Please try again."},STAFF_MANAGEMENT:{action:"manage staff",fallbackMessage:"Staff management operation failed."}};function D8(t,e={}){const r=R8(t,e);return e.showToast&&console.error("Error:",r),r}function M8({form:t,onDataChange:e,initialData:r={}}){const[n,a]=E.useState(0),[i,s]=E.useState(r);E.useEffect(()=>{e(i)},[i,e]);const o=(p,x)=>{s(g=>({...g,[p]:x}))},c=p=>{var g,y,v,m,w;const x=i[p.id]||"";switch(p.type){case"text":case"email":case"phone":case"url":return l.jsx("input",{type:p.type==="email"?"email":p.type==="url"?"url":"text",value:x,onChange:b=>o(p.id,b.target.value),placeholder:p.placeholder,required:p.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"number":return l.jsx("input",{type:"number",value:x,onChange:b=>o(p.id,b.target.value),placeholder:p.placeholder,required:p.required,min:(g=p.validation)==null?void 0:g.min,max:(y=p.validation)==null?void 0:y.max,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"date":return l.jsx("input",{type:"date",value:x,onChange:b=>o(p.id,b.target.value),required:p.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"textarea":return l.jsx("textarea",{value:x,onChange:b=>o(p.id,b.target.value),placeholder:p.placeholder,required:p.required,rows:4,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"select":return l.jsxs("select",{value:x,onChange:b=>o(p.id,b.target.value),required:p.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"Select an option"}),(v=p.options)==null?void 0:v.map(b=>l.jsx("option",{value:b,children:b},b))]});case"radio":return l.jsx("div",{className:"space-y-2",children:(m=p.options)==null?void 0:m.map(b=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:p.id,value:b,checked:x===b,onChange:N=>o(p.id,N.target.value),required:p.required,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:b})]},b))});case"checkbox":return l.jsx("div",{className:"space-y-2",children:(w=p.options)==null?void 0:w.map(b=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",value:b,checked:Array.isArray(x)&&x.includes(b),onChange:N=>{const A=Array.isArray(x)?x:[];N.target.checked?o(p.id,[...A,b]):o(p.id,A.filter(C=>C!==b))},className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:b})]},b))});case"file":return l.jsx("input",{type:"file",onChange:b=>{var A;const N=(A=b.target.files)==null?void 0:A[0];o(p.id,N)},required:p.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});default:return null}},u=()=>!t.is_multi_step||!t.steps?!0:t.steps[n].fields.map(g=>t.fields.find(y=>y.id===g)).filter(g=>g!==void 0).every(g=>{if(!g.required)return!0;const y=i[g.id];return g.type==="checkbox"?Array.isArray(y)&&y.length>0:y!==void 0&&y!==""&&y!==null}),d=()=>u(),f=()=>{t.is_multi_step&&t.steps&&n<t.steps.length-1&&d()&&a(n+1)},h=()=>{n>0&&a(n-1)};if(t.is_multi_step&&t.steps){const p=t.steps[n],x=p.fields.map(g=>t.fields.find(y=>y.id===g)).filter(g=>g!==void 0);return l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-2",children:[l.jsxs("span",{children:["Step ",n+1," of ",t.steps.length]}),l.jsxs("span",{children:[Math.round((n+1)/t.steps.length*100),"% Complete"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(n+1)/t.steps.length*100}%`}})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:p.title}),p.description&&l.jsx("p",{className:"text-gray-600 mb-4",children:p.description}),l.jsx("div",{className:"space-y-4",children:x.map(g=>l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[g.label,g.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c(g)]},g.id))})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("button",{type:"button",onClick:h,disabled:n===0,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[l.jsx(Gx,{className:"h-4 w-4 mr-1"}),"Previous"]}),n<t.steps.length-1?l.jsxs("button",{type:"button",onClick:f,disabled:!d(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next",l.jsx(M3,{className:"h-4 w-4 ml-1"})]}):l.jsx("span",{className:"text-sm text-gray-600",children:"Ready to submit"})]})]})}return l.jsx("div",{className:"space-y-4",children:t.fields.map(p=>l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[p.label,p.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c(p)]},p.id))})}const L8=()=>{const{id:t}=_a(),e=yr(),{user:r}=mr(),[n,a]=E.useState(null),[i,s]=E.useState(null),[o,c]=E.useState(!0),[u,d]=E.useState(!1),[f,h]=E.useState(null),[p,x]=E.useState(!1),[g,y]=E.useState({});E.useEffect(()=>{(async()=>{var S;if(!t){h("Event ID is required"),c(!1);return}try{c(!0);const T=await er.getEventById(t);if(!T.success||!T.data){h(T.error||"Event not found"),c(!1);return}a(T.data.event);try{const k=await ri.getRegistrationForm(t);k.success&&k.data&&s(k.data.form)}catch{console.log("No custom form found, will use default form")}if(r&&y(k=>({...k,email:r.email,firstName:r.name.split(" ")[0]||"",lastName:r.name.split(" ").slice(1).join(" ")||""})),r){const k=await ga.checkRegistrationStatus(t);k.success&&((S=k.data)!=null&&S.isRegistered)&&x(!0)}}catch(T){h("Failed to load event details"),console.error("Registration form error:",T)}finally{c(!1)}})()},[t,r]);const v=(C,S)=>{y(T=>({...T,[C]:S}))},m=async C=>{if(C.preventDefault(),!(!n||!t||!r))try{d(!0),h(null);const S=await ga.registerForEvent(t,{formData:g});S.success&&S.data?S.data.requiresPayment?e(`/events/${t}/payment`,{state:{registration:S.data.registration,amount:S.data.amount,message:S.message}}):e(`/events/${t}`,{state:{message:"Successfully registered for the event!"}}):h(S.error||"Failed to register for event")}catch(S){const T=D8(S,P8.REGISTRATION);h(T),console.error("Registration error:",S)}finally{d(!1)}};if(o)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading registration form..."})]})});if(f||!n)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:f}),l.jsx("button",{onClick:()=>e(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});if(!r)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Required"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to register for events."}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:()=>e("/login"),className:"btn btn-primary",children:"Login"}),l.jsx("button",{onClick:()=>e("/register"),className:"btn btn-secondary",children:"Create Account"})]})]})});if(p)return l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Already Registered"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You are already registered for this event."}),l.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-primary",children:"View Event Details"})]})});const w=new Date(n.start_date),b=n.registration_deadline?new Date(n.registration_deadline):null,N=b&&new Date>b,A=new Date>w;return N||A?l.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Closed"}),l.jsx("p",{className:"text-gray-600 mb-6",children:A?"This event has already started.":"The registration deadline has passed."}),l.jsx("button",{onClick:()=>e(`/events/${n.id}`),className:"btn btn-secondary",children:"View Event Details"})]})}):l.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e(`/events/${n.id}`),className:"text-gray-600 hover:text-gray-900 flex items-center mb-4",children:[l.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Event"]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register for Event"}),l.jsx("h2",{className:"text-xl text-gray-700 mb-4",children:n.title}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),w.toLocaleDateString()," at"," ",w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.location]})]}),n.is_paid&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",n.price]}),l.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"per ticket"})]})]})]}),f&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:f}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:i.title}),i.description&&l.jsx("p",{className:"text-gray-600 mb-6",children:i.description}),l.jsx(M8,{form:i,onDataChange:y,initialData:g})]}):l.jsx(F8,{event:n,formData:g,handleInputChange:v}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:u,className:"px-6 py-3 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Registering..."]}):l.jsx(l.Fragment,{children:"Register for Event"})})})]})]})},F8=({event:t,formData:e,handleInputChange:r})=>l.jsxs("div",{className:"card space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),l.jsx("input",{type:"text",id:"firstName",value:e.firstName||"",onChange:n=>r("firstName",n.target.value),className:"input",placeholder:"Enter your first name",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),l.jsx("input",{type:"text",id:"lastName",value:e.lastName||"",onChange:n=>r("lastName",n.target.value),className:"input",placeholder:"Enter your last name",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),l.jsx("input",{type:"email",id:"email",value:e.email||"",onChange:n=>r("email",n.target.value),className:"input",placeholder:"Enter your email address",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),l.jsx("input",{type:"tel",id:"phone",value:e.phone||"",onChange:n=>r("phone",n.target.value),className:"input",placeholder:"Enter your phone number",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization (Optional)"}),l.jsx("input",{type:"text",id:"organization",value:e.organization||"",onChange:n=>r("organization",n.target.value),className:"input",placeholder:"Enter your organization"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"dietary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dietary Requirements (Optional)"}),l.jsx("textarea",{id:"dietary",rows:3,value:e.dietary||"",onChange:n=>r("dietary",n.target.value),className:"input",placeholder:"Please list any dietary requirements or food allergies"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"accessibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accessibility Requirements (Optional)"}),l.jsx("textarea",{id:"accessibility",rows:3,value:e.accessibility||"",onChange:n=>r("accessibility",n.target.value),className:"input",placeholder:"Please describe any accessibility requirements"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments (Optional)"}),l.jsx("textarea",{id:"comments",rows:3,value:e.comments||"",onChange:n=>r("comments",n.target.value),className:"input",placeholder:"Any additional comments or questions"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Emergency Contact (Optional)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),l.jsx("input",{type:"text",id:"emergencyContact",value:e.emergencyContact||"",onChange:n=>r("emergencyContact",n.target.value),className:"input",placeholder:"Emergency contact name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"emergencyPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),l.jsx("input",{type:"tel",id:"emergencyPhone",value:e.emergencyPhone||"",onChange:n=>r("emergencyPhone",n.target.value),className:"input",placeholder:"Emergency contact phone"})]})]})]}),l.jsx("div",{className:"border-t pt-6",children:l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-gray-700",children:["By registering for this event, you agree to provide accurate information and comply with the event terms and conditions.",t.is_paid&&l.jsxs("span",{className:"font-medium",children:[" ","Payment will be required to complete your registration."]})]})})})]}),B8=Qf((t,e)=>({events:[],selectedEvent:null,isLoading:!1,error:null,loadEvents:async()=>{try{t({isLoading:!0,error:null});const r=await er.getEvents();r.success&&r.data?t({events:r.data.events}):t({error:r.error||"Failed to load events"})}catch{t({error:"Error loading events"})}finally{t({isLoading:!1})}},loadEvent:async r=>{try{t({isLoading:!0,error:null});const n=await er.getEventById(r);if(n.success&&n.data){t({selectedEvent:n.data.event});const{events:a}=e(),i=a.map(s=>s.id===r?n.data.event:s);t({events:i})}else t({error:n.error||"Failed to load event"})}catch{t({error:"Error loading event"})}finally{t({isLoading:!1})}},setSelectedEvent:r=>{t({selectedEvent:r})},createEvent:async r=>{try{t({isLoading:!0,error:null});const n=await er.createEvent(r);if(n.success&&n.data){const a=n.data.event;return t(i=>({events:[...i.events,a],selectedEvent:a})),a}else return t({error:n.error||"Failed to create event"}),null}catch{return t({error:"Error creating event"}),null}finally{t({isLoading:!1})}},updateEvent:async(r,n)=>{try{t({isLoading:!0,error:null});const a=await er.updateEvent(r,n);if(a.success&&a.data){const i=a.data.event;return t(s=>{var o;return{events:s.events.map(c=>c.id===r?i:c),selectedEvent:((o=s.selectedEvent)==null?void 0:o.id)===r?i:s.selectedEvent}}),i}else return t({error:a.error||"Failed to update event"}),null}catch{return t({error:"Error updating event"}),null}finally{t({isLoading:!1})}},deleteEvent:async r=>{try{t({isLoading:!0,error:null});const n=await er.deleteEvent(r);return n.success?(t(a=>{var i;return{events:a.events.filter(s=>s.id!==r),selectedEvent:((i=a.selectedEvent)==null?void 0:i.id)===r?null:a.selectedEvent}}),!0):(t({error:n.error||"Failed to delete event"}),!1)}catch{return t({error:"Error deleting event"}),!1}finally{t({isLoading:!1})}}})),U8=Qf((t,e)=>({form:null,templates:[],activeFieldId:null,isMultiStep:!1,currentStep:0,isLoading:!1,isSaving:!1,setForm:r=>t({form:r}),setTemplates:r=>t({templates:r}),setActiveFieldId:r=>t({activeFieldId:r}),setIsMultiStep:r=>t({isMultiStep:r}),setCurrentStep:r=>t({currentStep:r}),addField:(r,n)=>{const{form:a,isMultiStep:i}=e();if(!a)return;const s=[...a.fields,r];let o=a.steps||[];i&&typeof n=="number"&&o[n]&&(o=o.map((c,u)=>u===n?{...c,fields:[...c.fields,r.id]}:c)),t({form:{...a,fields:s,steps:o.length>0?o:void 0}})},updateField:(r,n)=>{const{form:a}=e();if(!a)return;const i=a.fields.map(s=>s.id===r?{...s,...n}:s);t({form:{...a,fields:i}})},removeField:r=>{const{form:n}=e();if(!n)return;const a=n.fields.filter(s=>s.id!==r);let i=n.steps||[];i.length>0&&(i=i.map(s=>({...s,fields:s.fields.filter(o=>o!==r)}))),t({form:{...n,fields:a,steps:i.length>0?i:void 0},activeFieldId:null})},reorderFields:(r,n)=>{const{form:a}=e();if(!a)return;const i=[...a.fields],[s]=i.splice(r,1);i.splice(n,0,s),t({form:{...a,fields:i}})},addStep:r=>{const{form:n}=e();if(!n)return;const a=[...n.steps||[],r];t({form:{...n,is_multi_step:!0,steps:a},isMultiStep:!0})},updateStep:(r,n)=>{const{form:a}=e();if(!a||!a.steps)return;const i=a.steps.map((s,o)=>o===r?{...s,...n}:s);t({form:{...a,steps:i}})},removeStep:r=>{const{form:n}=e();if(!n||!n.steps)return;const a=n.steps.filter((i,s)=>s!==r);t({form:{...n,steps:a.length>0?a:void 0,is_multi_step:a.length>0},isMultiStep:a.length>0,currentStep:Math.min(e().currentStep,a.length-1)})},reorderSteps:(r,n)=>{const{form:a}=e();if(!a||!a.steps)return;const i=[...a.steps],[s]=i.splice(r,1);i.splice(n,0,s),t({form:{...a,steps:i}})},applyTemplate:r=>{const{form:n}=e();if(!n)return;const a={...n,fields:[...r.fields],is_multi_step:!1,steps:void 0};t({form:a,isMultiStep:!1,currentStep:0,activeFieldId:null})},loadFormTemplates:async()=>{try{t({isLoading:!0});const r=await ri.getFormTemplates();r.success&&r.data?t({templates:r.data.templates}):console.error("Failed to load form templates:",r.error)}catch(r){console.error("Error loading form templates:",r)}finally{t({isLoading:!1})}},loadRegistrationForm:async r=>{try{t({isLoading:!0});const n=await ri.getRegistrationForm(r);if(n.success&&n.data){const a=n.data.form;t({form:a,isMultiStep:a.is_multi_step,currentStep:0})}else console.error("Failed to load registration form:",n.error),t({form:null})}catch(n){console.error("Error loading registration form:",n),t({form:null})}finally{t({isLoading:!1})}},saveRegistrationForm:async r=>{const{form:n}=e();if(n)try{t({isSaving:!0});const a=await ri.updateRegistrationForm(r,n.id,{title:n.title,description:n.description,fields:n.fields,is_multi_step:n.is_multi_step,steps:n.steps});a.success&&a.data?t({form:a.data.form}):console.error("Failed to save registration form:",a.error)}catch(a){console.error("Error saving registration form:",a)}finally{t({isSaving:!1})}},createRegistrationForm:async(r,n,a)=>{try{t({isSaving:!0});const i=await ri.createRegistrationForm(r,{title:n,description:a,fields:[],is_multi_step:!1});i.success&&i.data?t({form:i.data.form,isMultiStep:i.data.form.is_multi_step,currentStep:0}):console.error("Failed to create registration form:",i.error)}catch(i){console.error("Error creating registration form:",i)}finally{t({isSaving:!1})}},deleteRegistrationForm:async(r,n)=>{try{t({isLoading:!0});const a=await ri.deleteRegistrationForm(r,n);a.success?t({form:null,activeFieldId:null,isMultiStep:!1,currentStep:0}):console.error("Failed to delete registration form:",a.error)}catch(a){console.error("Error deleting registration form:",a)}finally{t({isLoading:!1})}}}));function z8({templates:t,onClose:e,onSelect:r}){const n=i=>{switch(i){case"basic":return ht;case"detailed":return Dr;case"conference":return R3;default:return ht}},a=i=>{switch(i){case"basic":return"text-blue-600";case"detailed":return"text-green-600";case"conference":return"text-purple-600";default:return"text-gray-600"}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Choose a Template"}),l.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Wa,{className:"h-5 w-5"})})]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Start with a pre-built template and customize it to fit your event's needs. All templates can be fully edited after selection."})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>{const s=n(i.id),o=a(i.id);return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-gray-300 hover:shadow-sm cursor-pointer transition-all",onClick:()=>r(i),children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"p-2 rounded-md bg-gray-100",children:l.jsx(s,{className:`h-6 w-6 ${o}`})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"font-medium text-gray-900",children:i.name})})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:["Includes ",i.fields.length," fields:"]}),l.jsxs("div",{className:"space-y-1",children:[i.fields.slice(0,4).map((c,u)=>l.jsxs("div",{className:"text-xs text-gray-600 flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mr-2"}),c.label]},u)),i.fields.length>4&&l.jsxs("div",{className:"text-xs text-gray-500 pl-4",children:["+",i.fields.length-4," more fields"]})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsx("button",{onClick:()=>r(i),className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Use This Template"})})]},i.id)})}),t.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No templates available"})]})]}),l.jsx("div",{className:"p-6 border-t bg-gray-50",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"You can customize any template after selection"}),l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})})]})})}var Ec={},Eg={exports:{}},V8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$8=V8,H8=$8;function Cg(){}function Sg(){}Sg.resetWarningCache=Cg;var W8=function(){function t(n,a,i,s,o,c){if(c!==H8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Sg,resetWarningCache:Cg};return r.PropTypes=r,r};Eg.exports=W8();var p0=Eg.exports;const Ze=Yd(p0);var Ag={L:1,M:0,Q:3,H:2},jg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},G8=jg;function Ig(t){this.mode=G8.MODE_8BIT_BYTE,this.data=t}Ig.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var X8=Ig,Vo=Ag;function sn(t,e){this.totalCount=t,this.dataCount=e}sn.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];sn.getRSBlocks=function(t,e){var r=sn.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,a=new Array,i=0;i<n;i++)for(var s=r[i*3+0],o=r[i*3+1],c=r[i*3+2],u=0;u<s;u++)a.push(new sn(o,c));return a};sn.getRsBlockTable=function(t,e){switch(e){case Vo.L:return sn.RS_BLOCK_TABLE[(t-1)*4+0];case Vo.M:return sn.RS_BLOCK_TABLE[(t-1)*4+1];case Vo.Q:return sn.RS_BLOCK_TABLE[(t-1)*4+2];case Vo.H:return sn.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var Z8=sn;function kg(){this.buffer=new Array,this.length=0}kg.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Y8=kg,Yr={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Yr.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Yr.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Tt=0;Tt<8;Tt++)Yr.EXP_TABLE[Tt]=1<<Tt;for(var Tt=8;Tt<256;Tt++)Yr.EXP_TABLE[Tt]=Yr.EXP_TABLE[Tt-4]^Yr.EXP_TABLE[Tt-5]^Yr.EXP_TABLE[Tt-6]^Yr.EXP_TABLE[Tt-8];for(var Tt=0;Tt<255;Tt++)Yr.LOG_TABLE[Yr.EXP_TABLE[Tt]]=Tt;var Tg=Yr,Aa=Tg;function ul(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}ul.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Aa.gexp(Aa.glog(this.get(r))+Aa.glog(t.get(n)));return new ul(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Aa.glog(this.get(0))-Aa.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Aa.gexp(Aa.glog(t.get(n))+e);return new ul(r,0).mod(t)}};var Og=ul,Er=jg,ip=Og,K8=Tg,Ln={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},At={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;At.getBCHDigit(e)-At.getBCHDigit(At.G15)>=0;)e^=At.G15<<At.getBCHDigit(e)-At.getBCHDigit(At.G15);return(t<<10|e)^At.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;At.getBCHDigit(e)-At.getBCHDigit(At.G18)>=0;)e^=At.G18<<At.getBCHDigit(e)-At.getBCHDigit(At.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return At.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Ln.PATTERN000:return(e+r)%2==0;case Ln.PATTERN001:return e%2==0;case Ln.PATTERN010:return r%3==0;case Ln.PATTERN011:return(e+r)%3==0;case Ln.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Ln.PATTERN101:return e*r%2+e*r%3==0;case Ln.PATTERN110:return(e*r%2+e*r%3)%2==0;case Ln.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ip([1],0),r=0;r<t;r++)e=e.multiply(new ip([1,K8.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Er.MODE_NUMBER:return 10;case Er.MODE_ALPHA_NUM:return 9;case Er.MODE_8BIT_BYTE:return 8;case Er.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Er.MODE_NUMBER:return 12;case Er.MODE_ALPHA_NUM:return 11;case Er.MODE_8BIT_BYTE:return 16;case Er.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Er.MODE_NUMBER:return 14;case Er.MODE_ALPHA_NUM:return 13;case Er.MODE_8BIT_BYTE:return 16;case Er.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var a=0;a<e;a++){for(var i=0,s=t.isDark(n,a),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)a+c<0||e<=a+c||o==0&&c==0||s==t.isDark(n+o,a+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<e-1;n++)for(var a=0;a<e-1;a++){var u=0;t.isDark(n,a)&&u++,t.isDark(n+1,a)&&u++,t.isDark(n,a+1)&&u++,t.isDark(n+1,a+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var a=0;a<e-6;a++)t.isDark(n,a)&&!t.isDark(n,a+1)&&t.isDark(n,a+2)&&t.isDark(n,a+3)&&t.isDark(n,a+4)&&!t.isDark(n,a+5)&&t.isDark(n,a+6)&&(r+=40);for(var a=0;a<e;a++)for(var n=0;n<e-6;n++)t.isDark(n,a)&&!t.isDark(n+1,a)&&t.isDark(n+2,a)&&t.isDark(n+3,a)&&t.isDark(n+4,a)&&!t.isDark(n+5,a)&&t.isDark(n+6,a)&&(r+=40);for(var d=0,a=0;a<e;a++)for(var n=0;n<e;n++)t.isDark(n,a)&&d++;var f=Math.abs(100*d/e/e-50)/5;return r+=f*10,r}},q8=At,Q8=X8,Rg=Z8,Pg=Y8,Ea=q8,J8=Og;function cn(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var wr=cn.prototype;wr.addData=function(t){var e=new Q8(t);this.dataList.push(e),this.dataCache=null};wr.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};wr.getModuleCount=function(){return this.moduleCount};wr.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=Rg.getRSBlocks(t,this.errorCorrectLevel),r=new Pg,n=0,a=0;a<e.length;a++)n+=e[a].dataCount;for(var a=0;a<this.dataList.length;a++){var i=this.dataList[a];r.put(i.mode,4),r.put(i.getLength(),Ea.getLengthInBits(i.mode,t)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};wr.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=cn.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};wr.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};wr.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ea.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};wr.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),a=1;this.make();for(var i=0;i<this.modules.length;i++)for(var s=i*a,o=0;o<this.modules[i].length;o++){var c=o*a,u=this.modules[i][o];u&&(n.beginFill(0,100),n.moveTo(c,s),n.lineTo(c+a,s),n.lineTo(c+a,s+a),n.lineTo(c,s+a),n.endFill())}return n};wr.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};wr.setupPositionAdjustPattern=function(){for(var t=Ea.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],a=t[r];if(this.modules[n][a]==null)for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)i==-2||i==2||s==-2||s==2||i==0&&s==0?this.modules[n+i][a+s]=!0:this.modules[n+i][a+s]=!1}};wr.setupTypeNumber=function(t){for(var e=Ea.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};wr.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ea.getBCHTypeInfo(r),a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(var a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!t};wr.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,a=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var o=0;o<2;o++)if(this.modules[n][s-o]==null){var c=!1;i<t.length&&(c=(t[i]>>>a&1)==1);var u=Ea.getMask(e,n,s-o);u&&(c=!c),this.modules[n][s-o]=c,a--,a==-1&&(i++,a=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};cn.PAD0=236;cn.PAD1=17;cn.createData=function(t,e,r){for(var n=Rg.getRSBlocks(t,e),a=new Pg,i=0;i<r.length;i++){var s=r[i];a.put(s.mode,4),a.put(s.getLength(),Ea.getLengthInBits(s.mode,t)),s.write(a)}for(var o=0,i=0;i<n.length;i++)o+=n[i].dataCount;if(a.getLengthInBits()>o*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+o*8+")");for(a.getLengthInBits()+4<=o*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=o*8||(a.put(cn.PAD0,8),a.getLengthInBits()>=o*8));)a.put(cn.PAD1,8);return cn.createBytes(a,n)};cn.createBytes=function(t,e){for(var r=0,n=0,a=0,i=new Array(e.length),s=new Array(e.length),o=0;o<e.length;o++){var c=e[o].dataCount,u=e[o].totalCount-c;n=Math.max(n,c),a=Math.max(a,u),i[o]=new Array(c);for(var d=0;d<i[o].length;d++)i[o][d]=255&t.buffer[d+r];r+=c;var f=Ea.getErrorCorrectPolynomial(u),h=new J8(i[o],f.getLength()-1),p=h.mod(f);s[o]=new Array(f.getLength()-1);for(var d=0;d<s[o].length;d++){var x=d+p.getLength()-s[o].length;s[o][d]=x>=0?p.get(x):0}}for(var g=0,d=0;d<e.length;d++)g+=e[d].totalCount;for(var y=new Array(g),v=0,d=0;d<n;d++)for(var o=0;o<e.length;o++)d<i[o].length&&(y[v++]=i[o][d]);for(var d=0;d<a;d++)for(var o=0;o<e.length;o++)d<s[o].length&&(y[v++]=s[o][d]);return y};var eE=cn,m0={};Object.defineProperty(m0,"__esModule",{value:!0});var tE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rE=p0,Cr=Mg(rE),Dg=E,$o=Mg(Dg);function Mg(t){return t&&t.__esModule?t:{default:t}}function nE(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var aE={bgColor:Cr.default.oneOfType([Cr.default.object,Cr.default.string]).isRequired,bgD:Cr.default.string.isRequired,fgColor:Cr.default.oneOfType([Cr.default.object,Cr.default.string]).isRequired,fgD:Cr.default.string.isRequired,size:Cr.default.number.isRequired,title:Cr.default.string,viewBoxSize:Cr.default.number.isRequired,xmlns:Cr.default.string},x0=(0,Dg.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,a=t.fgD,i=t.fgColor,s=t.size,o=t.title,c=t.viewBoxSize,u=t.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=nE(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return $o.default.createElement("svg",tE({},f,{height:s,ref:e,viewBox:"0 0 "+c+" "+c,width:s,xmlns:d}),o?$o.default.createElement("title",null,o):null,$o.default.createElement("path",{d:n,fill:r}),$o.default.createElement("path",{d:a,fill:i}))});x0.displayName="QRCodeSvg";x0.propTypes=aE;m0.default=x0;Object.defineProperty(Ec,"__esModule",{value:!0});Ec.QRCode=void 0;var iE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sE=p0,xn=xo(sE),oE=Ag,lE=xo(oE),cE=eE,uE=xo(cE),Lg=E,dE=xo(Lg),fE=m0,hE=xo(fE);function xo(t){return t&&t.__esModule?t:{default:t}}function pE(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var mE={bgColor:xn.default.oneOfType([xn.default.object,xn.default.string]),fgColor:xn.default.oneOfType([xn.default.object,xn.default.string]),level:xn.default.string,size:xn.default.number,value:xn.default.string.isRequired},Cc=(0,Lg.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,a=t.fgColor,i=a===void 0?"#000000":a,s=t.level,o=s===void 0?"L":s,c=t.size,u=c===void 0?256:c,d=t.value,f=pE(t,["bgColor","fgColor","level","size","value"]),h=new uE.default(-1,lE.default[o]);h.addData(d),h.make();var p=h.modules;return dE.default.createElement(hE.default,iE({},f,{bgColor:n,bgD:p.map(function(x,g){return x.map(function(y,v){return y?"":"M "+v+" "+g+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:p.map(function(x,g){return x.map(function(y,v){return y?"M "+v+" "+g+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:u,viewBoxSize:p.length}))});Ec.QRCode=Cc;Cc.displayName="QRCode";Cc.propTypes=mE;var Fg=Ec.default=Cc;function xE({form:t,eventId:e,onClose:r}){const[n,a]=E.useState(null),[i,s]=E.useState(!1),o=window.location.origin,c=`${o}/events/${e}/register`,u=`${o}/events/${e}/register?embed=true`,d=async(h,p)=>{try{await navigator.clipboard.writeText(h),a(p),setTimeout(()=>a(null),2e3)}catch(x){console.error("Failed to copy:",x)}},f=()=>`<iframe 
  src="${u}" 
  width="100%" 
  height="600" 
  frameborder="0" 
  style="border: none; border-radius: 8px;">
</iframe>`;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(qf,{className:"h-6 w-6 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Share Registration Form"}),l.jsx("p",{className:"text-sm text-gray-600",children:t.title})]})]}),l.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(Wa,{className:"h-5 w-5"})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Registration Link"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-md bg-gray-50 text-gray-700"}),l.jsx("button",{onClick:()=>d(c,"url"),className:"px-4 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="url"?l.jsxs(l.Fragment,{children:[l.jsx(ks,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ts,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy"})]})}),l.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-2",children:[l.jsx(Bl,{className:"h-4 w-4"}),l.jsx("span",{children:"Preview"})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to register for your event"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"QR Code"}),l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-gray-100 rounded-md",children:l.jsx(to,{className:"h-6 w-6 text-gray-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:"QR Code for Easy Access"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Let participants scan to register quickly"})]})]}),l.jsx("button",{onClick:()=>s(!i),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100",children:i?"Hide QR Code":"Generate QR Code"})]}),i&&l.jsx("div",{className:"border-t border-gray-200 p-6 bg-white",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"qr-code-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:l.jsx(Fg,{value:c,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 200 200"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Scan to Register"}),l.jsx("p",{className:"text-xs text-gray-600 max-w-sm mx-auto",children:"Point your camera at this QR code to quickly access the registration form"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{const h=document.querySelector(".qr-code-container"),p=h==null?void 0:h.querySelector("svg");if(p)try{const x=new XMLSerializer().serializeToString(p),g=document.createElement("canvas"),y=g.getContext("2d"),v=new Image;g.width=200,g.height=200,v.onload=()=>{y&&(y.fillStyle="white",y.fillRect(0,0,200,200),y.drawImage(v,0,0));const m=document.createElement("a");m.download=`${t.title.replace(/\s+/g,"-")}-qr-code.png`,m.href=g.toDataURL("image/png"),m.click()},v.src="data:image/svg+xml;base64,"+btoa(x)}catch(x){console.error("Error downloading QR code:",x),alert("Failed to download QR code. Please try again.")}else alert("QR code not found. Please generate the QR code first.")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Download QR Code"}),l.jsx("button",{onClick:()=>d(c,"qr-url"),className:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-1",children:n==="qr-url"?l.jsxs(l.Fragment,{children:[l.jsx(ks,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ts,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy URL"})]})})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Embed Code"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{value:f(),readOnly:!0,rows:6,className:"w-full p-3 border border-gray-300 rounded-md bg-gray-50 text-sm text-gray-700 font-mono"}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Embed this form directly on your website"}),l.jsx("button",{onClick:()=>d(f(),"embed"),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:n==="embed"?l.jsxs(l.Fragment,{children:[l.jsx(ks,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ts,{className:"h-4 w-4"}),l.jsx("span",{children:"Copy Code"})]})})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Form Statistics"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Total Registrations"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Form Views"}),l.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]})]})]})]}),l.jsx("div",{className:"p-6 border-t bg-gray-50",children:l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})})]})})}function gE(){const{id:t}=_a(),e=yr(),[r,n]=E.useState(!1),[a,i]=E.useState(!1),[s,o]=E.useState(!1),[c,u]=E.useState(null),{events:d,selectedEvent:f,loadEvent:h,isLoading:p}=B8(),{form:x,templates:g,activeFieldId:y,isMultiStep:v,currentStep:m,isLoading:w,isSaving:b,setActiveFieldId:N,setIsMultiStep:A,setCurrentStep:C,addField:S,updateField:T,removeField:k,reorderFields:D,addStep:I,removeStep:L,applyTemplate:F,loadFormTemplates:$,loadRegistrationForm:K,saveRegistrationForm:le,createRegistrationForm:U,deleteRegistrationForm:te}=U8(),Q=d.find(z=>z.id===t)||f;E.useEffect(()=>{t&&(console.log("RegistrationFormBuilder: Loading event ID:",t),h(t),$(),K(t))},[t]),E.useEffect(()=>{console.log("RegistrationFormBuilder Debug:",{eventId:t,event:Q,selectedEvent:f,eventsCount:d.length,isLoading:w,eventLoading:p})},[t,Q,f,d.length,w,p]);const ce=async()=>{if(!t)return;const z=`${(Q==null?void 0:Q.title)||"Event"} Registration Form`,ue=`Registration form for ${(Q==null?void 0:Q.title)||"this event"}`;await U(t,z,ue)},De=async()=>{!t||!x||await le(t)},Xe=async()=>{!t||!x||window.confirm("Are you sure you want to delete this form? This action cannot be undone.")&&await te(t,x.id)},br=z=>{const ue=`field_${Date.now()}`,We={id:ue,type:z,label:`New ${z} field`,required:!1},Re=v&&(x!=null&&x.steps)?m:void 0;S(We,Re),N(ue)},On=()=>{if(x){if(v){if(x.steps)for(let z=x.steps.length-1;z>=0;z--)L(z)}else{const z={title:"Step 1",description:"Please fill out the following information",fields:x.fields.map(ue=>ue.id)};I(z)}A(!v),C(0)}},Lr=()=>{var We;const ue={title:`Step ${(((We=x==null?void 0:x.steps)==null?void 0:We.length)||0)+1}`,description:"Please fill out the following information",fields:[]};I(ue)},en=[{type:"text",label:"Text Input",icon:ht},{type:"email",label:"Email",icon:ht},{type:"phone",label:"Phone",icon:ht},{type:"textarea",label:"Text Area",icon:ht},{type:"select",label:"Dropdown",icon:ht},{type:"radio",label:"Radio Buttons",icon:ht},{type:"checkbox",label:"Checkboxes",icon:ht},{type:"file",label:"File Upload",icon:ht},{type:"date",label:"Date Picker",icon:ht},{type:"number",label:"Number",icon:ht},{type:"url",label:"URL",icon:ht}];return w||p?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ru,{className:"h-6 w-6 animate-spin text-blue-600"}),l.jsx("span",{children:"Loading form builder..."})]})}):!Q&&!p&&!w?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event not found"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Event ID: ",t," | Events loaded: ",d.length]}),l.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:text-blue-800",children:"Return to Dashboard"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:l.jsx(Kf,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Registration Form Builder"}),l.jsx("p",{className:"text-sm text-gray-600",children:Q==null?void 0:Q.title})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[!r&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>i(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Use Template"}),l.jsxs("button",{onClick:On,className:`px-3 py-2 text-sm font-medium rounded-md ${v?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[l.jsx(F3,{className:"h-4 w-4 inline mr-1"}),"Multi-Step"]})]}),l.jsxs("button",{onClick:()=>n(!r),className:`px-3 py-2 text-sm font-medium rounded-md ${r?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[l.jsx(xd,{className:"h-4 w-4 inline mr-1"}),r?"Edit":"Preview"]}),x&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(qf,{className:"h-4 w-4 inline mr-1"}),"Share"]}),l.jsx("button",{onClick:De,disabled:b,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:b?l.jsxs(l.Fragment,{children:[l.jsx(ru,{className:"h-4 w-4 inline mr-1 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx($3,{className:"h-4 w-4 inline mr-1"}),"Save"]})}),l.jsx("button",{onClick:Xe,className:"px-3 py-2 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50",children:l.jsx(Oi,{className:"h-4 w-4"})})]})]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:x?r?l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x.title}),x.description&&l.jsx("p",{className:"text-gray-600 mb-6",children:x.description}),l.jsxs("div",{className:"space-y-6",children:[x.fields.map(z=>{var ue;return l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[z.label,z.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),z.type==="textarea"?l.jsx("textarea",{placeholder:z.placeholder,className:"w-full p-3 border border-gray-300 rounded-md",rows:3}):z.type==="select"?l.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:z.placeholder||"Select an option"}),(ue=z.options)==null?void 0:ue.map((We,Re)=>l.jsx("option",{value:We,children:We},Re))]}):z.type==="radio"&&z.options?l.jsx("div",{className:"space-y-2",children:z.options.map((We,Re)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:z.id,value:We,className:"mr-2"}),l.jsx("span",{className:"text-sm",children:We})]},Re))}):z.type==="checkbox"&&z.options?l.jsx("div",{className:"space-y-2",children:z.options.map((We,Re)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",value:We,className:"mr-2"}),l.jsx("span",{className:"text-sm",children:We})]},Re))}):l.jsx("input",{type:z.type==="email"?"email":z.type==="number"?"number":z.type==="url"?"url":z.type==="date"?"date":"text",placeholder:z.placeholder,className:"w-full p-3 border border-gray-300 rounded-md"})]},z.id)}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700",children:"Submit Registration"})})]})]})}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Add Fields"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click on any field type to add it to your form"}),l.jsx("div",{className:"space-y-2",children:en.map(({type:z,label:ue,icon:We})=>l.jsxs("button",{onClick:()=>br(z),className:"w-full flex items-center space-x-3 p-3 text-left text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 rounded-md border border-transparent transition-all duration-200 group",title:`Add ${ue} field`,children:[l.jsx(We,{className:"h-4 w-4 group-hover:text-blue-600"}),l.jsx("span",{className:"font-medium",children:ue}),l.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(ms,{className:"h-3 w-3 text-blue-600"})})]},z))}),v&&l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Steps"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Organize your form into multiple steps"}),l.jsxs("button",{onClick:Lr,className:"w-full flex items-center justify-center space-x-2 p-3 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md border border-blue-200 hover:border-blue-300 transition-all duration-200",children:[l.jsx(ms,{className:"h-4 w-4"}),l.jsx("span",{children:"Add New Step"})]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t",children:[l.jsx("h4",{className:"font-medium text-gray-800 mb-2 text-sm",children:" Quick Tips"}),l.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[l.jsx("p",{children:" Click on any field to edit its settings"}),l.jsx("p",{children:" Use Preview to test your form"}),l.jsx("p",{children:" Toggle Multi-Step for complex forms"}),l.jsx("p",{children:" Use templates for quick setup"})]})]})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:x.title}),x.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]}),l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:l.jsx(ro,{className:"h-5 w-5"})})]}),v&&x.steps&&x.steps.length>0&&l.jsx("div",{className:"mt-4 flex space-x-2",children:x.steps.map((z,ue)=>l.jsx("button",{onClick:()=>C(ue),className:`px-3 py-2 text-sm rounded-md ${m===ue?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:z.title},ue))})]}),l.jsx("div",{className:"p-6",children:x.fields.length===0?l.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[l.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Building Your Form"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create a custom registration form by adding fields from the sidebar, or get started quickly with a pre-built template."}),l.jsxs("div",{className:"flex justify-center space-x-4",children:[l.jsx("button",{onClick:()=>i(!0),className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"}),l.jsx("button",{onClick:()=>br("text"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Add First Field"})]})]}):l.jsx("div",{className:"space-y-3 pl-8 relative",children:x.fields.filter(z=>{if(!v||!x.steps)return!0;const ue=x.steps[m];return ue==null?void 0:ue.fields.includes(z.id)}).map((z,ue)=>{var We;return l.jsxs("div",{className:"group relative",children:[l.jsx("div",{className:"absolute -left-8 top-3 text-xs text-gray-400 font-medium bg-gray-100 rounded-full w-5 h-5 flex items-center justify-center",children:ue+1}),l.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all duration-200 ${y===z.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>N(z.id),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[z.label,z.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx("span",{className:"px-2 py-1 text-xs text-gray-500 bg-gray-100 rounded-full capitalize",children:z.type})]}),z.placeholder&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Placeholder: ",z.placeholder]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[ue>0&&l.jsx("button",{onClick:Re=>{Re.stopPropagation(),D(ue,ue-1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move up",children:l.jsx(L3,{className:"h-4 w-4"})}),ue<x.fields.filter(Re=>{if(!v||!x.steps)return!0;const _r=x.steps[m];return _r==null?void 0:_r.fields.includes(Re.id)}).length-1&&l.jsx("button",{onClick:Re=>{Re.stopPropagation(),D(ue,ue+1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move down",children:l.jsx(D3,{className:"h-4 w-4"})}),l.jsx("button",{onClick:Re=>{Re.stopPropagation(),k(z.id)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete field",children:l.jsx(Oi,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"mt-3 opacity-80",children:z.type==="textarea"?l.jsx("textarea",{placeholder:z.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",rows:2,disabled:!0}):z.type==="select"?l.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0,children:[l.jsx("option",{children:z.placeholder||"Select an option"}),(We=z.options)==null?void 0:We.slice(0,3).map((Re,_r)=>l.jsx("option",{children:Re},_r)),z.options&&z.options.length>3&&l.jsxs("option",{children:["... and ",z.options.length-3," ","more"]})]}):z.type==="radio"&&z.options?l.jsxs("div",{className:"space-y-1",children:[z.options.slice(0,3).map((Re,_r)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",className:"mr-2",disabled:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:Re})]},_r)),z.options.length>3&&l.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",z.options.length-3," more options"]})]}):z.type==="checkbox"&&z.options?l.jsxs("div",{className:"space-y-1",children:[z.options.slice(0,3).map((Re,_r)=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",disabled:!0}),l.jsx("span",{className:"text-sm text-gray-600",children:Re})]},_r)),z.options.length>3&&l.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",z.options.length-3," more options"]})]}):l.jsx("input",{type:z.type==="email"?"email":z.type==="number"?"number":z.type==="url"?"url":z.type==="date"?"date":"text",placeholder:z.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0})})]}),l.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:l.jsx("div",{className:"flex justify-center mt-2",children:l.jsxs("button",{onClick:()=>{const Re={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"Enter value",required:!1,options:[]};S(Re),N(Re.id)},className:"flex items-center gap-1 px-3 py-1 text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full border border-blue-200 transition-colors",children:[l.jsx(ms,{className:"h-3 w-3"}),"Add Field Below"]})})})]},z.id)})})})]})}),l.jsx("div",{className:"lg:col-span-1",children:y&&(()=>{const z=x.fields.find(ue=>ue.id===y);return z?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Edit Field"}),l.jsx("button",{onClick:()=>N(null),className:"p-1 text-gray-400 hover:text-gray-600",children:l.jsx(Wa,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),l.jsx("input",{type:"text",value:z.label,onChange:ue=>T(y,{label:ue.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder"}),l.jsx("input",{type:"text",value:z.placeholder||"",onChange:ue=>T(y,{placeholder:ue.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:z.required,onChange:ue=>T(y,{required:ue.target.checked}),className:"mr-2"}),l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Required field"})]}),(z.type==="select"||z.type==="radio"||z.type==="checkbox")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options (one per line)"}),l.jsx("textarea",{value:(z.options||[]).join(`
`),onChange:ue=>{const We=ue.target.value.split(`
`).filter(Re=>Re.trim()!=="");T(y,{options:We})},rows:4,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:`Option 1
Option 2
Option 3`})]})]})]}):null})()})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Registration Form"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Create a registration form for participants to register for your event."}),l.jsx("button",{onClick:ce,disabled:b,className:"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:b?l.jsxs(l.Fragment,{children:[l.jsx(ru,{className:"h-4 w-4 inline mr-2 animate-spin"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ms,{className:"h-4 w-4 inline mr-2"}),"Create Registration Form"]})})]})}),a&&l.jsx(z8,{templates:g,onClose:()=>i(!1),onSelect:z=>{F(z),i(!1),u(`Template "${z.name}" applied successfully! You can now edit the fields.`),setTimeout(()=>u(null),4e3)}}),x&&s&&l.jsx(xE,{form:x,eventId:t,onClose:()=>o(!1)}),c&&l.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:l.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 max-w-sm",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("p",{className:"text-sm font-medium",children:c}),l.jsx("button",{onClick:()=>u(null),className:"flex-shrink-0 text-green-200 hover:text-white",children:l.jsx(Wa,{className:"h-4 w-4"})})]})})]})}const Ps=t=>{const e=new Date(t);return isNaN(e.getTime())?"Invalid Date":e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},vE=()=>{const[t,e]=E.useState([]),[r,n]=E.useState(!0),[a,i]=E.useState(null),s=async()=>{var f;try{n(!0),i(null);const h=await ga.getUserRegistrations();e(((f=h.data)==null?void 0:f.registrations)||[])}catch(h){i(typeof h=="string"?h:"An error occurred")}finally{n(!1)}};E.useEffect(()=>{s()},[]);const o=async f=>{var h;if(window.confirm("Are you sure you want to cancel your registration for this event?"))try{await ga.cancelRegistration(f),s()}catch(p){console.error("Failed to cancel registration:",p);let x="Failed to cancel registration. Please try again.";if(p instanceof Error&&"response"in p){const g=p;g.status===400?x="Cannot cancel registration for this event. It may have already started or the cancellation deadline has passed.":g.status===404?x="Registration not found. It may have already been cancelled.":g.status===403?x="You don't have permission to cancel this registration.":x=((h=g.response)==null?void 0:h.error)||"Failed to cancel registration. Please try again."}alert(x)}},c=f=>{switch(f){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{switch(f){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case null:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{var h;return f.status==="cancelled"?!1:(h=f.event)!=null&&h.is_paid?f.payment_status==="completed":f.status==="confirmed"||f.payment_status===null};return r?l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):a?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(O3,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading registrations"}),l.jsx("p",{className:"mt-1 text-sm text-red-700",children:a||"An error occurred"}),l.jsx("button",{onClick:()=>s(),className:"mt-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded",children:"Try again"})]})]})})}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Registrations"}),l.jsx("p",{className:"text-gray-600",children:"View and manage your event registrations"})]}),!t||t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations yet"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't registered for any events yet."}),l.jsx(oe,{to:"/events",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700",children:"Browse Events"})]}):l.jsx("div",{className:"space-y-6",children:t.map(f=>{const h=f.event;return h?l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:h.title}),l.jsxs("div",{className:"ml-3 flex space-x-2",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(f.status)}`,children:f.status}),h.is_paid&&f.payment_status&&l.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(f.payment_status)}`,children:[l.jsx(Gh,{className:"w-3 h-3 mr-1"}),f.payment_status.replace("_"," ")]}),!h.is_paid&&l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Free Event"})]})]}),l.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:h.description}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zt,{className:"h-4 w-4 mr-2"}),Ps(h.start_date)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qr,{className:"h-4 w-4 mr-2"}),h.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Registered ",Ps(f.created_at)]})]}),h.is_paid&&h.price&&l.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Event Price: $",h.price]})]}),l.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[d(f)&&l.jsxs(oe,{to:`/ticket/${f.id}`,className:"inline-flex items-center px-3 py-2 border border-green-300 shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 bg-white hover:bg-green-50",children:[l.jsx(Xx,{className:"h-4 w-4 mr-2"}),"View Ticket"]}),h.is_paid&&f.payment_status==="pending"&&l.jsxs(oe,{to:`/events/${h.id}/payment`,state:{registration:f,amount:h.price||0,message:"Complete your payment to confirm registration"},className:"inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[l.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Complete Payment"]}),l.jsxs(oe,{to:`/events/${h.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(Bl,{className:"h-4 w-4 mr-2"}),"View Event"]}),f.status!=="cancelled"&&!d(f)&&l.jsxs("button",{onClick:()=>o(f.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[l.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})},f.id):null})})]})},yE=()=>{const{id:t}=_a(),e=yr(),[r,n]=E.useState(null),[a,i]=E.useState([]),[s,o]=E.useState(!0),[c,u]=E.useState(null),[d,f]=E.useState("all");E.useEffect(()=>{(async()=>{if(!t){u("Event ID is required"),o(!1);return}try{o(!0),u(null);const[m,w]=await Promise.all([er.getEventById(t),ga.getEventRegistrations(t)]);if(m.success&&m.data)n(m.data.event);else{u(m.error||"Event not found");return}w.success&&w.data?i(w.data.registrations):u(w.error||"Failed to load registrations")}catch(m){u("Failed to load data"),console.error("Event registrations error:",m)}finally{o(!1)}})()},[t]);const h=v=>{switch(v){case"confirmed":return l.jsx(Ya,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(Ti,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return l.jsx(no,{className:"h-5 w-5 text-red-500"});default:return l.jsx(Ti,{className:"h-5 w-5 text-gray-500"})}},p=v=>{switch(v){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=a.filter(v=>d==="all"?!0:v.status===d),g=v=>v==="all"?a.length:a.filter(m=>m.status===v).length,y=()=>{if(!a.length)return;const m=[["Name","Email","Phone","Status","Registration Date"].join(","),...x.map(A=>{const C=A.user;return[(C==null?void 0:C.name)||"N/A",(C==null?void 0:C.email)||"N/A",(C==null?void 0:C.phone_number)||"N/A",A.status,Ps(A.created_at)].join(",")})].join(`
`),w=new Blob([m],{type:"text/csv"}),b=window.URL.createObjectURL(w),N=document.createElement("a");N.href=b,N.download=`${(r==null?void 0:r.title)||"event"}-registrations.csv`,N.click(),window.URL.revokeObjectURL(b)};return s?l.jsx("div",{className:"flex items-center justify-center min-h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):c?l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"text-red-800",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Error"}),l.jsx("p",{className:"mt-1",children:c}),l.jsx("button",{onClick:()=>e(-1),className:"mt-3 text-sm bg-red-100 hover:bg-red-200 px-3 py-1 rounded",children:"Go Back"})]})})}):r?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("button",{onClick:()=>e(`/events/${t}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Kf,{className:"h-5 w-5 mr-2"}),"Back to Event"]}),l.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:!x.length,children:[l.jsx(pc,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Registrations"}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zt,{className:"h-4 w-4 mr-2"}),Ps(r.start_date)]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qr,{className:"h-4 w-4 mr-2"}),r.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dr,{className:"h-4 w-4 mr-2"}),a.length," / ",r.capacity," registered"]})]})]})})})]}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Registrations"},{key:"confirmed",label:"Confirmed"},{key:"pending",label:"Pending"},{key:"cancelled",label:"Cancelled"}].map(v=>l.jsxs("button",{onClick:()=>f(v.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${d===v.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[v.label," (",g(v.key),")"]},v.key))})}),x.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Dr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations found"}),l.jsx("p",{className:"text-gray-500",children:d==="all"?"No one has registered for this event yet.":`No ${d} registrations for this event.`})]}):l.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:l.jsx("ul",{className:"divide-y divide-gray-200",children:x.map(v=>{var m,w,b;return l.jsx("li",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[l.jsx("div",{className:"flex-shrink-0",children:h(v.status)}),l.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((m=v.user)==null?void 0:m.name)||"Unknown User"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(v.status)}`,children:v.status})]}),l.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(qn,{className:"h-4 w-4 mr-1"}),((w=v.user)==null?void 0:w.email)||"No email"]}),((b=v.user)==null?void 0:b.phone_number)&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(z3,{className:"h-4 w-4 mr-1"}),v.user.phone_number]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zt,{className:"h-4 w-4 mr-1"}),"Registered ",Ps(v.created_at)]})]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:v.responses&&Object.keys(v.responses).length>0&&l.jsx("button",{onClick:()=>{alert(`Form Data:
${JSON.stringify(v.responses,null,2)}`)},className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500",title:"View Form Data",children:l.jsx(ht,{className:"h-4 w-4"})})})]})},v.id)})})})]}):null},wE=()=>l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Attendance Tracking"}),l.jsx("p",{className:"text-gray-600",children:"QR code scanning and attendance management will be implemented here."})]}),bE=()=>{const t=yr(),{clearAuth:e,setError:r}=mr();return{handleApiError:a=>{var i,s;return console.error("API Error:",a),((i=a==null?void 0:a.response)==null?void 0:i.code)==="TOKEN_EXPIRED"||(a==null?void 0:a.status)===401?(console.log(" Token expired, handling authentication error"),e(),r("Your session has expired. Please log in again."),setTimeout(()=>{t("/login",{replace:!0})},1500),"Your session has expired. Redirecting to login..."):(s=a==null?void 0:a.response)!=null&&s.error?a.response.error:"An unexpected error occurred. Please try again."}}};class Ds{static async getEventCertificates(e){return je.get(`/certificates/event/${e}`)}static async generateCertificates(e,r){return je.post("/certificates/generate",{eventId:e,participantIds:r==null?void 0:r.participantIds,templateId:r==null?void 0:r.templateId})}static async verifyCertificate(e){return je.get(`/certificates/verify/${e}`)}static downloadCertificate(e){return`http://localhost:3001/api/certificates/download/${e}`}}const Ho="http://localhost:3001/api",ss={get:async t=>{const e=localStorage.getItem("token");return{data:await(await fetch(`${Ho}${t}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).json()}},post:async(t,e)=>{const n={Authorization:`Bearer ${localStorage.getItem("token")}`};return e instanceof FormData||(n["Content-Type"]="application/json"),{data:await(await fetch(`${Ho}${t}`,{method:"POST",headers:n,body:e instanceof FormData?e:JSON.stringify(e)})).json()}},put:async(t,e)=>{const r=localStorage.getItem("token");return{data:await(await fetch(`${Ho}${t}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}},delete:async t=>{const e=localStorage.getItem("token");return{data:await(await fetch(`${Ho}${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).json()}}},_E=({template:t,isOpen:e,onClose:r,onSave:n,dataFields:a})=>{var u;const[i,s]=E.useState({});E.useEffect(()=>{var d;(d=t==null?void 0:t.template)!=null&&d.placeholder_mapping&&s(t.template.placeholder_mapping)},[t]);const o=()=>{n(i),r()},c=((u=t==null?void 0:t.template)==null?void 0:u.placeholders)||[];return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold",children:["Map Placeholders - ",t==null?void 0:t.name]}),l.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[l.jsx(pa,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Map the placeholders found in your PowerPoint template to data fields that will be populated when generating certificates."})]})}),c.length===0?l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[l.jsx(pa,{className:"h-4 w-4"}),l.jsxs("span",{className:"text-sm",children:["No placeholders found in the template. Make sure your PowerPoint file contains placeholders in the format"," ","{{placeholder_name}}","."]})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Placeholder Mapping"}),c.map(d=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg",children:[l.jsx("div",{children:l.jsxs("label",{className:"text-sm font-medium",children:["Placeholder:"," ",l.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"{{"+d+"}}"})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:`mapping-${d}`,className:"block text-sm font-medium mb-1",children:"Map to Data Field"}),l.jsxs("select",{id:`mapping-${d}`,value:i[d]||"",onChange:f=>s(h=>({...h,[d]:f.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[l.jsx("option",{value:"",children:"-- No mapping --"}),a.map(f=>l.jsxs("option",{value:f.key,children:[f.label," - ",f.description]},f.key))]})]})]},d))]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Mapping"})]})]})]})})}):null},NE=({eventId:t})=>{const[e,r]=E.useState([]),[n,a]=E.useState([]),[i,s]=E.useState(!0),[o,c]=E.useState(!1),[u,d]=E.useState(null),[f,h]=E.useState(null),[p,x]=E.useState(null),[g,y]=E.useState(""),[v,m]=E.useState(null),[w,b]=E.useState(!1);E.useEffect(()=>{N(),A()},[t]);const N=async()=>{var I,L;try{s(!0);const F=await ss.get(`/templates/event/${t}`);F.data.success&&r(F.data.data.templates)}catch(F){d(((L=(I=F.response)==null?void 0:I.data)==null?void 0:L.error)||"Failed to load templates")}finally{s(!1)}},A=async()=>{try{const I=await ss.get("/templates/data-fields");I.data.success&&a(I.data.data)}catch(I){console.error("Failed to load data fields:",I)}},C=I=>{var F;const L=(F=I.target.files)==null?void 0:F[0];L&&(L.type.includes("presentation")||L.name.endsWith(".pptx")||L.name.endsWith(".ppt")?(x(L),d(null),g||y(L.name.replace(/\.(pptx?|ppt)$/i,""))):(d("Please select a PowerPoint file (.ppt or .pptx)"),x(null)))},S=async()=>{var I,L;if(!p||!g.trim()){d("Please select a file and enter a template name");return}try{c(!0),d(null);const F=new FormData;F.append("template",p),F.append("eventId",t),F.append("templateName",g.trim());const $=await ss.post("/templates/upload",F);if($.data.success){h("Template uploaded successfully!"),x(null),y("");const K=document.getElementById("template-file");if(K&&(K.value=""),await N(),$.data.data.needs_mapping){const le=$.data.data.template;m(le),b(!0)}}}catch(F){d(((L=(I=F.response)==null?void 0:I.data)==null?void 0:L.error)||"Failed to upload template")}finally{c(!1)}},T=async I=>{var L,F;if(confirm("Are you sure you want to delete this template?"))try{(await ss.delete(`/templates/${I}`)).data.success&&(h("Template deleted successfully!"),await N())}catch($){d(((F=(L=$.response)==null?void 0:L.data)==null?void 0:F.error)||"Failed to delete template")}},k=async I=>{var L,F;if(v)try{(await ss.put(`/templates/${v.id}/mapping`,{placeholderMapping:I})).data.success&&(h("Placeholder mapping saved successfully!"),await N())}catch($){d(((F=(L=$.response)==null?void 0:L.data)==null?void 0:F.error)||"Failed to save mapping")}},D=()=>{d(null),h(null)};return i?l.jsxs("div",{className:"space-y-4 p-6",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-64"}),l.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]}):l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h2",{className:"text-2xl font-bold",children:"Certificate Templates"})}),u&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[l.jsx(pa,{className:"h-4 w-4"}),l.jsx("span",{children:u}),l.jsx("button",{onClick:D,className:"ml-auto text-red-600 hover:text-red-800",children:""})]})}),f&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[l.jsx(Ya,{className:"h-4 w-4"}),l.jsx("span",{children:f}),l.jsx("button",{onClick:D,className:"ml-auto text-green-600 hover:text-green-800",children:""})]})}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(W3,{className:"h-5 w-5"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Upload PowerPoint Template"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name"}),l.jsx("input",{id:"template-name",type:"text",value:g,onChange:I=>y(I.target.value),placeholder:"Enter template name",disabled:o,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"template-file",className:"block text-sm font-medium text-gray-700 mb-1",children:"PowerPoint File (.ppt, .pptx)"}),l.jsx("input",{id:"template-file",type:"file",accept:".ppt,.pptx,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",onChange:C,disabled:o,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p&&l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",p.name," (",(p.size/1024/1024).toFixed(2)," MB)"]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-2 text-blue-800",children:[l.jsx(pa,{className:"h-4 w-4 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Tip:"})," Use placeholders like"," ","{{participant_name}}",", ","{{event_title}}",","," ","{{certificate_code}}"," in your PowerPoint template. These will be replaced with actual data when generating certificates."]})]})}),l.jsx("button",{onClick:S,disabled:!p||!g.trim()||o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Uploading...":"Upload Template"})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Available Templates"}),e.map(I=>{var L,F,$;return l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ht,{className:"h-4 w-4"}),l.jsx("h4",{className:"font-medium",children:I.name}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${I.type==="powerpoint"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:I.type==="powerpoint"?"PowerPoint":"Canvas"})]}),((L=I.template)==null?void 0:L.placeholders)&&I.template.placeholders.length>0&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:"Placeholders:"})," ",I.template.placeholders.map(K=>l.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs mx-0.5",children:"{{"+K+"}}"},K))]}),I.created_at&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Created:"," ",new Date(I.created_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[I.type==="powerpoint"&&(($=(F=I.template)==null?void 0:F.placeholders)==null?void 0:$.length)>0&&l.jsxs("button",{onClick:()=>{m(I),b(!0)},className:"flex items-center gap-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(ro,{className:"h-4 w-4"}),"Map Data"]}),I.id!=="default"&&l.jsx("button",{onClick:()=>T(I.id),className:"flex items-center gap-1 px-3 py-2 text-sm bg-red-600 text-white rounded-md hover:bg-red-700",children:l.jsx(Oi,{className:"h-4 w-4"})})]})]})},I.id)})]}),v&&l.jsx(_E,{template:v,isOpen:w,onClose:()=>{b(!1),m(null)},onSave:k,dataFields:n})]})};function EE(){const{id:t}=_a(),e=yr(),{user:r,isLoading:n}=sr(),{handleApiError:a}=bE(),[i,s]=E.useState(null),[o,c]=E.useState([]),[u,d]=E.useState(!0),[f,h]=E.useState(!1),[p,x]=E.useState(null),[g,y]=E.useState(null),[v,m]=E.useState(!1),[w,b]=E.useState("certificates"),[N,A]=E.useState("default"),C=E.useCallback(async()=>{try{d(!0),x(null);const k=await er.getEventById(t);if(!k.success||!k.data){x("Event not found");return}s(k.data.event);const D=new Date(k.data.event.end_date),L=new Date>D;m(L);const F=await Ds.getEventCertificates(t);F.success&&F.data&&c(F.data.certificates)}catch(k){console.error("Error fetching data:",k);const D=a(k);x(D)}finally{d(!1)}},[t]);E.useEffect(()=>{if(!t){x("Event ID is required"),d(!1);return}C()},[t,C]);const S=async()=>{if(t){if(!v){x("Cannot generate certificates until the event has ended.");return}try{h(!0),x(null),y(null);const k=await Ds.generateCertificates(t,{templateId:N});k.success&&k.data?(y(`Successfully generated ${k.data.generated} certificate(s) out of ${k.data.total} eligible participants.`),k.data.errors&&k.data.errors.length>0&&console.warn("Certificate generation errors:",k.data.errors),await C()):x(k.error||"Failed to generate certificates")}catch(k){console.error("Error generating certificates:",k);const D=a(k);x(D)}finally{h(!1)}}},T=k=>{const D=Ds.downloadCertificate(k);window.open(D,"_blank")};return n||u?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gd,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading certificates..."})]})}):r?["organizer","admin"].includes(r.role)?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(Kf,{className:"h-5 w-5 mr-1"}),"Back"]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[l.jsx(Kn,{className:"h-8 w-8 mr-3 text-blue-600"}),"Certificate Management"]}),i&&l.jsxs("p",{className:"text-gray-600 mt-2",children:["Managing certificates for:"," ",l.jsx("span",{className:"font-semibold",children:i.title})]})]})})]}),p&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(pa,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-red-700",children:p})]})}),g&&l.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Ya,{className:"h-5 w-5 text-green-400 mr-2"}),l.jsx("p",{className:"text-green-700",children:g})]})}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsxs("button",{onClick:()=>b("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${w==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(Kn,{className:"h-4 w-4 inline-block mr-2"}),"Certificates"]}),l.jsxs("button",{onClick:()=>b("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${w==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(ro,{className:"h-4 w-4 inline-block mr-2"}),"Templates"]})]})})}),w==="templates"?l.jsx(NE,{eventId:t}):l.jsx(l.Fragment,{children:i&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),l.jsx("p",{className:"font-medium",children:new Date(i.start_date).toLocaleDateString()})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ti,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),l.jsx("p",{className:"font-medium text-green-600",children:"Event Ended"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dr,{className:"h-5 w-5 text-gray-400 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"}),l.jsxs("p",{className:"font-medium",children:[o.length," Generated"]})]})]})]})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Certificate Generation"})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"template-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Template"}),l.jsx("select",{id:"template-select",value:N,onChange:k=>A(k.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:l.jsx("option",{value:"default",children:"Default Template"})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:S,disabled:f||!v,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[f?l.jsx(gd,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(Kn,{className:"h-4 w-4 mr-2"}),f?"Generating...":v?"Generate Certificates":"Event Must End First"]})}),!v&&i?l.jsx("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-md",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ti,{className:"h-5 w-5 text-amber-600 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-amber-800 font-medium",children:"Event Still in Progress"}),l.jsxs("p",{className:"text-amber-700 text-sm mt-1",children:["Certificates can only be generated after the event ends on"," ",l.jsxs("span",{className:"font-medium",children:[new Date(i.end_date).toLocaleDateString()," at"," ",new Date(i.end_date).toLocaleTimeString()]})]})]})]})}):null,l.jsx("p",{className:"text-gray-600 text-sm",children:"Generate certificates for all participants who attended this event. Only participants who checked in will receive certificates."})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[l.jsx(ht,{className:"h-5 w-5 mr-2"}),"Generated Certificates (",o.length,")"]})}),o.length===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(Kn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No certificates generated yet"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:'Click "Generate Certificates" to create certificates for attended participants'})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participant"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate Code"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(k=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:k.participant_name}),l.jsx("div",{className:"text-sm text-gray-500",children:k.participant_email})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:k.certificate_code})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.issued_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("button",{onClick:()=>T(k.certificate_code),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[l.jsx(pc,{className:"h-4 w-4 mr-1"}),"Download"]})})]},k.id))})]})})]})]})})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx(pa,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"Only event organizers and administrators can manage certificates."})]})}):(e("/login"),null)}function CE(){const[t,e]=E.useState(""),[r,n]=E.useState(null),[a,i]=E.useState(!1),[s,o]=E.useState(null),c=async d=>{if(d.preventDefault(),!t.trim()){o("Please enter a certificate code");return}try{i(!0),o(null),n(null);const f=await Ds.verifyCertificate(t.trim());f.success&&f.data?n(f.data):o(f.error||"Certificate not found")}catch(f){console.error("Error verifying certificate:",f),o("Failed to verify certificate")}finally{i(!1)}},u=()=>{if(r!=null&&r.certificate){const d=Ds.downloadCertificate(r.certificate.code);window.open(d,"_blank")}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx(Kn,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Certificate Verification"}),l.jsx("p",{className:"text-xl text-gray-600",children:"Verify the authenticity of event participation certificates"})]}),l.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8 mb-8",children:l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"certificate-code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Code"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("input",{type:"text",id:"certificate-code",value:t,onChange:d=>e(d.target.value),placeholder:"Enter certificate code (e.g., CERT-ABC12345)",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:a}),l.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:a?l.jsx(gd,{className:"h-5 w-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(mc,{className:"h-5 w-5 mr-2"}),"Verify"]})})]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:l.jsx("p",{children:"Enter the certificate code found on your participation certificate to verify its authenticity. Certificate codes are in the format: CERT-XXXXXXXX"})})]})}),s&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-8",children:l.jsxs("div",{className:"flex",children:[l.jsx(no,{className:"h-5 w-5 text-red-400 mr-2"}),l.jsx("p",{className:"text-red-700",children:s})]})}),r&&l.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:r.valid&&r.certificate?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-green-50 border-b border-green-200 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ya,{className:"h-8 w-8 text-green-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"Certificate Verified "}),l.jsx("p",{className:"text-green-700",children:"This certificate is authentic and valid"})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Participant Information"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(yd,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantName})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(qn,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantEmail})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Kn,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Certificate Code"}),l.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded inline-block",children:r.certificate.code})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Event Information"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Title"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.title})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.event.date).toLocaleDateString()})]})]}),r.certificate.event.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qr,{className:"h-5 w-5 text-gray-400 mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),l.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.location})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Issued Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.issuedAt).toLocaleDateString()})]})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t",children:l.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 flex items-center mx-auto",children:[l.jsx(pc,{className:"h-5 w-5 mr-2"}),"Download Certificate"]})})]})]}):l.jsx("div",{className:"bg-red-50 p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(no,{className:"h-8 w-8 text-red-500 mr-3"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-red-900",children:"Certificate Not Found"}),l.jsx("p",{className:"text-red-700",children:"The certificate code you entered is not valid or does not exist in our system."})]})]})})}),!r&&!s&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Verify Your Certificate"}),l.jsxs("ul",{className:"text-blue-800 space-y-2",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),"Locate your certificate code on your participation certificate"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),"Enter the complete code in the field above (format: CERT-XXXXXXXX)"]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),`Click "Verify" to check the certificate's authenticity`]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),"Download the verified certificate if needed"]})]})]})]})})}function SE(){const{eventId:t}=_a(),{user:e,isLoading:r}=sr();return r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?["staff","organizer","admin"].includes(e.role)?t?l.jsx(h0,{eventId:t}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),l.jsx("p",{className:"text-gray-600",children:"Invalid event ID provided."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the check-in system. Only event staff and organizers can check in participants."})]})}):l.jsx(la,{to:"/login",replace:!0})}function AE({eventTitle:t,participantName:e,participantEmail:r,qrCode:n,eventLocation:a,eventDate:i,eventTime:s}){const[o,c]=E.useState(null);E.useEffect(()=>{c({title:t,date:i||new Date().toLocaleDateString(),location:a||"Event Venue",time:s||"10:00 AM"})},[t,a,i,s]);const u=()=>{const d=document.querySelector(".participant-qr-code svg");if(d)try{const f=new XMLSerializer().serializeToString(d),h=document.createElement("canvas"),p=h.getContext("2d"),x=new Image;h.width=300,h.height=400,x.onload=()=>{p&&(p.fillStyle="white",p.fillRect(0,0,300,400),p.drawImage(x,50,50,200,200),p.fillStyle="black",p.font="16px Arial",p.textAlign="center",p.fillText(t,150,280),p.font="14px Arial",p.fillText(e,150,300),p.font="12px Arial",p.fillText("Show this QR code at check-in",150,330));const g=document.createElement("a");g.download=`${e.replace(/\s+/g,"-")}-ticket.png`,g.href=h.toDataURL("image/png"),g.click()},x.src="data:image/svg+xml;base64,"+btoa(f)}catch(f){console.error("Error downloading QR code:",f),alert("Failed to download QR code. Please try again.")}};return l.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-center",children:"Event Ticket"}),l.jsx("p",{className:"text-center text-blue-100 mt-1",children:(o==null?void 0:o.title)||t})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),l.jsx("p",{className:"text-gray-600",children:r})]}),o&&l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Date"}),l.jsx("p",{className:"font-medium",children:o.date})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600",children:"Time"}),l.jsx("p",{className:"font-medium",children:o.time})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-gray-600",children:"Location"}),l.jsx("p",{className:"font-medium",children:o.location})]})]})}),l.jsx("div",{className:"participant-qr-code bg-white p-4 rounded-lg border-2 border-gray-200 mb-6",children:l.jsx("div",{className:"flex justify-center",children:l.jsx(Fg,{value:n,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),l.jsx("div",{className:"text-center mb-6",children:l.jsx("p",{className:"text-gray-600 text-sm",children:"Show this QR code at the event entrance for quick check-in"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition-colors",children:[l.jsx(pc,{className:"h-4 w-4"}),l.jsx("span",{children:"Download Ticket"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:`Ticket for ${t}`,text:`Here's my ticket for ${t}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Ticket link copied to clipboard!"))},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[l.jsx(qf,{className:"h-4 w-4"}),l.jsx("span",{children:"Share"})]}),l.jsxs("button",{onClick:()=>{const d=encodeURIComponent(`Ticket for ${t}`),f=encodeURIComponent(`Hi,

Here's my ticket for ${t}.

Event Details:
- Name: ${e}
- Email: ${r}
- QR Code: ${n}

See you at the event!`);window.open(`mailto:?subject=${d}&body=${f}`)},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[l.jsx(qn,{className:"h-4 w-4"}),l.jsx("span",{children:"Email"})]})]})]}),l.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded text-xs text-gray-500 break-all",children:[l.jsx("p",{className:"font-medium mb-1",children:"QR Code:"}),l.jsx("p",{children:n})]})]})]})}function jE(){const{registrationId:t}=_a(),{user:e,isLoading:r}=sr(),{accessToken:n}=mr(),[a,i]=E.useState(null),[s,o]=E.useState(!0),[c,u]=E.useState(null);E.useEffect(()=>{t&&n&&d()},[t,n]);const d=async()=>{try{if(!n){u("Authentication required"),o(!1);return}if(!t){u("Missing registration ID"),o(!1);return}const h=await fetch(`/api/registrations/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!h.ok)throw new Error("Registration not found");const p=await h.json();if(p.success)i(p.data);else throw new Error(p.error||"Failed to fetch registration")}catch(h){u(h.message)}finally{o(!1)}};return r||s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your ticket..."})]})}):e?c||!a?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ticket Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:c||"The ticket you're looking for doesn't exist or you don't have permission to view it."}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Back"})]})}):e.email===a.email||e.role==="admin"||e.role==="organizer"?l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-lg mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Event Ticket"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Present this QR code at the event entrance"})]}),l.jsx("div",{className:"text-center mb-6",children:l.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a.status==="confirmed"?"bg-green-100 text-green-800":a.status==="attended"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:[a.status==="confirmed"&&" Confirmed",a.status==="attended"&&" Attended",a.status==="pending"&&" Pending",a.status==="cancelled"&&" Cancelled"]})}),l.jsx(AE,{registrationId:a.id,eventTitle:a.event.title,participantName:a.name,participantEmail:a.email,qrCode:a.qr_code,eventLocation:a.event.location,eventDate:new Date(a.event.start_date).toLocaleDateString(),eventTime:new Date(a.event.start_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),l.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Important Information"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Keep this QR code safe and don't share it with others"}),l.jsx("li",{children:" Arrive at the venue 15 minutes before the event starts"}),l.jsx("li",{children:" Have your QR code ready for quick check-in"}),l.jsx("li",{children:" Take a screenshot or download the ticket for offline access"}),l.jsx("li",{children:" Contact support if you have any issues"})]})]}),l.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-4",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Event Details"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Event:"}),l.jsx("span",{className:"font-medium",children:a.event.title})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Date:"}),l.jsx("span",{className:"font-medium",children:new Date(a.event.start_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Time:"}),l.jsx("span",{className:"font-medium",children:new Date(a.event.start_date).toLocaleTimeString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Location:"}),l.jsx("span",{className:"font-medium",children:a.event.location})]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:" Back to Events"})})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this ticket."})]})}):l.jsx(la,{to:"/login",replace:!0})}function IE(){const{user:t}=sr(),[e,r]=E.useState([]),[n,a]=E.useState(!0);E.useEffect(()=>{i()},[]);const i=async()=>{var s;try{const o=localStorage.getItem("token"),c=await fetch("/api/events",{headers:{Authorization:`Bearer ${o}`}});if(c.ok){const u=await c.json();r(((s=u.data)==null?void 0:s.events)||[])}}catch(o){console.error("Error fetching events:",o)}finally{a(!1)}};return!t||t.role!=="admin"?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"Only administrators can access this page."})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Manage events, staff, and system settings"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:l.jsx(Zt,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:l.jsx(Dr,{className:"h-6 w-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>new Date(s.start_date)>new Date).length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:l.jsx(md,{className:"h-6 w-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(s=>{const o=new Date(s.start_date),c=new Date;return o.getMonth()===c.getMonth()&&o.getFullYear()===c.getFullYear()}).length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-orange-100 rounded-md",children:l.jsx(ro,{className:"h-6 w-6 text-orange-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Online"})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Management"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Manage events and their staff assignments"})]}),n?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((s,o)=>l.jsx("div",{className:"h-16 bg-gray-200 rounded"},o))})}):e.length===0?l.jsxs("div",{className:"p-6 text-center text-gray-500",children:[l.jsx(Zt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),l.jsx("p",{children:"No events found."})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:e.map(s=>l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.title}),l.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[l.jsxs("p",{children:[" ",new Date(s.start_date).toLocaleDateString()]}),l.jsxs("p",{children:[" ",s.location]}),l.jsxs("p",{children:[" Organizer: ",s.organizer.name]})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(oe,{to:`/events/${s.id}`,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"View Event"}),l.jsx(oe,{to:`/events/${s.id}/check-in`,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Check-in Dashboard"})]})]})},s.id))})]}),l.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(Dr,{className:"h-8 w-8 text-blue-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Staff Management"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Staff management is available on individual event pages. Navigate to any event to add or manage staff members."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Tip: Each event can have its own staff with custom permissions."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(md,{className:"h-8 w-8 text-green-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"View check-in analytics and event performance metrics from individual event dashboards."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Real-time check-in statistics available for each event."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(ro,{className:"h-8 w-8 text-purple-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Settings"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Configure system-wide settings, email templates, and QR code generation parameters."}),l.jsx("p",{className:"text-sm text-gray-500",children:" Advanced settings coming soon."})]})]})]})})}const kE=()=>{const{user:t}=sr(),[e,r]=E.useState([]),[n,a]=E.useState([]),[i,s]=E.useState(!0),[o,c]=E.useState(null),[u,d]=E.useState(""),[f,h]=E.useState(1),[p,x]=E.useState(1),[g,y]=E.useState(!0),v=async()=>{if(t)try{const S=await ga.getUserRegistrations();S.success&&S.data&&a(S.data.registrations)}catch(S){console.error("Failed to fetch user registrations:",S)}},m=async()=>{try{s(!0),c(null);const S=await er.getEvents({page:f,limit:12,search:u||void 0,upcoming:g});S.success&&S.data&&(r(S.data.events),x(S.data.pagination.pages))}catch(S){c(S.message||"Failed to fetch events")}finally{s(!1)}};E.useEffect(()=>{m(),v()},[f,g,t]);const w=S=>{S.preventDefault(),h(1),m()},b=S=>{var k;const T=n.find(D=>{var I;return((I=D.event)==null?void 0:I.id)===S&&D.status!=="cancelled"});return T?(k=T.event)!=null&&k.is_paid?T.payment_status==="completed":T.status==="confirmed"||T.payment_status===null:!1},N=S=>{var D;const T=n.find(I=>{var L;return((L=I.event)==null?void 0:L.id)===S&&I.status!=="cancelled"});return T?(D=T.event)!=null&&D.is_paid?T.payment_status==="completed"?T:void 0:T.status==="confirmed"||T.payment_status===null?T:void 0:void 0},A=S=>{const T=new Date,k=new Date(S.start_date),D=new Date(S.end_date);return D<T?{status:"ended",color:"gray"}:k<=T&&D>=T?{status:"ongoing",color:"blue"}:k>T?{status:"upcoming",color:"green"}:{status:"unknown",color:"gray"}},C=S=>S.registrations&&Array.isArray(S.registrations)?S.registrations.length>0&&typeof S.registrations[0]=="object"&&"count"in S.registrations[0]?S.registrations[0].count||0:S.registrations.length:0;return i&&e.length===0?l.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Loading events..."})]})}):l.jsxs("div",{className:"min-h-screen bg-white",children:[l.jsx("div",{className:"border-b border-gray-100",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Events"}),t&&(t.role==="organizer"||t.role==="admin")&&l.jsxs(oe,{to:"/events/create",className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-gray-900 border border-gray-200 rounded-md hover:bg-gray-50",children:[l.jsx(ms,{className:"w-4 h-4 mr-1"}),"Create"]})]}),l.jsx("form",{onSubmit:w,className:"mb-3",children:l.jsxs("div",{className:"relative max-w-xs",children:[l.jsx(mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-900 focus:border-gray-900 text-sm"})]})}),l.jsxs("label",{className:"flex items-center text-sm",children:[l.jsx("input",{type:"checkbox",checked:g,onChange:S=>y(S.target.checked),className:"rounded border-gray-300 text-gray-900 focus:ring-gray-900 w-4 h-4"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Upcoming only"})]})]})}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[o&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:l.jsx("p",{className:"text-red-800 text-sm",children:o})}),!i&&e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zt,{className:"mx-auto h-6 w-6 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events found"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:u?"Try adjusting your search.":"Be the first to create an event!"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map(S=>{var D;const T=A(S),k=C(S);return l.jsxs("div",{className:"group bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors overflow-hidden",children:[l.jsxs("div",{className:"relative h-28 bg-gray-50",children:[S.banner_url?l.jsx("img",{src:S.banner_url,alt:S.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:l.jsx(Zt,{className:"w-5 h-5 text-gray-400"})}),S.is_paid&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsxs("span",{className:"bg-white/90 text-gray-900 px-2 py-1 rounded text-xs font-medium",children:["$",S.price]})})]}),l.jsxs("div",{className:"p-3",children:[l.jsx("div",{className:"text-xs text-gray-500 mb-1",children:new Date(S.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),l.jsx("h3",{className:"font-medium text-gray-900 text-sm mb-2 line-clamp-2",children:S.title}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[l.jsxs("div",{className:"flex items-center min-w-0",children:[l.jsx(Qr,{className:"w-3 h-3 mr-1 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:S.location})]}),l.jsxs("div",{className:"flex items-center ml-2",children:[l.jsx(Dr,{className:"w-3 h-3 mr-1"}),l.jsx("span",{children:k||0})]})]}),t&&b(S.id)?l.jsxs(oe,{to:`/ticket/${(D=N(S.id))==null?void 0:D.id}`,className:"w-full inline-flex items-center justify-center px-3 py-2 text-xs font-medium text-green-700 bg-green-50 rounded-md hover:bg-green-100",children:[l.jsx(Xx,{className:"w-3 h-3 mr-1"}),"Ticket"]}):T.status==="ended"?l.jsx("div",{className:"w-full text-center py-2 text-xs text-gray-400",children:"Ended"}):k&&S.capacity&&k>=S.capacity?l.jsx("div",{className:"w-full text-center py-2 text-xs text-gray-400",children:"Full"}):l.jsx(oe,{to:`/events/${S.id}`,className:"w-full inline-flex items-center justify-center px-3 py-2 text-xs font-medium text-gray-700 bg-gray-50 rounded-md hover:bg-gray-100 group-hover:bg-gray-900 group-hover:text-white transition-colors",children:S.is_paid?`${S.price}`:"Free"})]})]},S.id)})}),p>1&&l.jsx("div",{className:"mt-8 flex justify-center",children:l.jsxs("nav",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:()=>h(Math.max(1,f-1)),disabled:f===1,className:"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50",children:""}),Array.from({length:p},(S,T)=>T+1).map(S=>l.jsx("button",{onClick:()=>h(S),className:`px-3 py-1 text-sm ${f===S?"text-gray-900 font-medium":"text-gray-500 hover:text-gray-700"}`,children:S},S)),l.jsx("button",{onClick:()=>h(Math.min(p,f+1)),disabled:f===p,className:"px-3 py-1 text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50",children:""})]})})]})]})]})};function TE(){const{user:t,isLoading:e}=sr(),[r,n]=E.useState([]),[a,i]=E.useState(null),[s,o]=E.useState(!0);if(e)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!t)return l.jsx(la,{to:"/login",replace:!0});if(!["organizer","admin"].includes(t.role))return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the QR scanner. Only organizers and administrators can use this feature."})]})});E.useEffect(()=>{(async()=>{try{o(!0);const h=await er.getMyEvents();if(h.success&&h.data){const p=h.data.events.filter(x=>{const g=new Date,y=new Date(x.end_date);return g<=y&&(!x.status||x.status==="published")});n(p)}}catch(h){console.error("Failed to fetch events:",h)}finally{o(!1)}})()},[]);const c=r.find(f=>f.id===a),u=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),d=f=>new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return s?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-6",children:[l.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[l.jsx(Gx,{className:"h-5 w-5 mr-1"}),"Back to Events"]}),l.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[c==null?void 0:c.title," - Check-In"]})]}),l.jsx(h0,{eventId:a})]}):l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"QR Code Scanner"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Select an event to start scanning participant QR codes for check-in."}),r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Available Events"}),l.jsx("p",{className:"text-gray-600",children:"You don't have any active or upcoming events to scan for."})]}):l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(f=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>i(f.id),children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f.title}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zt,{className:"h-4 w-4 mr-2"}),u(f.start_date)," at"," ",d(f.start_date)]}),f.location&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qr,{className:"h-4 w-4 mr-2"}),f.location]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Capacity: ",f.capacity]})]}),l.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Start Scanning"})]})},f.id))})]})})}function sp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function op(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sp(Object(r),!0).forEach(function(n){Bg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dl(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dl=function(e){return typeof e}:dl=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function Bg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ug(t,e){return OE(t)||RE(t,e)||PE(t,e)||DE()}function OE(t){if(Array.isArray(t))return t}function RE(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],a=!0,i=!1,s,o;try{for(r=r.call(t);!(a=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function PE(t,e){if(t){if(typeof t=="string")return lp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lp(t,e)}}function lp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cr=function(e,r,n){var a=!!n,i=he.useRef(n);he.useEffect(function(){i.current=n},[n]),he.useEffect(function(){if(!a||!e)return function(){};var s=function(){i.current&&i.current.apply(i,arguments)};return e.on(r,s),function(){e.off(r,s)}},[a,r,e,i])},$d=function(e){var r=he.useRef(e);return he.useEffect(function(){r.current=e},[e]),r.current},Ui=function(e){return e!==null&&dl(e)==="object"},ME=function(e){return Ui(e)&&typeof e.then=="function"},LE=function(e){return Ui(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},cp="[object Object]",FE=function t(e,r){if(!Ui(e)||!Ui(r))return e===r;var n=Array.isArray(e),a=Array.isArray(r);if(n!==a)return!1;var i=Object.prototype.toString.call(e)===cp,s=Object.prototype.toString.call(r)===cp;if(i!==s)return!1;if(!i&&!n)return e===r;var o=Object.keys(e),c=Object.keys(r);if(o.length!==c.length)return!1;for(var u={},d=0;d<o.length;d+=1)u[o[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==o.length)return!1;var p=e,x=r,g=function(v){return t(p[v],x[v])};return h.every(g)},zg=function(e,r,n){return Ui(e)?Object.keys(e).reduce(function(a,i){var s=!Ui(r)||!FE(e[i],r[i]);return n.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):s?op(op({},a||{}),{},Bg({},i,e[i])):a},null):null},Vg="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",up=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vg;if(e===null||LE(e))return e;throw new Error(r)},BE=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vg;if(ME(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return up(a,r)})};var n=up(e,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},UE=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Sc=he.createContext(null);Sc.displayName="ElementsContext";var $g=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},Hg=function(e){var r=e.stripe,n=e.options,a=e.children,i=he.useMemo(function(){return BE(r)},[r]),s=he.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),o=Ug(s,2),c=o[0],u=o[1];he.useEffect(function(){var h=!0,p=function(g){u(function(y){return y.stripe?y:{stripe:g,elements:g.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(x){x&&h&&p(x)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){h=!1}},[i,c,n]);var d=$d(r);he.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=$d(n);return he.useEffect(function(){if(c.elements){var h=zg(n,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,f,c.elements]),he.useEffect(function(){UE(c.stripe)},[c.stripe]),he.createElement(Sc.Provider,{value:c},a)};Hg.propTypes={stripe:Ze.any,options:Ze.object};var zE=function(e){var r=he.useContext(Sc);return $g(r,e)},VE=function(){var e=zE("calls useElements()"),r=e.elements;return r};Ze.func.isRequired;var Wg=he.createContext(null);Wg.displayName="CustomCheckoutSdkContext";var $E=function(e,r){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return e},HE=he.createContext(null);HE.displayName="CustomCheckoutContext";Ze.any,Ze.shape({clientSecret:Ze.string.isRequired,elementsOptions:Ze.object}).isRequired;var Hd=function(e){var r=he.useContext(Wg),n=he.useContext(Sc);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return r?$E(r,e):$g(n,e)},WE=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ct=function(e,r){var n="".concat(WE(e),"Element"),a=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,p=c.onBlur,x=c.onFocus,g=c.onReady,y=c.onChange,v=c.onEscape,m=c.onClick,w=c.onLoadError,b=c.onLoaderStart,N=c.onNetworksChange,A=c.onConfirm,C=c.onCancel,S=c.onShippingAddressChange,T=c.onShippingRateChange,k=Hd("mounts <".concat(n,">")),D="elements"in k?k.elements:null,I="customCheckoutSdk"in k?k.customCheckoutSdk:null,L=he.useState(null),F=Ug(L,2),$=F[0],K=F[1],le=he.useRef(null),U=he.useRef(null);cr($,"blur",p),cr($,"focus",x),cr($,"escape",v),cr($,"click",m),cr($,"loaderror",w),cr($,"loaderstart",b),cr($,"networkschange",N),cr($,"confirm",A),cr($,"cancel",C),cr($,"shippingaddresschange",S),cr($,"shippingratechange",T),cr($,"change",y);var te;g&&(e==="expressCheckout"?te=g:te=function(){g($)}),cr($,"ready",te),he.useLayoutEffect(function(){if(le.current===null&&U.current!==null&&(D||I)){var ce=null;I?ce=I.createElement(e,h):D&&(ce=D.create(e,h)),le.current=ce,K(ce),ce&&ce.mount(U.current)}},[D,I,h]);var Q=$d(h);return he.useEffect(function(){if(le.current){var ce=zg(h,Q,["paymentRequest"]);ce&&"update"in le.current&&le.current.update(ce)}},[h,Q]),he.useLayoutEffect(function(){return function(){if(le.current&&typeof le.current.destroy=="function")try{le.current.destroy(),le.current=null}catch{}}},[]),he.createElement("div",{id:u,className:d,ref:U})},i=function(c){Hd("mounts <".concat(n,">"));var u=c.id,d=c.className;return he.createElement("div",{id:u,className:d})},s=r?i:a;return s.propTypes={id:Ze.string,className:Ze.string,onChange:Ze.func,onBlur:Ze.func,onFocus:Ze.func,onReady:Ze.func,onEscape:Ze.func,onClick:Ze.func,onLoadError:Ze.func,onLoaderStart:Ze.func,onNetworksChange:Ze.func,onConfirm:Ze.func,onCancel:Ze.func,onShippingAddressChange:Ze.func,onShippingRateChange:Ze.func,options:Ze.object},s.displayName=n,s.__elementType=e,s},ut=typeof window>"u",GE=he.createContext(null);GE.displayName="EmbeddedCheckoutProviderContext";var XE=function(){var e=Hd("calls useStripe()"),r=e.stripe;return r};ct("auBankAccount",ut);var dp=ct("card",ut);ct("cardNumber",ut);ct("cardExpiry",ut);ct("cardCvc",ut);ct("fpxBank",ut);ct("iban",ut);ct("idealBank",ut);ct("p24Bank",ut);ct("epsBank",ut);ct("payment",ut);ct("expressCheckout",ut);ct("currencySelector",ut);ct("paymentRequestButton",ut);ct("linkAuthentication",ut);ct("address",ut);ct("shippingAddress",ut);ct("paymentMethodMessaging",ut);ct("affirmMessage",ut);ct("afterpayClearpayMessage",ut);var Gg="https://js.stripe.com/v3",ZE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fp="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",YE=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Gg,'"]')),r=0;r<e.length;r++){var n=e[r];if(ZE.test(n.src))return n}return null},hp=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Gg).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},KE=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:r})},os=null,Wo=null,Go=null,qE=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},QE=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},JE=function(e){return os!==null?os:(os=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&e&&console.warn(fp),window.Stripe){r(window.Stripe);return}try{var a=YE();if(a&&e)console.warn(fp);else if(!a)a=hp(e);else if(a&&Go!==null&&Wo!==null){var i;a.removeEventListener("load",Go),a.removeEventListener("error",Wo),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=hp(e)}Go=QE(r,n),Wo=qE(n),a.addEventListener("load",Go),a.addEventListener("error",Wo)}catch(s){n(s);return}}),os.catch(function(r){return os=null,Promise.reject(r)}))},eC=function(e,r,n){if(e===null)return null;var a=e.apply(void 0,r);return KE(a,n),a},ls,Xg=!1,Zg=function(){return ls||(ls=JE(null).catch(function(e){return ls=null,Promise.reject(e)}),ls)};Promise.resolve().then(function(){return Zg()}).catch(function(t){Xg||console.warn(t)});var tC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Xg=!0;var a=Date.now();return Zg().then(function(i){return eC(i,r,a)})};function Yg(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Yg(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function rC(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Yg(t))&&(n&&(n+=" "),n+=e);return n}function nC(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=Kg(e))&&(n&&(n+=" "),n+=r);return n}function Kg(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=Kg(t[n]))&&(r&&(r+=" "),r+=e);return r}var g0="-";function aC(t){var e=sC(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,a=n===void 0?{}:n;function i(o){var c=o.split(g0);return c[0]===""&&c.length!==1&&c.shift(),qg(c,e)||iC(o)}function s(o,c){var u=r[o]||[];return c&&a[o]?[].concat(u,a[o]):u}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function qg(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),a=n?qg(t.slice(1),n):void 0;if(a)return a;if(e.validators.length!==0){var i=t.join(g0);return(s=e.validators.find(function(o){var c=o.validator;return c(i)}))==null?void 0:s.classGroupId}}var pp=/^\[(.+)\]$/;function iC(t){if(pp.test(t)){var e=pp.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function sC(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},a=lC(Object.entries(t.classGroups),r);return a.forEach(function(i){var s=i[0],o=i[1];Wd(o,n,s,e)}),n}function Wd(t,e,r,n){t.forEach(function(a){if(typeof a=="string"){var i=a===""?e:mp(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(oC(a)){Wd(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(function(s){var o=s[0],c=s[1];Wd(c,mp(e,o),r,n)})})}function mp(t,e){var r=t;return e.split(g0).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function oC(t){return t.isThemeGetter}function lC(t,e){return e?t.map(function(r){var n=r[0],a=r[1],i=a.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var c=o[0],u=o[1];return[e+c,u]})):s});return[n,i]}):t}function cC(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function a(i,s){r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):a(s,o)}}}var Qg="!";function uC(t){var e=t.separator||":",r=e.length===1,n=e[0],a=e.length;return function(s){for(var o=[],c=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(c===0){if(h===n&&(r||s.slice(f,f+a)===e)){o.push(s.slice(u,f)),u=f+a;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var p=o.length===0?s:s.substring(u),x=p.startsWith(Qg),g=x?p.substring(1):p,y=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:y}}}function dC(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var a=n[0]==="[";a?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function fC(t){return{cache:cC(t.cacheSize),splitModifiers:uC(t),...aC(t)}}var hC=/\s+/;function pC(t,e){var r=e.splitModifiers,n=e.getClassGroupId,a=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(hC).map(function(s){var o=r(s),c=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};p=!1}var x=dC(c).join(":"),g=u?x+Qg:x;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,c=s.classGroupId,u=s.hasPostfixModifier,d=o+c;return i.has(d)?!1:(i.add(d),a(c,u).forEach(function(f){return i.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function mC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,a,i,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(p,x){return x(p)},d());return n=fC(h),a=n.cache.get,i=n.cache.set,s=c,c(u)}function c(u){var d=a(u);if(d)return d;var f=pC(u,n);return i(u,f),f}return function(){return s(nC.apply(null,arguments))}}function Ue(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var Jg=/^\[(?:([a-z-]+):)?(.+)\]$/i,xC=/^\d+\/\d+$/,gC=new Set(["px","full","screen"]),vC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wC=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ur(t){return Ma(t)||gC.has(t)||xC.test(t)||Gd(t)}function Gd(t){return Ka(t,"length",SC)}function bC(t){return Ka(t,"size",ev)}function _C(t){return Ka(t,"position",ev)}function NC(t){return Ka(t,"url",AC)}function Xo(t){return Ka(t,"number",Ma)}function Ma(t){return!Number.isNaN(Number(t))}function EC(t){return t.endsWith("%")&&Ma(t.slice(0,-1))}function cs(t){return xp(t)||Ka(t,"number",xp)}function ve(t){return Jg.test(t)}function us(){return!0}function Fn(t){return vC.test(t)}function CC(t){return Ka(t,"",jC)}function Ka(t,e,r){var n=Jg.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function SC(t){return yC.test(t)}function ev(){return!1}function AC(t){return t.startsWith("url(")}function xp(t){return Number.isInteger(Number(t))}function jC(t){return wC.test(t)}function IC(){var t=Ue("colors"),e=Ue("spacing"),r=Ue("blur"),n=Ue("brightness"),a=Ue("borderColor"),i=Ue("borderRadius"),s=Ue("borderSpacing"),o=Ue("borderWidth"),c=Ue("contrast"),u=Ue("grayscale"),d=Ue("hueRotate"),f=Ue("invert"),h=Ue("gap"),p=Ue("gradientColorStops"),x=Ue("gradientColorStopPositions"),g=Ue("inset"),y=Ue("margin"),v=Ue("opacity"),m=Ue("padding"),w=Ue("saturate"),b=Ue("scale"),N=Ue("sepia"),A=Ue("skew"),C=Ue("space"),S=Ue("translate"),T=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",ve,e]},I=function(){return[ve,e]},L=function(){return["",Ur]},F=function(){return["auto",Ma,ve]},$=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},K=function(){return["solid","dashed","dotted","double","none"]},le=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},U=function(){return["start","end","center","between","around","evenly","stretch"]},te=function(){return["","0",ve]},Q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ce=function(){return[Ma,Xo]},De=function(){return[Ma,ve]};return{cacheSize:500,theme:{colors:[us],spacing:[Ur],blur:["none","",Fn,ve],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Fn,ve],borderSpacing:I(),borderWidth:L(),contrast:ce(),grayscale:te(),hueRotate:De(),invert:te(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[EC,Gd],inset:D(),margin:D(),opacity:ce(),padding:I(),saturate:ce(),scale:ce(),sepia:te(),skew:De(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Fn]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat($(),[ve])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cs]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",cs]}],"grid-cols":[{"grid-cols":[us]}],"col-start-end":[{col:["auto",{span:["full",cs]},ve]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[us]}],"row-start-end":[{row:["auto",{span:[cs]},ve]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(U())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(U(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(U(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ve,e]}],"min-w":[{"min-w":["min","max","fit",ve,Ur]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Fn]},Fn,ve]}],h:[{h:[ve,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ve,Ur]}],"max-h":[{"max-h":[ve,e,"min","max","fit"]}],"font-size":[{text:["base",Fn,Gd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xo]}],"font-family":[{font:[us]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Ma,Xo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ve,Ur]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(K(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ur]}],"underline-offset":[{"underline-offset":["auto",ve,Ur]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat($(),[_C])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(K(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:K()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(K())}],"outline-offset":[{"outline-offset":[ve,Ur]}],"outline-w":[{outline:[Ur]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ur]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fn,CC]}],"shadow-color":[{shadow:[us]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":le()}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fn,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:De()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:De()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[cs,ve]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ur,Xo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var kC=mC(IC);function tv(...t){return kC(rC(t))}const Xd=({className:t,variant:e="default",size:r="default",children:n,...a})=>l.jsx("button",{className:tv("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-blue-600 text-white hover:bg-blue-700":e==="default","border border-input bg-transparent hover:bg-accent hover:text-accent-foreground":e==="outline","bg-red-600 text-white hover:bg-red-700":e==="destructive","hover:bg-accent hover:text-accent-foreground":e==="ghost"},{"h-10 py-2 px-4":r==="default","h-9 px-3":r==="sm","h-11 px-8":r==="lg"},t),...a,children:n}),rv=({size:t="md",className:e})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return l.jsx("div",{className:tv("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",r[t],e)})},nv={async createPaymentIntent(t,e,r,n="USD"){return je.post("/payments/create-intent",{registrationId:t,eventId:e,amount:r,currency:n})},async verifyPayment(t){return je.post("/payments/verify",t)},async handlePaymentFailure(t,e){return je.post("/payments/failure",{paymentId:t,reason:e})},async getPaymentDetails(t){return je.get(`/payments/${t}`)}};function Zd(t){return t instanceof Error?t.message:typeof t=="string"?t:t&&typeof t=="object"&&"message"in t?String(t.message):"An unexpected error occurred"}const TC=tC("pk_test_51RvKItHv57VEdPanLmGAWKKeSbKqfZgPJ34vNE3mBZGrbJZDmSBx3tQqks6GkPrOr2oO7AOX8dnh8AWpONeXXHo500LvfirrLT"),OC=({paymentIntent:t,onSuccess:e,onError:r,onCancel:n})=>{const a=XE(),i=VE(),[s,o]=E.useState(!1),c=async u=>{var f,h;if(u.preventDefault(),!a||!i)return;o(!0);const d=i.getElement(dp);if(!d){r("Card element not found"),o(!1);return}try{const{error:p,paymentIntent:x}=await a.confirmCardPayment(t.clientSecret,{payment_method:{card:d,billing_details:{name:t.participantName,email:t.participantEmail}}});if(p){r(p.message||"Payment failed"),o(!1);return}if(x.status==="succeeded")try{const g=await nv.verifyPayment({paymentId:t.paymentId,paymentIntentId:x.id,paymentMethodId:x.payment_method});g.success&&((f=g.data)!=null&&f.success)?e(t.paymentId):r(((h=g.data)==null?void 0:h.message)||"Payment verification failed")}catch(g){console.error("Payment verification error:",g),r(Zd(g))}}catch(p){console.error("Payment error:",p),r(Zd(p))}finally{o(!1)}};return l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.eventTitle}),l.jsxs("p",{className:"text-gray-600",children:["Participant: ",t.participantName]}),l.jsxs("p",{className:"text-gray-600",children:["Email: ",t.participantEmail]}),l.jsxs("p",{className:"text-xl font-bold mt-2",children:["Amount: ",t.currency.toUpperCase()," ",(t.amount/100).toFixed(2)]})]}),l.jsx("div",{className:"p-4 border border-gray-300 rounded-lg",children:l.jsx(dp,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Xd,{type:"submit",disabled:!a||s,className:"flex-1",children:s?l.jsxs(l.Fragment,{children:[l.jsx(rv,{size:"sm"}),"Processing..."]}):`Pay ${t.currency.toUpperCase()} ${(t.amount/100).toFixed(2)}`}),l.jsx(Xd,{type:"button",variant:"outline",onClick:n,disabled:s,children:"Cancel"})]})]})},RC=({registrationId:t,eventId:e,amount:r,currency:n="USD",onSuccess:a,onError:i,onCancel:s})=>{const[o,c]=E.useState(null),[u,d]=E.useState(!0);if(E.useEffect(()=>{(async()=>{try{const p=await nv.createPaymentIntent(t,e,r,n);p.success&&p.data?c(p.data):i(p.message||"Failed to initialize payment")}catch(p){console.error("Payment initialization error:",p),i(Zd(p))}finally{d(!1)}})()},[t,e,r,n,i]),u)return l.jsxs("div",{className:"flex items-center justify-center p-8",children:[l.jsx(rv,{}),l.jsx("span",{className:"ml-2",children:"Initializing payment..."})]});if(!o)return l.jsxs("div",{className:"text-center p-8",children:[l.jsx("p",{className:"text-red-600 mb-4",children:"Failed to initialize payment"}),l.jsx(Xd,{onClick:s,variant:"outline",children:"Go Back"})]});const f={clientSecret:o.clientSecret,appearance:{theme:"stripe"}};return l.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Complete Payment"}),l.jsx(Hg,{stripe:TC,options:f,children:l.jsx(OC,{paymentIntent:o,onSuccess:a,onError:i,onCancel:s})})]})};function PC(){const{id:t}=_a(),e=Tn(),r=yr(),[n,a]=E.useState(!0),[i,s]=E.useState(null),[o,c]=E.useState(!1),u=e.state;E.useEffect(()=>{if(!u||!u.registration||!t){s("Invalid payment session. Please try registering again."),a(!1);return}a(!1)},[u,t]);const d=p=>{c(!0),tt.success("Payment completed successfully!"),setTimeout(()=>{r(`/ticket/${u.registration.id}`,{state:{message:"Payment completed! Your registration is confirmed."}})},2e3)},f=p=>{s(p),tt.error("Payment failed: "+p)},h=()=>{tt("Payment cancelled. You can complete it later from your registrations."),r(`/events/${t}`)};return n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Preparing payment..."})]})}):i||!u?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Error"}),l.jsx("p",{className:"text-gray-600 mb-4",children:i||"Invalid payment session. Please try registering again."}),l.jsx("button",{onClick:()=>r(`/events/${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Back to Event"})]})}):o?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Your registration is confirmed. Redirecting to your ticket..."}),l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complete Your Registration"}),l.jsx("p",{className:"text-gray-600 mt-2",children:u.message})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Event:"}),l.jsx("span",{className:"font-medium",children:u.registration.event.title})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Date:"}),l.jsx("span",{className:"font-medium",children:new Date(u.registration.event.start_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Location:"}),l.jsx("span",{className:"font-medium",children:u.registration.event.location})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Participant:"}),l.jsx("span",{className:"font-medium",children:u.registration.name})]})]})]}),l.jsx(RC,{registrationId:u.registration.id,eventId:t,amount:u.amount,currency:"USD",onSuccess:d,onError:f,onCancel:h}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx("p",{className:"text-sm text-gray-500",children:"Having trouble with payment? Contact support for assistance."})})]})})}const DC=()=>{const[t]=zw(),[e,r]=E.useState("loading"),[n,a]=E.useState(""),[i,s]=E.useState(!1),[o,c]=E.useState(!1),{user:u,isAuthenticated:d,logout:f}=sr(),h=t.get("token");E.useEffect(()=>{h&&!o?(c(!0),p(h)):h||(r("error"),a("Invalid verification link. No token provided."))},[h,o]);const p=async v=>{var m,w;try{console.log(" Attempting to verify token:",v);const b=await fetch(`http://localhost:3001/api/auth/verify-email?token=${v}`,{method:"GET",headers:{"Content-Type":"application/json"}});console.log(" Response status:",b.status),console.log(" Response ok:",b.ok);const N=await b.json();console.log(" Response data:",N),N.success?(console.log(" Success response received"),r("success"),a(N.message||"Email verified successfully!")):(console.log(" Error response received:",N.error),(m=N.error)!=null&&m.includes("already been used")?(console.log(" Setting status to already-verified"),r("already-verified"),a("Your email has been verified! You can now log in to your account.")):(w=N.error)!=null&&w.includes("expired")?(console.log(" Setting status to error (expired)"),r("error"),a("This verification link has expired. Please request a new verification email.")):(console.log(" Setting status to error (general)"),r("error"),a(N.error||"Failed to verify email.")))}catch(b){console.error("Email verification error:",b),r("error"),a("An error occurred while verifying your email. Please try again.")}},x=async v=>{try{s(!0);const w=await(await fetch("http://localhost:3001/api/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v})})).json();w.success?a("Verification email sent! Please check your inbox."):a(w.error||"Failed to resend verification email.")}catch(m){console.error("Resend verification error:",m),a("An error occurred while resending verification email.")}finally{s(!1)}},g=v=>{const m=d&&u;return l.jsxs("div",{className:"text-center",children:[l.jsx(Ya,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:v}),l.jsx("p",{className:"text-gray-600 mb-6",children:n}),m?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"You're currently logged in with an unverified account. Please log out and log back in to access all features."})}),l.jsx("button",{onClick:()=>{f(),window.location.href="/login"},className:"btn btn-primary",children:"Log Out & Continue to Login"})]}):l.jsx(oe,{to:"/login",className:"btn btn-primary",children:"Continue to Login"})]})},y=()=>{switch(e){case"loading":return l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Your Email"}),l.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address..."})]});case"success":return g("Email Verified!");case"already-verified":return g("Already Verified!");case"error":const v=n.includes("expired");return l.jsxs("div",{className:"text-center",children:[l.jsx(no,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),l.jsx("p",{className:"text-gray-600 mb-6",children:n}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Need a new verification link?"}),l.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:v?"Your verification link has expired. Enter your email address to get a new one.":"If your verification link has expired or you need a new one, enter your email address below."}),l.jsx("form",{onSubmit:m=>{m.preventDefault();const b=new FormData(m.currentTarget).get("email");b&&x(b)},children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"email",name:"email",placeholder:"Enter your email address",className:"flex-1 px-3 py-2 border border-yellow-300 rounded-md text-sm",required:!0}),l.jsxs("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-yellow-600 text-white rounded-md text-sm hover:bg-yellow-700 disabled:opacity-50 flex items-center gap-2",children:[i&&l.jsx(V3,{className:"h-4 w-4 animate-spin"}),"Resend"]})]})})]}),l.jsx(oe,{to:"/register",className:"inline-block text-primary-600 hover:text-primary-500 text-sm",children:"Create a new account"})]})]});default:return null}};return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full",children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx(qn,{className:"h-12 w-12 text-primary-600"})}),y()]})})})};function MC(){const t=mr(e=>e.validateToken);return E.useEffect(()=>{t()},[t]),l.jsx(S4,{children:l.jsxs(Iw,{children:[l.jsx(rt,{path:"/",element:l.jsx(j4,{})}),l.jsx(rt,{path:"/login",element:l.jsx(Tb,{})}),l.jsx(rt,{path:"/register",element:l.jsx(Rb,{})}),l.jsx(rt,{path:"/verify-email",element:l.jsx(DC,{})}),l.jsx(rt,{path:"/events",element:l.jsx(kE,{})}),l.jsx(rt,{path:"/dashboard",element:l.jsx(lr,{children:l.jsx(N8,{})})}),l.jsx(rt,{path:"/events/create",element:l.jsx(lr,{children:l.jsx(I8,{})})}),l.jsx(rt,{path:"/events/:id",element:l.jsx(lr,{children:l.jsx(O8,{})})}),l.jsx(rt,{path:"/events/:id/form-builder",element:l.jsx(lr,{requireOrganizer:!0,children:l.jsx(gE,{})})}),l.jsx(rt,{path:"/events/:id/registrations",element:l.jsx(lr,{requireOrganizer:!0,children:l.jsx(yE,{})})}),l.jsx(rt,{path:"/events/:id/attendance",element:l.jsx(lr,{requireOrganizer:!0,children:l.jsx(wE,{})})}),l.jsx(rt,{path:"/events/:id/certificates",element:l.jsx(lr,{requireOrganizer:!0,children:l.jsx(EE,{})})}),l.jsx(rt,{path:"/certificate/verify",element:l.jsx(CE,{})}),l.jsx(rt,{path:"/admin",element:l.jsx(lr,{requireAdmin:!0,children:l.jsx(IE,{})})}),l.jsx(rt,{path:"/events/:eventId/check-in",element:l.jsx(lr,{children:l.jsx(SE,{})})}),l.jsx(rt,{path:"/scanner",element:l.jsx(lr,{requireOrganizer:!0,children:l.jsx(TE,{})})}),l.jsx(rt,{path:"/ticket/:registrationId",element:l.jsx(lr,{children:l.jsx(jE,{})})}),l.jsx(rt,{path:"/my-registrations",element:l.jsx(lr,{children:l.jsx(vE,{})})}),l.jsx(rt,{path:"/events/:id/register",element:l.jsx(L8,{})}),l.jsx(rt,{path:"/events/:id/payment",element:l.jsx(lr,{children:l.jsx(PC,{})})})]})})}Ix(document.getElementById("root")).render(l.jsx(E.StrictMode,{children:l.jsxs(Lw,{children:[l.jsx(MC,{}),l.jsx(I3,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}));
