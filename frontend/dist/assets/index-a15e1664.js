var my=Object.defineProperty;var xy=(e,t,r)=>t in e?my(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ih=(e,t,r)=>(xy(e,typeof t!="symbol"?t+"":t,r),r);function rx(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nx={exports:{}},td={},sx={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Symbol.for("react.element"),gy=Symbol.for("react.portal"),py=Symbol.for("react.fragment"),yy=Symbol.for("react.strict_mode"),vy=Symbol.for("react.profiler"),wy=Symbol.for("react.provider"),by=Symbol.for("react.context"),Ny=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),Ey=Symbol.for("react.memo"),Sy=Symbol.for("react.lazy"),_h=Symbol.iterator;function Ay(e){return e===null||typeof e!="object"?null:(e=_h&&e[_h]||e["@@iterator"],typeof e=="function"?e:null)}var ix={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ax=Object.assign,ox={};function Xa(e,t,r){this.props=e,this.context=t,this.refs=ox,this.updater=r||ix}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lx(){}lx.prototype=Xa.prototype;function $0(e,t,r){this.props=e,this.context=t,this.refs=ox,this.updater=r||ix}var Q0=$0.prototype=new lx;Q0.constructor=$0;ax(Q0,Xa.prototype);Q0.isPureReactComponent=!0;var Th=Array.isArray,cx=Object.prototype.hasOwnProperty,q0={current:null},dx={key:!0,ref:!0,__self:!0,__source:!0};function ux(e,t,r){var s,l={},c=null,h=null;if(t!=null)for(s in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(c=""+t.key),t)cx.call(t,s)&&!dx.hasOwnProperty(s)&&(l[s]=t[s]);var x=arguments.length-2;if(x===1)l.children=r;else if(1<x){for(var y=Array(x),p=0;p<x;p++)y[p]=arguments[p+2];l.children=y}if(e&&e.defaultProps)for(s in x=e.defaultProps,x)l[s]===void 0&&(l[s]=x[s]);return{$$typeof:ml,type:e,key:c,ref:h,props:l,_owner:q0.current}}function jy(e,t){return{$$typeof:ml,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function K0(e){return typeof e=="object"&&e!==null&&e.$$typeof===ml}function Iy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kh=/\/+/g;function Qd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iy(""+e.key):t.toString(36)}function rc(e,t,r,s,l){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(c){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case ml:case gy:h=!0}}if(h)return h=e,l=l(h),e=s===""?"."+Qd(h,0):s,Th(l)?(r="",e!=null&&(r=e.replace(kh,"$&/")+"/"),rc(l,t,r,"",function(p){return p})):l!=null&&(K0(l)&&(l=jy(l,r+(!l.key||h&&h.key===l.key?"":(""+l.key).replace(kh,"$&/")+"/")+e)),t.push(l)),1;if(h=0,s=s===""?".":s+":",Th(e))for(var x=0;x<e.length;x++){c=e[x];var y=s+Qd(c,x);h+=rc(c,t,r,y,l)}else if(y=Ay(e),typeof y=="function")for(e=y.call(e),x=0;!(c=e.next()).done;)c=c.value,y=s+Qd(c,x++),h+=rc(c,t,r,y,l);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function kl(e,t,r){if(e==null)return e;var s=[],l=0;return rc(e,s,"","",function(c){return t.call(r,c,l++)}),s}function _y(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kr={current:null},nc={transition:null},Ty={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:nc,ReactCurrentOwner:q0};function fx(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:kl,forEach:function(e,t,r){kl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!K0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=Xa;Ye.Fragment=py;Ye.Profiler=vy;Ye.PureComponent=$0;Ye.StrictMode=yy;Ye.Suspense=Cy;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty;Ye.act=fx;Ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=ax({},e.props),l=e.key,c=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,h=q0.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(y in t)cx.call(t,y)&&!dx.hasOwnProperty(y)&&(s[y]=t[y]===void 0&&x!==void 0?x[y]:t[y])}var y=arguments.length-2;if(y===1)s.children=r;else if(1<y){x=Array(y);for(var p=0;p<y;p++)x[p]=arguments[p+2];s.children=x}return{$$typeof:ml,type:e.type,key:l,ref:c,props:s,_owner:h}};Ye.createContext=function(e){return e={$$typeof:by,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wy,_context:e},e.Consumer=e};Ye.createElement=ux;Ye.createFactory=function(e){var t=ux.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:Ny,render:e}};Ye.isValidElement=K0;Ye.lazy=function(e){return{$$typeof:Sy,_payload:{_status:-1,_result:e},_init:_y}};Ye.memo=function(e,t){return{$$typeof:Ey,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=nc.transition;nc.transition={};try{e()}finally{nc.transition=t}};Ye.unstable_act=fx;Ye.useCallback=function(e,t){return kr.current.useCallback(e,t)};Ye.useContext=function(e){return kr.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return kr.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return kr.current.useEffect(e,t)};Ye.useId=function(){return kr.current.useId()};Ye.useImperativeHandle=function(e,t,r){return kr.current.useImperativeHandle(e,t,r)};Ye.useInsertionEffect=function(e,t){return kr.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return kr.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return kr.current.useMemo(e,t)};Ye.useReducer=function(e,t,r){return kr.current.useReducer(e,t,r)};Ye.useRef=function(e){return kr.current.useRef(e)};Ye.useState=function(e){return kr.current.useState(e)};Ye.useSyncExternalStore=function(e,t,r){return kr.current.useSyncExternalStore(e,t,r)};Ye.useTransition=function(){return kr.current.useTransition()};Ye.version="18.3.1";sx.exports=Ye;var D=sx.exports;const ze=ed(D),ky=rx({__proto__:null,default:ze},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=D,Ry=Symbol.for("react.element"),Oy=Symbol.for("react.fragment"),Dy=Object.prototype.hasOwnProperty,Ly=My.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Py={key:!0,ref:!0,__self:!0,__source:!0};function hx(e,t,r){var s,l={},c=null,h=null;r!==void 0&&(c=""+r),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(h=t.ref);for(s in t)Dy.call(t,s)&&!Py.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Ry,type:e,key:c,ref:h,props:l,_owner:Ly.current}}td.Fragment=Oy;td.jsx=hx;td.jsxs=hx;nx.exports=td;var a=nx.exports,mx={exports:{}},cn={},xx={exports:{}},gx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(le,we){var ye=le.length;le.push(we);e:for(;0<ye;){var Le=ye-1>>>1,Fe=le[Le];if(0<l(Fe,we))le[Le]=we,le[ye]=Fe,ye=Le;else break e}}function r(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var we=le[0],ye=le.pop();if(ye!==we){le[0]=ye;e:for(var Le=0,Fe=le.length,st=Fe>>>1;Le<st;){var ht=2*(Le+1)-1,hn=le[ht],Ae=ht+1,Rr=le[Ae];if(0>l(hn,ye))Ae<Fe&&0>l(Rr,hn)?(le[Le]=Rr,le[Ae]=ye,Le=Ae):(le[Le]=hn,le[ht]=ye,Le=ht);else if(Ae<Fe&&0>l(Rr,ye))le[Le]=Rr,le[Ae]=ye,Le=Ae;else break e}}return we}function l(le,we){var ye=le.sortIndex-we.sortIndex;return ye!==0?ye:le.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var h=Date,x=h.now();e.unstable_now=function(){return h.now()-x}}var y=[],p=[],b=1,w=null,E=3,_=!1,R=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(le){for(var we=r(p);we!==null;){if(we.callback===null)s(p);else if(we.startTime<=le)s(p),we.sortIndex=we.expirationTime,t(y,we);else break;we=r(p)}}function B(le){if(I=!1,k(le),!R)if(r(y)!==null)R=!0,fe(Y);else{var we=r(p);we!==null&&xe(B,we.startTime-le)}}function Y(le,we){R=!1,I&&(I=!1,j(q),q=-1),_=!0;var ye=E;try{for(k(we),w=r(y);w!==null&&(!(w.expirationTime>we)||le&&!X());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,E=w.priorityLevel;var Fe=Le(w.expirationTime<=we);we=e.unstable_now(),typeof Fe=="function"?w.callback=Fe:w===r(y)&&s(y),k(we)}else s(y);w=r(y)}if(w!==null)var st=!0;else{var ht=r(p);ht!==null&&xe(B,ht.startTime-we),st=!1}return st}finally{w=null,E=ye,_=!1}}var $=!1,P=null,q=-1,G=5,te=-1;function X(){return!(e.unstable_now()-te<G)}function F(){if(P!==null){var le=e.unstable_now();te=le;var we=!0;try{we=P(!0,le)}finally{we?ee():($=!1,P=null)}}else $=!1}var ee;if(typeof C=="function")ee=function(){C(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,V=ne.port2;ne.port1.onmessage=F,ee=function(){V.postMessage(null)}}else ee=function(){M(F,0)};function fe(le){P=le,$||($=!0,ee())}function xe(le,we){q=M(function(){le(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){R||_||(R=!0,fe(Y))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(y)},e.unstable_next=function(le){switch(E){case 1:case 2:case 3:var we=3;break;default:we=E}var ye=E;E=we;try{return le()}finally{E=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,we){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ye=E;E=le;try{return we()}finally{E=ye}},e.unstable_scheduleCallback=function(le,we,ye){var Le=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Le+ye:Le):ye=Le,le){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ye+Fe,le={id:b++,callback:we,priorityLevel:le,startTime:ye,expirationTime:Fe,sortIndex:-1},ye>Le?(le.sortIndex=ye,t(p,le),r(y)===null&&le===r(p)&&(I?(j(q),q=-1):I=!0,xe(B,ye-Le))):(le.sortIndex=Fe,t(y,le),R||_||(R=!0,fe(Y))),le},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(le){var we=E;return function(){var ye=E;E=we;try{return le.apply(this,arguments)}finally{E=ye}}}})(gx);xx.exports=gx;var By=xx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=D,an=By;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var px=new Set,Ho={};function Yi(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(Ho[e]=t,e=0;e<t.length;e++)px.add(t[e])}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,Uy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mh={},Rh={};function zy(e){return _u.call(Rh,e)?!0:_u.call(Mh,e)?!1:Uy.test(e)?Rh[e]=!0:(Mh[e]=!0,!1)}function Vy(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hy(e,t,r,s){if(t===null||typeof t>"u"||Vy(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mr(e,t,r,s,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yr[e]=new Mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yr[t]=new Mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yr[e]=new Mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yr[e]=new Mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yr[e]=new Mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yr[e]=new Mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yr[e]=new Mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yr[e]=new Mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yr[e]=new Mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var J0=/[\-:]([a-z])/g;function ef(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J0,ef);yr[t]=new Mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J0,ef);yr[t]=new Mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J0,ef);yr[t]=new Mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yr[e]=new Mr(e,1,!1,e.toLowerCase(),null,!1,!1)});yr.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yr[e]=new Mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function tf(e,t,r,s){var l=yr.hasOwnProperty(t)?yr[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hy(t,r,l,s)&&(r=null),s||l===null?zy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Es=Fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ml=Symbol.for("react.element"),da=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),vx=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),ku=Symbol.for("react.suspense"),Mu=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),wx=Symbol.for("react.offscreen"),Oh=Symbol.iterator;function oo(e){return e===null||typeof e!="object"?null:(e=Oh&&e[Oh]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,qd;function Co(e){if(qd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qd=t&&t[1]||""}return`
`+qd+e}var Kd=!1;function Jd(e,t){if(!e||Kd)return"";Kd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var l=p.stack.split(`
`),c=s.stack.split(`
`),h=l.length-1,x=c.length-1;1<=h&&0<=x&&l[h]!==c[x];)x--;for(;1<=h&&0<=x;h--,x--)if(l[h]!==c[x]){if(h!==1||x!==1)do if(h--,x--,0>x||l[h]!==c[x]){var y=`
`+l[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=x);break}}}finally{Kd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Co(e):""}function Wy(e){switch(e.tag){case 5:return Co(e.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return e=Jd(e.type,!1),e;case 11:return e=Jd(e.type.render,!1),e;case 1:return e=Jd(e.type,!0),e;default:return""}}function Ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ua:return"Fragment";case da:return"Portal";case Tu:return"Profiler";case rf:return"StrictMode";case ku:return"Suspense";case Mu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vx:return(e.displayName||"Context")+".Consumer";case yx:return(e._context.displayName||"Context")+".Provider";case nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sf:return t=e.displayName||null,t!==null?t:Ru(e.type)||"Memo";case Bs:t=e._payload,e=e._init;try{return Ru(e(t))}catch{}}return null}function Gy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ru(t);case 8:return t===rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yy(e){var t=bx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){e._valueTracker||(e._valueTracker=Yy(e))}function Nx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=bx(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ou(e,t){var r=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Dh(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=li(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cx(e,t){t=t.checked,t!=null&&tf(e,"checked",t,!1)}function Du(e,t){Cx(e,t);var r=li(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lu(e,t.type,li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lu(e,t,r){(t!=="number"||pc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Eo=Array.isArray;function Sa(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+li(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Pu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ph(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(Eo(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:li(r)}}function Ex(e,t){var r=li(t.value),s=li(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Bh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ol,Ax=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ol=Ol||document.createElement("div"),Ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xy=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(e){Xy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Io[t]=Io[e]})});function jx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Io.hasOwnProperty(e)&&Io[e]?(""+t).trim():t+"px"}function Ix(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=jx(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var Zy=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fu(e,t){if(t){if(Zy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function af(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vu=null,Aa=null,ja=null;function Fh(e){if(e=pl(e)){if(typeof Vu!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=ad(t),Vu(e.stateNode,e.type,t))}}function _x(e){Aa?ja?ja.push(e):ja=[e]:Aa=e}function Tx(){if(Aa){var e=Aa,t=ja;if(ja=Aa=null,Fh(e),t)for(e=0;e<t.length;e++)Fh(t[e])}}function kx(e,t){return e(t)}function Mx(){}var eu=!1;function Rx(e,t,r){if(eu)return e(t,r);eu=!0;try{return kx(e,t,r)}finally{eu=!1,(Aa!==null||ja!==null)&&(Mx(),Tx())}}function Go(e,t){var r=e.stateNode;if(r===null)return null;var s=ad(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var Hu=!1;if(ps)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Hu=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Hu=!1}function $y(e,t,r,s,l,c,h,x,y){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(b){this.onError(b)}}var _o=!1,yc=null,vc=!1,Wu=null,Qy={onError:function(e){_o=!0,yc=e}};function qy(e,t,r,s,l,c,h,x,y){_o=!1,yc=null,$y.apply(Qy,arguments)}function Ky(e,t,r,s,l,c,h,x,y){if(qy.apply(this,arguments),_o){if(_o){var p=yc;_o=!1,yc=null}else throw Error(oe(198));vc||(vc=!0,Wu=p)}}function Xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ox(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uh(e){if(Xi(e)!==e)throw Error(oe(188))}function Jy(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===r)return Uh(l),e;if(c===s)return Uh(l),t;c=c.sibling}throw Error(oe(188))}if(r.return!==s.return)r=l,s=c;else{for(var h=!1,x=l.child;x;){if(x===r){h=!0,r=l,s=c;break}if(x===s){h=!0,s=l,r=c;break}x=x.sibling}if(!h){for(x=c.child;x;){if(x===r){h=!0,r=c,s=l;break}if(x===s){h=!0,s=c,r=l;break}x=x.sibling}if(!h)throw Error(oe(189))}}if(r.alternate!==s)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function Dx(e){return e=Jy(e),e!==null?Lx(e):null}function Lx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lx(e);if(t!==null)return t;e=e.sibling}return null}var Px=an.unstable_scheduleCallback,zh=an.unstable_cancelCallback,ev=an.unstable_shouldYield,tv=an.unstable_requestPaint,Gt=an.unstable_now,rv=an.unstable_getCurrentPriorityLevel,of=an.unstable_ImmediatePriority,Bx=an.unstable_UserBlockingPriority,wc=an.unstable_NormalPriority,nv=an.unstable_LowPriority,Fx=an.unstable_IdlePriority,rd=null,ns=null;function sv(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(rd,e,void 0,(e.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:ov,iv=Math.log,av=Math.LN2;function ov(e){return e>>>=0,e===0?32:31-(iv(e)/av|0)|0}var Dl=64,Ll=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bc(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,c=e.pingedLanes,h=r&268435455;if(h!==0){var x=h&~l;x!==0?s=So(x):(c&=h,c!==0&&(s=So(c)))}else h=r&~l,h!==0?s=So(h):c!==0&&(s=So(c));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Fn(t),l=1<<r,s|=e[r],t&=~l;return s}function lv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cv(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-Fn(c),x=1<<h,y=l[h];y===-1?(!(x&r)||x&s)&&(l[h]=lv(x,t)):y<=t&&(e.expiredLanes|=x),c&=~x}}function Gu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ux(){var e=Dl;return Dl<<=1,!(Dl&4194240)&&(Dl=64),e}function tu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fn(t),e[t]=r}function dv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Fn(r),c=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~c}}function lf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Fn(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var ft=0;function zx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vx,cf,Hx,Wx,Gx,Yu=!1,Pl=[],qs=null,Ks=null,Js=null,Yo=new Map,Xo=new Map,zs=[],uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(e,t){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(t.pointerId)}}function co(e,t,r,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},t!==null&&(t=pl(t),t!==null&&cf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fv(e,t,r,s,l){switch(t){case"focusin":return qs=co(qs,e,t,r,s,l),!0;case"dragenter":return Ks=co(Ks,e,t,r,s,l),!0;case"mouseover":return Js=co(Js,e,t,r,s,l),!0;case"pointerover":var c=l.pointerId;return Yo.set(c,co(Yo.get(c)||null,e,t,r,s,l)),!0;case"gotpointercapture":return c=l.pointerId,Xo.set(c,co(Xo.get(c)||null,e,t,r,s,l)),!0}return!1}function Yx(e){var t=Mi(e.target);if(t!==null){var r=Xi(t);if(r!==null){if(t=r.tag,t===13){if(t=Ox(r),t!==null){e.blockedOn=t,Gx(e.priority,function(){Hx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);zu=s,r.target.dispatchEvent(s),zu=null}else return t=pl(r),t!==null&&cf(t),e.blockedOn=r,!1;t.shift()}return!0}function Hh(e,t,r){sc(e)&&r.delete(t)}function hv(){Yu=!1,qs!==null&&sc(qs)&&(qs=null),Ks!==null&&sc(Ks)&&(Ks=null),Js!==null&&sc(Js)&&(Js=null),Yo.forEach(Hh),Xo.forEach(Hh)}function uo(e,t){e.blockedOn===t&&(e.blockedOn=null,Yu||(Yu=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,hv)))}function Zo(e){function t(l){return uo(l,e)}if(0<Pl.length){uo(Pl[0],e);for(var r=1;r<Pl.length;r++){var s=Pl[r];s.blockedOn===e&&(s.blockedOn=null)}}for(qs!==null&&uo(qs,e),Ks!==null&&uo(Ks,e),Js!==null&&uo(Js,e),Yo.forEach(t),Xo.forEach(t),r=0;r<zs.length;r++)s=zs[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)Yx(r),r.blockedOn===null&&zs.shift()}var Ia=Es.ReactCurrentBatchConfig,Nc=!0;function mv(e,t,r,s){var l=ft,c=Ia.transition;Ia.transition=null;try{ft=1,df(e,t,r,s)}finally{ft=l,Ia.transition=c}}function xv(e,t,r,s){var l=ft,c=Ia.transition;Ia.transition=null;try{ft=4,df(e,t,r,s)}finally{ft=l,Ia.transition=c}}function df(e,t,r,s){if(Nc){var l=Xu(e,t,r,s);if(l===null)uu(e,t,s,Cc,r),Vh(e,s);else if(fv(l,e,t,r,s))s.stopPropagation();else if(Vh(e,s),t&4&&-1<uv.indexOf(e)){for(;l!==null;){var c=pl(l);if(c!==null&&Vx(c),c=Xu(e,t,r,s),c===null&&uu(e,t,s,Cc,r),c===l)break;l=c}l!==null&&s.stopPropagation()}else uu(e,t,s,null,r)}}var Cc=null;function Xu(e,t,r,s){if(Cc=null,e=af(s),e=Mi(e),e!==null)if(t=Xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ox(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cc=e,null}function Xx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case of:return 1;case Bx:return 4;case wc:case nv:return 16;case Fx:return 536870912;default:return 16}default:return 16}}var Gs=null,uf=null,ic=null;function Zx(){if(ic)return ic;var e,t=uf,r=t.length,s,l="value"in Gs?Gs.value:Gs.textContent,c=l.length;for(e=0;e<r&&t[e]===l[e];e++);var h=r-e;for(s=1;s<=h&&t[r-s]===l[c-s];s++);return ic=l.slice(e,1<s?1-s:void 0)}function ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function Wh(){return!1}function dn(e){function t(r,s,l,c,h){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(r=e[x],this[x]=r?r(c):c[x]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Bl:Wh,this.isPropagationStopped=Wh,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=dn(Za),gl=Dt({},Za,{view:0,detail:0}),gv=dn(gl),ru,nu,fo,nd=Dt({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fo&&(fo&&e.type==="mousemove"?(ru=e.screenX-fo.screenX,nu=e.screenY-fo.screenY):nu=ru=0,fo=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),Gh=dn(nd),pv=Dt({},nd,{dataTransfer:0}),yv=dn(pv),vv=Dt({},gl,{relatedTarget:0}),su=dn(vv),wv=Dt({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=dn(wv),Nv=Dt({},Za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cv=dn(Nv),Ev=Dt({},Za,{data:0}),Yh=dn(Ev),Sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jv[e])?!!t[e]:!1}function hf(){return Iv}var _v=Dt({},gl,{key:function(e){if(e.key){var t=Sv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(e){return e.type==="keypress"?ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tv=dn(_v),kv=Dt({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=dn(kv),Mv=Dt({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),Rv=dn(Mv),Ov=Dt({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dv=dn(Ov),Lv=Dt({},nd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pv=dn(Lv),Bv=[9,13,27,32],mf=ps&&"CompositionEvent"in window,To=null;ps&&"documentMode"in document&&(To=document.documentMode);var Fv=ps&&"TextEvent"in window&&!To,$x=ps&&(!mf||To&&8<To&&11>=To),Zh=String.fromCharCode(32),$h=!1;function Qx(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function Uv(e,t){switch(e){case"compositionend":return qx(t);case"keypress":return t.which!==32?null:($h=!0,Zh);case"textInput":return e=t.data,e===Zh&&$h?null:e;default:return null}}function zv(e,t){if(fa)return e==="compositionend"||!mf&&Qx(e,t)?(e=Zx(),ic=uf=Gs=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $x&&t.locale!=="ko"?null:t.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vv[e.type]:t==="textarea"}function Kx(e,t,r,s){_x(s),t=Ec(t,"onChange"),0<t.length&&(r=new ff("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ko=null,$o=null;function Hv(e){cg(e,0)}function sd(e){var t=xa(e);if(Nx(t))return e}function Wv(e,t){if(e==="change")return t}var Jx=!1;if(ps){var iu;if(ps){var au="oninput"in document;if(!au){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),au=typeof qh.oninput=="function"}iu=au}else iu=!1;Jx=iu&&(!document.documentMode||9<document.documentMode)}function Kh(){ko&&(ko.detachEvent("onpropertychange",eg),$o=ko=null)}function eg(e){if(e.propertyName==="value"&&sd($o)){var t=[];Kx(t,$o,e,af(e)),Rx(Hv,t)}}function Gv(e,t,r){e==="focusin"?(Kh(),ko=t,$o=r,ko.attachEvent("onpropertychange",eg)):e==="focusout"&&Kh()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sd($o)}function Xv(e,t){if(e==="click")return sd(t)}function Zv(e,t){if(e==="input"||e==="change")return sd(t)}function $v(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vn=typeof Object.is=="function"?Object.is:$v;function Qo(e,t){if(Vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!_u.call(t,l)||!Vn(e[l],t[l]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e1(e,t){var r=Jh(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jh(r)}}function tg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rg(){for(var e=window,t=pc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=pc(e.document)}return t}function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qv(e){var t=rg(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tg(r.ownerDocument.documentElement,r)){if(s!==null&&xf(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,c=Math.min(s.start,l);s=s.end===void 0?c:Math.min(s.end,l),!e.extend&&c>s&&(l=s,s=c,c=l),l=e1(r,c);var h=e1(r,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qv=ps&&"documentMode"in document&&11>=document.documentMode,ha=null,Zu=null,Mo=null,$u=!1;function t1(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$u||ha==null||ha!==pc(s)||(s=ha,"selectionStart"in s&&xf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mo&&Qo(Mo,s)||(Mo=s,s=Ec(Zu,"onSelect"),0<s.length&&(t=new ff("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=ha)))}function Fl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ma={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},ou={},ng={};ps&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function id(e){if(ou[e])return ou[e];if(!ma[e])return e;var t=ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ng)return ou[e]=t[r];return e}var sg=id("animationend"),ig=id("animationiteration"),ag=id("animationstart"),og=id("transitionend"),lg=new Map,r1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(e,t){lg.set(e,t),Yi(t,[e])}for(var lu=0;lu<r1.length;lu++){var cu=r1[lu],Kv=cu.toLowerCase(),Jv=cu[0].toUpperCase()+cu.slice(1);mi(Kv,"on"+Jv)}mi(sg,"onAnimationEnd");mi(ig,"onAnimationIteration");mi(ag,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(og,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ew=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function n1(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Ky(s,t,void 0,e),e.currentTarget=null}function cg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var x=s[h],y=x.instance,p=x.currentTarget;if(x=x.listener,y!==c&&l.isPropagationStopped())break e;n1(l,x,p),c=y}else for(h=0;h<s.length;h++){if(x=s[h],y=x.instance,p=x.currentTarget,x=x.listener,y!==c&&l.isPropagationStopped())break e;n1(l,x,p),c=y}}}if(vc)throw e=Wu,vc=!1,Wu=null,e}function Et(e,t){var r=t[e0];r===void 0&&(r=t[e0]=new Set);var s=e+"__bubble";r.has(s)||(dg(t,e,2,!1),r.add(s))}function du(e,t,r){var s=0;t&&(s|=4),dg(r,e,s,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function qo(e){if(!e[Ul]){e[Ul]=!0,px.forEach(function(r){r!=="selectionchange"&&(ew.has(r)||du(r,!1,e),du(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,du("selectionchange",!1,t))}}function dg(e,t,r,s){switch(Xx(t)){case 1:var l=mv;break;case 4:l=xv;break;default:l=df}r=l.bind(null,t,r,e),l=void 0,!Hu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function uu(e,t,r,s,l){var c=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var x=s.stateNode.containerInfo;if(x===l||x.nodeType===8&&x.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===l||y.nodeType===8&&y.parentNode===l))return;h=h.return}for(;x!==null;){if(h=Mi(x),h===null)return;if(y=h.tag,y===5||y===6){s=c=h;continue e}x=x.parentNode}}s=s.return}Rx(function(){var p=c,b=af(r),w=[];e:{var E=lg.get(e);if(E!==void 0){var _=ff,R=e;switch(e){case"keypress":if(ac(r)===0)break e;case"keydown":case"keyup":_=Tv;break;case"focusin":R="focus",_=su;break;case"focusout":R="blur",_=su;break;case"beforeblur":case"afterblur":_=su;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Rv;break;case sg:case ig:case ag:_=bv;break;case og:_=Dv;break;case"scroll":_=gv;break;case"wheel":_=Pv;break;case"copy":case"cut":case"paste":_=Cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Xh}var I=(t&4)!==0,M=!I&&e==="scroll",j=I?E!==null?E+"Capture":null:E;I=[];for(var C=p,k;C!==null;){k=C;var B=k.stateNode;if(k.tag===5&&B!==null&&(k=B,j!==null&&(B=Go(C,j),B!=null&&I.push(Ko(C,B,k)))),M)break;C=C.return}0<I.length&&(E=new _(E,R,null,r,b),w.push({event:E,listeners:I}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",E&&r!==zu&&(R=r.relatedTarget||r.fromElement)&&(Mi(R)||R[ys]))break e;if((_||E)&&(E=b.window===b?b:(E=b.ownerDocument)?E.defaultView||E.parentWindow:window,_?(R=r.relatedTarget||r.toElement,_=p,R=R?Mi(R):null,R!==null&&(M=Xi(R),R!==M||R.tag!==5&&R.tag!==6)&&(R=null)):(_=null,R=p),_!==R)){if(I=Gh,B="onMouseLeave",j="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(I=Xh,B="onPointerLeave",j="onPointerEnter",C="pointer"),M=_==null?E:xa(_),k=R==null?E:xa(R),E=new I(B,C+"leave",_,r,b),E.target=M,E.relatedTarget=k,B=null,Mi(b)===p&&(I=new I(j,C+"enter",R,r,b),I.target=k,I.relatedTarget=M,B=I),M=B,_&&R)t:{for(I=_,j=R,C=0,k=I;k;k=ia(k))C++;for(k=0,B=j;B;B=ia(B))k++;for(;0<C-k;)I=ia(I),C--;for(;0<k-C;)j=ia(j),k--;for(;C--;){if(I===j||j!==null&&I===j.alternate)break t;I=ia(I),j=ia(j)}I=null}else I=null;_!==null&&s1(w,E,_,I,!1),R!==null&&M!==null&&s1(w,M,R,I,!0)}}e:{if(E=p?xa(p):window,_=E.nodeName&&E.nodeName.toLowerCase(),_==="select"||_==="input"&&E.type==="file")var Y=Wv;else if(Qh(E))if(Jx)Y=Zv;else{Y=Yv;var $=Gv}else(_=E.nodeName)&&_.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(Y=Xv);if(Y&&(Y=Y(e,p))){Kx(w,Y,r,b);break e}$&&$(e,E,p),e==="focusout"&&($=E._wrapperState)&&$.controlled&&E.type==="number"&&Lu(E,"number",E.value)}switch($=p?xa(p):window,e){case"focusin":(Qh($)||$.contentEditable==="true")&&(ha=$,Zu=p,Mo=null);break;case"focusout":Mo=Zu=ha=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,t1(w,r,b);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":t1(w,r,b)}var P;if(mf)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else fa?Qx(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&($x&&r.locale!=="ko"&&(fa||q!=="onCompositionStart"?q==="onCompositionEnd"&&fa&&(P=Zx()):(Gs=b,uf="value"in Gs?Gs.value:Gs.textContent,fa=!0)),$=Ec(p,q),0<$.length&&(q=new Yh(q,e,null,r,b),w.push({event:q,listeners:$}),P?q.data=P:(P=qx(r),P!==null&&(q.data=P)))),(P=Fv?Uv(e,r):zv(e,r))&&(p=Ec(p,"onBeforeInput"),0<p.length&&(b=new Yh("onBeforeInput","beforeinput",null,r,b),w.push({event:b,listeners:p}),b.data=P))}cg(w,t)})}function Ko(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ec(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Go(e,r),c!=null&&s.unshift(Ko(e,c,l)),c=Go(e,t),c!=null&&s.push(Ko(e,c,l))),e=e.return}return s}function ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function s1(e,t,r,s,l){for(var c=t._reactName,h=[];r!==null&&r!==s;){var x=r,y=x.alternate,p=x.stateNode;if(y!==null&&y===s)break;x.tag===5&&p!==null&&(x=p,l?(y=Go(r,c),y!=null&&h.unshift(Ko(r,y,x))):l||(y=Go(r,c),y!=null&&h.push(Ko(r,y,x)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var tw=/\r\n?/g,rw=/\u0000|\uFFFD/g;function i1(e){return(typeof e=="string"?e:""+e).replace(tw,`
`).replace(rw,"")}function zl(e,t,r){if(t=i1(t),i1(e)!==t&&r)throw Error(oe(425))}function Sc(){}var Qu=null,qu=null;function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,nw=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,sw=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(e){return a1.resolve(null).then(e).catch(iw)}:Ju;function iw(e){setTimeout(function(){throw e})}function fu(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),Zo(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);Zo(t)}function ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function o1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $a=Math.random().toString(36).slice(2),Jn="__reactFiber$"+$a,Jo="__reactProps$"+$a,ys="__reactContainer$"+$a,e0="__reactEvents$"+$a,aw="__reactListeners$"+$a,ow="__reactHandles$"+$a;function Mi(e){var t=e[Jn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ys]||r[Jn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=o1(e);e!==null;){if(r=e[Jn])return r;e=o1(e)}return t}e=r,r=e.parentNode}return null}function pl(e){return e=e[Jn]||e[ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function ad(e){return e[Jo]||null}var t0=[],ga=-1;function xi(e){return{current:e}}function At(e){0>ga||(e.current=t0[ga],t0[ga]=null,ga--)}function bt(e,t){ga++,t0[ga]=e.current,e.current=t}var ci={},Sr=xi(ci),Hr=xi(!1),Fi=ci;function Ma(e,t){var r=e.type.contextTypes;if(!r)return ci;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in r)l[c]=t[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Wr(e){return e=e.childContextTypes,e!=null}function Ac(){At(Hr),At(Sr)}function l1(e,t,r){if(Sr.current!==ci)throw Error(oe(168));bt(Sr,t),bt(Hr,r)}function ug(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(oe(108,Gy(e)||"Unknown",l));return Dt({},r,s)}function jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,Fi=Sr.current,bt(Sr,e),bt(Hr,Hr.current),!0}function c1(e,t,r){var s=e.stateNode;if(!s)throw Error(oe(169));r?(e=ug(e,t,Fi),s.__reactInternalMemoizedMergedChildContext=e,At(Hr),At(Sr),bt(Sr,e)):At(Hr),bt(Hr,r)}var fs=null,od=!1,hu=!1;function fg(e){fs===null?fs=[e]:fs.push(e)}function lw(e){od=!0,fg(e)}function gi(){if(!hu&&fs!==null){hu=!0;var e=0,t=ft;try{var r=fs;for(ft=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}fs=null,od=!1}catch(l){throw fs!==null&&(fs=fs.slice(e+1)),Px(of,gi),l}finally{ft=t,hu=!1}}return null}var pa=[],ya=0,Ic=null,_c=0,wn=[],bn=0,Ui=null,hs=1,ms="";function Ti(e,t){pa[ya++]=_c,pa[ya++]=Ic,Ic=e,_c=t}function hg(e,t,r){wn[bn++]=hs,wn[bn++]=ms,wn[bn++]=Ui,Ui=e;var s=hs;e=ms;var l=32-Fn(s)-1;s&=~(1<<l),r+=1;var c=32-Fn(t)+l;if(30<c){var h=l-l%5;c=(s&(1<<h)-1).toString(32),s>>=h,l-=h,hs=1<<32-Fn(t)+l|r<<l|s,ms=c+e}else hs=1<<c|r<<l|s,ms=e}function gf(e){e.return!==null&&(Ti(e,1),hg(e,1,0))}function pf(e){for(;e===Ic;)Ic=pa[--ya],pa[ya]=null,_c=pa[--ya],pa[ya]=null;for(;e===Ui;)Ui=wn[--bn],wn[bn]=null,ms=wn[--bn],wn[bn]=null,hs=wn[--bn],wn[bn]=null}var sn=null,nn=null,Tt=!1,Dn=null;function mg(e,t){var r=Nn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function d1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,nn=ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ui!==null?{id:hs,overflow:ms}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sn=e,nn=null,!0):!1;default:return!1}}function r0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n0(e){if(Tt){var t=nn;if(t){var r=t;if(!d1(e,t)){if(r0(e))throw Error(oe(418));t=ei(r.nextSibling);var s=sn;t&&d1(e,t)?mg(s,r):(e.flags=e.flags&-4097|2,Tt=!1,sn=e)}}else{if(r0(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Tt=!1,sn=e}}}function u1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function Vl(e){if(e!==sn)return!1;if(!Tt)return u1(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ku(e.type,e.memoizedProps)),t&&(t=nn)){if(r0(e))throw xg(),Error(oe(418));for(;t;)mg(e,t),t=ei(t.nextSibling)}if(u1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nn=ei(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=sn?ei(e.stateNode.nextSibling):null;return!0}function xg(){for(var e=nn;e;)e=ei(e.nextSibling)}function Ra(){nn=sn=null,Tt=!1}function yf(e){Dn===null?Dn=[e]:Dn.push(e)}var cw=Es.ReactCurrentBatchConfig;function ho(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var s=r.stateNode}if(!s)throw Error(oe(147,e));var l=s,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var x=l.refs;h===null?delete x[c]:x[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function Hl(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f1(e){var t=e._init;return t(e._payload)}function gg(e){function t(j,C){if(e){var k=j.deletions;k===null?(j.deletions=[C],j.flags|=16):k.push(C)}}function r(j,C){if(!e)return null;for(;C!==null;)t(j,C),C=C.sibling;return null}function s(j,C){for(j=new Map;C!==null;)C.key!==null?j.set(C.key,C):j.set(C.index,C),C=C.sibling;return j}function l(j,C){return j=si(j,C),j.index=0,j.sibling=null,j}function c(j,C,k){return j.index=k,e?(k=j.alternate,k!==null?(k=k.index,k<C?(j.flags|=2,C):k):(j.flags|=2,C)):(j.flags|=1048576,C)}function h(j){return e&&j.alternate===null&&(j.flags|=2),j}function x(j,C,k,B){return C===null||C.tag!==6?(C=wu(k,j.mode,B),C.return=j,C):(C=l(C,k),C.return=j,C)}function y(j,C,k,B){var Y=k.type;return Y===ua?b(j,C,k.props.children,B,k.key):C!==null&&(C.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Bs&&f1(Y)===C.type)?(B=l(C,k.props),B.ref=ho(j,C,k),B.return=j,B):(B=hc(k.type,k.key,k.props,null,j.mode,B),B.ref=ho(j,C,k),B.return=j,B)}function p(j,C,k,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=bu(k,j.mode,B),C.return=j,C):(C=l(C,k.children||[]),C.return=j,C)}function b(j,C,k,B,Y){return C===null||C.tag!==7?(C=Bi(k,j.mode,B,Y),C.return=j,C):(C=l(C,k),C.return=j,C)}function w(j,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=wu(""+C,j.mode,k),C.return=j,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ml:return k=hc(C.type,C.key,C.props,null,j.mode,k),k.ref=ho(j,null,C),k.return=j,k;case da:return C=bu(C,j.mode,k),C.return=j,C;case Bs:var B=C._init;return w(j,B(C._payload),k)}if(Eo(C)||oo(C))return C=Bi(C,j.mode,k,null),C.return=j,C;Hl(j,C)}return null}function E(j,C,k,B){var Y=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Y!==null?null:x(j,C,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ml:return k.key===Y?y(j,C,k,B):null;case da:return k.key===Y?p(j,C,k,B):null;case Bs:return Y=k._init,E(j,C,Y(k._payload),B)}if(Eo(k)||oo(k))return Y!==null?null:b(j,C,k,B,null);Hl(j,k)}return null}function _(j,C,k,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number")return j=j.get(k)||null,x(C,j,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ml:return j=j.get(B.key===null?k:B.key)||null,y(C,j,B,Y);case da:return j=j.get(B.key===null?k:B.key)||null,p(C,j,B,Y);case Bs:var $=B._init;return _(j,C,k,$(B._payload),Y)}if(Eo(B)||oo(B))return j=j.get(k)||null,b(C,j,B,Y,null);Hl(C,B)}return null}function R(j,C,k,B){for(var Y=null,$=null,P=C,q=C=0,G=null;P!==null&&q<k.length;q++){P.index>q?(G=P,P=null):G=P.sibling;var te=E(j,P,k[q],B);if(te===null){P===null&&(P=G);break}e&&P&&te.alternate===null&&t(j,P),C=c(te,C,q),$===null?Y=te:$.sibling=te,$=te,P=G}if(q===k.length)return r(j,P),Tt&&Ti(j,q),Y;if(P===null){for(;q<k.length;q++)P=w(j,k[q],B),P!==null&&(C=c(P,C,q),$===null?Y=P:$.sibling=P,$=P);return Tt&&Ti(j,q),Y}for(P=s(j,P);q<k.length;q++)G=_(P,j,q,k[q],B),G!==null&&(e&&G.alternate!==null&&P.delete(G.key===null?q:G.key),C=c(G,C,q),$===null?Y=G:$.sibling=G,$=G);return e&&P.forEach(function(X){return t(j,X)}),Tt&&Ti(j,q),Y}function I(j,C,k,B){var Y=oo(k);if(typeof Y!="function")throw Error(oe(150));if(k=Y.call(k),k==null)throw Error(oe(151));for(var $=Y=null,P=C,q=C=0,G=null,te=k.next();P!==null&&!te.done;q++,te=k.next()){P.index>q?(G=P,P=null):G=P.sibling;var X=E(j,P,te.value,B);if(X===null){P===null&&(P=G);break}e&&P&&X.alternate===null&&t(j,P),C=c(X,C,q),$===null?Y=X:$.sibling=X,$=X,P=G}if(te.done)return r(j,P),Tt&&Ti(j,q),Y;if(P===null){for(;!te.done;q++,te=k.next())te=w(j,te.value,B),te!==null&&(C=c(te,C,q),$===null?Y=te:$.sibling=te,$=te);return Tt&&Ti(j,q),Y}for(P=s(j,P);!te.done;q++,te=k.next())te=_(P,j,q,te.value,B),te!==null&&(e&&te.alternate!==null&&P.delete(te.key===null?q:te.key),C=c(te,C,q),$===null?Y=te:$.sibling=te,$=te);return e&&P.forEach(function(F){return t(j,F)}),Tt&&Ti(j,q),Y}function M(j,C,k,B){if(typeof k=="object"&&k!==null&&k.type===ua&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ml:e:{for(var Y=k.key,$=C;$!==null;){if($.key===Y){if(Y=k.type,Y===ua){if($.tag===7){r(j,$.sibling),C=l($,k.props.children),C.return=j,j=C;break e}}else if($.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Bs&&f1(Y)===$.type){r(j,$.sibling),C=l($,k.props),C.ref=ho(j,$,k),C.return=j,j=C;break e}r(j,$);break}else t(j,$);$=$.sibling}k.type===ua?(C=Bi(k.props.children,j.mode,B,k.key),C.return=j,j=C):(B=hc(k.type,k.key,k.props,null,j.mode,B),B.ref=ho(j,C,k),B.return=j,j=B)}return h(j);case da:e:{for($=k.key;C!==null;){if(C.key===$)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){r(j,C.sibling),C=l(C,k.children||[]),C.return=j,j=C;break e}else{r(j,C);break}else t(j,C);C=C.sibling}C=bu(k,j.mode,B),C.return=j,j=C}return h(j);case Bs:return $=k._init,M(j,C,$(k._payload),B)}if(Eo(k))return R(j,C,k,B);if(oo(k))return I(j,C,k,B);Hl(j,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(r(j,C.sibling),C=l(C,k),C.return=j,j=C):(r(j,C),C=wu(k,j.mode,B),C.return=j,j=C),h(j)):r(j,C)}return M}var Oa=gg(!0),pg=gg(!1),Tc=xi(null),kc=null,va=null,vf=null;function wf(){vf=va=kc=null}function bf(e){var t=Tc.current;At(Tc),e._currentValue=t}function s0(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function _a(e,t){kc=e,vf=va=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vr=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(vf!==e)if(e={context:e,memoizedValue:t,next:null},va===null){if(kc===null)throw Error(oe(308));va=e,kc.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var Ri=null;function Nf(e){Ri===null?Ri=[e]:Ri.push(e)}function yg(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Nf(t)):(r.next=l.next,l.next=r),t.interleaved=r,vs(e,s)}function vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fs=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ti(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,et&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,vs(e,r)}return l=s.interleaved,l===null?(t.next=t,Nf(s)):(t.next=l.next,l.next=t),s.interleaved=t,vs(e,r)}function oc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,lf(e,r)}}function h1(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?l=c=h:c=c.next=h,r=r.next}while(r!==null);c===null?l=c=t:c=c.next=t}else l=c=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mc(e,t,r,s){var l=e.updateQueue;Fs=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var y=x,p=y.next;y.next=null,h===null?c=p:h.next=p,h=y;var b=e.alternate;b!==null&&(b=b.updateQueue,x=b.lastBaseUpdate,x!==h&&(x===null?b.firstBaseUpdate=p:x.next=p,b.lastBaseUpdate=y))}if(c!==null){var w=l.baseState;h=0,b=p=y=null,x=c;do{var E=x.lane,_=x.eventTime;if((s&E)===E){b!==null&&(b=b.next={eventTime:_,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var R=e,I=x;switch(E=t,_=r,I.tag){case 1:if(R=I.payload,typeof R=="function"){w=R.call(_,w,E);break e}w=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=I.payload,E=typeof R=="function"?R.call(_,w,E):R,E==null)break e;w=Dt({},w,E);break e;case 2:Fs=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,E=l.effects,E===null?l.effects=[x]:E.push(x))}else _={eventTime:_,lane:E,tag:x.tag,payload:x.payload,callback:x.callback,next:null},b===null?(p=b=_,y=w):b=b.next=_,h|=E;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;E=x,x=E.next,E.next=null,l.lastBaseUpdate=E,l.shared.pending=null}}while(1);if(b===null&&(y=w),l.baseState=y,l.firstBaseUpdate=p,l.lastBaseUpdate=b,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Vi|=h,e.lanes=h,e.memoizedState=w}}function m1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(oe(191,l));l.call(s)}}}var yl={},ss=xi(yl),el=xi(yl),tl=xi(yl);function Oi(e){if(e===yl)throw Error(oe(174));return e}function Ef(e,t){switch(bt(tl,t),bt(el,e),bt(ss,yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bu(t,e)}At(ss),bt(ss,t)}function Da(){At(ss),At(el),At(tl)}function wg(e){Oi(tl.current);var t=Oi(ss.current),r=Bu(t,e.type);t!==r&&(bt(el,e),bt(ss,r))}function Sf(e){el.current===e&&(At(ss),At(el))}var Rt=xi(0);function Rc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mu=[];function Af(){for(var e=0;e<mu.length;e++)mu[e]._workInProgressVersionPrimary=null;mu.length=0}var lc=Es.ReactCurrentDispatcher,xu=Es.ReactCurrentBatchConfig,zi=0,Ot=null,nr=null,lr=null,Oc=!1,Ro=!1,rl=0,dw=0;function br(){throw Error(oe(321))}function jf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vn(e[r],t[r]))return!1;return!0}function If(e,t,r,s,l,c){if(zi=c,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lc.current=e===null||e.memoizedState===null?mw:xw,e=r(s,l),Ro){c=0;do{if(Ro=!1,rl=0,25<=c)throw Error(oe(301));c+=1,lr=nr=null,t.updateQueue=null,lc.current=gw,e=r(s,l)}while(Ro)}if(lc.current=Dc,t=nr!==null&&nr.next!==null,zi=0,lr=nr=Ot=null,Oc=!1,t)throw Error(oe(300));return e}function _f(){var e=rl!==0;return rl=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Ot.memoizedState=lr=e:lr=lr.next=e,lr}function Sn(){if(nr===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=nr.next;var t=lr===null?Ot.memoizedState:lr.next;if(t!==null)lr=t,nr=e;else{if(e===null)throw Error(oe(310));nr=e,e={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},lr===null?Ot.memoizedState=lr=e:lr=lr.next=e}return lr}function nl(e,t){return typeof t=="function"?t(e):t}function gu(e){var t=Sn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var s=nr,l=s.baseQueue,c=r.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}s.baseQueue=l=c,r.pending=null}if(l!==null){c=l.next,s=s.baseState;var x=h=null,y=null,p=c;do{var b=p.lane;if((zi&b)===b)y!==null&&(y=y.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var w={lane:b,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};y===null?(x=y=w,h=s):y=y.next=w,Ot.lanes|=b,Vi|=b}p=p.next}while(p!==null&&p!==c);y===null?h=s:y.next=x,Vn(s,t.memoizedState)||(Vr=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=y,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do c=l.lane,Ot.lanes|=c,Vi|=c,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pu(e){var t=Sn(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,c=t.memoizedState;if(l!==null){r.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);Vn(c,t.memoizedState)||(Vr=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,s]}function bg(){}function Ng(e,t){var r=Ot,s=Sn(),l=t(),c=!Vn(s.memoizedState,l);if(c&&(s.memoizedState=l,Vr=!0),s=s.queue,Tf(Sg.bind(null,r,s,e),[e]),s.getSnapshot!==t||c||lr!==null&&lr.memoizedState.tag&1){if(r.flags|=2048,sl(9,Eg.bind(null,r,s,l,t),void 0,null),cr===null)throw Error(oe(349));zi&30||Cg(r,t,l)}return l}function Cg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Eg(e,t,r,s){t.value=r,t.getSnapshot=s,Ag(t)&&jg(e)}function Sg(e,t,r){return r(function(){Ag(t)&&jg(e)})}function Ag(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vn(e,r)}catch{return!0}}function jg(e){var t=vs(e,1);t!==null&&Un(t,e,1,-1)}function x1(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:e},t.queue=e,e=e.dispatch=hw.bind(null,Ot,e),[t.memoizedState,e]}function sl(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Ig(){return Sn().memoizedState}function cc(e,t,r,s){var l=Qn();Ot.flags|=e,l.memoizedState=sl(1|t,r,void 0,s===void 0?null:s)}function ld(e,t,r,s){var l=Sn();s=s===void 0?null:s;var c=void 0;if(nr!==null){var h=nr.memoizedState;if(c=h.destroy,s!==null&&jf(s,h.deps)){l.memoizedState=sl(t,r,c,s);return}}Ot.flags|=e,l.memoizedState=sl(1|t,r,c,s)}function g1(e,t){return cc(8390656,8,e,t)}function Tf(e,t){return ld(2048,8,e,t)}function _g(e,t){return ld(4,2,e,t)}function Tg(e,t){return ld(4,4,e,t)}function kg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mg(e,t,r){return r=r!=null?r.concat([e]):null,ld(4,4,kg.bind(null,t,e),r)}function kf(){}function Rg(e,t){var r=Sn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&jf(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Og(e,t){var r=Sn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&jf(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Dg(e,t,r){return zi&21?(Vn(r,t)||(r=Ux(),Ot.lanes|=r,Vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vr=!0),e.memoizedState=r)}function uw(e,t){var r=ft;ft=r!==0&&4>r?r:4,e(!0);var s=xu.transition;xu.transition={};try{e(!1),t()}finally{ft=r,xu.transition=s}}function Lg(){return Sn().memoizedState}function fw(e,t,r){var s=ni(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Pg(e))Bg(t,r);else if(r=yg(e,t,r,s),r!==null){var l=_r();Un(r,e,s,l),Fg(r,t,s)}}function hw(e,t,r){var s=ni(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pg(e))Bg(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,x=c(h,r);if(l.hasEagerState=!0,l.eagerState=x,Vn(x,h)){var y=t.interleaved;y===null?(l.next=l,Nf(t)):(l.next=y.next,y.next=l),t.interleaved=l;return}}catch{}finally{}r=yg(e,t,l,s),r!==null&&(l=_r(),Un(r,e,s,l),Fg(r,t,s))}}function Pg(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function Bg(e,t){Ro=Oc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fg(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,lf(e,r)}}var Dc={readContext:En,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},mw={readContext:En,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:g1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cc(4194308,4,kg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cc(4194308,4,e,t)},useInsertionEffect:function(e,t){return cc(4,2,e,t)},useMemo:function(e,t){var r=Qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Qn();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=fw.bind(null,Ot,e),[s.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:x1,useDebugValue:kf,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=x1(!1),t=e[0];return e=uw.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Ot,l=Qn();if(Tt){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),cr===null)throw Error(oe(349));zi&30||Cg(s,t,r)}l.memoizedState=r;var c={value:r,getSnapshot:t};return l.queue=c,g1(Sg.bind(null,s,c,e),[e]),s.flags|=2048,sl(9,Eg.bind(null,s,c,r,t),void 0,null),r},useId:function(){var e=Qn(),t=cr.identifierPrefix;if(Tt){var r=ms,s=hs;r=(s&~(1<<32-Fn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=rl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xw={readContext:En,useCallback:Rg,useContext:En,useEffect:Tf,useImperativeHandle:Mg,useInsertionEffect:_g,useLayoutEffect:Tg,useMemo:Og,useReducer:gu,useRef:Ig,useState:function(){return gu(nl)},useDebugValue:kf,useDeferredValue:function(e){var t=Sn();return Dg(t,nr.memoizedState,e)},useTransition:function(){var e=gu(nl)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:bg,useSyncExternalStore:Ng,useId:Lg,unstable_isNewReconciler:!1},gw={readContext:En,useCallback:Rg,useContext:En,useEffect:Tf,useImperativeHandle:Mg,useInsertionEffect:_g,useLayoutEffect:Tg,useMemo:Og,useReducer:pu,useRef:Ig,useState:function(){return pu(nl)},useDebugValue:kf,useDeferredValue:function(e){var t=Sn();return nr===null?t.memoizedState=e:Dg(t,nr.memoizedState,e)},useTransition:function(){var e=pu(nl)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:bg,useSyncExternalStore:Ng,useId:Lg,unstable_isNewReconciler:!1};function Mn(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function i0(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:Dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cd={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=_r(),l=ni(e),c=gs(s,l);c.payload=t,r!=null&&(c.callback=r),t=ti(e,c,l),t!==null&&(Un(t,e,l,s),oc(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=_r(),l=ni(e),c=gs(s,l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=ti(e,c,l),t!==null&&(Un(t,e,l,s),oc(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_r(),s=ni(e),l=gs(r,s);l.tag=2,t!=null&&(l.callback=t),t=ti(e,l,s),t!==null&&(Un(t,e,s,r),oc(t,e,s))}};function p1(e,t,r,s,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!Qo(r,s)||!Qo(l,c):!0}function Ug(e,t,r){var s=!1,l=ci,c=t.contextType;return typeof c=="object"&&c!==null?c=En(c):(l=Wr(t)?Fi:Sr.current,s=t.contextTypes,c=(s=s!=null)?Ma(e,l):ci),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function y1(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&cd.enqueueReplaceState(t,t.state,null)}function a0(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Cf(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=En(c):(c=Wr(t)?Fi:Sr.current,l.context=Ma(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(i0(e,t,c,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&cd.enqueueReplaceState(l,l.state,null),Mc(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function La(e,t){try{var r="",s=t;do r+=Wy(s),s=s.return;while(s);var l=r}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function yu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function o0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pw=typeof WeakMap=="function"?WeakMap:Map;function zg(e,t,r){r=gs(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Pc||(Pc=!0,p0=s),o0(e,t)},r}function Vg(e,t,r){r=gs(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){o0(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){o0(e,t),typeof s!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function v1(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new pw;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=kw.bind(null,e,t,r),t.then(e,e))}function w1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b1(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gs(-1,1),t.tag=2,ti(r,t,1))),r.lanes|=1),e)}var yw=Es.ReactCurrentOwner,Vr=!1;function jr(e,t,r,s){t.child=e===null?pg(t,null,r,s):Oa(t,e.child,r,s)}function N1(e,t,r,s,l){r=r.render;var c=t.ref;return _a(t,l),s=If(e,t,r,s,c,l),r=_f(),e!==null&&!Vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ws(e,t,l)):(Tt&&r&&gf(t),t.flags|=1,jr(e,t,s,l),t.child)}function C1(e,t,r,s,l){if(e===null){var c=r.type;return typeof c=="function"&&!Ff(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,Hg(e,t,c,s,l)):(e=hc(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&l)){var h=c.memoizedProps;if(r=r.compare,r=r!==null?r:Qo,r(h,s)&&e.ref===t.ref)return ws(e,t,l)}return t.flags|=1,e=si(c,s),e.ref=t.ref,e.return=t,t.child=e}function Hg(e,t,r,s,l){if(e!==null){var c=e.memoizedProps;if(Qo(c,s)&&e.ref===t.ref)if(Vr=!1,t.pendingProps=s=c,(e.lanes&l)!==0)e.flags&131072&&(Vr=!0);else return t.lanes=e.lanes,ws(e,t,l)}return l0(e,t,r,s,l)}function Wg(e,t,r){var s=t.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ba,en),en|=r;else{if(!(r&1073741824))return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(ba,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:r,bt(ba,en),en|=s}else c!==null?(s=c.baseLanes|r,t.memoizedState=null):s=r,bt(ba,en),en|=s;return jr(e,t,l,r),t.child}function Gg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function l0(e,t,r,s,l){var c=Wr(r)?Fi:Sr.current;return c=Ma(t,c),_a(t,l),r=If(e,t,r,s,c,l),s=_f(),e!==null&&!Vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ws(e,t,l)):(Tt&&s&&gf(t),t.flags|=1,jr(e,t,r,l),t.child)}function E1(e,t,r,s,l){if(Wr(r)){var c=!0;jc(t)}else c=!1;if(_a(t,l),t.stateNode===null)dc(e,t),Ug(t,r,s),a0(t,r,s,l),s=!0;else if(e===null){var h=t.stateNode,x=t.memoizedProps;h.props=x;var y=h.context,p=r.contextType;typeof p=="object"&&p!==null?p=En(p):(p=Wr(r)?Fi:Sr.current,p=Ma(t,p));var b=r.getDerivedStateFromProps,w=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function";w||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==s||y!==p)&&y1(t,h,s,p),Fs=!1;var E=t.memoizedState;h.state=E,Mc(t,s,h,l),y=t.memoizedState,x!==s||E!==y||Hr.current||Fs?(typeof b=="function"&&(i0(t,r,b,s),y=t.memoizedState),(x=Fs||p1(t,r,x,s,E,y,p))?(w||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=y),h.props=s,h.state=y,h.context=p,s=x):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,vg(e,t),x=t.memoizedProps,p=t.type===t.elementType?x:Mn(t.type,x),h.props=p,w=t.pendingProps,E=h.context,y=r.contextType,typeof y=="object"&&y!==null?y=En(y):(y=Wr(r)?Fi:Sr.current,y=Ma(t,y));var _=r.getDerivedStateFromProps;(b=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==w||E!==y)&&y1(t,h,s,y),Fs=!1,E=t.memoizedState,h.state=E,Mc(t,s,h,l);var R=t.memoizedState;x!==w||E!==R||Hr.current||Fs?(typeof _=="function"&&(i0(t,r,_,s),R=t.memoizedState),(p=Fs||p1(t,r,p,s,E,R,y)||!1)?(b||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,R,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,R,y)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=R),h.props=s,h.state=R,h.context=y,s=p):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),s=!1)}return c0(e,t,r,s,c,l)}function c0(e,t,r,s,l,c){Gg(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&c1(t,r,!1),ws(e,t,c);s=t.stateNode,yw.current=t;var x=h&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Oa(t,e.child,null,c),t.child=Oa(t,null,x,c)):jr(e,t,x,c),t.memoizedState=s.state,l&&c1(t,r,!0),t.child}function Yg(e){var t=e.stateNode;t.pendingContext?l1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&l1(e,t.context,!1),Ef(e,t.containerInfo)}function S1(e,t,r,s,l){return Ra(),yf(l),t.flags|=256,jr(e,t,r,s),t.child}var d0={dehydrated:null,treeContext:null,retryLane:0};function u0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xg(e,t,r){var s=t.pendingProps,l=Rt.current,c=!1,h=(t.flags&128)!==0,x;if((x=h)||(x=e!==null&&e.memoizedState===null?!1:(l&2)!==0),x?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),bt(Rt,l&1),e===null)return n0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=s.children,e=s.fallback,c?(s=t.mode,c=t.child,h={mode:"hidden",children:h},!(s&1)&&c!==null?(c.childLanes=0,c.pendingProps=h):c=fd(h,s,0,null),e=Bi(e,s,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=u0(r),t.memoizedState=d0,e):Mf(t,h));if(l=e.memoizedState,l!==null&&(x=l.dehydrated,x!==null))return vw(e,t,h,s,x,l,r);if(c){c=s.fallback,h=t.mode,l=e.child,x=l.sibling;var y={mode:"hidden",children:s.children};return!(h&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=y,t.deletions=null):(s=si(l,y),s.subtreeFlags=l.subtreeFlags&14680064),x!==null?c=si(x,c):(c=Bi(c,h,r,null),c.flags|=2),c.return=t,s.return=t,s.sibling=c,t.child=s,s=c,c=t.child,h=e.child.memoizedState,h=h===null?u0(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~r,t.memoizedState=d0,s}return c=e.child,e=c.sibling,s=si(c,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Mf(e,t){return t=fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wl(e,t,r,s){return s!==null&&yf(s),Oa(t,e.child,null,r),e=Mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vw(e,t,r,s,l,c,h){if(r)return t.flags&256?(t.flags&=-257,s=yu(Error(oe(422))),Wl(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=s.fallback,l=t.mode,s=fd({mode:"visible",children:s.children},l,0,null),c=Bi(c,l,h,null),c.flags|=2,s.return=t,c.return=t,s.sibling=c,t.child=s,t.mode&1&&Oa(t,e.child,null,h),t.child.memoizedState=u0(h),t.memoizedState=d0,c);if(!(t.mode&1))return Wl(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var x=s.dgst;return s=x,c=Error(oe(419)),s=yu(c,s,void 0),Wl(e,t,h,s)}if(x=(h&e.childLanes)!==0,Vr||x){if(s=cr,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|h)?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,vs(e,l),Un(s,e,l,-1))}return Bf(),s=yu(Error(oe(421))),Wl(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Mw.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,nn=ei(l.nextSibling),sn=t,Tt=!0,Dn=null,e!==null&&(wn[bn++]=hs,wn[bn++]=ms,wn[bn++]=Ui,hs=e.id,ms=e.overflow,Ui=t),t=Mf(t,s.children),t.flags|=4096,t)}function A1(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),s0(e.return,t,r)}function vu(e,t,r,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=r,c.tailMode=l)}function Zg(e,t,r){var s=t.pendingProps,l=s.revealOrder,c=s.tail;if(jr(e,t,s.children,r),s=Rt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&A1(e,r,t);else if(e.tag===19)A1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(bt(Rt,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Rc(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),vu(t,!1,l,r,c);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Rc(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}vu(t,!0,r,null,c);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ww(e,t,r){switch(t.tag){case 3:Yg(t),Ra();break;case 5:wg(t);break;case 1:Wr(t.type)&&jc(t);break;case 4:Ef(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;bt(Tc,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(bt(Rt,Rt.current&1),t.flags|=128,null):r&t.child.childLanes?Xg(e,t,r):(bt(Rt,Rt.current&1),e=ws(e,t,r),e!==null?e.sibling:null);bt(Rt,Rt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Zg(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),bt(Rt,Rt.current),s)break;return null;case 22:case 23:return t.lanes=0,Wg(e,t,r)}return ws(e,t,r)}var $g,f0,Qg,qg;$g=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};f0=function(){};Qg=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Oi(ss.current);var c=null;switch(r){case"input":l=Ou(e,l),s=Ou(e,s),c=[];break;case"select":l=Dt({},l,{value:void 0}),s=Dt({},s,{value:void 0}),c=[];break;case"textarea":l=Pu(e,l),s=Pu(e,s),c=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Sc)}Fu(r,s);var h;r=null;for(p in l)if(!s.hasOwnProperty(p)&&l.hasOwnProperty(p)&&l[p]!=null)if(p==="style"){var x=l[p];for(h in x)x.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ho.hasOwnProperty(p)?c||(c=[]):(c=c||[]).push(p,null));for(p in s){var y=s[p];if(x=l!=null?l[p]:void 0,s.hasOwnProperty(p)&&y!==x&&(y!=null||x!=null))if(p==="style")if(x){for(h in x)!x.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in y)y.hasOwnProperty(h)&&x[h]!==y[h]&&(r||(r={}),r[h]=y[h])}else r||(c||(c=[]),c.push(p,r)),r=y;else p==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,x=x?x.__html:void 0,y!=null&&x!==y&&(c=c||[]).push(p,y)):p==="children"?typeof y!="string"&&typeof y!="number"||(c=c||[]).push(p,""+y):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Ho.hasOwnProperty(p)?(y!=null&&p==="onScroll"&&Et("scroll",e),c||x===y||(c=[])):(c=c||[]).push(p,y))}r&&(c=c||[]).push("style",r);var p=c;(t.updateQueue=p)&&(t.flags|=4)}};qg=function(e,t,r,s){r!==s&&(t.flags|=4)};function mo(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function bw(e,t,r){var s=t.pendingProps;switch(pf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(t),null;case 1:return Wr(t.type)&&Ac(),Nr(t),null;case 3:return s=t.stateNode,Da(),At(Hr),At(Sr),Af(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dn!==null&&(w0(Dn),Dn=null))),f0(e,t),Nr(t),null;case 5:Sf(t);var l=Oi(tl.current);if(r=t.type,e!==null&&t.stateNode!=null)Qg(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(oe(166));return Nr(t),null}if(e=Oi(ss.current),Vl(t)){s=t.stateNode,r=t.type;var c=t.memoizedProps;switch(s[Jn]=t,s[Jo]=c,e=(t.mode&1)!==0,r){case"dialog":Et("cancel",s),Et("close",s);break;case"iframe":case"object":case"embed":Et("load",s);break;case"video":case"audio":for(l=0;l<Ao.length;l++)Et(Ao[l],s);break;case"source":Et("error",s);break;case"img":case"image":case"link":Et("error",s),Et("load",s);break;case"details":Et("toggle",s);break;case"input":Dh(s,c),Et("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},Et("invalid",s);break;case"textarea":Ph(s,c),Et("invalid",s)}Fu(r,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var x=c[h];h==="children"?typeof x=="string"?s.textContent!==x&&(c.suppressHydrationWarning!==!0&&zl(s.textContent,x,e),l=["children",x]):typeof x=="number"&&s.textContent!==""+x&&(c.suppressHydrationWarning!==!0&&zl(s.textContent,x,e),l=["children",""+x]):Ho.hasOwnProperty(h)&&x!=null&&h==="onScroll"&&Et("scroll",s)}switch(r){case"input":Rl(s),Lh(s,c,!0);break;case"textarea":Rl(s),Bh(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Sc)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(r,{is:s.is}):(e=h.createElement(r),r==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,r),e[Jn]=t,e[Jo]=s,$g(e,t,!1,!1),t.stateNode=e;e:{switch(h=Uu(r,s),r){case"dialog":Et("cancel",e),Et("close",e),l=s;break;case"iframe":case"object":case"embed":Et("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ao.length;l++)Et(Ao[l],e);l=s;break;case"source":Et("error",e),l=s;break;case"img":case"image":case"link":Et("error",e),Et("load",e),l=s;break;case"details":Et("toggle",e),l=s;break;case"input":Dh(e,s),l=Ou(e,s),Et("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=Dt({},s,{value:void 0}),Et("invalid",e);break;case"textarea":Ph(e,s),l=Pu(e,s),Et("invalid",e);break;default:l=s}Fu(r,l),x=l;for(c in x)if(x.hasOwnProperty(c)){var y=x[c];c==="style"?Ix(e,y):c==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Ax(e,y)):c==="children"?typeof y=="string"?(r!=="textarea"||y!=="")&&Wo(e,y):typeof y=="number"&&Wo(e,""+y):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ho.hasOwnProperty(c)?y!=null&&c==="onScroll"&&Et("scroll",e):y!=null&&tf(e,c,y,h))}switch(r){case"input":Rl(e),Lh(e,s,!1);break;case"textarea":Rl(e),Bh(e);break;case"option":s.value!=null&&e.setAttribute("value",""+li(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?Sa(e,!!s.multiple,c,!1):s.defaultValue!=null&&Sa(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Sc)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nr(t),null;case 6:if(e&&t.stateNode!=null)qg(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(oe(166));if(r=Oi(tl.current),Oi(ss.current),Vl(t)){if(s=t.stateNode,r=t.memoizedProps,s[Jn]=t,(c=s.nodeValue!==r)&&(e=sn,e!==null))switch(e.tag){case 3:zl(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zl(s.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Jn]=t,t.stateNode=s}return Nr(t),null;case 13:if(At(Rt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&nn!==null&&t.mode&1&&!(t.flags&128))xg(),Ra(),t.flags|=98560,c=!1;else if(c=Vl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(oe(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(oe(317));c[Jn]=t}else Ra(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nr(t),c=!1}else Dn!==null&&(w0(Dn),Dn=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?sr===0&&(sr=3):Bf())),t.updateQueue!==null&&(t.flags|=4),Nr(t),null);case 4:return Da(),f0(e,t),e===null&&qo(t.stateNode.containerInfo),Nr(t),null;case 10:return bf(t.type._context),Nr(t),null;case 17:return Wr(t.type)&&Ac(),Nr(t),null;case 19:if(At(Rt),c=t.memoizedState,c===null)return Nr(t),null;if(s=(t.flags&128)!==0,h=c.rendering,h===null)if(s)mo(c,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Rc(e),h!==null){for(t.flags|=128,mo(c,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)c=r,e=s,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return bt(Rt,Rt.current&1|2),t.child}e=e.sibling}c.tail!==null&&Gt()>Pa&&(t.flags|=128,s=!0,mo(c,!1),t.lanes=4194304)}else{if(!s)if(e=Rc(h),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Tt)return Nr(t),null}else 2*Gt()-c.renderingStartTime>Pa&&r!==1073741824&&(t.flags|=128,s=!0,mo(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(r=c.last,r!==null?r.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Gt(),t.sibling=null,r=Rt.current,bt(Rt,s?r&1|2:r&1),t):(Nr(t),null);case 22:case 23:return Pf(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?en&1073741824&&(Nr(t),t.subtreeFlags&6&&(t.flags|=8192)):Nr(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function Nw(e,t){switch(pf(t),t.tag){case 1:return Wr(t.type)&&Ac(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(),At(Hr),At(Sr),Af(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sf(t),null;case 13:if(At(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return At(Rt),null;case 4:return Da(),null;case 10:return bf(t.type._context),null;case 22:case 23:return Pf(),null;case 24:return null;default:return null}}var Gl=!1,Er=!1,Cw=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function wa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ut(e,t,s)}else r.current=null}function h0(e,t,r){try{r()}catch(s){Ut(e,t,s)}}var j1=!1;function Ew(e,t){if(Qu=Nc,e=rg(),xf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var h=0,x=-1,y=-1,p=0,b=0,w=e,E=null;t:for(;;){for(var _;w!==r||l!==0&&w.nodeType!==3||(x=h+l),w!==c||s!==0&&w.nodeType!==3||(y=h+s),w.nodeType===3&&(h+=w.nodeValue.length),(_=w.firstChild)!==null;)E=w,w=_;for(;;){if(w===e)break t;if(E===r&&++p===l&&(x=h),E===c&&++b===s&&(y=h),(_=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=_}r=x===-1||y===-1?null:{start:x,end:y}}else r=null}r=r||{start:0,end:0}}else r=null;for(qu={focusedElem:e,selectionRange:r},Nc=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var I=R.memoizedProps,M=R.memoizedState,j=t.stateNode,C=j.getSnapshotBeforeUpdate(t.elementType===t.type?I:Mn(t.type,I),M);j.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(B){Ut(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return R=j1,j1=!1,R}function Oo(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&h0(t,r,c)}l=l.next}while(l!==s)}}function dd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function m0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Kg(e){var t=e.alternate;t!==null&&(e.alternate=null,Kg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jn],delete t[Jo],delete t[e0],delete t[aw],delete t[ow])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jg(e){return e.tag===5||e.tag===3||e.tag===4}function I1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function x0(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sc));else if(s!==4&&(e=e.child,e!==null))for(x0(e,t,r),e=e.sibling;e!==null;)x0(e,t,r),e=e.sibling}function g0(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(g0(e,t,r),e=e.sibling;e!==null;)g0(e,t,r),e=e.sibling}var xr=null,Rn=!1;function Os(e,t,r){for(r=r.child;r!==null;)ep(e,t,r),r=r.sibling}function ep(e,t,r){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(rd,r)}catch{}switch(r.tag){case 5:Er||wa(r,t);case 6:var s=xr,l=Rn;xr=null,Os(e,t,r),xr=s,Rn=l,xr!==null&&(Rn?(e=xr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xr.removeChild(r.stateNode));break;case 18:xr!==null&&(Rn?(e=xr,r=r.stateNode,e.nodeType===8?fu(e.parentNode,r):e.nodeType===1&&fu(e,r),Zo(e)):fu(xr,r.stateNode));break;case 4:s=xr,l=Rn,xr=r.stateNode.containerInfo,Rn=!0,Os(e,t,r),xr=s,Rn=l;break;case 0:case 11:case 14:case 15:if(!Er&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&(c&2||c&4)&&h0(r,t,h),l=l.next}while(l!==s)}Os(e,t,r);break;case 1:if(!Er&&(wa(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(x){Ut(r,t,x)}Os(e,t,r);break;case 21:Os(e,t,r);break;case 22:r.mode&1?(Er=(s=Er)||r.memoizedState!==null,Os(e,t,r),Er=s):Os(e,t,r);break;default:Os(e,t,r)}}function _1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Cw),t.forEach(function(s){var l=Rw.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function Tn(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var c=e,h=t,x=h;e:for(;x!==null;){switch(x.tag){case 5:xr=x.stateNode,Rn=!1;break e;case 3:xr=x.stateNode.containerInfo,Rn=!0;break e;case 4:xr=x.stateNode.containerInfo,Rn=!0;break e}x=x.return}if(xr===null)throw Error(oe(160));ep(c,h,l),xr=null,Rn=!1;var y=l.alternate;y!==null&&(y.return=null),l.return=null}catch(p){Ut(l,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tp(t,e),t=t.sibling}function tp(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),$n(e),s&4){try{Oo(3,e,e.return),dd(3,e)}catch(I){Ut(e,e.return,I)}try{Oo(5,e,e.return)}catch(I){Ut(e,e.return,I)}}break;case 1:Tn(t,e),$n(e),s&512&&r!==null&&wa(r,r.return);break;case 5:if(Tn(t,e),$n(e),s&512&&r!==null&&wa(r,r.return),e.flags&32){var l=e.stateNode;try{Wo(l,"")}catch(I){Ut(e,e.return,I)}}if(s&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=r!==null?r.memoizedProps:c,x=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{x==="input"&&c.type==="radio"&&c.name!=null&&Cx(l,c),Uu(x,h);var p=Uu(x,c);for(h=0;h<y.length;h+=2){var b=y[h],w=y[h+1];b==="style"?Ix(l,w):b==="dangerouslySetInnerHTML"?Ax(l,w):b==="children"?Wo(l,w):tf(l,b,w,p)}switch(x){case"input":Du(l,c);break;case"textarea":Ex(l,c);break;case"select":var E=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var _=c.value;_!=null?Sa(l,!!c.multiple,_,!1):E!==!!c.multiple&&(c.defaultValue!=null?Sa(l,!!c.multiple,c.defaultValue,!0):Sa(l,!!c.multiple,c.multiple?[]:"",!1))}l[Jo]=c}catch(I){Ut(e,e.return,I)}}break;case 6:if(Tn(t,e),$n(e),s&4){if(e.stateNode===null)throw Error(oe(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(I){Ut(e,e.return,I)}}break;case 3:if(Tn(t,e),$n(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Zo(t.containerInfo)}catch(I){Ut(e,e.return,I)}break;case 4:Tn(t,e),$n(e);break;case 13:Tn(t,e),$n(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(Df=Gt())),s&4&&_1(e);break;case 22:if(b=r!==null&&r.memoizedState!==null,e.mode&1?(Er=(p=Er)||b,Tn(t,e),Er=p):Tn(t,e),$n(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!b&&e.mode&1)for(Ee=e,b=e.child;b!==null;){for(w=Ee=b;Ee!==null;){switch(E=Ee,_=E.child,E.tag){case 0:case 11:case 14:case 15:Oo(4,E,E.return);break;case 1:wa(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){s=E,r=E.return;try{t=s,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(I){Ut(s,r,I)}}break;case 5:wa(E,E.return);break;case 22:if(E.memoizedState!==null){k1(w);continue}}_!==null?(_.return=E,Ee=_):k1(w)}b=b.sibling}e:for(b=null,w=e;;){if(w.tag===5){if(b===null){b=w;try{l=w.stateNode,p?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(x=w.stateNode,y=w.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,x.style.display=jx("display",h))}catch(I){Ut(e,e.return,I)}}}else if(w.tag===6){if(b===null)try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(I){Ut(e,e.return,I)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;b===w&&(b=null),w=w.return}b===w&&(b=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Tn(t,e),$n(e),s&4&&_1(e);break;case 21:break;default:Tn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Jg(r)){var s=r;break e}r=r.return}throw Error(oe(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Wo(l,""),s.flags&=-33);var c=I1(e);g0(e,c,l);break;case 3:case 4:var h=s.stateNode.containerInfo,x=I1(e);x0(e,x,h);break;default:throw Error(oe(161))}}catch(y){Ut(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sw(e,t,r){Ee=e,rp(e)}function rp(e,t,r){for(var s=(e.mode&1)!==0;Ee!==null;){var l=Ee,c=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||Gl;if(!h){var x=l.alternate,y=x!==null&&x.memoizedState!==null||Er;x=Gl;var p=Er;if(Gl=h,(Er=y)&&!p)for(Ee=l;Ee!==null;)h=Ee,y=h.child,h.tag===22&&h.memoizedState!==null?M1(l):y!==null?(y.return=h,Ee=y):M1(l);for(;c!==null;)Ee=c,rp(c),c=c.sibling;Ee=l,Gl=x,Er=p}T1(e)}else l.subtreeFlags&8772&&c!==null?(c.return=l,Ee=c):T1(e)}}function T1(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Er||dd(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Er)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Mn(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&m1(t,c,s);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}m1(t,h,r)}break;case 5:var x=t.stateNode;if(r===null&&t.flags&4){r=x;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&r.focus();break;case"img":y.src&&(r.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var b=p.memoizedState;if(b!==null){var w=b.dehydrated;w!==null&&Zo(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Er||t.flags&512&&m0(t)}catch(E){Ut(t,t.return,E)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function k1(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function M1(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dd(4,t)}catch(y){Ut(t,r,y)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(y){Ut(t,l,y)}}var c=t.return;try{m0(t)}catch(y){Ut(t,c,y)}break;case 5:var h=t.return;try{m0(t)}catch(y){Ut(t,h,y)}}}catch(y){Ut(t,t.return,y)}if(t===e){Ee=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Ee=x;break}Ee=t.return}}var Aw=Math.ceil,Lc=Es.ReactCurrentDispatcher,Rf=Es.ReactCurrentOwner,Cn=Es.ReactCurrentBatchConfig,et=0,cr=null,$t=null,pr=0,en=0,ba=xi(0),sr=0,il=null,Vi=0,ud=0,Of=0,Do=null,Ur=null,Df=0,Pa=1/0,ds=null,Pc=!1,p0=null,ri=null,Yl=!1,Ys=null,Bc=0,Lo=0,y0=null,uc=-1,fc=0;function _r(){return et&6?Gt():uc!==-1?uc:uc=Gt()}function ni(e){return e.mode&1?et&2&&pr!==0?pr&-pr:cw.transition!==null?(fc===0&&(fc=Ux()),fc):(e=ft,e!==0||(e=window.event,e=e===void 0?16:Xx(e.type)),e):1}function Un(e,t,r,s){if(50<Lo)throw Lo=0,y0=null,Error(oe(185));xl(e,r,s),(!(et&2)||e!==cr)&&(e===cr&&(!(et&2)&&(ud|=r),sr===4&&Vs(e,pr)),Gr(e,s),r===1&&et===0&&!(t.mode&1)&&(Pa=Gt()+500,od&&gi()))}function Gr(e,t){var r=e.callbackNode;cv(e,t);var s=bc(e,e===cr?pr:0);if(s===0)r!==null&&zh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&zh(r),t===1)e.tag===0?lw(R1.bind(null,e)):fg(R1.bind(null,e)),sw(function(){!(et&6)&&gi()}),r=null;else{switch(zx(s)){case 1:r=of;break;case 4:r=Bx;break;case 16:r=wc;break;case 536870912:r=Fx;break;default:r=wc}r=dp(r,np.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function np(e,t){if(uc=-1,fc=0,et&6)throw Error(oe(327));var r=e.callbackNode;if(Ta()&&e.callbackNode!==r)return null;var s=bc(e,e===cr?pr:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Fc(e,s);else{t=s;var l=et;et|=2;var c=ip();(cr!==e||pr!==t)&&(ds=null,Pa=Gt()+500,Pi(e,t));do try{_w();break}catch(x){sp(e,x)}while(1);wf(),Lc.current=c,et=l,$t!==null?t=0:(cr=null,pr=0,t=sr)}if(t!==0){if(t===2&&(l=Gu(e),l!==0&&(s=l,t=v0(e,l))),t===1)throw r=il,Pi(e,0),Vs(e,s),Gr(e,Gt()),r;if(t===6)Vs(e,s);else{if(l=e.current.alternate,!(s&30)&&!jw(l)&&(t=Fc(e,s),t===2&&(c=Gu(e),c!==0&&(s=c,t=v0(e,c))),t===1))throw r=il,Pi(e,0),Vs(e,s),Gr(e,Gt()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(oe(345));case 2:ki(e,Ur,ds);break;case 3:if(Vs(e,s),(s&130023424)===s&&(t=Df+500-Gt(),10<t)){if(bc(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){_r(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ju(ki.bind(null,e,Ur,ds),t);break}ki(e,Ur,ds);break;case 4:if(Vs(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-Fn(s);c=1<<h,h=t[h],h>l&&(l=h),s&=~c}if(s=l,s=Gt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Aw(s/1960))-s,10<s){e.timeoutHandle=Ju(ki.bind(null,e,Ur,ds),s);break}ki(e,Ur,ds);break;case 5:ki(e,Ur,ds);break;default:throw Error(oe(329))}}}return Gr(e,Gt()),e.callbackNode===r?np.bind(null,e):null}function v0(e,t){var r=Do;return e.current.memoizedState.isDehydrated&&(Pi(e,t).flags|=256),e=Fc(e,t),e!==2&&(t=Ur,Ur=r,t!==null&&w0(t)),e}function w0(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function jw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],c=l.getSnapshot;l=l.value;try{if(!Vn(c(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vs(e,t){for(t&=~Of,t&=~ud,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fn(t),s=1<<r;e[r]=-1,t&=~s}}function R1(e){if(et&6)throw Error(oe(327));Ta();var t=bc(e,0);if(!(t&1))return Gr(e,Gt()),null;var r=Fc(e,t);if(e.tag!==0&&r===2){var s=Gu(e);s!==0&&(t=s,r=v0(e,s))}if(r===1)throw r=il,Pi(e,0),Vs(e,t),Gr(e,Gt()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ki(e,Ur,ds),Gr(e,Gt()),null}function Lf(e,t){var r=et;et|=1;try{return e(t)}finally{et=r,et===0&&(Pa=Gt()+500,od&&gi())}}function Hi(e){Ys!==null&&Ys.tag===0&&!(et&6)&&Ta();var t=et;et|=1;var r=Cn.transition,s=ft;try{if(Cn.transition=null,ft=1,e)return e()}finally{ft=s,Cn.transition=r,et=t,!(et&6)&&gi()}}function Pf(){en=ba.current,At(ba)}function Pi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nw(r)),$t!==null)for(r=$t.return;r!==null;){var s=r;switch(pf(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ac();break;case 3:Da(),At(Hr),At(Sr),Af();break;case 5:Sf(s);break;case 4:Da();break;case 13:At(Rt);break;case 19:At(Rt);break;case 10:bf(s.type._context);break;case 22:case 23:Pf()}r=r.return}if(cr=e,$t=e=si(e.current,null),pr=en=t,sr=0,il=null,Of=ud=Vi=0,Ur=Do=null,Ri!==null){for(t=0;t<Ri.length;t++)if(r=Ri[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,c=r.pending;if(c!==null){var h=c.next;c.next=l,s.next=h}r.pending=s}Ri=null}return e}function sp(e,t){do{var r=$t;try{if(wf(),lc.current=Dc,Oc){for(var s=Ot.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Oc=!1}if(zi=0,lr=nr=Ot=null,Ro=!1,rl=0,Rf.current=null,r===null||r.return===null){sr=1,il=t,$t=null;break}e:{var c=e,h=r.return,x=r,y=t;if(t=pr,x.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var p=y,b=x,w=b.tag;if(!(b.mode&1)&&(w===0||w===11||w===15)){var E=b.alternate;E?(b.updateQueue=E.updateQueue,b.memoizedState=E.memoizedState,b.lanes=E.lanes):(b.updateQueue=null,b.memoizedState=null)}var _=w1(h);if(_!==null){_.flags&=-257,b1(_,h,x,c,t),_.mode&1&&v1(c,p,t),t=_,y=p;var R=t.updateQueue;if(R===null){var I=new Set;I.add(y),t.updateQueue=I}else R.add(y);break e}else{if(!(t&1)){v1(c,p,t),Bf();break e}y=Error(oe(426))}}else if(Tt&&x.mode&1){var M=w1(h);if(M!==null){!(M.flags&65536)&&(M.flags|=256),b1(M,h,x,c,t),yf(La(y,x));break e}}c=y=La(y,x),sr!==4&&(sr=2),Do===null?Do=[c]:Do.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var j=zg(c,y,t);h1(c,j);break e;case 1:x=y;var C=c.type,k=c.stateNode;if(!(c.flags&128)&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ri===null||!ri.has(k)))){c.flags|=65536,t&=-t,c.lanes|=t;var B=Vg(c,x,t);h1(c,B);break e}}c=c.return}while(c!==null)}op(r)}catch(Y){t=Y,$t===r&&r!==null&&($t=r=r.return);continue}break}while(1)}function ip(){var e=Lc.current;return Lc.current=Dc,e===null?Dc:e}function Bf(){(sr===0||sr===3||sr===2)&&(sr=4),cr===null||!(Vi&268435455)&&!(ud&268435455)||Vs(cr,pr)}function Fc(e,t){var r=et;et|=2;var s=ip();(cr!==e||pr!==t)&&(ds=null,Pi(e,t));do try{Iw();break}catch(l){sp(e,l)}while(1);if(wf(),et=r,Lc.current=s,$t!==null)throw Error(oe(261));return cr=null,pr=0,sr}function Iw(){for(;$t!==null;)ap($t)}function _w(){for(;$t!==null&&!ev();)ap($t)}function ap(e){var t=cp(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?op(e):$t=t,Rf.current=null}function op(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Nw(r,t),r!==null){r.flags&=32767,$t=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,$t=null;return}}else if(r=bw(r,t,en),r!==null){$t=r;return}if(t=t.sibling,t!==null){$t=t;return}$t=t=e}while(t!==null);sr===0&&(sr=5)}function ki(e,t,r){var s=ft,l=Cn.transition;try{Cn.transition=null,ft=1,Tw(e,t,r,s)}finally{Cn.transition=l,ft=s}return null}function Tw(e,t,r,s){do Ta();while(Ys!==null);if(et&6)throw Error(oe(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(dv(e,c),e===cr&&($t=cr=null,pr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yl||(Yl=!0,dp(wc,function(){return Ta(),null})),c=(r.flags&15990)!==0,r.subtreeFlags&15990||c){c=Cn.transition,Cn.transition=null;var h=ft;ft=1;var x=et;et|=4,Rf.current=null,Ew(e,r),tp(r,e),Qv(qu),Nc=!!Qu,qu=Qu=null,e.current=r,Sw(r),tv(),et=x,ft=h,Cn.transition=c}else e.current=r;if(Yl&&(Yl=!1,Ys=e,Bc=l),c=e.pendingLanes,c===0&&(ri=null),sv(r.stateNode),Gr(e,Gt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(Pc)throw Pc=!1,e=p0,p0=null,e;return Bc&1&&e.tag!==0&&Ta(),c=e.pendingLanes,c&1?e===y0?Lo++:(Lo=0,y0=e):Lo=0,gi(),null}function Ta(){if(Ys!==null){var e=zx(Bc),t=Cn.transition,r=ft;try{if(Cn.transition=null,ft=16>e?16:e,Ys===null)var s=!1;else{if(e=Ys,Ys=null,Bc=0,et&6)throw Error(oe(331));var l=et;for(et|=4,Ee=e.current;Ee!==null;){var c=Ee,h=c.child;if(Ee.flags&16){var x=c.deletions;if(x!==null){for(var y=0;y<x.length;y++){var p=x[y];for(Ee=p;Ee!==null;){var b=Ee;switch(b.tag){case 0:case 11:case 15:Oo(8,b,c)}var w=b.child;if(w!==null)w.return=b,Ee=w;else for(;Ee!==null;){b=Ee;var E=b.sibling,_=b.return;if(Kg(b),b===p){Ee=null;break}if(E!==null){E.return=_,Ee=E;break}Ee=_}}}var R=c.alternate;if(R!==null){var I=R.child;if(I!==null){R.child=null;do{var M=I.sibling;I.sibling=null,I=M}while(I!==null)}}Ee=c}}if(c.subtreeFlags&2064&&h!==null)h.return=c,Ee=h;else e:for(;Ee!==null;){if(c=Ee,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Oo(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,Ee=j;break e}Ee=c.return}}var C=e.current;for(Ee=C;Ee!==null;){h=Ee;var k=h.child;if(h.subtreeFlags&2064&&k!==null)k.return=h,Ee=k;else e:for(h=C;Ee!==null;){if(x=Ee,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:dd(9,x)}}catch(Y){Ut(x,x.return,Y)}if(x===h){Ee=null;break e}var B=x.sibling;if(B!==null){B.return=x.return,Ee=B;break e}Ee=x.return}}if(et=l,gi(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(rd,e)}catch{}s=!0}return s}finally{ft=r,Cn.transition=t}}return!1}function O1(e,t,r){t=La(r,t),t=zg(e,t,1),e=ti(e,t,1),t=_r(),e!==null&&(xl(e,1,t),Gr(e,t))}function Ut(e,t,r){if(e.tag===3)O1(e,e,r);else for(;t!==null;){if(t.tag===3){O1(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ri===null||!ri.has(s))){e=La(r,e),e=Vg(t,e,1),t=ti(t,e,1),e=_r(),t!==null&&(xl(t,1,e),Gr(t,e));break}}t=t.return}}function kw(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&r,cr===e&&(pr&r)===r&&(sr===4||sr===3&&(pr&130023424)===pr&&500>Gt()-Df?Pi(e,0):Of|=r),Gr(e,t)}function lp(e,t){t===0&&(e.mode&1?(t=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):t=1);var r=_r();e=vs(e,t),e!==null&&(xl(e,t,r),Gr(e,r))}function Mw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lp(e,r)}function Rw(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(oe(314))}s!==null&&s.delete(t),lp(e,r)}var cp;cp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Hr.current)Vr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vr=!1,ww(e,t,r);Vr=!!(e.flags&131072)}else Vr=!1,Tt&&t.flags&1048576&&hg(t,_c,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;dc(e,t),e=t.pendingProps;var l=Ma(t,Sr.current);_a(t,r),l=If(null,t,s,e,l,r);var c=_f();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(s)?(c=!0,jc(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Cf(t),l.updater=cd,t.stateNode=l,l._reactInternals=t,a0(t,s,e,r),t=c0(null,t,s,!0,c,r)):(t.tag=0,Tt&&c&&gf(t),jr(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(dc(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Dw(s),e=Mn(s,e),l){case 0:t=l0(null,t,s,e,r);break e;case 1:t=E1(null,t,s,e,r);break e;case 11:t=N1(null,t,s,e,r);break e;case 14:t=C1(null,t,s,Mn(s.type,e),r);break e}throw Error(oe(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Mn(s,l),l0(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Mn(s,l),E1(e,t,s,l,r);case 3:e:{if(Yg(t),e===null)throw Error(oe(387));s=t.pendingProps,c=t.memoizedState,l=c.element,vg(e,t),Mc(t,s,null,r);var h=t.memoizedState;if(s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=La(Error(oe(423)),t),t=S1(e,t,s,r,l);break e}else if(s!==l){l=La(Error(oe(424)),t),t=S1(e,t,s,r,l);break e}else for(nn=ei(t.stateNode.containerInfo.firstChild),sn=t,Tt=!0,Dn=null,r=pg(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ra(),s===l){t=ws(e,t,r);break e}jr(e,t,s,r)}t=t.child}return t;case 5:return wg(t),e===null&&n0(t),s=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,Ku(s,l)?h=null:c!==null&&Ku(s,c)&&(t.flags|=32),Gg(e,t),jr(e,t,h,r),t.child;case 6:return e===null&&n0(t),null;case 13:return Xg(e,t,r);case 4:return Ef(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Oa(t,null,s,r):jr(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Mn(s,l),N1(e,t,s,l,r);case 7:return jr(e,t,t.pendingProps,r),t.child;case 8:return jr(e,t,t.pendingProps.children,r),t.child;case 12:return jr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,bt(Tc,s._currentValue),s._currentValue=h,c!==null)if(Vn(c.value,h)){if(c.children===l.children&&!Hr.current){t=ws(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var x=c.dependencies;if(x!==null){h=c.child;for(var y=x.firstContext;y!==null;){if(y.context===s){if(c.tag===1){y=gs(-1,r&-r),y.tag=2;var p=c.updateQueue;if(p!==null){p=p.shared;var b=p.pending;b===null?y.next=y:(y.next=b.next,b.next=y),p.pending=y}}c.lanes|=r,y=c.alternate,y!==null&&(y.lanes|=r),s0(c.return,r,t),x.lanes|=r;break}y=y.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(oe(341));h.lanes|=r,x=h.alternate,x!==null&&(x.lanes|=r),s0(h,r,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}jr(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,_a(t,r),l=En(l),s=s(l),t.flags|=1,jr(e,t,s,r),t.child;case 14:return s=t.type,l=Mn(s,t.pendingProps),l=Mn(s.type,l),C1(e,t,s,l,r);case 15:return Hg(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Mn(s,l),dc(e,t),t.tag=1,Wr(s)?(e=!0,jc(t)):e=!1,_a(t,r),Ug(t,s,l),a0(t,s,l,r),c0(null,t,s,!0,e,r);case 19:return Zg(e,t,r);case 22:return Wg(e,t,r)}throw Error(oe(156,t.tag))};function dp(e,t){return Px(e,t)}function Ow(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,r,s){return new Ow(e,t,r,s)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dw(e){if(typeof e=="function")return Ff(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nf)return 11;if(e===sf)return 14}return 2}function si(e,t){var r=e.alternate;return r===null?(r=Nn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hc(e,t,r,s,l,c){var h=2;if(s=e,typeof e=="function")Ff(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ua:return Bi(r.children,l,c,t);case rf:h=8,l|=8;break;case Tu:return e=Nn(12,r,t,l|2),e.elementType=Tu,e.lanes=c,e;case ku:return e=Nn(13,r,t,l),e.elementType=ku,e.lanes=c,e;case Mu:return e=Nn(19,r,t,l),e.elementType=Mu,e.lanes=c,e;case wx:return fd(r,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yx:h=10;break e;case vx:h=9;break e;case nf:h=11;break e;case sf:h=14;break e;case Bs:h=16,s=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Nn(h,r,t,l),t.elementType=e,t.type=s,t.lanes=c,t}function Bi(e,t,r,s){return e=Nn(7,e,s,t),e.lanes=r,e}function fd(e,t,r,s){return e=Nn(22,e,s,t),e.elementType=wx,e.lanes=r,e.stateNode={isHidden:!1},e}function wu(e,t,r){return e=Nn(6,e,null,t),e.lanes=r,e}function bu(e,t,r){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lw(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Uf(e,t,r,s,l,c,h,x,y){return e=new Lw(e,t,r,x,y),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Nn(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(c),e}function Pw(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function up(e){if(!e)return ci;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(Wr(r))return ug(e,r,t)}return t}function fp(e,t,r,s,l,c,h,x,y){return e=Uf(r,s,!0,e,l,c,h,x,y),e.context=up(null),r=e.current,s=_r(),l=ni(r),c=gs(s,l),c.callback=t??null,ti(r,c,l),e.current.lanes=l,xl(e,l,s),Gr(e,s),e}function hd(e,t,r,s){var l=t.current,c=_r(),h=ni(l);return r=up(r),t.context===null?t.context=r:t.pendingContext=r,t=gs(c,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ti(l,t,h),e!==null&&(Un(e,l,h,c),oc(e,l,h)),h}function Uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zf(e,t){D1(e,t),(e=e.alternate)&&D1(e,t)}function Bw(){return null}var hp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vf(e){this._internalRoot=e}md.prototype.render=Vf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));hd(e,t,null,null)};md.prototype.unmount=Vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hi(function(){hd(null,e,null,null)}),t[ys]=null}};function md(e){this._internalRoot=e}md.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zs.length&&t!==0&&t<zs[r].priority;r++);zs.splice(r,0,e),r===0&&Yx(e)}};function Hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function L1(){}function Fw(e,t,r,s,l){if(l){if(typeof s=="function"){var c=s;s=function(){var p=Uc(h);c.call(p)}}var h=fp(t,s,e,0,null,!1,!1,"",L1);return e._reactRootContainer=h,e[ys]=h.current,qo(e.nodeType===8?e.parentNode:e),Hi(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var x=s;s=function(){var p=Uc(y);x.call(p)}}var y=Uf(e,0,!1,null,null,!1,!1,"",L1);return e._reactRootContainer=y,e[ys]=y.current,qo(e.nodeType===8?e.parentNode:e),Hi(function(){hd(t,y,r,s)}),y}function gd(e,t,r,s,l){var c=r._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var x=l;l=function(){var y=Uc(h);x.call(y)}}hd(t,h,e,l)}else h=Fw(r,t,e,l,s);return Uc(h)}Vx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=So(t.pendingLanes);r!==0&&(lf(t,r|1),Gr(t,Gt()),!(et&6)&&(Pa=Gt()+500,gi()))}break;case 13:Hi(function(){var s=vs(e,1);if(s!==null){var l=_r();Un(s,e,1,l)}}),zf(e,1)}};cf=function(e){if(e.tag===13){var t=vs(e,134217728);if(t!==null){var r=_r();Un(t,e,134217728,r)}zf(e,134217728)}};Hx=function(e){if(e.tag===13){var t=ni(e),r=vs(e,t);if(r!==null){var s=_r();Un(r,e,t,s)}zf(e,t)}};Wx=function(){return ft};Gx=function(e,t){var r=ft;try{return ft=e,t()}finally{ft=r}};Vu=function(e,t,r){switch(t){case"input":if(Du(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=ad(s);if(!l)throw Error(oe(90));Nx(s),Du(s,l)}}}break;case"textarea":Ex(e,r);break;case"select":t=r.value,t!=null&&Sa(e,!!r.multiple,t,!1)}};kx=Lf;Mx=Hi;var Uw={usingClientEntryPoint:!1,Events:[pl,xa,ad,_x,Tx,Lf]},xo={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zw={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dx(e),e===null?null:e.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||Bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{rd=Xl.inject(zw),ns=Xl}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uw;cn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(t))throw Error(oe(200));return Pw(e,t,null,r)};cn.createRoot=function(e,t){if(!Hf(e))throw Error(oe(299));var r=!1,s="",l=hp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Uf(e,1,!1,null,null,r,!1,s,l),e[ys]=t.current,qo(e.nodeType===8?e.parentNode:e),new Vf(t)};cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Dx(t),e=e===null?null:e.stateNode,e};cn.flushSync=function(e){return Hi(e)};cn.hydrate=function(e,t,r){if(!xd(t))throw Error(oe(200));return gd(null,e,t,!0,r)};cn.hydrateRoot=function(e,t,r){if(!Hf(e))throw Error(oe(405));var s=r!=null&&r.hydratedSources||null,l=!1,c="",h=hp;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=fp(t,null,e,1,r??null,l,!1,c,h),e[ys]=t.current,qo(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new md(t)};cn.render=function(e,t,r){if(!xd(t))throw Error(oe(200));return gd(null,e,t,!1,r)};cn.unmountComponentAtNode=function(e){if(!xd(e))throw Error(oe(40));return e._reactRootContainer?(Hi(function(){gd(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0):!1};cn.unstable_batchedUpdates=Lf;cn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!xd(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return gd(e,t,r,!1,s)};cn.version="18.3.1-next-f1338f8080-20240426";function mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mp)}catch(e){console.error(e)}}mp(),mx.exports=cn;var Vw=mx.exports,xp,P1=Vw;xp=P1.createRoot,P1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},al.apply(this,arguments)}var Xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xs||(Xs={}));const B1="popstate";function Hw(e){e===void 0&&(e={});function t(s,l){let{pathname:c,search:h,hash:x}=s.location;return b0("",{pathname:c,search:h,hash:x},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:zc(l)}return Gw(t,r,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ww(){return Math.random().toString(36).substr(2,8)}function F1(e,t){return{usr:e.state,key:e.key,idx:t}}function b0(e,t,r,s){return r===void 0&&(r=null),al({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qa(t):t,{state:r,key:t&&t.key||s||Ww()})}function zc(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Qa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Gw(e,t,r,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:c=!1}=s,h=l.history,x=Xs.Pop,y=null,p=b();p==null&&(p=0,h.replaceState(al({},h.state,{idx:p}),""));function b(){return(h.state||{idx:null}).idx}function w(){x=Xs.Pop;let M=b(),j=M==null?null:M-p;p=M,y&&y({action:x,location:I.location,delta:j})}function E(M,j){x=Xs.Push;let C=b0(I.location,M,j);r&&r(C,M),p=b()+1;let k=F1(C,p),B=I.createHref(C);try{h.pushState(k,"",B)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign(B)}c&&y&&y({action:x,location:I.location,delta:1})}function _(M,j){x=Xs.Replace;let C=b0(I.location,M,j);r&&r(C,M),p=b();let k=F1(C,p),B=I.createHref(C);h.replaceState(k,"",B),c&&y&&y({action:x,location:I.location,delta:0})}function R(M){let j=l.location.origin!=="null"?l.location.origin:l.location.href,C=typeof M=="string"?M:zc(M);return C=C.replace(/ $/,"%20"),Yt(j,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,j)}let I={get action(){return x},get location(){return e(l,h)},listen(M){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(B1,w),y=M,()=>{l.removeEventListener(B1,w),y=null}},createHref(M){return t(l,M)},createURL:R,encodeLocation(M){let j=R(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:_,go(M){return h.go(M)}};return I}var U1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(U1||(U1={}));function Yw(e,t,r){return r===void 0&&(r="/"),Xw(e,t,r,!1)}function Xw(e,t,r,s){let l=typeof t=="string"?Qa(t):t,c=Wf(l.pathname||"/",r);if(c==null)return null;let h=pp(e);Zw(h);let x=null;for(let y=0;x==null&&y<h.length;++y){let p=ib(c);x=nb(h[y],p,s)}return x}function pp(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let l=(c,h,x)=>{let y={relativePath:x===void 0?c.path||"":x,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};y.relativePath.startsWith("/")&&(Yt(y.relativePath.startsWith(s),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(s.length));let p=ii([s,y.relativePath]),b=r.concat(y);c.children&&c.children.length>0&&(Yt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),pp(c.children,t,b,p)),!(c.path==null&&!c.index)&&t.push({path:p,score:tb(p,c.index),routesMeta:b})};return e.forEach((c,h)=>{var x;if(c.path===""||!((x=c.path)!=null&&x.includes("?")))l(c,h);else for(let y of yp(c.path))l(c,h,y)}),t}function yp(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let h=yp(s.join("/")),x=[];return x.push(...h.map(y=>y===""?c:[c,y].join("/"))),l&&x.push(...h),x.map(y=>e.startsWith("/")&&y===""?"/":y)}function Zw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rb(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const $w=/^:[\w-]+$/,Qw=3,qw=2,Kw=1,Jw=10,eb=-2,z1=e=>e==="*";function tb(e,t){let r=e.split("/"),s=r.length;return r.some(z1)&&(s+=eb),t&&(s+=qw),r.filter(l=>!z1(l)).reduce((l,c)=>l+($w.test(c)?Qw:c===""?Kw:Jw),s)}function rb(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function nb(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,l={},c="/",h=[];for(let x=0;x<s.length;++x){let y=s[x],p=x===s.length-1,b=c==="/"?t:t.slice(c.length)||"/",w=V1({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},b),E=y.route;if(!w&&p&&r&&!s[s.length-1].route.index&&(w=V1({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:ii([c,w.pathname]),pathnameBase:cb(ii([c,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(c=ii([c,w.pathnameBase]))}return h}function V1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=sb(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),x=l.slice(1);return{params:s.reduce((p,b,w)=>{let{paramName:E,isOptional:_}=b;if(E==="*"){let I=x[w]||"";h=c.slice(0,c.length-I.length).replace(/(.)\/+$/,"$1")}const R=x[w];return _&&!R?p[E]=void 0:p[E]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:h,pattern:e}}function sb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,y)=>(s.push({paramName:x,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function ib(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function ab(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:l=""}=typeof e=="string"?Qa(e):e;return{pathname:r?r.startsWith("/")?r:ob(r,t):t,search:db(s),hash:ub(l)}}function ob(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Nu(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gf(e,t){let r=lb(e);return t?r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Yf(e,t,r,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=Qa(e):(l=al({},e),Yt(!l.pathname||!l.pathname.includes("?"),Nu("?","pathname","search",l)),Yt(!l.pathname||!l.pathname.includes("#"),Nu("#","pathname","hash",l)),Yt(!l.search||!l.search.includes("#"),Nu("#","search","hash",l)));let c=e===""||l.pathname==="",h=c?"/":l.pathname,x;if(h==null)x=r;else{let w=t.length-1;if(!s&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),w-=1;l.pathname=E.join("/")}x=w>=0?t[w]:"/"}let y=ab(l,x),p=h&&h!=="/"&&h.endsWith("/"),b=(c||h===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(p||b)&&(y.pathname+="/"),y}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),cb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),db=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ub=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vp=["post","put","patch","delete"];new Set(vp);const hb=["get",...vp];new Set(hb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ol.apply(this,arguments)}const Xf=D.createContext(null),mb=D.createContext(null),pi=D.createContext(null),pd=D.createContext(null),Ss=D.createContext({outlet:null,matches:[],isDataRoute:!1}),wp=D.createContext(null);function xb(e,t){let{relative:r}=t===void 0?{}:t;qa()||Yt(!1);let{basename:s,navigator:l}=D.useContext(pi),{hash:c,pathname:h,search:x}=Np(e,{relative:r}),y=h;return s!=="/"&&(y=h==="/"?s:ii([s,h])),l.createHref({pathname:y,search:x,hash:c})}function qa(){return D.useContext(pd)!=null}function As(){return qa()||Yt(!1),D.useContext(pd).location}function bp(e){D.useContext(pi).static||D.useLayoutEffect(e)}function un(){let{isDataRoute:e}=D.useContext(Ss);return e?Ib():gb()}function gb(){qa()||Yt(!1);let e=D.useContext(Xf),{basename:t,future:r,navigator:s}=D.useContext(pi),{matches:l}=D.useContext(Ss),{pathname:c}=As(),h=JSON.stringify(Gf(l,r.v7_relativeSplatPath)),x=D.useRef(!1);return bp(()=>{x.current=!0}),D.useCallback(function(p,b){if(b===void 0&&(b={}),!x.current)return;if(typeof p=="number"){s.go(p);return}let w=Yf(p,JSON.parse(h),c,b.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:ii([t,w.pathname])),(b.replace?s.replace:s.push)(w,b.state,b)},[t,s,h,c,e])}function yi(){let{matches:e}=D.useContext(Ss),t=e[e.length-1];return t?t.params:{}}function Np(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=D.useContext(pi),{matches:l}=D.useContext(Ss),{pathname:c}=As(),h=JSON.stringify(Gf(l,s.v7_relativeSplatPath));return D.useMemo(()=>Yf(e,JSON.parse(h),c,r==="path"),[e,h,c,r])}function pb(e,t){return yb(e,t)}function yb(e,t,r,s){qa()||Yt(!1);let{navigator:l}=D.useContext(pi),{matches:c}=D.useContext(Ss),h=c[c.length-1],x=h?h.params:{};h&&h.pathname;let y=h?h.pathnameBase:"/";h&&h.route;let p=As(),b;if(t){var w;let M=typeof t=="string"?Qa(t):t;y==="/"||(w=M.pathname)!=null&&w.startsWith(y)||Yt(!1),b=M}else b=p;let E=b.pathname||"/",_=E;if(y!=="/"){let M=y.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=Yw(e,{pathname:_}),I=Cb(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},x,M.params),pathname:ii([y,l.encodeLocation?l.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:ii([y,l.encodeLocation?l.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,r,s);return t&&I?D.createElement(pd.Provider,{value:{location:ol({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Xs.Pop}},I):I}function vb(){let e=jb(),t=fb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},c=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:l},r):null,c)}const wb=D.createElement(vb,null);class bb extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?D.createElement(Ss.Provider,{value:this.props.routeContext},D.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nb(e){let{routeContext:t,match:r,children:s}=e,l=D.useContext(Xf);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(Ss.Provider,{value:t},s)}function Cb(e,t,r,s){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var c;if(!r)return null;if(r.errors)e=r.matches;else if((c=s)!=null&&c.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let h=e,x=(l=r)==null?void 0:l.errors;if(x!=null){let b=h.findIndex(w=>w.route.id&&(x==null?void 0:x[w.route.id])!==void 0);b>=0||Yt(!1),h=h.slice(0,Math.min(h.length,b+1))}let y=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let b=0;b<h.length;b++){let w=h[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=b),w.route.id){let{loaderData:E,errors:_}=r,R=w.route.loader&&E[w.route.id]===void 0&&(!_||_[w.route.id]===void 0);if(w.route.lazy||R){y=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((b,w,E)=>{let _,R=!1,I=null,M=null;r&&(_=x&&w.route.id?x[w.route.id]:void 0,I=w.route.errorElement||wb,y&&(p<0&&E===0?(_b("route-fallback",!1),R=!0,M=null):p===E&&(R=!0,M=w.route.hydrateFallbackElement||null)));let j=t.concat(h.slice(0,E+1)),C=()=>{let k;return _?k=I:R?k=M:w.route.Component?k=D.createElement(w.route.Component,null):w.route.element?k=w.route.element:k=b,D.createElement(Nb,{match:w,routeContext:{outlet:b,matches:j,isDataRoute:r!=null},children:k})};return r&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?D.createElement(bb,{location:r.location,revalidation:r.revalidation,component:I,error:_,children:C(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):C()},null)}var Cp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Cp||{}),Vc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vc||{});function Eb(e){let t=D.useContext(Xf);return t||Yt(!1),t}function Sb(e){let t=D.useContext(mb);return t||Yt(!1),t}function Ab(e){let t=D.useContext(Ss);return t||Yt(!1),t}function Ep(e){let t=Ab(),r=t.matches[t.matches.length-1];return r.route.id||Yt(!1),r.route.id}function jb(){var e;let t=D.useContext(wp),r=Sb(Vc.UseRouteError),s=Ep(Vc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Ib(){let{router:e}=Eb(Cp.UseNavigateStable),t=Ep(Vc.UseNavigateStable),r=D.useRef(!1);return bp(()=>{r.current=!0}),D.useCallback(function(l,c){c===void 0&&(c={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,ol({fromRouteId:t},c)))},[e,t])}const H1={};function _b(e,t,r){!t&&!H1[e]&&(H1[e]=!0)}function Tb(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ai(e){let{to:t,replace:r,state:s,relative:l}=e;qa()||Yt(!1);let{future:c,static:h}=D.useContext(pi),{matches:x}=D.useContext(Ss),{pathname:y}=As(),p=un(),b=Yf(t,Gf(x,c.v7_relativeSplatPath),y,l==="path"),w=JSON.stringify(b);return D.useEffect(()=>p(JSON.parse(w),{replace:r,state:s,relative:l}),[p,w,l,r,s]),null}function Wt(e){Yt(!1)}function kb(e){let{basename:t="/",children:r=null,location:s,navigationType:l=Xs.Pop,navigator:c,static:h=!1,future:x}=e;qa()&&Yt(!1);let y=t.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:y,navigator:c,static:h,future:ol({v7_relativeSplatPath:!1},x)}),[y,x,c,h]);typeof s=="string"&&(s=Qa(s));let{pathname:b="/",search:w="",hash:E="",state:_=null,key:R="default"}=s,I=D.useMemo(()=>{let M=Wf(b,y);return M==null?null:{location:{pathname:M,search:w,hash:E,state:_,key:R},navigationType:l}},[y,b,w,E,_,R,l]);return I==null?null:D.createElement(pi.Provider,{value:p},D.createElement(pd.Provider,{children:r,value:I}))}function Mb(e){let{children:t,location:r}=e;return pb(N0(t),r)}new Promise(()=>{});function N0(e,t){t===void 0&&(t=[]);let r=[];return D.Children.forEach(e,(s,l)=>{if(!D.isValidElement(s))return;let c=[...t,l];if(s.type===D.Fragment){r.push.apply(r,N0(s.props.children,c));return}s.type!==Wt&&Yt(!1),!s.props.index||!s.props.children||Yt(!1);let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=N0(s.props.children,c)),r.push(h)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},C0.apply(this,arguments)}function Rb(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,c;for(c=0;c<s.length;c++)l=s[c],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function Ob(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Db(e,t){return e.button===0&&(!t||t==="_self")&&!Ob(e)}function E0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(l=>[r,l]):[[r,s]])},[]))}function Lb(e,t){let r=E0(e);return t&&t.forEach((s,l)=>{r.has(l)||t.getAll(l).forEach(c=>{r.append(l,c)})}),r}const Pb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bb="6";try{window.__reactRouterVersion=Bb}catch{}const Fb="startTransition",W1=ky[Fb];function Ub(e){let{basename:t,children:r,future:s,window:l}=e,c=D.useRef();c.current==null&&(c.current=Hw({window:l,v5Compat:!0}));let h=c.current,[x,y]=D.useState({action:h.action,location:h.location}),{v7_startTransition:p}=s||{},b=D.useCallback(w=>{p&&W1?W1(()=>y(w)):y(w)},[y,p]);return D.useLayoutEffect(()=>h.listen(b),[h,b]),D.useEffect(()=>Tb(s),[s]),D.createElement(kb,{basename:t,children:r,location:x.location,navigationType:x.action,navigator:h,future:s})}const zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=D.forwardRef(function(t,r){let{onClick:s,relative:l,reloadDocument:c,replace:h,state:x,target:y,to:p,preventScrollReset:b,viewTransition:w}=t,E=Rb(t,Pb),{basename:_}=D.useContext(pi),R,I=!1;if(typeof p=="string"&&Vb.test(p)&&(R=p,zb))try{let k=new URL(window.location.href),B=p.startsWith("//")?new URL(k.protocol+p):new URL(p),Y=Wf(B.pathname,_);B.origin===k.origin&&Y!=null?p=Y+B.search+B.hash:I=!0}catch{}let M=xb(p,{relative:l}),j=Hb(p,{replace:h,state:x,target:y,preventScrollReset:b,relative:l,viewTransition:w});function C(k){s&&s(k),k.defaultPrevented||j(k)}return D.createElement("a",C0({},E,{href:R||M,onClick:I||c?s:C,ref:r,target:y}))});var G1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(G1||(G1={}));var Y1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Y1||(Y1={}));function Hb(e,t){let{target:r,replace:s,state:l,preventScrollReset:c,relative:h,viewTransition:x}=t===void 0?{}:t,y=un(),p=As(),b=Np(e,{relative:h});return D.useCallback(w=>{if(Db(w,r)){w.preventDefault();let E=s!==void 0?s:zc(p)===zc(b);y(e,{replace:E,state:l,preventScrollReset:c,relative:h,viewTransition:x})}},[p,y,b,s,l,r,e,c,h,x])}function Wb(e){let t=D.useRef(E0(e)),r=D.useRef(!1),s=As(),l=D.useMemo(()=>Lb(s.search,r.current?null:t.current),[s.search]),c=un(),h=D.useCallback((x,y)=>{const p=E0(typeof x=="function"?x(l):x);r.current=!0,c("?"+p,y)},[c,l]);return[l,h]}let Gb={data:""},Yb=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Gb,Xb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Zb=/\/\*[^]*?\*\/|  +/g,X1=/\n+/g,Hs=(e,t)=>{let r="",s="",l="";for(let c in e){let h=e[c];c[0]=="@"?c[1]=="i"?r=c+" "+h+";":s+=c[1]=="f"?Hs(h,c):c+"{"+Hs(h,c[1]=="k"?"":t)+"}":typeof h=="object"?s+=Hs(h,t?t.replace(/([^,])+/g,x=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,y=>/&/.test(y)?y.replace(/&/g,x):x?x+" "+y:y)):c):h!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Hs.p?Hs.p(c,h):c+":"+h+";")}return r+(t&&l?t+"{"+l+"}":l)+s},os={},Sp=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Sp(e[r]);return t}return e},$b=(e,t,r,s,l)=>{let c=Sp(e),h=os[c]||(os[c]=(y=>{let p=0,b=11;for(;p<y.length;)b=101*b+y.charCodeAt(p++)>>>0;return"go"+b})(c));if(!os[h]){let y=c!==e?e:(p=>{let b,w,E=[{}];for(;b=Xb.exec(p.replace(Zb,""));)b[4]?E.shift():b[3]?(w=b[3].replace(X1," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][b[1]]=b[2].replace(X1," ").trim();return E[0]})(e);os[h]=Hs(l?{["@keyframes "+h]:y}:y,r?"":"."+h)}let x=r&&os.g?os.g:null;return r&&(os.g=os[h]),((y,p,b,w)=>{w?p.data=p.data.replace(w,y):p.data.indexOf(y)===-1&&(p.data=b?y+p.data:p.data+y)})(os[h],t,s,x),h},Qb=(e,t,r)=>e.reduce((s,l,c)=>{let h=t[c];if(h&&h.call){let x=h(r),y=x&&x.props&&x.props.className||/^go/.test(x)&&x;h=y?"."+y:x&&typeof x=="object"?x.props?"":Hs(x,""):x===!1?"":x}return s+l+(h??"")},"");function yd(e){let t=this||{},r=e.call?e(t.p):e;return $b(r.unshift?r.raw?Qb(r,[].slice.call(arguments,1),t.p):r.reduce((s,l)=>Object.assign(s,l&&l.call?l(t.p):l),{}):r,Yb(t.target),t.g,t.o,t.k)}let Ap,S0,A0;yd.bind({g:1});let bs=yd.bind({k:1});function qb(e,t,r,s){Hs.p=t,Ap=e,S0=r,A0=s}function vi(e,t){let r=this||{};return function(){let s=arguments;function l(c,h){let x=Object.assign({},c),y=x.className||l.className;r.p=Object.assign({theme:S0&&S0()},x),r.o=/ *go\d+/.test(y),x.className=yd.apply(r,s)+(y?" "+y:""),t&&(x.ref=h);let p=e;return e[0]&&(p=x.as||e,delete x.as),A0&&p[0]&&A0(x),Ap(p,x)}return t?t(l):l}}var Kb=e=>typeof e=="function",Hc=(e,t)=>Kb(e)?e(t):e,Jb=(()=>{let e=0;return()=>(++e).toString()})(),jp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),e4=20,Zf="default",Ip=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(h=>h.id===t.toast.id?{...h,...t.toast}:h)};case 2:let{toast:s}=t;return Ip(e,{type:e.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:l}=t;return{...e,toasts:e.toasts.map(h=>h.id===l||l===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(h=>h.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let c=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+c}))}}},mc=[],_p={toasts:[],pausedAt:void 0,settings:{toastLimit:e4}},ts={},Tp=(e,t=Zf)=>{ts[t]=Ip(ts[t]||_p,e),mc.forEach(([r,s])=>{r===t&&s(ts[t])})},kp=e=>Object.keys(ts).forEach(t=>Tp(e,t)),t4=e=>Object.keys(ts).find(t=>ts[t].toasts.some(r=>r.id===e)),vd=(e=Zf)=>t=>{Tp(t,e)},r4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},n4=(e={},t=Zf)=>{let[r,s]=D.useState(ts[t]||_p),l=D.useRef(ts[t]);D.useEffect(()=>(l.current!==ts[t]&&s(ts[t]),mc.push([t,s]),()=>{let h=mc.findIndex(([x])=>x===t);h>-1&&mc.splice(h,1)}),[t]);let c=r.toasts.map(h=>{var x,y,p;return{...e,...e[h.type],...h,removeDelay:h.removeDelay||((x=e[h.type])==null?void 0:x.removeDelay)||(e==null?void 0:e.removeDelay),duration:h.duration||((y=e[h.type])==null?void 0:y.duration)||(e==null?void 0:e.duration)||r4[h.type],style:{...e.style,...(p=e[h.type])==null?void 0:p.style,...h.style}}});return{...r,toasts:c}},s4=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Jb()}),vl=e=>(t,r)=>{let s=s4(t,e,r);return vd(s.toasterId||t4(s.id))({type:2,toast:s}),s.id},zt=(e,t)=>vl("blank")(e,t);zt.error=vl("error");zt.success=vl("success");zt.loading=vl("loading");zt.custom=vl("custom");zt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?vd(t)(r):kp(r)};zt.dismissAll=e=>zt.dismiss(void 0,e);zt.remove=(e,t)=>{let r={type:4,toastId:e};t?vd(t)(r):kp(r)};zt.removeAll=e=>zt.remove(void 0,e);zt.promise=(e,t,r)=>{let s=zt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(l=>{let c=t.success?Hc(t.success,l):void 0;return c?zt.success(c,{id:s,...r,...r==null?void 0:r.success}):zt.dismiss(s),l}).catch(l=>{let c=t.error?Hc(t.error,l):void 0;c?zt.error(c,{id:s,...r,...r==null?void 0:r.error}):zt.dismiss(s)}),e};var i4=1e3,a4=(e,t="default")=>{let{toasts:r,pausedAt:s}=n4(e,t),l=D.useRef(new Map).current,c=D.useCallback((w,E=i4)=>{if(l.has(w))return;let _=setTimeout(()=>{l.delete(w),h({type:4,toastId:w})},E);l.set(w,_)},[]);D.useEffect(()=>{if(s)return;let w=Date.now(),E=r.map(_=>{if(_.duration===1/0)return;let R=(_.duration||0)+_.pauseDuration-(w-_.createdAt);if(R<0){_.visible&&zt.dismiss(_.id);return}return setTimeout(()=>zt.dismiss(_.id,t),R)});return()=>{E.forEach(_=>_&&clearTimeout(_))}},[r,s,t]);let h=D.useCallback(vd(t),[t]),x=D.useCallback(()=>{h({type:5,time:Date.now()})},[h]),y=D.useCallback((w,E)=>{h({type:1,toast:{id:w,height:E}})},[h]),p=D.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),b=D.useCallback((w,E)=>{let{reverseOrder:_=!1,gutter:R=8,defaultPosition:I}=E||{},M=r.filter(k=>(k.position||I)===(w.position||I)&&k.height),j=M.findIndex(k=>k.id===w.id),C=M.filter((k,B)=>B<j&&k.visible).length;return M.filter(k=>k.visible).slice(..._?[C+1]:[0,C]).reduce((k,B)=>k+(B.height||0)+R,0)},[r]);return D.useEffect(()=>{r.forEach(w=>{if(w.dismissed)c(w.id,w.removeDelay);else{let E=l.get(w.id);E&&(clearTimeout(E),l.delete(w.id))}})},[r,c]),{toasts:r,handlers:{updateHeight:y,startPause:x,endPause:p,calculateOffset:b}}},o4=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,l4=bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,c4=bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,d4=vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${l4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${c4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,u4=bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,f4=vi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${u4} 1s linear infinite;
`,h4=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,m4=bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,x4=vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${h4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${m4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,g4=vi("div")`
  position: absolute;
`,p4=vi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,y4=bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v4=vi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${y4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,w4=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t=="string"?D.createElement(v4,null,t):t:r==="blank"?null:D.createElement(p4,null,D.createElement(f4,{...s}),r!=="loading"&&D.createElement(g4,null,r==="error"?D.createElement(d4,{...s}):D.createElement(x4,{...s})))},b4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,N4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,C4="0%{opacity:0;} 100%{opacity:1;}",E4="0%{opacity:1;} 100%{opacity:0;}",S4=vi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,A4=vi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,j4=(e,t)=>{let r=e.includes("top")?1:-1,[s,l]=jp()?[C4,E4]:[b4(r),N4(r)];return{animation:t?`${bs(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bs(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},I4=D.memo(({toast:e,position:t,style:r,children:s})=>{let l=e.height?j4(e.position||t||"top-center",e.visible):{opacity:0},c=D.createElement(w4,{toast:e}),h=D.createElement(A4,{...e.ariaProps},Hc(e.message,e));return D.createElement(S4,{className:e.className,style:{...l,...r,...e.style}},typeof s=="function"?s({icon:c,message:h}):D.createElement(D.Fragment,null,c,h))});qb(D.createElement);var _4=({id:e,className:t,style:r,onHeightUpdate:s,children:l})=>{let c=D.useCallback(h=>{if(h){let x=()=>{let y=h.getBoundingClientRect().height;s(e,y)};x(),new MutationObserver(x).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return D.createElement("div",{ref:c,className:t,style:r},l)},T4=(e,t)=>{let r=e.includes("top"),s=r?{top:0}:{bottom:0},l=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...s,...l}},k4=yd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zl=16,M4=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:s,children:l,toasterId:c,containerStyle:h,containerClassName:x})=>{let{toasts:y,handlers:p}=a4(r,c);return D.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Zl,left:Zl,right:Zl,bottom:Zl,pointerEvents:"none",...h},className:x,onMouseEnter:p.startPause,onMouseLeave:p.endPause},y.map(b=>{let w=b.position||t,E=p.calculateOffset(b,{reverseOrder:e,gutter:s,defaultPosition:t}),_=T4(w,E);return D.createElement(_4,{id:b.id,key:b.id,onHeightUpdate:p.updateHeight,className:b.visible?k4:"",style:_},b.type==="custom"?Hc(b.message,b):l?l(b):D.createElement(I4,{toast:b,position:w}))}))},us=zt,R4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const O4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Me=(e,t)=>{const r=D.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:h,children:x,...y},p)=>D.createElement("svg",{ref:p,...R4,width:l,height:l,stroke:s,strokeWidth:h?Number(c)*24/Number(l):c,className:`lucide lucide-${O4(e)}`,...y},[...t.map(([b,w])=>D.createElement(b,w)),...(Array.isArray(x)?x:[x])||[]]));return r.displayName=`${e}`,r},di=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),D4=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),$f=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Z1=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Zs=Me("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),j0=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),L4=Me("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),P4=Me("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Tr=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),$1=Me("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),Q1=Me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Zi=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Po=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),B4=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Mp=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),F4=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),U4=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ba=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Bo=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),q1=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),wd=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Wc=Me("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),I0=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rr=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),z4=Me("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Cu=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),_0=Me("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),K1=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$s=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zn=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),V4=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),H4=Me("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),J1=Me("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),W4=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Na=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ll=Me("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Rp=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),G4=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),bd=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),cl=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qf=Me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Eu=Me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Op=Me("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Fa=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Y4=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),X4=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),T0=Me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Z4=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),k0=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),An=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),dl=Me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Wi=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$4=Me("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),em=e=>{let t;const r=new Set,s=(b,w)=>{const E=typeof b=="function"?b(t):b;if(!Object.is(E,t)){const _=t;t=w??(typeof E!="object"||E===null)?E:Object.assign({},t,E),r.forEach(R=>R(t,_))}},l=()=>t,y={setState:s,getState:l,getInitialState:()=>p,subscribe:b=>(r.add(b),()=>r.delete(b)),destroy:()=>{r.clear()}},p=t=e(s,l,y);return y},Q4=e=>e?em(e):em;var Dp={exports:{}},Lp={},Pp={exports:{}},Bp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=D;function q4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K4=typeof Object.is=="function"?Object.is:q4,J4=Ua.useState,e3=Ua.useEffect,t3=Ua.useLayoutEffect,r3=Ua.useDebugValue;function n3(e,t){var r=t(),s=J4({inst:{value:r,getSnapshot:t}}),l=s[0].inst,c=s[1];return t3(function(){l.value=r,l.getSnapshot=t,Su(l)&&c({inst:l})},[e,r,t]),e3(function(){return Su(l)&&c({inst:l}),e(function(){Su(l)&&c({inst:l})})},[e]),r3(r),r}function Su(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!K4(e,r)}catch{return!0}}function s3(e,t){return t()}var i3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s3:n3;Bp.useSyncExternalStore=Ua.useSyncExternalStore!==void 0?Ua.useSyncExternalStore:i3;Pp.exports=Bp;var a3=Pp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=D,o3=a3;function l3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c3=typeof Object.is=="function"?Object.is:l3,d3=o3.useSyncExternalStore,u3=Nd.useRef,f3=Nd.useEffect,h3=Nd.useMemo,m3=Nd.useDebugValue;Lp.useSyncExternalStoreWithSelector=function(e,t,r,s,l){var c=u3(null);if(c.current===null){var h={hasValue:!1,value:null};c.current=h}else h=c.current;c=h3(function(){function y(_){if(!p){if(p=!0,b=_,_=s(_),l!==void 0&&h.hasValue){var R=h.value;if(l(R,_))return w=R}return w=_}if(R=w,c3(b,_))return R;var I=s(_);return l!==void 0&&l(R,I)?(b=_,R):(b=_,w=I)}var p=!1,b,w,E=r===void 0?null:r;return[function(){return y(t())},E===null?void 0:function(){return y(E())}]},[t,r,s,l]);var x=d3(e,c[0],c[1]);return f3(function(){h.hasValue=!0,h.value=x},[x]),m3(x),x};Dp.exports=Lp;var x3=Dp.exports;const g3=ed(x3),{useDebugValue:p3}=ze,{useSyncExternalStoreWithSelector:y3}=g3;const v3=e=>e;function w3(e,t=v3,r){const s=y3(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return p3(s),s}const tm=e=>{const t=typeof e=="function"?Q4(e):e,r=(s,l)=>w3(t,s,l);return Object.assign(r,t),r},qf=e=>e?tm(e):tm;function b3(e,t){let r;try{r=e()}catch{return}return{getItem:l=>{var c;const h=y=>y===null?null:JSON.parse(y,t==null?void 0:t.reviver),x=(c=r.getItem(l))!=null?c:null;return x instanceof Promise?x.then(h):h(x)},setItem:(l,c)=>r.setItem(l,JSON.stringify(c,t==null?void 0:t.replacer)),removeItem:l=>r.removeItem(l)}}const ul=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return ul(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return ul(s)(r)}}}},N3=(e,t)=>(r,s,l)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:M=>M,version:0,merge:(M,j)=>({...j,...M}),...t},h=!1;const x=new Set,y=new Set;let p;try{p=c.getStorage()}catch{}if(!p)return e((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...M)},s,l);const b=ul(c.serialize),w=()=>{const M=c.partialize({...s()});let j;const C=b({state:M,version:c.version}).then(k=>p.setItem(c.name,k)).catch(k=>{j=k});if(j)throw j;return C},E=l.setState;l.setState=(M,j)=>{E(M,j),w()};const _=e((...M)=>{r(...M),w()},s,l);let R;const I=()=>{var M;if(!p)return;h=!1,x.forEach(C=>C(s()));const j=((M=c.onRehydrateStorage)==null?void 0:M.call(c,s()))||void 0;return ul(p.getItem.bind(p))(c.name).then(C=>{if(C)return c.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==c.version){if(c.migrate)return c.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var k;return R=c.merge(C,(k=s())!=null?k:_),r(R,!0),w()}).then(()=>{j==null||j(R,void 0),h=!0,y.forEach(C=>C(R))}).catch(C=>{j==null||j(void 0,C)})};return l.persist={setOptions:M=>{c={...c,...M},M.getStorage&&(p=M.getStorage())},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>I(),hasHydrated:()=>h,onHydrate:M=>(x.add(M),()=>{x.delete(M)}),onFinishHydration:M=>(y.add(M),()=>{y.delete(M)})},I(),R||_},C3=(e,t)=>(r,s,l)=>{let c={storage:b3(()=>localStorage),partialize:I=>I,version:0,merge:(I,M)=>({...M,...I}),...t},h=!1;const x=new Set,y=new Set;let p=c.storage;if(!p)return e((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...I)},s,l);const b=()=>{const I=c.partialize({...s()});return p.setItem(c.name,{state:I,version:c.version})},w=l.setState;l.setState=(I,M)=>{w(I,M),b()};const E=e((...I)=>{r(...I),b()},s,l);l.getInitialState=()=>E;let _;const R=()=>{var I,M;if(!p)return;h=!1,x.forEach(C=>{var k;return C((k=s())!=null?k:E)});const j=((M=c.onRehydrateStorage)==null?void 0:M.call(c,(I=s())!=null?I:E))||void 0;return ul(p.getItem.bind(p))(c.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==c.version){if(c.migrate)return[!0,c.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var k;const[B,Y]=C;if(_=c.merge(Y,(k=s())!=null?k:E),r(_,!0),B)return b()}).then(()=>{j==null||j(_,void 0),_=s(),h=!0,y.forEach(C=>C(_))}).catch(C=>{j==null||j(void 0,C)})};return l.persist={setOptions:I=>{c={...c,...I},I.storage&&(p=I.storage)},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>R(),hasHydrated:()=>h,onHydrate:I=>(x.add(I),()=>{x.delete(I)}),onFinishHydration:I=>(y.add(I),()=>{y.delete(I)})},c.skipHydration||R(),_||E},E3=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?N3(e,t):C3(e,t),S3=E3,A3=e=>{if(!e||typeof e!="string")return!1;const t=e.split(".");if(t.length!==3)return!1;try{return t.forEach(r=>{if(!r)throw new Error("Empty part");atob(r.replace(/-/g,"+").replace(/_/g,"/"))}),!0}catch{return!1}},on=qf()(S3((e,t)=>({user:null,accessToken:null,isAuthenticated:!1,isLoading:!1,error:null,setAuth:(r,s)=>{e({user:r,accessToken:s,isAuthenticated:!0,error:null})},clearAuth:()=>{e({user:null,accessToken:null,isAuthenticated:!1,error:null})},setLoading:r=>{e({isLoading:r})},setError:r=>{e({error:r})},updateUser:r=>{const s=t().user;s&&e({user:{...s,...r}})},validateToken:()=>{const{accessToken:r}=t();return!r||!A3(r)?(t().clearAuth(),!1):!0}}),{name:"auth-store",partialize:e=>({user:e.user,accessToken:e.accessToken,isAuthenticated:e.isAuthenticated})})),j3="http://localhost:3001/api";class Ca extends Error{constructor(t,r,s){super(s||r.error||"An error occurred"),this.status=t,this.response=r,this.name="ApiError"}}class I3{constructor(t=j3){Ih(this,"baseURL");this.baseURL=t}async request(t,r={}){const s=`${this.baseURL}${t}`,l={headers:{"Content-Type":"application/json",...r.headers},credentials:"include",...r},c=this.getStoredToken();c?(l.headers.Authorization=`Bearer ${c}`,console.log(" Request with token for:",t)):console.log(" No token found for request:",t);try{console.log(" Making request to:",s),console.log(" Headers:",l.headers);const h=await fetch(s,l),x=await h.json();if(!h.ok)throw console.log(" Request failed:",h.status,x),h.status===401&&x.code==="TOKEN_EXPIRED"?(console.log(" Token expired, clearing auth and redirecting to login"),this.handleTokenExpiration(),new Ca(h.status,{...x,shouldRedirectToLogin:!0})):new Ca(h.status,x);return console.log(" Request successful:",x),x}catch(h){throw h instanceof Ca?h:new Ca(0,{success:!1,error:"Network error or server unavailable"})}}getStoredToken(){var t;try{const r=on.getState();if(r.accessToken)return console.log("Retrieved token from store state: Token exists"),r.accessToken;const s=localStorage.getItem("auth-store");if(s){const l=JSON.parse(s),c=((t=l.state)==null?void 0:t.accessToken)||l.accessToken||null;return console.log("Retrieved token from localStorage:",c?"Token exists":"No token found"),c}}catch(r){console.error("Error retrieving token:",r)}return console.log("No token found in store or localStorage"),null}handleTokenExpiration(){console.log(" Handling token expiration");const t=on.getState();t.clearAuth(),t.setError("Your session has expired. Please log in again."),setTimeout(()=>{window.location.href="/login"},1e3)}async get(t){return this.request(t,{method:"GET"})}async post(t,r){return this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}const dt=new I3;class go{static async login(t){return dt.post("/auth/login",t)}static async register(t){return dt.post("/auth/register",t)}static async logout(){return dt.post("/auth/logout")}static async refreshToken(){return dt.post("/auth/refresh")}static async getProfile(){return dt.get("/auth/profile")}static isAuthenticated(){var t;try{const r=localStorage.getItem("auth-store");if(r)return((t=JSON.parse(r).state)==null?void 0:t.isAuthenticated)||!1}catch{}return!1}static getCurrentUser(){var t;try{const r=localStorage.getItem("auth-store");if(r)return((t=JSON.parse(r).state)==null?void 0:t.user)||null}catch{}return null}static getAccessToken(){var t;try{const r=localStorage.getItem("auth-store");if(r)return((t=JSON.parse(r).state)==null?void 0:t.accessToken)||null}catch{}return null}}const Yr=()=>{const e=un(),{user:t,isAuthenticated:r,isLoading:s,error:l,setAuth:c,clearAuth:h,setLoading:x,setError:y,updateUser:p}=on(),b=D.useCallback(async I=>{try{x(!0),y(null);const M=await go.login(I);if(M.success&&M.data)return c(M.data.user,M.data.accessToken),us.success("Login successful!"),e("/dashboard"),!0;throw new Error(M.error||"Login failed")}catch(M){let j="An unexpected error occurred";if(M instanceof Ca)if(M.status===401)j="Invalid email or password. Please check your credentials and try again.";else if(M.status===403){const C=M.response;C!=null&&C.requiresVerification?C!=null&&C.verificationEmailSent?(j="Please verify your email address. We've sent a new verification email to your inbox.",us.success("New verification email sent! Please check your inbox.")):j="Please verify your email address before logging in. Check your inbox for verification instructions.":j="Your account has been disabled. Please contact support for assistance."}else M.status===429?j="Too many login attempts. Please wait a few minutes and try again.":M.status===500?j="Server error occurred. Please try again in a few moments.":j=M.response.error||"Login failed. Please check your credentials.";else M instanceof Error&&(M.message.includes("network")||M.message.includes("fetch")?j="Unable to connect to the server. Please check your internet connection.":j=M.message||"Login failed. Please try again.");return y(j),us.error(j),!1}finally{x(!1)}},[c,x,y,e]),w=D.useCallback(async I=>{var M,j,C,k,B,Y;try{x(!0),y(null);const $=await go.register(I);if($.success){if((M=$.data)!=null&&M.requiresVerification)return us.success("Account created! Please check your email for verification instructions."),e("/login"),!0;if((j=$.data)!=null&&j.user&&((C=$.data)!=null&&C.accessToken))return c($.data.user,$.data.accessToken),us.success("Account created successfully!"),e("/dashboard"),!0}else throw new Error($.error||"Registration failed")}catch($){let P="An unexpected error occurred";return $ instanceof Ca?$.status===409?P="An account with this email already exists. Please try logging in instead.":$.status===400?(k=$.response.error)!=null&&k.includes("email")?P="Please provide a valid email address.":(B=$.response.error)!=null&&B.includes("password")?P="Password must be at least 8 characters long.":(Y=$.response.error)!=null&&Y.includes("name")?P="Please provide your full name.":P=$.response.error||"Please check your information and try again.":$.status===500?P="Server error occurred. Please try again in a few moments.":P=$.response.error||"Registration failed. Please try again.":$ instanceof Error&&($.message.includes("network")||$.message.includes("fetch")?P="Unable to connect to the server. Please check your internet connection.":P=$.message||"Registration failed. Please try again."),y(P),us.error(P),!1}finally{x(!1)}},[c,x,y,e]),E=D.useCallback(async()=>{try{x(!0),await go.logout(),h(),us.success("Logged out successfully"),e("/")}catch{h(),e("/")}finally{x(!1)}},[h,x,e]),_=D.useCallback(async()=>{try{const I=await go.refreshToken();if(I.success&&I.data){const M=on.getState().user;return M&&c(M,I.data.accessToken),!0}else throw new Error("Token refresh failed")}catch{return h(),e("/login"),!1}},[c,h,e]),R=D.useCallback(async()=>{try{x(!0);const I=await go.getProfile();I.success&&I.data?p(I.data.user):h()}catch{await _()||h()}finally{x(!1)}},[p,h,_,x]);return{user:t,isAuthenticated:r,isLoading:s,error:l,login:b,register:w,logout:E,refreshToken:_,checkAuthStatus:R,updateUser:p,isOrganizer:(t==null?void 0:t.role)==="organizer"||(t==null?void 0:t.role)==="admin",isAdmin:(t==null?void 0:t.role)==="admin",clearError:()=>y(null)}},_3=({children:e})=>{const t=As(),[r,s]=ze.useState(!1),{user:l,isAuthenticated:c,logout:h}=Yr(),x=[{name:"Events",href:"/events",icon:An}],y=[{name:"Dashboard",href:"/dashboard",icon:P4}],p=(l==null?void 0:l.role)==="participant"?[{name:"My Registrations",href:"/my-registrations",icon:T0}]:[],b=(l==null?void 0:l.role)==="organizer"||(l==null?void 0:l.role)==="admin"?[{name:"QR Scanner",href:"/scanner",icon:ll},{name:"Certificates",href:"/certificates",icon:Zs}]:[],w=[...y,...p,...b],E=c?[...x,...w]:x,_=["/login","/register"].includes(t.pathname),R=t.pathname==="/";return _?a.jsx("div",{className:"min-h-screen bg-gray-50",children:e}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsxs("nav",{className:"bg-white shadow-sm border-b",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center",children:a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:"eventbase"})}),a.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:E.map(I=>{const M=I.icon,j=t.pathname.startsWith(I.href);return x.includes(I)||c&&!R&&w.includes(I)?a.jsxs(ke,{to:I.href,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${j?"border-primary-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[a.jsx(M,{className:"w-4 h-4 mr-2"}),I.name]},I.name):null})})]}),a.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:R||!c?a.jsxs("div",{className:"space-x-4",children:[a.jsx(ke,{to:"/login",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Sign in"}),a.jsx(ke,{to:"/register",className:"btn btn-primary",children:"Get Started"})]}):a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ke,{to:"/events/create",className:"btn btn-primary text-sm px-4 py-2",children:"Create Event"}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[a.jsx(k0,{className:"w-4 h-4"}),a.jsx("span",{children:l==null?void 0:l.name}),a.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:l==null?void 0:l.role})]}),a.jsx("button",{onClick:h,className:"p-2 rounded-full hover:bg-gray-100 text-red-600",title:"Sign out",children:a.jsx(K1,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"sm:hidden flex items-center",children:a.jsx("button",{onClick:()=>s(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:r?a.jsx(Wi,{className:"w-6 h-6"}):a.jsx(V4,{className:"w-6 h-6"})})})]})}),r&&a.jsxs("div",{className:"sm:hidden",children:[a.jsx("div",{className:"pt-2 pb-3 space-y-1",children:E.map(I=>{const M=I.icon,j=t.pathname.startsWith(I.href);return x.includes(I)||c&&!R&&w.includes(I)?a.jsxs(ke,{to:I.href,className:`flex items-center px-3 py-2 border-l-4 text-base font-medium ${j?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"}`,onClick:()=>s(!1),children:[a.jsx(M,{className:"w-5 h-5 mr-3"}),I.name]},I.name):null})}),R?a.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center px-4 space-y-2",children:[a.jsx(ke,{to:"/login",className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900",onClick:()=>s(!1),children:"Sign in"}),a.jsx(ke,{to:"/register",className:"block btn-primary w-full text-center",onClick:()=>s(!1),children:"Get Started"})]})}):a.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[a.jsx("div",{className:"px-4 mb-3",children:a.jsx(ke,{to:"/events/create",className:"block btn btn-primary w-full text-center",onClick:()=>s(!1),children:"Create Event"})}),a.jsxs("div",{className:"flex items-center px-4 space-x-3",children:[a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:a.jsx(k0,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 text-red-600",children:a.jsx(K1,{className:"w-5 h-5"})})]})]})]})]}),a.jsx("main",{className:"flex-1",children:e}),a.jsx("footer",{className:"bg-white border-t",children:a.jsx("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"text-center text-gray-500",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," eventbase. All rights reserved."]})})})})]})},Qr=({children:e,requireOrganizer:t=!1,requireAdmin:r=!1})=>{const{isAuthenticated:s,user:l,isLoading:c}=Yr(),h=As();return c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?r&&(l==null?void 0:l.role)!=="admin"?a.jsx(ai,{to:"/dashboard",replace:!0}):t&&!["organizer","admin"].includes((l==null?void 0:l.role)||"")?a.jsx(ai,{to:"/dashboard",replace:!0}):a.jsx(a.Fragment,{children:e}):a.jsx(ai,{to:"/login",state:{from:h},replace:!0})},T3=()=>{["token","accessToken","authToken"].forEach(t=>{const r=localStorage.getItem(t);r&&(!r.includes(".")||r.split(".").length!==3)&&(console.log(`Removing invalid token from localStorage: ${t}`),localStorage.removeItem(t))})};typeof window<"u"&&T3();const k3=()=>{const e=[{icon:Tr,title:"Easy Event Creation",description:"Create and manage events with our intuitive event creation wizard."},{icon:An,title:"Flexible Registration",description:"Build custom registration forms with drag-and-drop form builder."},{icon:ll,title:"QR Code Attendance",description:"Track attendance with QR code scanning for seamless check-ins."},{icon:Zs,title:"Digital Certificates",description:"Generate and distribute certificates automatically to attendees."}],t=["Create unlimited events","Custom registration forms","Real-time attendance tracking","Automated certificate generation","Payment integration","Analytics dashboard"];return a.jsxs("div",{children:[a.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Manage Events Like a Pro"}),a.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-100 max-w-3xl mx-auto",children:"Complete event management platform with registration, attendance tracking, and certificate generation - all in one place."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ke,{to:"/events",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:["Browse Events",a.jsx(Z1,{className:"w-5 h-5 ml-2"})]}),a.jsx(ke,{to:"/register",className:"border border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center justify-center",children:"Get Started Free"})]})]})})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to manage events"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"From creation to certification, we've got every aspect of event management covered."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,s)=>{const l=r.icon;return a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-4",children:a.jsx(l,{className:"w-8 h-8 text-primary-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),a.jsx("p",{className:"text-gray-600",children:r.description})]},s)})})]})}),a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Why choose eventbase?"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Our platform is designed to streamline every aspect of event management, from initial planning to post-event certificate distribution."}),a.jsx("div",{className:"space-y-4",children:t.map((r,s)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx(Zi,{className:"w-6 h-6 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:r})]},s))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to get started?"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Join thousands of event organizers who trust eventbase to manage their events."}),a.jsx(ke,{to:"/register",className:"btn btn-primary w-full text-center block",children:"Start Your Free Trial"})]})]})})}),a.jsx("section",{className:"bg-primary-600 text-white py-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to revolutionize your event management?"}),a.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Start managing your events professionally with our comprehensive platform."}),a.jsxs(ke,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-semibold py-3 px-8 rounded-lg transition-colors inline-flex items-center",children:["Get Started Now",a.jsx(Z1,{className:"w-5 h-5 ml-2"})]})]})})]})};var wl=e=>e.type==="checkbox",Di=e=>e instanceof Date,Ir=e=>e==null;const Fp=e=>typeof e=="object";var Qt=e=>!Ir(e)&&!Array.isArray(e)&&Fp(e)&&!Di(e),M3=e=>Qt(e)&&e.target?wl(e.target)?e.target.checked:e.target.value:e,R3=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,O3=(e,t)=>e.has(R3(t)),D3=e=>{const t=e.constructor&&e.constructor.prototype;return Qt(t)&&t.hasOwnProperty("isPrototypeOf")},Kf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function or(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Kf&&(e instanceof Blob||s))&&(r||Qt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!D3(e))t=e;else for(const l in e)e.hasOwnProperty(l)&&(t[l]=or(e[l]));else return e;return t}var Cd=e=>/^\w*$/.test(e),Zt=e=>e===void 0,Jf=e=>Array.isArray(e)?e.filter(Boolean):[],eh=e=>Jf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(e,t,r)=>{if(!t||!Qt(e))return r;const s=(Cd(t)?[t]:eh(t)).reduce((l,c)=>Ir(l)?l:l[c],e);return Zt(s)||s===e?Zt(e[t])?r:e[t]:s},Kn=e=>typeof e=="boolean",vt=(e,t,r)=>{let s=-1;const l=Cd(t)?[t]:eh(t),c=l.length,h=c-1;for(;++s<c;){const x=l[s];let y=r;if(s!==h){const p=e[x];y=Qt(p)||Array.isArray(p)?p:isNaN(+l[s+1])?{}:[]}if(x==="__proto__"||x==="constructor"||x==="prototype")return;e[x]=y,e=e[x]}};const rm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ln={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},L3=ze.createContext(null);L3.displayName="HookFormContext";var P3=(e,t,r,s=!0)=>{const l={defaultValues:t._defaultValues};for(const c in e)Object.defineProperty(l,c,{get:()=>{const h=c;return t._proxyFormState[h]!==Ln.all&&(t._proxyFormState[h]=!s||Ln.all),r&&(r[h]=!0),e[h]}});return l};const B3=typeof window<"u"?ze.useLayoutEffect:ze.useEffect;var tn=e=>typeof e=="string",F3=(e,t,r,s,l)=>tn(e)?(s&&t.watch.add(e),Se(r,e,l)):Array.isArray(e)?e.map(c=>(s&&t.watch.add(c),Se(r,c))):(s&&(t.watchAll=!0),r),M0=e=>Ir(e)||!Fp(e);function Ws(e,t,r=new WeakSet){if(M0(e)||M0(t))return e===t;if(Di(e)&&Di(t))return e.getTime()===t.getTime();const s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const c of s){const h=e[c];if(!l.includes(c))return!1;if(c!=="ref"){const x=t[c];if(Di(h)&&Di(x)||Qt(h)&&Qt(x)||Array.isArray(h)&&Array.isArray(x)?!Ws(h,x,r):h!==x)return!1}}return!0}var Up=(e,t,r,s,l)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:l||!0}}:{},Fo=e=>Array.isArray(e)?e:[e],nm=()=>{let e=[];return{get observers(){return e},next:l=>{for(const c of e)c.next&&c.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(c=>c!==l)}}),unsubscribe:()=>{e=[]}}};function zp(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const l=e[s],c=t[s];if(l&&Qt(l)&&c){const h=zp(l,c);Qt(h)&&(r[s]=h)}else e[s]&&(r[s]=c)}return r}var Fr=e=>Qt(e)&&!Object.keys(e).length,th=e=>e.type==="file",Pn=e=>typeof e=="function",Gc=e=>{if(!Kf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vp=e=>e.type==="select-multiple",rh=e=>e.type==="radio",U3=e=>rh(e)||wl(e),Au=e=>Gc(e)&&e.isConnected;function z3(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Zt(e)?s++:e[t[s++]];return e}function V3(e){for(const t in e)if(e.hasOwnProperty(t)&&!Zt(e[t]))return!1;return!0}function Xt(e,t){const r=Array.isArray(t)?t:Cd(t)?[t]:eh(t),s=r.length===1?e:z3(e,r),l=r.length-1,c=r[l];return s&&delete s[c],l!==0&&(Qt(s)&&Fr(s)||Array.isArray(s)&&V3(s))&&Xt(e,r.slice(0,-1)),e}var H3=e=>{for(const t in e)if(Pn(e[t]))return!0;return!1};function Hp(e){return Array.isArray(e)||Qt(e)&&!H3(e)}function R0(e,t={}){for(const r in e)Hp(e[r])?(t[r]=Array.isArray(e[r])?[]:{},R0(e[r],t[r])):Ir(e[r])||(t[r]=!0);return t}function oa(e,t,r){r||(r=R0(t));for(const s in e)Hp(e[s])?Zt(t)||M0(r[s])?r[s]=R0(e[s],Array.isArray(e[s])?[]:{}):oa(e[s],Ir(t)?{}:t[s],r[s]):r[s]=!Ws(e[s],t[s]);return r}const sm={value:!1,isValid:!1},im={value:!0,isValid:!0};var Wp=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Zt(e[0].attributes.value)?Zt(e[0].value)||e[0].value===""?im:{value:e[0].value,isValid:!0}:im:sm}return sm},Gp=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Zt(e)?e:t?e===""?NaN:e&&+e:r&&tn(e)?new Date(e):s?s(e):e;const am={isValid:!1,value:null};var Yp=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,am):am;function om(e){const t=e.ref;return th(t)?t.files:rh(t)?Yp(e.refs).value:Vp(t)?[...t.selectedOptions].map(({value:r})=>r):wl(t)?Wp(e.refs).value:Gp(Zt(t.value)?e.ref.value:t.value,e)}var W3=(e,t,r,s)=>{const l={};for(const c of e){const h=Se(t,c);h&&vt(l,c,h._f)}return{criteriaMode:r,names:[...e],fields:l,shouldUseNativeValidation:s}},Yc=e=>e instanceof RegExp,po=e=>Zt(e)?e:Yc(e)?e.source:Qt(e)?Yc(e.value)?e.value.source:e.value:e,lm=e=>({isOnSubmit:!e||e===Ln.onSubmit,isOnBlur:e===Ln.onBlur,isOnChange:e===Ln.onChange,isOnAll:e===Ln.all,isOnTouch:e===Ln.onTouched});const cm="AsyncFunction";var G3=e=>!!e&&!!e.validate&&!!(Pn(e.validate)&&e.validate.constructor.name===cm||Qt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===cm)),Y3=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),dm=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Uo=(e,t,r,s)=>{for(const l of r||Object.keys(e)){const c=Se(e,l);if(c){const{_f:h,...x}=c;if(h){if(h.refs&&h.refs[0]&&t(h.refs[0],l)&&!s)return!0;if(h.ref&&t(h.ref,h.name)&&!s)return!0;if(Uo(x,t))break}else if(Qt(x)&&Uo(x,t))break}}};function um(e,t,r){const s=Se(e,r);if(s||Cd(r))return{error:s,name:r};const l=r.split(".");for(;l.length;){const c=l.join("."),h=Se(t,c),x=Se(e,c);if(h&&!Array.isArray(h)&&r!==c)return{name:r};if(x&&x.type)return{name:c,error:x};if(x&&x.root&&x.root.type)return{name:`${c}.root`,error:x.root};l.pop()}return{name:r}}var X3=(e,t,r,s)=>{r(e);const{name:l,...c}=e;return Fr(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(h=>t[h]===(!s||Ln.all))},Z3=(e,t,r)=>!e||!t||e===t||Fo(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),$3=(e,t,r,s,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(t||e):(r?s.isOnBlur:l.isOnBlur)?!e:(r?s.isOnChange:l.isOnChange)?e:!0,Q3=(e,t)=>!Jf(Se(e,t)).length&&Xt(e,t),q3=(e,t,r)=>{const s=Fo(Se(e,r));return vt(s,"root",t[r]),vt(e,r,s),e};function fm(e,t,r="validate"){if(tn(e)||Array.isArray(e)&&e.every(tn)||Kn(e)&&!e)return{type:r,message:tn(e)?e:"",ref:t}}var aa=e=>Qt(e)&&!Yc(e)?e:{value:e,message:""},hm=async(e,t,r,s,l,c)=>{const{ref:h,refs:x,required:y,maxLength:p,minLength:b,min:w,max:E,pattern:_,validate:R,name:I,valueAsNumber:M,mount:j}=e._f,C=Se(r,I);if(!j||t.has(I))return{};const k=x?x[0]:h,B=F=>{l&&k.reportValidity&&(k.setCustomValidity(Kn(F)?"":F||""),k.reportValidity())},Y={},$=rh(h),P=wl(h),q=$||P,G=(M||th(h))&&Zt(h.value)&&Zt(C)||Gc(h)&&h.value===""||C===""||Array.isArray(C)&&!C.length,te=Up.bind(null,I,s,Y),X=(F,ee,ne,V=ls.maxLength,fe=ls.minLength)=>{const xe=F?ee:ne;Y[I]={type:F?V:fe,message:xe,ref:h,...te(F?V:fe,xe)}};if(c?!Array.isArray(C)||!C.length:y&&(!q&&(G||Ir(C))||Kn(C)&&!C||P&&!Wp(x).isValid||$&&!Yp(x).isValid)){const{value:F,message:ee}=tn(y)?{value:!!y,message:y}:aa(y);if(F&&(Y[I]={type:ls.required,message:ee,ref:k,...te(ls.required,ee)},!s))return B(ee),Y}if(!G&&(!Ir(w)||!Ir(E))){let F,ee;const ne=aa(E),V=aa(w);if(!Ir(C)&&!isNaN(C)){const fe=h.valueAsNumber||C&&+C;Ir(ne.value)||(F=fe>ne.value),Ir(V.value)||(ee=fe<V.value)}else{const fe=h.valueAsDate||new Date(C),xe=ye=>new Date(new Date().toDateString()+" "+ye),le=h.type=="time",we=h.type=="week";tn(ne.value)&&C&&(F=le?xe(C)>xe(ne.value):we?C>ne.value:fe>new Date(ne.value)),tn(V.value)&&C&&(ee=le?xe(C)<xe(V.value):we?C<V.value:fe<new Date(V.value))}if((F||ee)&&(X(!!F,ne.message,V.message,ls.max,ls.min),!s))return B(Y[I].message),Y}if((p||b)&&!G&&(tn(C)||c&&Array.isArray(C))){const F=aa(p),ee=aa(b),ne=!Ir(F.value)&&C.length>+F.value,V=!Ir(ee.value)&&C.length<+ee.value;if((ne||V)&&(X(ne,F.message,ee.message),!s))return B(Y[I].message),Y}if(_&&!G&&tn(C)){const{value:F,message:ee}=aa(_);if(Yc(F)&&!C.match(F)&&(Y[I]={type:ls.pattern,message:ee,ref:h,...te(ls.pattern,ee)},!s))return B(ee),Y}if(R){if(Pn(R)){const F=await R(C,r),ee=fm(F,k);if(ee&&(Y[I]={...ee,...te(ls.validate,ee.message)},!s))return B(ee.message),Y}else if(Qt(R)){let F={};for(const ee in R){if(!Fr(F)&&!s)break;const ne=fm(await R[ee](C,r),k,ee);ne&&(F={...ne,...te(ee,ne.message)},B(ne.message),s&&(Y[I]=F))}if(!Fr(F)&&(Y[I]={ref:k,...F},!s))return Y}}return B(!0),Y};const K3={mode:Ln.onSubmit,reValidateMode:Ln.onChange,shouldFocusError:!0};function J3(e={}){let t={...K3,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},l=Qt(t.defaultValues)||Qt(t.values)?or(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:or(l),h={action:!1,mount:!1,watch:!1},x={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...b};const E={array:nm(),state:nm()},_=t.criteriaMode===Ln.all,R=U=>H=>{clearTimeout(p),p=setTimeout(U,H)},I=async U=>{if(!t.disabled&&(b.isValid||w.isValid||U)){const H=t.resolver?Fr((await P()).errors):await G(s,!0);H!==r.isValid&&E.state.next({isValid:H})}},M=(U,H)=>{!t.disabled&&(b.isValidating||b.validatingFields||w.isValidating||w.validatingFields)&&((U||Array.from(x.mount)).forEach(re=>{re&&(H?vt(r.validatingFields,re,H):Xt(r.validatingFields,re))}),E.state.next({validatingFields:r.validatingFields,isValidating:!Fr(r.validatingFields)}))},j=(U,H=[],re,pe,he=!0,ue=!0)=>{if(pe&&re&&!t.disabled){if(h.action=!0,ue&&Array.isArray(Se(s,U))){const Ce=re(Se(s,U),pe.argA,pe.argB);he&&vt(s,U,Ce)}if(ue&&Array.isArray(Se(r.errors,U))){const Ce=re(Se(r.errors,U),pe.argA,pe.argB);he&&vt(r.errors,U,Ce),Q3(r.errors,U)}if((b.touchedFields||w.touchedFields)&&ue&&Array.isArray(Se(r.touchedFields,U))){const Ce=re(Se(r.touchedFields,U),pe.argA,pe.argB);he&&vt(r.touchedFields,U,Ce)}(b.dirtyFields||w.dirtyFields)&&(r.dirtyFields=oa(l,c)),E.state.next({name:U,isDirty:X(U,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(c,U,H)},C=(U,H)=>{vt(r.errors,U,H),E.state.next({errors:r.errors})},k=U=>{r.errors=U,E.state.next({errors:r.errors,isValid:!1})},B=(U,H,re,pe)=>{const he=Se(s,U);if(he){const ue=Se(c,U,Zt(re)?Se(l,U):re);Zt(ue)||pe&&pe.defaultChecked||H?vt(c,U,H?ue:om(he._f)):ne(U,ue),h.mount&&I()}},Y=(U,H,re,pe,he)=>{let ue=!1,Ce=!1;const rt={name:U};if(!t.disabled){if(!re||pe){(b.isDirty||w.isDirty)&&(Ce=r.isDirty,r.isDirty=rt.isDirty=X(),ue=Ce!==rt.isDirty);const Qe=Ws(Se(l,U),H);Ce=!!Se(r.dirtyFields,U),Qe?Xt(r.dirtyFields,U):vt(r.dirtyFields,U,!0),rt.dirtyFields=r.dirtyFields,ue=ue||(b.dirtyFields||w.dirtyFields)&&Ce!==!Qe}if(re){const Qe=Se(r.touchedFields,U);Qe||(vt(r.touchedFields,U,re),rt.touchedFields=r.touchedFields,ue=ue||(b.touchedFields||w.touchedFields)&&Qe!==re)}ue&&he&&E.state.next(rt)}return ue?rt:{}},$=(U,H,re,pe)=>{const he=Se(r.errors,U),ue=(b.isValid||w.isValid)&&Kn(H)&&r.isValid!==H;if(t.delayError&&re?(y=R(()=>C(U,re)),y(t.delayError)):(clearTimeout(p),y=null,re?vt(r.errors,U,re):Xt(r.errors,U)),(re?!Ws(he,re):he)||!Fr(pe)||ue){const Ce={...pe,...ue&&Kn(H)?{isValid:H}:{},errors:r.errors,name:U};r={...r,...Ce},E.state.next(Ce)}},P=async U=>{M(U,!0);const H=await t.resolver(c,t.context,W3(U||x.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return M(U),H},q=async U=>{const{errors:H}=await P(U);if(U)for(const re of U){const pe=Se(H,re);pe?vt(r.errors,re,pe):Xt(r.errors,re)}else r.errors=H;return H},G=async(U,H,re={valid:!0})=>{for(const pe in U){const he=U[pe];if(he){const{_f:ue,...Ce}=he;if(ue){const rt=x.array.has(ue.name),Qe=he._f&&G3(he._f);Qe&&b.validatingFields&&M([ue.name],!0);const mt=await hm(he,x.disabled,c,_,t.shouldUseNativeValidation&&!H,rt);if(Qe&&b.validatingFields&&M([ue.name]),mt[ue.name]&&(re.valid=!1,H))break;!H&&(Se(mt,ue.name)?rt?q3(r.errors,mt,ue.name):vt(r.errors,ue.name,mt[ue.name]):Xt(r.errors,ue.name))}!Fr(Ce)&&await G(Ce,H,re)}}return re.valid},te=()=>{for(const U of x.unMount){const H=Se(s,U);H&&(H._f.refs?H._f.refs.every(re=>!Au(re)):!Au(H._f.ref))&&Rr(U)}x.unMount=new Set},X=(U,H)=>!t.disabled&&(U&&H&&vt(c,U,H),!Ws(ye(),l)),F=(U,H,re)=>F3(U,x,{...h.mount?c:Zt(H)?l:tn(U)?{[U]:H}:H},re,H),ee=U=>Jf(Se(h.mount?c:l,U,t.shouldUnregister?Se(l,U,[]):[])),ne=(U,H,re={})=>{const pe=Se(s,U);let he=H;if(pe){const ue=pe._f;ue&&(!ue.disabled&&vt(c,U,Gp(H,ue)),he=Gc(ue.ref)&&Ir(H)?"":H,Vp(ue.ref)?[...ue.ref.options].forEach(Ce=>Ce.selected=he.includes(Ce.value)):ue.refs?wl(ue.ref)?ue.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(he)?Ce.checked=!!he.find(rt=>rt===Ce.value):Ce.checked=he===Ce.value||!!he)}):ue.refs.forEach(Ce=>Ce.checked=Ce.value===he):th(ue.ref)?ue.ref.value="":(ue.ref.value=he,ue.ref.type||E.state.next({name:U,values:or(c)})))}(re.shouldDirty||re.shouldTouch)&&Y(U,he,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&we(U)},V=(U,H,re)=>{for(const pe in H){if(!H.hasOwnProperty(pe))return;const he=H[pe],ue=U+"."+pe,Ce=Se(s,ue);(x.array.has(U)||Qt(he)||Ce&&!Ce._f)&&!Di(he)?V(ue,he,re):ne(ue,he,re)}},fe=(U,H,re={})=>{const pe=Se(s,U),he=x.array.has(U),ue=or(H);vt(c,U,ue),he?(E.array.next({name:U,values:or(c)}),(b.isDirty||b.dirtyFields||w.isDirty||w.dirtyFields)&&re.shouldDirty&&E.state.next({name:U,dirtyFields:oa(l,c),isDirty:X(U,ue)})):pe&&!pe._f&&!Ir(ue)?V(U,ue,re):ne(U,ue,re),dm(U,x)&&E.state.next({...r,name:U}),E.state.next({name:h.mount?U:void 0,values:or(c)})},xe=async U=>{h.mount=!0;const H=U.target;let re=H.name,pe=!0;const he=Se(s,re),ue=Qe=>{pe=Number.isNaN(Qe)||Di(Qe)&&isNaN(Qe.getTime())||Ws(Qe,Se(c,re,Qe))},Ce=lm(t.mode),rt=lm(t.reValidateMode);if(he){let Qe,mt;const Ni=H.type?om(he._f):M3(U),Zr=U.type===rm.BLUR||U.type===rm.FOCUS_OUT,Td=!Y3(he._f)&&!t.resolver&&!Se(r.errors,re)&&!he._f.deps||$3(Zr,Se(r.touchedFields,re),r.isSubmitted,rt,Ce),jt=dm(re,x,Zr);vt(c,re,Ni),Zr?(!H||!H.readOnly)&&(he._f.onBlur&&he._f.onBlur(U),y&&y(0)):he._f.onChange&&he._f.onChange(U);const ge=Y(re,Ni,Zr),Vt=!Fr(ge)||jt;if(!Zr&&E.state.next({name:re,type:U.type,values:or(c)}),Td)return(b.isValid||w.isValid)&&(t.mode==="onBlur"?Zr&&I():Zr||I()),Vt&&E.state.next({name:re,...jt?{}:ge});if(!Zr&&jt&&E.state.next({...r}),t.resolver){const{errors:lt}=await P([re]);if(ue(Ni),pe){const It=um(r.errors,s,re),js=um(lt,s,It.name||re);Qe=js.error,re=js.name,mt=Fr(lt)}}else M([re],!0),Qe=(await hm(he,x.disabled,c,_,t.shouldUseNativeValidation))[re],M([re]),ue(Ni),pe&&(Qe?mt=!1:(b.isValid||w.isValid)&&(mt=await G(s,!0)));pe&&(he._f.deps&&(!Array.isArray(he._f.deps)||he._f.deps.length>0)&&we(he._f.deps),$(re,mt,Qe,ge))}},le=(U,H)=>{if(Se(r.errors,H)&&U.focus)return U.focus(),1},we=async(U,H={})=>{let re,pe;const he=Fo(U);if(t.resolver){const ue=await q(Zt(U)?U:he);re=Fr(ue),pe=U?!he.some(Ce=>Se(ue,Ce)):re}else U?(pe=(await Promise.all(he.map(async ue=>{const Ce=Se(s,ue);return await G(Ce&&Ce._f?{[ue]:Ce}:Ce)}))).every(Boolean),!(!pe&&!r.isValid)&&I()):pe=re=await G(s);return E.state.next({...!tn(U)||(b.isValid||w.isValid)&&re!==r.isValid?{}:{name:U},...t.resolver||!U?{isValid:re}:{},errors:r.errors}),H.shouldFocus&&!pe&&Uo(s,le,U?he:x.mount),pe},ye=(U,H)=>{let re={...h.mount?c:l};return H&&(re=zp(H.dirtyFields?r.dirtyFields:r.touchedFields,re)),Zt(U)?re:tn(U)?Se(re,U):U.map(pe=>Se(re,pe))},Le=(U,H)=>({invalid:!!Se((H||r).errors,U),isDirty:!!Se((H||r).dirtyFields,U),error:Se((H||r).errors,U),isValidating:!!Se(r.validatingFields,U),isTouched:!!Se((H||r).touchedFields,U)}),Fe=U=>{U&&Fo(U).forEach(H=>Xt(r.errors,H)),E.state.next({errors:U?r.errors:{}})},st=(U,H,re)=>{const pe=(Se(s,U,{_f:{}})._f||{}).ref,he=Se(r.errors,U)||{},{ref:ue,message:Ce,type:rt,...Qe}=he;vt(r.errors,U,{...Qe,...H,ref:pe}),E.state.next({name:U,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&pe&&pe.focus&&pe.focus()},ht=(U,H)=>Pn(U)?E.state.subscribe({next:re=>"values"in re&&U(F(void 0,H),re)}):F(U,H,!0),hn=U=>E.state.subscribe({next:H=>{Z3(U.name,H.name,U.exact)&&X3(H,U.formState||b,Jt,U.reRenderRoot)&&U.callback({values:{...c},...r,...H,defaultValues:l})}}).unsubscribe,Ae=U=>(h.mount=!0,w={...w,...U.formState},hn({...U,formState:w})),Rr=(U,H={})=>{for(const re of U?Fo(U):x.mount)x.mount.delete(re),x.array.delete(re),H.keepValue||(Xt(s,re),Xt(c,re)),!H.keepError&&Xt(r.errors,re),!H.keepDirty&&Xt(r.dirtyFields,re),!H.keepTouched&&Xt(r.touchedFields,re),!H.keepIsValidating&&Xt(r.validatingFields,re),!t.shouldUnregister&&!H.keepDefaultValue&&Xt(l,re);E.state.next({values:or(c)}),E.state.next({...r,...H.keepDirty?{isDirty:X()}:{}}),!H.keepIsValid&&I()},se=({disabled:U,name:H})=>{(Kn(U)&&h.mount||U||x.disabled.has(H))&&(U?x.disabled.add(H):x.disabled.delete(H))},Oe=(U,H={})=>{let re=Se(s,U);const pe=Kn(H.disabled)||Kn(t.disabled);return vt(s,U,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:U}},name:U,mount:!0,...H}}),x.mount.add(U),re?se({disabled:Kn(H.disabled)?H.disabled:t.disabled,name:U}):B(U,!0,H.value),{...pe?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:po(H.min),max:po(H.max),minLength:po(H.minLength),maxLength:po(H.maxLength),pattern:po(H.pattern)}:{},name:U,onChange:xe,onBlur:xe,ref:he=>{if(he){Oe(U,H),re=Se(s,U);const ue=Zt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Ce=U3(ue),rt=re._f.refs||[];if(Ce?rt.find(Qe=>Qe===ue):ue===re._f.ref)return;vt(s,U,{_f:{...re._f,...Ce?{refs:[...rt.filter(Au),ue,...Array.isArray(Se(l,U))?[{}]:[]],ref:{type:ue.type,name:U}}:{ref:ue}}}),B(U,!1,void 0,ue)}else re=Se(s,U,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(O3(x.array,U)&&h.action)&&x.unMount.add(U)}}},ot=()=>t.shouldFocusError&&Uo(s,le,x.mount),Ue=U=>{Kn(U)&&(E.state.next({disabled:U}),Uo(s,(H,re)=>{const pe=Se(s,re);pe&&(H.disabled=pe._f.disabled||U,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(he=>{he.disabled=pe._f.disabled||U}))},0,!1))},dr=(U,H)=>async re=>{let pe;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let he=or(c);if(E.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:Ce}=await P();r.errors=ue,he=or(Ce)}else await G(s);if(x.disabled.size)for(const ue of x.disabled)Xt(he,ue);if(Xt(r.errors,"root"),Fr(r.errors)){E.state.next({errors:{}});try{await U(he,re)}catch(ue){pe=ue}}else H&&await H({...r.errors},re),ot(),setTimeout(ot);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fr(r.errors)&&!pe,submitCount:r.submitCount+1,errors:r.errors}),pe)throw pe},Ke=(U,H={})=>{Se(s,U)&&(Zt(H.defaultValue)?fe(U,or(Se(l,U))):(fe(U,H.defaultValue),vt(l,U,or(H.defaultValue))),H.keepTouched||Xt(r.touchedFields,U),H.keepDirty||(Xt(r.dirtyFields,U),r.isDirty=H.defaultValue?X(U,or(Se(l,U))):X()),H.keepError||(Xt(r.errors,U),b.isValid&&I()),E.state.next({...r}))},as=(U,H={})=>{const re=U?or(U):l,pe=or(re),he=Fr(U),ue=he?l:pe;if(H.keepDefaultValues||(l=re),!H.keepValues){if(H.keepDirtyValues){const Ce=new Set([...x.mount,...Object.keys(oa(l,c))]);for(const rt of Array.from(Ce))Se(r.dirtyFields,rt)?vt(ue,rt,Se(c,rt)):fe(rt,Se(ue,rt))}else{if(Kf&&Zt(U))for(const Ce of x.mount){const rt=Se(s,Ce);if(rt&&rt._f){const Qe=Array.isArray(rt._f.refs)?rt._f.refs[0]:rt._f.ref;if(Gc(Qe)){const mt=Qe.closest("form");if(mt){mt.reset();break}}}}if(H.keepFieldsRef)for(const Ce of x.mount)fe(Ce,Se(ue,Ce));else s={}}c=t.shouldUnregister?H.keepDefaultValues?or(l):{}:or(ue),E.array.next({values:{...ue}}),E.state.next({values:{...ue}})}x={mount:H.keepDirtyValues?x.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!b.isValid||!!H.keepIsValid||!!H.keepDirtyValues,h.watch=!!t.shouldUnregister,E.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:he?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!Ws(U,l)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:H.keepDirtyValues?H.keepDefaultValues&&c?oa(l,c):r.dirtyFields:H.keepDefaultValues&&U?oa(l,U):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},Xr=(U,H)=>as(Pn(U)?U(c):U,H),bi=(U,H={})=>{const re=Se(s,U),pe=re&&re._f;if(pe){const he=pe.refs?pe.refs[0]:pe.ref;he.focus&&(he.focus(),H.shouldSelect&&Pn(he.select)&&he.select())}},Jt=U=>{r={...r,...U}},Xe={control:{register:Oe,unregister:Rr,getFieldState:Le,handleSubmit:dr,setError:st,_subscribe:hn,_runSchema:P,_focusError:ot,_getWatch:F,_getDirty:X,_setValid:I,_setFieldArray:j,_setDisabledField:se,_setErrors:k,_getFieldArray:ee,_reset:as,_resetDefaultValues:()=>Pn(t.defaultValues)&&t.defaultValues().then(U=>{Xr(U,t.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:Ue,_subjects:E,_proxyFormState:b,get _fields(){return s},get _formValues(){return c},get _state(){return h},set _state(U){h=U},get _defaultValues(){return l},get _names(){return x},set _names(U){x=U},get _formState(){return r},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:Ae,trigger:we,register:Oe,handleSubmit:dr,watch:ht,setValue:fe,getValues:ye,reset:Xr,resetField:Ke,clearErrors:Fe,unregister:Rr,setError:st,setFocus:bi,getFieldState:Le};return{...Xe,formControl:Xe}}function Ed(e={}){const t=ze.useRef(void 0),r=ze.useRef(void 0),[s,l]=ze.useState({isDirty:!1,isValidating:!1,isLoading:Pn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Pn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Pn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:h,...x}=J3(e);t.current={...x,formState:s}}const c=t.current.control;return c._options=e,B3(()=>{const h=c._subscribe({formState:c._proxyFormState,callback:()=>l({...c._formState}),reRenderRoot:!0});return l(x=>({...x,isReady:!0})),c._formState.isReady=!0,h},[c]),ze.useEffect(()=>c._disableForm(e.disabled),[c,e.disabled]),ze.useEffect(()=>{e.mode&&(c._options.mode=e.mode),e.reValidateMode&&(c._options.reValidateMode=e.reValidateMode)},[c,e.mode,e.reValidateMode]),ze.useEffect(()=>{e.errors&&(c._setErrors(e.errors),c._focusError())},[c,e.errors]),ze.useEffect(()=>{e.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,e.shouldUnregister]),ze.useEffect(()=>{if(c._proxyFormState.isDirty){const h=c._getDirty();h!==s.isDirty&&c._subjects.state.next({isDirty:h})}},[c,s.isDirty]),ze.useEffect(()=>{e.values&&!Ws(e.values,r.current)?(c._reset(e.values,{keepFieldsRef:!0,...c._options.resetOptions}),r.current=e.values,l(h=>({...h}))):c._resetDefaultValues()},[c,e.values]),ze.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=P3(s,c),t.current}const mm=(e,t,r)=>{if(e&&"reportValidity"in e){const s=Se(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Xp=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?mm(s.ref,r,e):s.refs&&s.refs.forEach(l=>mm(l,r,e))}},eN=(e,t)=>{t.shouldUseNativeValidation&&Xp(e,t);const r={};for(const s in e){const l=Se(t.fields,s),c=Object.assign(e[s]||{},{ref:l&&l.ref});if(tN(t.names||Object.keys(e),s)){const h=Object.assign({},Se(r,s));vt(h,"root",c),vt(r,s,h)}else vt(r,s,c)}return r},tN=(e,t)=>e.some(r=>r.startsWith(t+"."));var rN=function(e,t){for(var r={};e.length;){var s=e[0],l=s.code,c=s.message,h=s.path.join(".");if(!r[h])if("unionErrors"in s){var x=s.unionErrors[0].errors[0];r[h]={message:x.message,type:x.code}}else r[h]={message:c,type:l};if("unionErrors"in s&&s.unionErrors.forEach(function(b){return b.errors.forEach(function(w){return e.push(w)})}),t){var y=r[h].types,p=y&&y[s.code];r[h]=Up(h,t,r,l,p?[].concat(p,s.message):s.message)}e.shift()}return r},Sd=function(e,t,r){return r===void 0&&(r={}),function(s,l,c){try{return Promise.resolve(function(h,x){try{var y=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(p){return c.shouldUseNativeValidation&&Xp({},c),{errors:{},values:r.raw?s:p}})}catch(p){return x(p)}return y&&y.then?y.then(void 0,x):y}(0,function(h){if(function(x){return Array.isArray(x==null?void 0:x.errors)}(h))return{values:{},errors:eN(rN(h.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw h}))}catch(h){return Promise.reject(h)}}},nt;(function(e){e.assertEqual=l=>{};function t(l){}e.assertIs=t;function r(l){throw new Error}e.assertNever=r,e.arrayToEnum=l=>{const c={};for(const h of l)c[h]=h;return c},e.getValidEnumValues=l=>{const c=e.objectKeys(l).filter(x=>typeof l[l[x]]!="number"),h={};for(const x of c)h[x]=l[x];return e.objectValues(h)},e.objectValues=l=>e.objectKeys(l).map(function(c){return l[c]}),e.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const h in l)Object.prototype.hasOwnProperty.call(l,h)&&c.push(h);return c},e.find=(l,c)=>{for(const h of l)if(c(h))return h},e.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function s(l,c=" | "){return l.map(h=>typeof h=="string"?`'${h}'`:h).join(c)}e.joinValues=s,e.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(nt||(nt={}));var xm;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(xm||(xm={}));const je=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Us=e=>{switch(typeof e){case"undefined":return je.undefined;case"string":return je.string;case"number":return Number.isNaN(e)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(e)?je.array:e===null?je.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?je.promise:typeof Map<"u"&&e instanceof Map?je.map:typeof Set<"u"&&e instanceof Set?je.set:typeof Date<"u"&&e instanceof Date?je.date:je.object;default:return je.unknown}},me=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ns extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(c){return c.message},s={_errors:[]},l=c=>{for(const h of c.issues)if(h.code==="invalid_union")h.unionErrors.map(l);else if(h.code==="invalid_return_type")l(h.returnTypeError);else if(h.code==="invalid_arguments")l(h.argumentsError);else if(h.path.length===0)s._errors.push(r(h));else{let x=s,y=0;for(;y<h.path.length;){const p=h.path[y];y===h.path.length-1?(x[p]=x[p]||{_errors:[]},x[p]._errors.push(r(h))):x[p]=x[p]||{_errors:[]},x=x[p],y++}}};return l(this),s}static assert(t){if(!(t instanceof Ns))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const l of this.issues)if(l.path.length>0){const c=l.path[0];r[c]=r[c]||[],r[c].push(t(l))}else s.push(t(l));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Ns.create=e=>new Ns(e);const nN=(e,t)=>{let r;switch(e.code){case me.invalid_type:e.received===je.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,nt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:r=`Unrecognized key(s) in object: ${nt.joinValues(e.keys,", ")}`;break;case me.invalid_union:r="Invalid input";break;case me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${nt.joinValues(e.options)}`;break;case me.invalid_enum_value:r=`Invalid enum value. Expected ${nt.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:r="Invalid function arguments";break;case me.invalid_return_type:r="Invalid function return type";break;case me.invalid_date:r="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:nt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case me.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case me.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case me.custom:r="Invalid input";break;case me.invalid_intersection_types:r="Intersection results could not be merged";break;case me.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:r="Number must be finite";break;default:r=t.defaultError,nt.assertNever(e)}return{message:r}},O0=nN;let sN=O0;function iN(){return sN}const aN=e=>{const{data:t,path:r,errorMaps:s,issueData:l}=e,c=[...r,...l.path||[]],h={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let x="";const y=s.filter(p=>!!p).slice().reverse();for(const p of y)x=p(h,{data:t,defaultError:x}).message;return{...l,path:c,message:x}};function ve(e,t){const r=iN(),s=aN({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===O0?void 0:O0].filter(l=>!!l)});e.common.issues.push(s)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const l of r){if(l.status==="aborted")return Pe;l.status==="dirty"&&t.dirty(),s.push(l.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const l of r){const c=await l.key,h=await l.value;s.push({key:c,value:h})}return ln.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const l of r){const{key:c,value:h}=l;if(c.status==="aborted"||h.status==="aborted")return Pe;c.status==="dirty"&&t.dirty(),h.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof h.value<"u"||l.alwaysSet)&&(s[c.value]=h.value)}return{status:t.value,value:s}}}const Pe=Object.freeze({status:"aborted"}),jo=e=>({status:"dirty",value:e}),jn=e=>({status:"valid",value:e}),gm=e=>e.status==="aborted",pm=e=>e.status==="dirty",za=e=>e.status==="valid",Xc=e=>typeof Promise<"u"&&e instanceof Promise;var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ie||(Ie={}));class ui{constructor(t,r,s,l){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ym=(e,t)=>{if(za(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ns(e.common.issues);return this._error=r,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:l}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(h,x)=>{const{message:y}=e;return h.code==="invalid_enum_value"?{message:y??x.defaultError}:typeof x.data>"u"?{message:y??s??x.defaultError}:h.code!=="invalid_type"?{message:x.defaultError}:{message:y??r??x.defaultError}},description:l}}class tt{get description(){return this._def.description}_getType(t){return Us(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ln,ctx:{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Xc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},l=this._parseSync({data:t,path:s.path,parent:s});return ym(s,l)}"~validate"(t){var s,l;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)};if(!this["~standard"].async)try{const c=this._parseSync({data:t,path:[],parent:r});return za(c)?{value:c.value}:{issues:r.common.issues}}catch(c){(l=(s=c==null?void 0:c.message)==null?void 0:s.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(c=>za(c)?{value:c.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},l=this._parse({data:t,path:s.path,parent:s}),c=await(Xc(l)?l:Promise.resolve(l));return ym(s,c)}refine(t,r){const s=l=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(l):r;return this._refinement((l,c)=>{const h=t(l),x=()=>c.addIssue({code:me.custom,...s(l)});return typeof Promise<"u"&&h instanceof Promise?h.then(y=>y?!0:(x(),!1)):h?!0:(x(),!1)})}refinement(t,r){return this._refinement((s,l)=>t(s)?!0:(l.addIssue(typeof r=="function"?r(s,l):r),!1))}_refinement(t){return new Wa({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return oi.create(this,this._def)}nullable(){return Ga.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this)}promise(){return qc.create(this,this._def)}or(t){return $c.create([this,t],this._def)}and(t){return Qc.create(this,t,this._def)}transform(t){return new Wa({...Ge(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new B0({...Ge(this._def),innerType:this,defaultValue:r,typeName:Be.ZodDefault})}brand(){return new _N({typeName:Be.ZodBranded,type:this,...Ge(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new F0({...Ge(this._def),innerType:this,catchValue:r,typeName:Be.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return nh.create(this,t)}readonly(){return U0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oN=/^c[^\s-]{8,}$/i,lN=/^[0-9a-z]+$/,cN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uN=/^[a-z0-9_-]{21}$/i,fN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ju;const gN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",NN=new RegExp(`^${Zp}$`);function $p(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function CN(e){return new RegExp(`^${$p(e)}$`)}function EN(e){let t=`${Zp}T${$p(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function SN(e,t){return!!((t==="v4"||!t)&&gN.test(e)||(t==="v6"||!t)&&yN.test(e))}function AN(e,t){if(!fN.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),l=JSON.parse(atob(s));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||t&&l.alg!==t)}catch{return!1}}function jN(e,t){return!!((t==="v4"||!t)&&pN.test(e)||(t==="v6"||!t)&&vN.test(e))}class Qs extends tt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==je.string){const c=this._getOrReturnCtx(t);return ve(c,{code:me.invalid_type,expected:je.string,received:c.parsedType}),Pe}const s=new ln;let l;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(l=this._getOrReturnCtx(t,l),ve(l,{code:me.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if(c.kind==="max")t.data.length>c.value&&(l=this._getOrReturnCtx(t,l),ve(l,{code:me.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if(c.kind==="length"){const h=t.data.length>c.value,x=t.data.length<c.value;(h||x)&&(l=this._getOrReturnCtx(t,l),h?ve(l,{code:me.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):x&&ve(l,{code:me.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),s.dirty())}else if(c.kind==="email")mN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"email",code:me.invalid_string,message:c.message}),s.dirty());else if(c.kind==="emoji")ju||(ju=new RegExp(xN,"u")),ju.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"emoji",code:me.invalid_string,message:c.message}),s.dirty());else if(c.kind==="uuid")dN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"uuid",code:me.invalid_string,message:c.message}),s.dirty());else if(c.kind==="nanoid")uN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"nanoid",code:me.invalid_string,message:c.message}),s.dirty());else if(c.kind==="cuid")oN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"cuid",code:me.invalid_string,message:c.message}),s.dirty());else if(c.kind==="cuid2")lN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"cuid2",code:me.invalid_string,message:c.message}),s.dirty());else if(c.kind==="ulid")cN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"ulid",code:me.invalid_string,message:c.message}),s.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),ve(l,{validation:"url",code:me.invalid_string,message:c.message}),s.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"regex",code:me.invalid_string,message:c.message}),s.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(t,l),ve(l,{code:me.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),s.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(l=this._getOrReturnCtx(t,l),ve(l,{code:me.invalid_string,validation:{startsWith:c.value},message:c.message}),s.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(l=this._getOrReturnCtx(t,l),ve(l,{code:me.invalid_string,validation:{endsWith:c.value},message:c.message}),s.dirty()):c.kind==="datetime"?EN(c).test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{code:me.invalid_string,validation:"datetime",message:c.message}),s.dirty()):c.kind==="date"?NN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{code:me.invalid_string,validation:"date",message:c.message}),s.dirty()):c.kind==="time"?CN(c).test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{code:me.invalid_string,validation:"time",message:c.message}),s.dirty()):c.kind==="duration"?hN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"duration",code:me.invalid_string,message:c.message}),s.dirty()):c.kind==="ip"?SN(t.data,c.version)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"ip",code:me.invalid_string,message:c.message}),s.dirty()):c.kind==="jwt"?AN(t.data,c.alg)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"jwt",code:me.invalid_string,message:c.message}),s.dirty()):c.kind==="cidr"?jN(t.data,c.version)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"cidr",code:me.invalid_string,message:c.message}),s.dirty()):c.kind==="base64"?wN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"base64",code:me.invalid_string,message:c.message}),s.dirty()):c.kind==="base64url"?bN.test(t.data)||(l=this._getOrReturnCtx(t,l),ve(l,{validation:"base64url",code:me.invalid_string,message:c.message}),s.dirty()):nt.assertNever(c);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(l=>t.test(l),{validation:r,code:me.invalid_string,...Ie.errToObj(s)})}_addCheck(t){return new Qs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ie.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ie.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ie.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new Qs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Qs.create=e=>new Qs({checks:[],typeName:Be.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ge(e)});function IN(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,l=r>s?r:s,c=Number.parseInt(e.toFixed(l).replace(".","")),h=Number.parseInt(t.toFixed(l).replace(".",""));return c%h/10**l}class Va extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==je.number){const c=this._getOrReturnCtx(t);return ve(c,{code:me.invalid_type,expected:je.number,received:c.parsedType}),Pe}let s;const l=new ln;for(const c of this._def.checks)c.kind==="int"?nt.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ve(s,{code:me.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:me.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:me.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?IN(t.data,c.value)!==0&&(s=this._getOrReturnCtx(t,s),ve(s,{code:me.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ve(s,{code:me.not_finite,message:c.message}),l.dirty()):nt.assertNever(c);return{status:l.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,s,l){return new Va({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ie.toString(l)}]})}_addCheck(t){return new Va({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&nt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Va.create=e=>new Va({checks:[],typeName:Be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class fl extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==je.bigint)return this._getInvalidInput(t);let s;const l=new ln;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:me.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:me.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ve(s,{code:me.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):nt.assertNever(c);return{status:l.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:je.bigint,received:r.parsedType}),Pe}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,s,l){return new fl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ie.toString(l)}]})}_addCheck(t){return new fl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fl.create=e=>new fl({checks:[],typeName:Be.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ge(e)});class D0 extends tt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==je.boolean){const s=this._getOrReturnCtx(t);return ve(s,{code:me.invalid_type,expected:je.boolean,received:s.parsedType}),Pe}return jn(t.data)}}D0.create=e=>new D0({typeName:Be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class Zc extends tt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==je.date){const c=this._getOrReturnCtx(t);return ve(c,{code:me.invalid_type,expected:je.date,received:c.parsedType}),Pe}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return ve(c,{code:me.invalid_date}),Pe}const s=new ln;let l;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(l=this._getOrReturnCtx(t,l),ve(l,{code:me.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),s.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(l=this._getOrReturnCtx(t,l),ve(l,{code:me.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),s.dirty()):nt.assertNever(c);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Zc({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Zc.create=e=>new Zc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Be.ZodDate,...Ge(e)});class vm extends tt{_parse(t){if(this._getType(t)!==je.symbol){const s=this._getOrReturnCtx(t);return ve(s,{code:me.invalid_type,expected:je.symbol,received:s.parsedType}),Pe}return jn(t.data)}}vm.create=e=>new vm({typeName:Be.ZodSymbol,...Ge(e)});class wm extends tt{_parse(t){if(this._getType(t)!==je.undefined){const s=this._getOrReturnCtx(t);return ve(s,{code:me.invalid_type,expected:je.undefined,received:s.parsedType}),Pe}return jn(t.data)}}wm.create=e=>new wm({typeName:Be.ZodUndefined,...Ge(e)});class bm extends tt{_parse(t){if(this._getType(t)!==je.null){const s=this._getOrReturnCtx(t);return ve(s,{code:me.invalid_type,expected:je.null,received:s.parsedType}),Pe}return jn(t.data)}}bm.create=e=>new bm({typeName:Be.ZodNull,...Ge(e)});class Nm extends tt{constructor(){super(...arguments),this._any=!0}_parse(t){return jn(t.data)}}Nm.create=e=>new Nm({typeName:Be.ZodAny,...Ge(e)});class Cm extends tt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jn(t.data)}}Cm.create=e=>new Cm({typeName:Be.ZodUnknown,...Ge(e)});class fi extends tt{_parse(t){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:je.never,received:r.parsedType}),Pe}}fi.create=e=>new fi({typeName:Be.ZodNever,...Ge(e)});class Em extends tt{_parse(t){if(this._getType(t)!==je.undefined){const s=this._getOrReturnCtx(t);return ve(s,{code:me.invalid_type,expected:je.void,received:s.parsedType}),Pe}return jn(t.data)}}Em.create=e=>new Em({typeName:Be.ZodVoid,...Ge(e)});class is extends tt{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),l=this._def;if(r.parsedType!==je.array)return ve(r,{code:me.invalid_type,expected:je.array,received:r.parsedType}),Pe;if(l.exactLength!==null){const h=r.data.length>l.exactLength.value,x=r.data.length<l.exactLength.value;(h||x)&&(ve(r,{code:h?me.too_big:me.too_small,minimum:x?l.exactLength.value:void 0,maximum:h?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),s.dirty())}if(l.minLength!==null&&r.data.length<l.minLength.value&&(ve(r,{code:me.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),s.dirty()),l.maxLength!==null&&r.data.length>l.maxLength.value&&(ve(r,{code:me.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((h,x)=>l.type._parseAsync(new ui(r,h,r.path,x)))).then(h=>ln.mergeArray(s,h));const c=[...r.data].map((h,x)=>l.type._parseSync(new ui(r,h,r.path,x)));return ln.mergeArray(s,c)}get element(){return this._def.type}min(t,r){return new is({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new is({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new is({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}}is.create=(e,t)=>new is({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Ge(t)});function la(e){if(e instanceof Ft){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=oi.create(la(s))}return new Ft({...e._def,shape:()=>t})}else return e instanceof is?new is({...e._def,type:la(e.element)}):e instanceof oi?oi.create(la(e.unwrap())):e instanceof Ga?Ga.create(la(e.unwrap())):e instanceof Gi?Gi.create(e.items.map(t=>la(t))):e}class Ft extends tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=nt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==je.object){const p=this._getOrReturnCtx(t);return ve(p,{code:me.invalid_type,expected:je.object,received:p.parsedType}),Pe}const{status:s,ctx:l}=this._processInputParams(t),{shape:c,keys:h}=this._getCached(),x=[];if(!(this._def.catchall instanceof fi&&this._def.unknownKeys==="strip"))for(const p in l.data)h.includes(p)||x.push(p);const y=[];for(const p of h){const b=c[p],w=l.data[p];y.push({key:{status:"valid",value:p},value:b._parse(new ui(l,w,l.path,p)),alwaysSet:p in l.data})}if(this._def.catchall instanceof fi){const p=this._def.unknownKeys;if(p==="passthrough")for(const b of x)y.push({key:{status:"valid",value:b},value:{status:"valid",value:l.data[b]}});else if(p==="strict")x.length>0&&(ve(l,{code:me.unrecognized_keys,keys:x}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const b of x){const w=l.data[b];y.push({key:{status:"valid",value:b},value:p._parse(new ui(l,w,l.path,b)),alwaysSet:b in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const p=[];for(const b of y){const w=await b.key,E=await b.value;p.push({key:w,value:E,alwaysSet:b.alwaysSet})}return p}).then(p=>ln.mergeObjectSync(s,p)):ln.mergeObjectSync(s,y)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new Ft({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var c,h;const l=((h=(c=this._def).errorMap)==null?void 0:h.call(c,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:Ie.errToObj(t).message??l}:{message:l}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ft({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ft({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ft({...this._def,catchall:t})}pick(t){const r={};for(const s of nt.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new Ft({...this._def,shape:()=>r})}omit(t){const r={};for(const s of nt.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new Ft({...this._def,shape:()=>r})}deepPartial(){return la(this)}partial(t){const r={};for(const s of nt.objectKeys(this.shape)){const l=this.shape[s];t&&!t[s]?r[s]=l:r[s]=l.optional()}return new Ft({...this._def,shape:()=>r})}required(t){const r={};for(const s of nt.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let c=this.shape[s];for(;c instanceof oi;)c=c._def.innerType;r[s]=c}return new Ft({...this._def,shape:()=>r})}keyof(){return Qp(nt.objectKeys(this.shape))}}Ft.create=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strip",catchall:fi.create(),typeName:Be.ZodObject,...Ge(t)});Ft.strictCreate=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strict",catchall:fi.create(),typeName:Be.ZodObject,...Ge(t)});Ft.lazycreate=(e,t)=>new Ft({shape:e,unknownKeys:"strip",catchall:fi.create(),typeName:Be.ZodObject,...Ge(t)});class $c extends tt{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function l(c){for(const x of c)if(x.result.status==="valid")return x.result;for(const x of c)if(x.result.status==="dirty")return r.common.issues.push(...x.ctx.common.issues),x.result;const h=c.map(x=>new Ns(x.ctx.common.issues));return ve(r,{code:me.invalid_union,unionErrors:h}),Pe}if(r.common.async)return Promise.all(s.map(async c=>{const h={...r,common:{...r.common,issues:[]},parent:null};return{result:await c._parseAsync({data:r.data,path:r.path,parent:h}),ctx:h}})).then(l);{let c;const h=[];for(const y of s){const p={...r,common:{...r.common,issues:[]},parent:null},b=y._parseSync({data:r.data,path:r.path,parent:p});if(b.status==="valid")return b;b.status==="dirty"&&!c&&(c={result:b,ctx:p}),p.common.issues.length&&h.push(p.common.issues)}if(c)return r.common.issues.push(...c.ctx.common.issues),c.result;const x=h.map(y=>new Ns(y));return ve(r,{code:me.invalid_union,unionErrors:x}),Pe}}get options(){return this._def.options}}$c.create=(e,t)=>new $c({options:e,typeName:Be.ZodUnion,...Ge(t)});function L0(e,t){const r=Us(e),s=Us(t);if(e===t)return{valid:!0,data:e};if(r===je.object&&s===je.object){const l=nt.objectKeys(t),c=nt.objectKeys(e).filter(x=>l.indexOf(x)!==-1),h={...e,...t};for(const x of c){const y=L0(e[x],t[x]);if(!y.valid)return{valid:!1};h[x]=y.data}return{valid:!0,data:h}}else if(r===je.array&&s===je.array){if(e.length!==t.length)return{valid:!1};const l=[];for(let c=0;c<e.length;c++){const h=e[c],x=t[c],y=L0(h,x);if(!y.valid)return{valid:!1};l.push(y.data)}return{valid:!0,data:l}}else return r===je.date&&s===je.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Qc extends tt{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),l=(c,h)=>{if(gm(c)||gm(h))return Pe;const x=L0(c.value,h.value);return x.valid?((pm(c)||pm(h))&&r.dirty(),{status:r.value,value:x.data}):(ve(s,{code:me.invalid_intersection_types}),Pe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([c,h])=>l(c,h)):l(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Qc.create=(e,t,r)=>new Qc({left:e,right:t,typeName:Be.ZodIntersection,...Ge(r)});class Gi extends tt{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.array)return ve(s,{code:me.invalid_type,expected:je.array,received:s.parsedType}),Pe;if(s.data.length<this._def.items.length)return ve(s,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&s.data.length>this._def.items.length&&(ve(s,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const c=[...s.data].map((h,x)=>{const y=this._def.items[x]||this._def.rest;return y?y._parse(new ui(s,h,s.path,x)):null}).filter(h=>!!h);return s.common.async?Promise.all(c).then(h=>ln.mergeArray(r,h)):ln.mergeArray(r,c)}get items(){return this._def.items}rest(t){return new Gi({...this._def,rest:t})}}Gi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gi({items:e,typeName:Be.ZodTuple,rest:null,...Ge(t)})};class Sm extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.map)return ve(s,{code:me.invalid_type,expected:je.map,received:s.parsedType}),Pe;const l=this._def.keyType,c=this._def.valueType,h=[...s.data.entries()].map(([x,y],p)=>({key:l._parse(new ui(s,x,s.path,[p,"key"])),value:c._parse(new ui(s,y,s.path,[p,"value"]))}));if(s.common.async){const x=new Map;return Promise.resolve().then(async()=>{for(const y of h){const p=await y.key,b=await y.value;if(p.status==="aborted"||b.status==="aborted")return Pe;(p.status==="dirty"||b.status==="dirty")&&r.dirty(),x.set(p.value,b.value)}return{status:r.value,value:x}})}else{const x=new Map;for(const y of h){const p=y.key,b=y.value;if(p.status==="aborted"||b.status==="aborted")return Pe;(p.status==="dirty"||b.status==="dirty")&&r.dirty(),x.set(p.value,b.value)}return{status:r.value,value:x}}}}Sm.create=(e,t,r)=>new Sm({valueType:t,keyType:e,typeName:Be.ZodMap,...Ge(r)});class hl extends tt{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==je.set)return ve(s,{code:me.invalid_type,expected:je.set,received:s.parsedType}),Pe;const l=this._def;l.minSize!==null&&s.data.size<l.minSize.value&&(ve(s,{code:me.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),r.dirty()),l.maxSize!==null&&s.data.size>l.maxSize.value&&(ve(s,{code:me.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),r.dirty());const c=this._def.valueType;function h(y){const p=new Set;for(const b of y){if(b.status==="aborted")return Pe;b.status==="dirty"&&r.dirty(),p.add(b.value)}return{status:r.value,value:p}}const x=[...s.data.values()].map((y,p)=>c._parse(new ui(s,y,s.path,p)));return s.common.async?Promise.all(x).then(y=>h(y)):h(x)}min(t,r){return new hl({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new hl({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}hl.create=(e,t)=>new hl({valueType:e,minSize:null,maxSize:null,typeName:Be.ZodSet,...Ge(t)});class Am extends tt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Am.create=(e,t)=>new Am({getter:e,typeName:Be.ZodLazy,...Ge(t)});class P0 extends tt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ve(r,{received:r.data,code:me.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}P0.create=(e,t)=>new P0({value:e,typeName:Be.ZodLiteral,...Ge(t)});function Qp(e,t){return new Ha({values:e,typeName:Be.ZodEnum,...Ge(t)})}class Ha extends tt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ve(r,{expected:nt.joinValues(s),received:r.parsedType,code:me.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ve(r,{received:r.data,code:me.invalid_enum_value,options:s}),Pe}return jn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ha.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ha.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Ha.create=Qp;class jm extends tt{_parse(t){const r=nt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==je.string&&s.parsedType!==je.number){const l=nt.objectValues(r);return ve(s,{expected:nt.joinValues(l),received:s.parsedType,code:me.invalid_type}),Pe}if(this._cache||(this._cache=new Set(nt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const l=nt.objectValues(r);return ve(s,{received:s.data,code:me.invalid_enum_value,options:l}),Pe}return jn(t.data)}get enum(){return this._def.values}}jm.create=(e,t)=>new jm({values:e,typeName:Be.ZodNativeEnum,...Ge(t)});class qc extends tt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==je.promise&&r.common.async===!1)return ve(r,{code:me.invalid_type,expected:je.promise,received:r.parsedType}),Pe;const s=r.parsedType===je.promise?r.data:Promise.resolve(r.data);return jn(s.then(l=>this._def.type.parseAsync(l,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qc.create=(e,t)=>new qc({type:e,typeName:Be.ZodPromise,...Ge(t)});class Wa extends tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),l=this._def.effect||null,c={addIssue:h=>{ve(s,h),h.fatal?r.abort():r.dirty()},get path(){return s.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const h=l.transform(s.data,c);if(s.common.async)return Promise.resolve(h).then(async x=>{if(r.value==="aborted")return Pe;const y=await this._def.schema._parseAsync({data:x,path:s.path,parent:s});return y.status==="aborted"?Pe:y.status==="dirty"||r.value==="dirty"?jo(y.value):y});{if(r.value==="aborted")return Pe;const x=this._def.schema._parseSync({data:h,path:s.path,parent:s});return x.status==="aborted"?Pe:x.status==="dirty"||r.value==="dirty"?jo(x.value):x}}if(l.type==="refinement"){const h=x=>{const y=l.refinement(x,c);if(s.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return x};if(s.common.async===!1){const x=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return x.status==="aborted"?Pe:(x.status==="dirty"&&r.dirty(),h(x.value),{status:r.value,value:x.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(x=>x.status==="aborted"?Pe:(x.status==="dirty"&&r.dirty(),h(x.value).then(()=>({status:r.value,value:x.value}))))}if(l.type==="transform")if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!za(h))return Pe;const x=l.transform(h.value,c);if(x instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:x}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>za(h)?Promise.resolve(l.transform(h.value,c)).then(x=>({status:r.value,value:x})):Pe);nt.assertNever(l)}}Wa.create=(e,t,r)=>new Wa({schema:e,typeName:Be.ZodEffects,effect:t,...Ge(r)});Wa.createWithPreprocess=(e,t,r)=>new Wa({schema:t,effect:{type:"preprocess",transform:e},typeName:Be.ZodEffects,...Ge(r)});class oi extends tt{_parse(t){return this._getType(t)===je.undefined?jn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}oi.create=(e,t)=>new oi({innerType:e,typeName:Be.ZodOptional,...Ge(t)});class Ga extends tt{_parse(t){return this._getType(t)===je.null?jn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ga.create=(e,t)=>new Ga({innerType:e,typeName:Be.ZodNullable,...Ge(t)});class B0 extends tt{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===je.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}B0.create=(e,t)=>new B0({innerType:e,typeName:Be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class F0 extends tt{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},l=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Xc(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Ns(s.common.issues)},input:s.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ns(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}F0.create=(e,t)=>new F0({innerType:e,typeName:Be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class Im extends tt{_parse(t){if(this._getType(t)!==je.nan){const s=this._getOrReturnCtx(t);return ve(s,{code:me.invalid_type,expected:je.nan,received:s.parsedType}),Pe}return{status:"valid",value:t.data}}}Im.create=e=>new Im({typeName:Be.ZodNaN,...Ge(e)});class _N extends tt{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class nh extends tt{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?Pe:c.status==="dirty"?(r.dirty(),jo(c.value)):this._def.out._parseAsync({data:c.value,path:s.path,parent:s})})();{const l=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Pe:l.status==="dirty"?(r.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:s.path,parent:s})}}static create(t,r){return new nh({in:t,out:r,typeName:Be.ZodPipeline})}}class U0 extends tt{_parse(t){const r=this._def.innerType._parse(t),s=l=>(za(l)&&(l.value=Object.freeze(l.value)),l);return Xc(r)?r.then(l=>s(l)):s(r)}unwrap(){return this._def.innerType}}U0.create=(e,t)=>new U0({innerType:e,typeName:Be.ZodReadonly,...Ge(t)});Ft.lazycreate;var Be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Be||(Be={}));const Cr=Qs.create,$l=Va.create,TN=D0.create;fi.create;is.create;const Ad=Ft.create;Ft.strictCreate;$c.create;Qc.create;Gi.create;const kN=P0.create,MN=Ha.create;qc.create;oi.create;Ga.create;const RN=Ad({email:Cr().email("Invalid email address"),password:Cr().min(1,"Password is required")}),ON=()=>{const{login:e,isLoading:t,error:r,isAuthenticated:s}=Yr(),{register:l,handleSubmit:c,formState:{errors:h,isSubmitting:x}}=Ed({resolver:Sd(RN)});if(s)return a.jsx(ai,{to:"/dashboard",replace:!0});const y=async p=>{await e(p)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",a.jsx(ke,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),r&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c(y),children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{...l("email"),type:"email",className:"input",placeholder:"Enter your email"}),h.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{...l("password"),type:"password",className:"input",placeholder:"Enter your password"}),h.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),a.jsx("div",{className:"text-sm",children:a.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:x||t,className:"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:x||t?"Signing in...":"Sign in"})})]})]})})},DN=Ad({name:Cr().min(1,"Name is required"),email:Cr().email("Invalid email address"),password:Cr().min(8,"Password must be at least 8 characters"),confirmPassword:Cr().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),LN=()=>{const{register:e,isLoading:t,error:r,isAuthenticated:s}=Yr(),{register:l,handleSubmit:c,formState:{errors:h,isSubmitting:x}}=Ed({resolver:Sd(DN)});if(s)return a.jsx(ai,{to:"/dashboard",replace:!0});const y=async p=>{const{confirmPassword:b,...w}=p,E={...w,role:"participant"};await e(E)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(ke,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]}),r&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:r}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c(y),children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsx("input",{...l("name"),type:"text",autoComplete:"name",className:"input",placeholder:"Enter your full name"}),h.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{...l("email"),type:"email",autoComplete:"email",className:"input",placeholder:"Enter your email"}),h.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{...l("password"),type:"password",autoComplete:"new-password",className:"input",placeholder:"Create a password (min. 8 characters)"}),h.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsx("input",{...l("confirmPassword"),type:"password",autoComplete:"new-password",className:"input",placeholder:"Confirm your password"}),h.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.confirmPassword.message})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:x||t,className:"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:x||t?"Creating Account...":"Create Account"})})]})]})})},zr={async createEvent(e){return dt.post("/events",e)},async getEvents(e){const t=new URLSearchParams;e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.visibility&&t.append("visibility",e.visibility),e!=null&&e.categoryId&&t.append("categoryId",e.categoryId),e!=null&&e.organizerId&&t.append("organizerId",e.organizerId),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.upcoming&&t.append("upcoming",e.upcoming.toString());const r=t.toString()?`/events?${t.toString()}`:"/events";return dt.get(r)},async getEventById(e){return dt.get(`/events/${e}`)},async updateEvent(e,t){return dt.put(`/events/${e}`,t)},async deleteEvent(e){return dt.delete(`/events/${e}`)},async getMyEvents(){return dt.get("/events/my/events")}},Cs={async registerForEvent(e,t){return dt.post(`/registrations/events/${e}/register`,t)},async getEventRegistrations(e){return dt.get(`/registrations/events/${e}/registrations`)},async checkRegistrationStatus(e){return dt.get(`/registrations/events/${e}/registration-status`)},async getUserRegistrations(){return dt.get("/registrations/my-registrations")},async cancelRegistration(e){return dt.put(`/registrations/${e}/cancel`)}};var Ne;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var _m=new Map([[Ne.QR_CODE,"QR_CODE"],[Ne.AZTEC,"AZTEC"],[Ne.CODABAR,"CODABAR"],[Ne.CODE_39,"CODE_39"],[Ne.CODE_93,"CODE_93"],[Ne.CODE_128,"CODE_128"],[Ne.DATA_MATRIX,"DATA_MATRIX"],[Ne.MAXICODE,"MAXICODE"],[Ne.ITF,"ITF"],[Ne.EAN_13,"EAN_13"],[Ne.EAN_8,"EAN_8"],[Ne.PDF_417,"PDF_417"],[Ne.RSS_14,"RSS_14"],[Ne.RSS_EXPANDED,"RSS_EXPANDED"],[Ne.UPC_A,"UPC_A"],[Ne.UPC_E,"UPC_E"],[Ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Tm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Tm||(Tm={}));function PN(e){return Object.values(Ne).includes(e)}var hi;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(hi||(hi={}));var On=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[hi.SCAN_TYPE_CAMERA,hi.SCAN_TYPE_FILE],e}(),qp=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!_m.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,_m.get(t))},e}(),km=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),z0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(z0||(z0={}));var Kp=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:z0.UNKWOWN_ERROR}},e}(),Jp=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function qn(e){return typeof e>"u"||e===null}function BN(e,t,r){return e>r?r:e<t?t:e}var Ea=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ut=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Mm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),e2=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var s=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),h=Object.keys(t),x=0,y=h;x<y.length;x++){var p=y[x];if(c.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),V0={exports:{}};(function(e,t){(function(r,s){s(t)})(ao,function(r){function s(S){return S==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,n){S.__proto__=n}||function(S,n){for(var i in n)n.hasOwnProperty(i)&&(S[i]=n[i])};function c(S,n){l(S,n);function i(){this.constructor=S}S.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function h(S,n){var i=Object.setPrototypeOf;i?i(S,n):S.__proto__=n}function x(S,n){n===void 0&&(n=S.constructor);var i=Error.captureStackTrace;i&&i(S,n)}var y=function(S){c(n,S);function n(i){var o=this.constructor,d=S.call(this,i)||this;return Object.defineProperty(d,"name",{value:o.name,enumerable:!1}),h(d,o.prototype),x(d),d}return n}(Error);class p extends y{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}p.kind="Exception";class b extends p{}b.kind="ArgumentException";class w extends p{}w.kind="IllegalArgumentException";class E{constructor(n){if(this.binarizer=n,n===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,o,d){const u=this.binarizer.getLuminanceSource().crop(n,i,o,d);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends p{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class R{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(n,i,o,d,u){for(;u--;)o[d++]=n[i++]}static currentTimeMillis(){return Date.now()}}class M extends p{}M.kind="IndexOutOfBoundsException";class j extends M{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}j.kind="ArrayIndexOutOfBoundsException";class C{static fill(n,i){for(let o=0,d=n.length;o<d;o++)n[o]=i}static fillWithin(n,i,o,d){C.rangeCheck(n.length,i,o);for(let u=i;u<o;u++)n[u]=d}static rangeCheck(n,i,o){if(i>o)throw new w("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new j(i);if(o>n)throw new j(o)}static asList(...n){return n}static create(n,i,o){return Array.from({length:n}).map(u=>Array.from({length:i}).fill(o))}static createInt32Array(n,i,o){return Array.from({length:n}).map(u=>Int32Array.from({length:i}).fill(o))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let o=0,d=n.length;o<d;o++)if(n[o]!==i[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const o of n)i=31*i+o;return i}static fillUint8Array(n,i){for(let o=0;o!==n.length;o++)n[o]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const o=new Uint8Array(i);return o.set(n),o}return n.slice(0,i)}static copyOfRange(n,i,o){const d=o-i,u=new Int32Array(d);return I.arraycopy(n,i,u,0,d),u}static binarySearch(n,i,o){o===void 0&&(o=C.numberComparator);let d=0,u=n.length-1;for(;d<=u;){const f=u+d>>1,m=o(i,n[f]);if(m>0)d=f+1;else if(m<0)u=f-1;else return f}return-d-1}static numberComparator(n,i){return n-i}}class k{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let o=31;return i=n<<16,i!==0&&(o-=16,n=i),i=n<<8,i!==0&&(o-=8,n=i),i=n<<4,i!==0&&(o-=4,n=i),i=n<<2,i!==0&&(o-=2,n=i),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=B.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=B.makeArray(n);I.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const o=this.bits;let d=Math.floor(n/32),u=o[d];u&=~((1<<(n&31))-1);const f=o.length;for(;u===0;){if(++d===f)return i;u=o[d]}const m=d*32+k.numberOfTrailingZeros(u);return m>i?i:m}getNextUnset(n){const i=this.size;if(n>=i)return i;const o=this.bits;let d=Math.floor(n/32),u=~o[d];u&=~((1<<(n&31))-1);const f=o.length;for(;u===0;){if(++d===f)return i;u=~o[d]}const m=d*32+k.numberOfTrailingZeros(u);return m>i?i:m}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new w;if(i===n)return;i--;const o=Math.floor(n/32),d=Math.floor(i/32),u=this.bits;for(let f=o;f<=d;f++){const m=f>o?0:n&31,v=(2<<(f<d?31:i&31))-(1<<m);u[f]|=v}}clear(){const n=this.bits.length,i=this.bits;for(let o=0;o<n;o++)i[o]=0}isRange(n,i,o){if(i<n||n<0||i>this.size)throw new w;if(i===n)return!0;i--;const d=Math.floor(n/32),u=Math.floor(i/32),f=this.bits;for(let m=d;m<=u;m++){const g=m>d?0:n&31,N=(2<<(m<u?31:i&31))-(1<<g)&4294967295;if((f[m]&N)!==(o?N:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new w("Sizes don't match");const i=this.bits;for(let o=0,d=i.length;o<d;o++)i[o]^=n.bits[o]}toBytes(n,i,o,d){for(let u=0;u<d;u++){let f=0;for(let m=0;m<8;m++)this.get(n)&&(f|=1<<7-m),n++;i[o+u]=f}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,d=this.bits;for(let u=0;u<o;u++){let f=d[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,n[i-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=n[0]>>>u;for(let m=1;m<o;m++){const g=n[m];f|=g<<32-u,n[m-1]=f,f=g>>>u}n[o-1]=f}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof B))return!1;const i=n;return this.size===i.size&&C.equals(this.bits,i.bits)}hashCode(){return 31*this.size+C.hashCode(this.bits)}toString(){let n="";for(let i=0,o=this.size;i<o;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new B(this.size,this.bits.slice())}}var Y;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var $=Y;class P extends p{static getFormatInstance(){return new P}}P.kind="FormatException";var q;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(q||(q={}));class G{constructor(n,i,o,...d){this.valueIdentifier=n,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=d,G.VALUE_IDENTIFIER_TO_ECI.set(n,this),G.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,m=u.length;f!==m;f++){const g=u[f];G.VALUES_TO_ECI.set(g,this)}for(const f of d)G.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new P("incorect value");const i=G.VALUES_TO_ECI.get(n);if(i===void 0)throw new P("incorect value");return i}static getCharacterSetECIByName(n){const i=G.NAME_TO_ECI.get(n);if(i===void 0)throw new P("incorect value");return i}equals(n){if(!(n instanceof G))return!1;const i=n;return this.getName()===i.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(q.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(q.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(q.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(q.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(q.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(q.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(q.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(q.Big5,28,"Big5"),G.GB18030=new G(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(q.EUC_KR,30,"EUC_KR","EUC-KR");class te extends p{}te.kind="UnsupportedOperationException";class X{static decode(n,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!X.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof G?n:G.getCharacterSetECIByName(n)}static decodeFallback(n,i){const o=this.encodingCharacterSet(i);if(X.isDecodeFallbackSupported(o)){let d="";for(let u=0,f=n.length;u<f;u++){let m=n[u].toString(16);m.length<2&&(m="0"+m),d+="%"+m}return decodeURIComponent(d)}if(o.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new te(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(G.UTF8)||n.equals(G.ISO8859_1)||n.equals(G.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),d=[];for(let u=0;u<o.length;u++)d.push(o[u].charCodeAt(0));return new Uint8Array(d)}}class F{static castAsNonUtf8Char(n,i=null){const o=i?i.getName():this.ISO88591;return X.decode(new Uint8Array([n]),o)}static guessEncoding(n,i){if(i!=null&&i.get($.CHARACTER_SET)!==void 0)return i.get($.CHARACTER_SET).toString();const o=n.length;let d=!0,u=!0,f=!0,m=0,g=0,v=0,N=0,A=0,T=0,L=0,z=0,W=0,Z=0,J=0;const ce=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let de=0;de<o&&(d||u||f);de++){const ae=n[de]&255;f&&(m>0?ae&128?m--:f=!1:ae&128&&(ae&64?(m++,ae&32?(m++,ae&16?(m++,ae&8?f=!1:N++):v++):g++):f=!1)),d&&(ae>127&&ae<160?d=!1:ae>159&&(ae<192||ae===215||ae===247)&&J++),u&&(A>0?ae<64||ae===127||ae>252?u=!1:A--:ae===128||ae===160||ae>239?u=!1:ae>160&&ae<224?(T++,z=0,L++,L>W&&(W=L)):ae>127?(A++,L=0,z++,z>Z&&(Z=z)):(L=0,z=0))}return f&&m>0&&(f=!1),u&&A>0&&(u=!1),f&&(ce||g+v+N>0)?F.UTF8:u&&(F.ASSUME_SHIFT_JIS||W>=3||Z>=3)?F.SHIFT_JIS:d&&u?W===2&&T===2||J*10>=o?F.SHIFT_JIS:F.ISO88591:d?F.ISO88591:u?F.SHIFT_JIS:f?F.UTF8:F.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let o=-1;function d(f,m,g,v,N,A){if(f==="%%")return"%";if(i[++o]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let T=N?parseInt(N.substr(1)):void 0,L;switch(A){case"s":L=i[o];break;case"c":L=i[o][0];break;case"f":L=parseFloat(i[o]).toFixed(f);break;case"p":L=parseFloat(i[o]).toPrecision(f);break;case"e":L=parseFloat(i[o]).toExponential(f);break;case"x":L=parseInt(i[o]).toString(T||16);break;case"d":L=parseFloat(parseInt(i[o],T||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(T);let z=parseInt(g),W=g&&g[0]+""=="0"?"0":" ";for(;L.length<z;)L=m!==void 0?L+W:W+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,d)}static getBytes(n,i){return X.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}F.SHIFT_JIS=G.SJIS.getName(),F.GB2312="GB2312",F.ISO88591=G.ISO8859_1.getName(),F.EUC_JP="EUC_JP",F.UTF8=G.UTF8.getName(),F.PLATFORM_DEFAULT_ENCODING=F.UTF8,F.ASSUME_SHIFT_JIS=!1;class ee{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=F.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,o){for(let d=i;i<i+o;d++)this.append(n[d]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class ne{constructor(n,i,o,d){if(this.width=n,this.height=i,this.rowSize=o,this.bits=d,i==null&&(i=n),this.height=i,n<1||i<1)throw new w("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,o=n[0].length,d=new ne(o,i);for(let u=0;u<i;u++){const f=n[u];for(let m=0;m<o;m++)f[m]&&d.set(m,u)}return d}static parseFromString(n,i,o){if(n===null)throw new w("stringRepresentation cannot be null");const d=new Array(n.length);let u=0,f=0,m=-1,g=0,v=0;for(;v<n.length;)if(n.charAt(v)===`
`||n.charAt(v)==="\r"){if(u>f){if(m===-1)m=u-f;else if(u-f!==m)throw new w("row lengths do not match");f=u,g++}v++}else if(n.substring(v,v+i.length)===i)v+=i.length,d[u]=!0,u++;else if(n.substring(v,v+o.length)===o)v+=o.length,d[u]=!1,u++;else throw new w("illegal character encountered: "+n.substring(v));if(u>f){if(m===-1)m=u-f;else if(u-f!==m)throw new w("row lengths do not match");g++}const N=new ne(m,g);for(let A=0;A<u;A++)d[A]&&N.set(Math.floor(A%m),Math.floor(A/m));return N}get(n,i){const o=i*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new w("input matrix dimensions do not match");const i=new B(Math.floor(this.width/32)+1),o=this.rowSize,d=this.bits;for(let u=0,f=this.height;u<f;u++){const m=u*o,g=n.getRow(u,i).getBitArray();for(let v=0;v<o;v++)d[m+v]^=g[v]}}clear(){const n=this.bits,i=n.length;for(let o=0;o<i;o++)n[o]=0}setRegion(n,i,o,d){if(i<0||n<0)throw new w("Left and top must be nonnegative");if(d<1||o<1)throw new w("Height and width must be at least 1");const u=n+o,f=i+d;if(f>this.height||u>this.width)throw new w("The region must fit inside the matrix");const m=this.rowSize,g=this.bits;for(let v=i;v<f;v++){const N=v*m;for(let A=n;A<u;A++)g[N+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new B(this.width):i.clear();const o=this.rowSize,d=this.bits,u=n*o;for(let f=0;f<o;f++)i.setBulk(f*32,d[u+f]);return i}setRow(n,i){I.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let o=new B(n),d=new B(n);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)o=this.getRow(u,o),d=this.getRow(i-1-u,d),o.reverse(),d.reverse(),this.setRow(u,d),this.setRow(i-1-u,o)}getEnclosingRectangle(){const n=this.width,i=this.height,o=this.rowSize,d=this.bits;let u=n,f=i,m=-1,g=-1;for(let v=0;v<i;v++)for(let N=0;N<o;N++){const A=d[v*o+N];if(A!==0){if(v<f&&(f=v),v>g&&(g=v),N*32<u){let T=0;for(;!(A<<31-T&4294967295);)T++;N*32+T<u&&(u=N*32+T)}if(N*32+31>m){let T=31;for(;!(A>>>T);)T--;N*32+T>m&&(m=N*32+T)}}}return m<u||g<f?null:Int32Array.from([u,f,m-u+1,g-f+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const d=o/n;let u=o%n*32;const f=i[o];let m=0;for(;!(f<<31-m&4294967295);)m++;return u+=m,Int32Array.from([u,d])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const d=Math.floor(o/n);let u=Math.floor(o%n)*32;const f=i[o];let m=31;for(;!(f>>>m);)m--;return u+=m,Int32Array.from([u,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof ne))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&C.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+C.hashCode(this.bits),n}toString(n="X ",i="  ",o=`
`){return this.buildToString(n,i,o)}buildToString(n,i,o){let d=new ee;for(let u=0,f=this.height;u<f;u++){for(let m=0,g=this.width;m<g;m++)d.append(this.get(m,u)?n:i);d.append(o)}return d.toString()}clone(){return new ne(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends p{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class fe extends R{constructor(n){super(n),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(n,i){const o=this.getLuminanceSource(),d=o.getWidth();i==null||i.getSize()<d?i=new B(d):i.clear(),this.initArrays(d);const u=o.getRow(n,this.luminances),f=this.buckets;for(let g=0;g<d;g++)f[(u[g]&255)>>fe.LUMINANCE_SHIFT]++;const m=fe.estimateBlackPoint(f);if(d<3)for(let g=0;g<d;g++)(u[g]&255)<m&&i.set(g);else{let g=u[0]&255,v=u[1]&255;for(let N=1;N<d-1;N++){const A=u[N+1]&255;(v*4-g-A)/2<m&&i.set(N),g=v,v=A}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight(),d=new ne(i,o);this.initArrays(i);const u=this.buckets;for(let g=1;g<5;g++){const v=Math.floor(o*g/5),N=n.getRow(v,this.luminances),A=Math.floor(i*4/5);for(let T=Math.floor(i/5);T<A;T++){const L=N[T]&255;u[L>>fe.LUMINANCE_SHIFT]++}}const f=fe.estimateBlackPoint(u),m=n.getMatrix();for(let g=0;g<o;g++){const v=g*i;for(let N=0;N<i;N++)(m[v+N]&255)<f&&d.set(N,g)}return d}createBinarizer(n){return new fe(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let o=0;o<fe.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(n){const i=n.length;let o=0,d=0,u=0;for(let N=0;N<i;N++)n[N]>u&&(d=N,u=n[N]),n[N]>o&&(o=n[N]);let f=0,m=0;for(let N=0;N<i;N++){const A=N-d,T=n[N]*A*A;T>m&&(f=N,m=T)}if(d>f){const N=d;d=f,f=N}if(f-d<=i/16)throw new V;let g=f-1,v=-1;for(let N=f-1;N>d;N--){const A=N-d,T=A*A*(f-N)*(o-n[N]);T>v&&(g=N,v=T)}return g<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class xe extends fe{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight();if(i>=xe.MINIMUM_DIMENSION&&o>=xe.MINIMUM_DIMENSION){const d=n.getMatrix();let u=i>>xe.BLOCK_SIZE_POWER;i&xe.BLOCK_SIZE_MASK&&u++;let f=o>>xe.BLOCK_SIZE_POWER;o&xe.BLOCK_SIZE_MASK&&f++;const m=xe.calculateBlackPoints(d,u,f,i,o),g=new ne(i,o);xe.calculateThresholdForBlock(d,u,f,i,o,m,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new xe(n)}static calculateThresholdForBlock(n,i,o,d,u,f,m){const g=u-xe.BLOCK_SIZE,v=d-xe.BLOCK_SIZE;for(let N=0;N<o;N++){let A=N<<xe.BLOCK_SIZE_POWER;A>g&&(A=g);const T=xe.cap(N,2,o-3);for(let L=0;L<i;L++){let z=L<<xe.BLOCK_SIZE_POWER;z>v&&(z=v);const W=xe.cap(L,2,i-3);let Z=0;for(let ce=-2;ce<=2;ce++){const de=f[T+ce];Z+=de[W-2]+de[W-1]+de[W]+de[W+1]+de[W+2]}const J=Z/25;xe.thresholdBlock(n,z,A,J,d,m)}}}static cap(n,i,o){return n<i?i:n>o?o:n}static thresholdBlock(n,i,o,d,u,f){for(let m=0,g=o*u+i;m<xe.BLOCK_SIZE;m++,g+=u)for(let v=0;v<xe.BLOCK_SIZE;v++)(n[g+v]&255)<=d&&f.set(i+v,o+m)}static calculateBlackPoints(n,i,o,d,u){const f=u-xe.BLOCK_SIZE,m=d-xe.BLOCK_SIZE,g=new Array(o);for(let v=0;v<o;v++){g[v]=new Int32Array(i);let N=v<<xe.BLOCK_SIZE_POWER;N>f&&(N=f);for(let A=0;A<i;A++){let T=A<<xe.BLOCK_SIZE_POWER;T>m&&(T=m);let L=0,z=255,W=0;for(let J=0,ce=N*d+T;J<xe.BLOCK_SIZE;J++,ce+=d){for(let de=0;de<xe.BLOCK_SIZE;de++){const ae=n[ce+de]&255;L+=ae,ae<z&&(z=ae),ae>W&&(W=ae)}if(W-z>xe.MIN_DYNAMIC_RANGE)for(J++,ce+=d;J<xe.BLOCK_SIZE;J++,ce+=d)for(let de=0;de<xe.BLOCK_SIZE;de++)L+=n[ce+de]&255}let Z=L>>xe.BLOCK_SIZE_POWER*2;if(W-z<=xe.MIN_DYNAMIC_RANGE&&(Z=z/2,v>0&&A>0)){const J=(g[v-1][A]+2*g[v][A-1]+g[v-1][A-1])/4;z<J&&(Z=J)}g[v][A]=Z}}return g}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class le{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,o,d){throw new te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new te("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new ee;for(let o=0;o<this.height;o++){const d=this.getRow(o,n);for(let u=0;u<this.width;u++){const f=d[u]&255;let m;f<64?m="#":f<128?m="+":f<192?m=".":m=" ",i.append(m)}i.append(`
`)}return i.toString()}}class we extends le{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const o=this.delegate.getRow(n,i),d=this.getWidth();for(let u=0;u<d;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let d=0;d<i;d++)o[d]=255-(n[d]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,o,d){return new we(this.delegate.crop(n,i,o,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new we(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new we(this.delegate.rotateCounterClockwise45())}}class ye extends le{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return ye.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,o){const d=new Uint8ClampedArray(i*o);for(let u=0,f=0,m=n.length;u<m;u+=4,f++){let g;if(n[u+3]===0)g=255;else{const N=n[u],A=n[u+1],T=n[u+2];g=306*N+601*A+117*T+512>>10}d[f]=g}return d}getRow(n,i){if(n<0||n>=this.getHeight())throw new w("Requested row is outside the image: "+n);const o=this.getWidth(),d=n*o;return i===null?i=this.buffer.slice(d,d+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(d,d+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,o,d){return super.crop(n,i,o,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),o=i.getContext("2d"),d=n*ye.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(d))*u+Math.abs(Math.sin(d))*f),g=Math.ceil(Math.abs(Math.sin(d))*u+Math.abs(Math.cos(d))*f);return i.width=m,i.height=g,o.translate(m/2,g/2),o.rotate(d),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=ye.makeBufferFromCanvasImageData(i),this}invert(){return new we(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class Le{constructor(n,i,o){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Fe=(globalThis||ao||self||window||void 0)&&(globalThis||ao||self||window||void 0).__awaiter||function(S,n,i,o){function d(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function m(N){try{v(o.next(N))}catch(A){f(A)}}function g(N){try{v(o.throw(N))}catch(A){f(A)}}function v(N){N.done?u(N.value):d(N.value).then(m,g)}v((o=o.apply(S,n||[])).next())})};class st{constructor(n,i=500,o){this.reader=n,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Fe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of n){const d=o.kind==="video"?"videoinput":o.kind;if(d!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${i.length+1}`,m=o.groupId,g={deviceId:u,label:f,kind:d,groupId:m};i.push(g)}return i})}getVideoInputDevices(){return Fe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Le(i.deviceId,i.label))})}findDeviceById(n){return Fe(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Fe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Fe(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const d={video:o};return yield this.decodeOnceFromConstraints(d,i)})}decodeOnceFromConstraints(n,i){return Fe(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(n,i){return Fe(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,i,o){return Fe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,o)})}decodeFromVideoDevice(n,i,o){return Fe(this,void 0,void 0,function*(){let d;n?d={deviceId:{exact:n}}:d={facingMode:"environment"};const u={video:d};return yield this.decodeFromConstraints(u,i,o)})}decodeFromConstraints(n,i,o){return Fe(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(d,i,o)})}decodeFromStream(n,i,o){return Fe(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(d,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Fe(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((i,o)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Fe(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const o=document.getElementById(n);if(!o)throw new b(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new b(`element with id '${n}' must be an ${i} element`);return o}decodeFromImage(n,i){if(!n&&!i)throw new b("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new b("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,o){if(n===void 0&&i===void 0)throw new b("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new b("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(n){if(!n)throw new b("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new b("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=n,o}decodeFromVideoUrl(n){if(!n)throw new b("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=n,o}decodeFromVideoUrlContinuously(n,i){if(!n)throw new b("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(o,i);return o.src=n,d}_decodeOnLoadImage(n){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Fe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Fe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,o=!0){this._stopAsyncDecode=!1;const d=(u,f)=>{if(this._stopAsyncDecode){f(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(n);u(m)}catch(m){const g=i&&m instanceof V,N=(m instanceof _||m instanceof P)&&o;if(g||N)return setTimeout(d,this._timeBetweenDecodingAttempts,u,f);f(m)}};return new Promise((u,f)=>d(u,f))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(n);i(d,null),setTimeout(o,this.timeBetweenScansMillis)}catch(d){i(null,d);const u=d instanceof _||d instanceof P,f=d instanceof V;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,o){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),o=new ye(i),d=new xe(o);return new E(d)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,d;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,d=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,d=n.naturalHeight||n.height)),i.style.width=o+"px",i.style.height=d+"px",i.width=o,i.height=d,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class ht{constructor(n,i,o=i==null?0:8*i.length,d,u,f=I.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=o,this.resultPoints=d,this.format=u,this.timestamp=f,this.text=n,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=d,this.format=u,this.resultMetadata=null,f==null?this.timestamp=I.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(i.length+n.length);I.arraycopy(i,0,o,0,i.length),I.arraycopy(n,0,o,i.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var hn;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(hn||(hn={}));var Ae=hn,Rr;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Rr||(Rr={}));var se=Rr;class Oe{constructor(n,i,o,d,u=-1,f=-1){this.rawBytes=n,this.text=i,this.byteSegments=o,this.ecLevel=d,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ot{exp(n){return this.expTable[n]}log(n){if(n===0)throw new w;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Ue{constructor(n,i){if(i.length===0)throw new w;this.field=n;const o=i.length;if(o>1&&i[0]===0){let d=1;for(;d<o&&i[d]===0;)d++;d===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-d),I.arraycopy(i,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(n===1){o=0;for(let f=0,m=i.length;f!==m;f++){const g=i[f];o=ot.addOrSubtract(o,g)}return o}o=i[0];const d=i.length,u=this.field;for(let f=1;f<d;f++)o=ot.addOrSubtract(u.multiply(n,o),i[f]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){const f=i;i=o,o=f}let d=new Int32Array(o.length);const u=o.length-i.length;I.arraycopy(o,0,d,0,u);for(let f=u;f<o.length;f++)d[f]=ot.addOrSubtract(i[f-u],o[f]);return new Ue(this.field,d)}multiply(n){if(!this.field.equals(n.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,d=n.coefficients,u=d.length,f=new Int32Array(o+u-1),m=this.field;for(let g=0;g<o;g++){const v=i[g];for(let N=0;N<u;N++)f[g+N]=ot.addOrSubtract(f[g+N],m.multiply(v,d[N]))}return new Ue(m,f)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,o=this.field,d=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)d[f]=o.multiply(u[f],n);return new Ue(o,d)}multiplyByMonomial(n,i){if(n<0)throw new w;if(i===0)return this.field.getZero();const o=this.coefficients,d=o.length,u=new Int32Array(d+n),f=this.field;for(let m=0;m<d;m++)u[m]=f.multiply(o[m],i);return new Ue(f,u)}divide(n){if(!this.field.equals(n.field))throw new w("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new w("Divide by 0");const i=this.field;let o=i.getZero(),d=this;const u=n.getCoefficient(n.getDegree()),f=i.inverse(u);for(;d.getDegree()>=n.getDegree()&&!d.isZero();){const m=d.getDegree()-n.getDegree(),g=i.multiply(d.getCoefficient(d.getDegree()),f),v=n.multiplyByMonomial(m,g),N=i.buildMonomial(m,g);o=o.addOrSubtract(N),d=d.addOrSubtract(v)}return[o,d]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),i===0||o!==1){const d=this.field.log(o);d===0?n+="1":d===1?n+="a":(n+="a^",n+=d)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class dr extends p{}dr.kind="ArithmeticException";class Ke extends ot{constructor(n,i,o){super(),this.primitive=n,this.size=i,this.generatorBase=o;const d=new Int32Array(i);let u=1;for(let m=0;m<i;m++)d[m]=u,u*=2,u>=i&&(u^=n,u&=i-1);this.expTable=d;const f=new Int32Array(i);for(let m=0;m<i-1;m++)f[d[m]]=m;this.logTable=f,this.zero=new Ue(this,Int32Array.from([0])),this.one=new Ue(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new w;if(i===0)return this.zero;const o=new Int32Array(n+1);return o[0]=i,new Ue(this,o)}inverse(n){if(n===0)throw new dr;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class as extends p{}as.kind="ReedSolomonException";class Xr extends p{}Xr.kind="IllegalStateException";class bi{constructor(n){this.field=n}decode(n,i){const o=this.field,d=new Ue(o,n),u=new Int32Array(i);let f=!0;for(let L=0;L<i;L++){const z=d.evaluateAt(o.exp(L+o.getGeneratorBase()));u[u.length-1-L]=z,z!==0&&(f=!1)}if(f)return;const m=new Ue(o,u),g=this.runEuclideanAlgorithm(o.buildMonomial(i,1),m,i),v=g[0],N=g[1],A=this.findErrorLocations(v),T=this.findErrorMagnitudes(N,A);for(let L=0;L<A.length;L++){const z=n.length-1-o.log(A[L]);if(z<0)throw new as("Bad error location");n[z]=Ke.addOrSubtract(n[z],T[L])}}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){const L=n;n=i,i=L}const d=this.field;let u=n,f=i,m=d.getZero(),g=d.getOne();for(;f.getDegree()>=(o/2|0);){let L=u,z=m;if(u=f,m=g,u.isZero())throw new as("r_{i-1} was zero");f=L;let W=d.getZero();const Z=u.getCoefficient(u.getDegree()),J=d.inverse(Z);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const ce=f.getDegree()-u.getDegree(),de=d.multiply(f.getCoefficient(f.getDegree()),J);W=W.addOrSubtract(d.buildMonomial(ce,de)),f=f.addOrSubtract(u.multiplyByMonomial(ce,de))}if(g=W.multiply(m).addOrSubtract(z),f.getDegree()>=u.getDegree())throw new Xr("Division algorithm failed to reduce polynomial?")}const v=g.getCoefficient(0);if(v===0)throw new as("sigmaTilde(0) was zero");const N=d.inverse(v),A=g.multiplyScalar(N),T=f.multiplyScalar(N);return[A,T]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(i);let d=0;const u=this.field;for(let f=1;f<u.getSize()&&d<i;f++)n.evaluateAt(f)===0&&(o[d]=u.inverse(f),d++);if(d!==i)throw new as("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,i){const o=i.length,d=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const m=u.inverse(i[f]);let g=1;for(let v=0;v<o;v++)if(f!==v){const N=u.multiply(i[v],m),A=N&1?N&-2:N|1;g=u.multiply(g,A)}d[f]=u.multiply(n.evaluateAt(m),u.inverse(g)),u.getGeneratorBase()!==0&&(d[f]=u.multiply(d[f],m))}return d}}var Jt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Jt||(Jt={}));class gt{decode(n){this.ddata=n;let i=n.getBits(),o=this.extractBits(i),d=this.correctBits(o),u=gt.convertBoolArrayToByteArray(d),f=gt.getEncodedData(d),m=new Oe(u,f,null,null);return m.setNumBits(d.length),m}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,o=Jt.UPPER,d=Jt.UPPER,u="",f=0;for(;f<i;)if(d===Jt.BINARY){if(i-f<5)break;let m=gt.readCode(n,f,5);if(f+=5,m===0){if(i-f<11)break;m=gt.readCode(n,f,11)+31,f+=11}for(let g=0;g<m;g++){if(i-f<8){f=i;break}const v=gt.readCode(n,f,8);u+=F.castAsNonUtf8Char(v),f+=8}d=o}else{let m=d===Jt.DIGIT?4:5;if(i-f<m)break;let g=gt.readCode(n,f,m);f+=m;let v=gt.getCharacter(d,g);v.startsWith("CTRL_")?(o=d,d=gt.getTable(v.charAt(5)),v.charAt(6)==="L"&&(o=d)):(u+=v,d=o)}return u}static getTable(n){switch(n){case"L":return Jt.LOWER;case"P":return Jt.PUNCT;case"M":return Jt.MIXED;case"D":return Jt.DIGIT;case"B":return Jt.BINARY;case"U":default:return Jt.UPPER}}static getCharacter(n,i){switch(n){case Jt.UPPER:return gt.UPPER_TABLE[i];case Jt.LOWER:return gt.LOWER_TABLE[i];case Jt.MIXED:return gt.MIXED_TABLE[i];case Jt.PUNCT:return gt.PUNCT_TABLE[i];case Jt.DIGIT:return gt.DIGIT_TABLE[i];default:throw new Xr("Bad table")}}correctBits(n){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=Ke.AZTEC_DATA_10):(o=12,i=Ke.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),u=n.length/o;if(u<d)throw new P;let f=n.length%o,m=new Int32Array(u);for(let T=0;T<u;T++,f+=o)m[T]=gt.readCode(n,f,o);try{new bi(i).decode(m,u-d)}catch(T){throw new P(T)}let g=(1<<o)-1,v=0;for(let T=0;T<d;T++){let L=m[T];if(L===0||L===g)throw new P;(L===1||L===g-1)&&v++}let N=new Array(d*o-v),A=0;for(let T=0;T<d;T++){let L=m[T];if(L===1||L===g-1)N.fill(L>1,A,A+o-1),A+=o-1;else for(let z=o-1;z>=0;--z)N[A++]=(L&1<<z)!==0}return N}extractBits(n){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),d=(i?11:14)+o*4,u=new Int32Array(d),f=new Array(this.totalBitsInLayer(o,i));if(i)for(let m=0;m<u.length;m++)u[m]=m;else{let m=d+1+2*k.truncDivision(k.truncDivision(d,2)-1,15),g=d/2,v=k.truncDivision(m,2);for(let N=0;N<g;N++){let A=N+k.truncDivision(N,15);u[g-N-1]=v-A-1,u[g+N]=v+A+1}}for(let m=0,g=0;m<o;m++){let v=(o-m)*4+(i?9:12),N=m*2,A=d-1-N;for(let T=0;T<v;T++){let L=T*2;for(let z=0;z<2;z++)f[g+L+z]=n.get(u[N+z],u[N+T]),f[g+2*v+L+z]=n.get(u[N+T],u[A-z]),f[g+4*v+L+z]=n.get(u[A-z],u[A-T]),f[g+6*v+L+z]=n.get(u[A-T],u[N+z])}g+=v*8}return f}static readCode(n,i,o){let d=0;for(let u=i;u<i+o;u++)d<<=1,n[u]&&(d|=1);return d}static readByte(n,i){let o=n.length-i;return o>=8?gt.readCode(n,i,8):gt.readCode(n,i,o)<<8-o}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let o=0;o<i.length;o++)i[o]=gt.readByte(n,8*o);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}gt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],gt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],gt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],gt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],gt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Xe{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,o,d){const u=n-o,f=i-d;return Math.sqrt(u*u+f*f)}static sum(n){let i=0;for(let o=0,d=n.length;o!==d;o++){const u=n[o];i+=u}return i}}class U{static floatToIntBits(n){return n}}U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class H{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof H){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*U.floatToIntBits(this.x)+U.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),d=this.distance(n[0],n[2]);let u,f,m;if(o>=i&&o>=d?(f=n[0],u=n[1],m=n[2]):d>=o&&d>=i?(f=n[1],u=n[0],m=n[2]):(f=n[2],u=n[0],m=n[1]),this.crossProductZ(u,f,m)<0){const g=u;u=m,m=g}n[0]=u,n[1]=f,n[2]=m}static distance(n,i){return Xe.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,o){const d=i.x,u=i.y;return(o.x-d)*(n.y-u)-(o.y-u)*(n.x-d)}}class re{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class pe extends re{constructor(n,i,o,d,u){super(n,i),this.compact=o,this.nbDatablocks=d,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class he{constructor(n,i,o,d){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=he.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),d==null&&(d=n.getHeight()/2|0);const u=i/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=d-u,this.downInit=d+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let n=this.leftInit,i=this.rightInit,o=this.upInit,d=this.downInit,u=!1,f=!0,m=!1,g=!1,v=!1,N=!1,A=!1;const T=this.width,L=this.height;for(;f;){f=!1;let z=!0;for(;(z||!g)&&i<T;)z=this.containsBlackPoint(o,d,i,!1),z?(i++,f=!0,g=!0):g||i++;if(i>=T){u=!0;break}let W=!0;for(;(W||!v)&&d<L;)W=this.containsBlackPoint(n,i,d,!0),W?(d++,f=!0,v=!0):v||d++;if(d>=L){u=!0;break}let Z=!0;for(;(Z||!N)&&n>=0;)Z=this.containsBlackPoint(o,d,n,!1),Z?(n--,f=!0,N=!0):N||n--;if(n<0){u=!0;break}let J=!0;for(;(J||!A)&&o>=0;)J=this.containsBlackPoint(n,i,o,!0),J?(o--,f=!0,A=!0):A||o--;if(o<0){u=!0;break}f&&(m=!0)}if(!u&&m){const z=i-n;let W=null;for(let de=1;W===null&&de<z;de++)W=this.getBlackPointOnSegment(n,d-de,n+de,d);if(W==null)throw new V;let Z=null;for(let de=1;Z===null&&de<z;de++)Z=this.getBlackPointOnSegment(n,o+de,n+de,o);if(Z==null)throw new V;let J=null;for(let de=1;J===null&&de<z;de++)J=this.getBlackPointOnSegment(i,o+de,i-de,o);if(J==null)throw new V;let ce=null;for(let de=1;ce===null&&de<z;de++)ce=this.getBlackPointOnSegment(i,d-de,i-de,d);if(ce==null)throw new V;return this.centerEdges(ce,W,J,Z)}else throw new V}getBlackPointOnSegment(n,i,o,d){const u=Xe.round(Xe.distance(n,i,o,d)),f=(o-n)/u,m=(d-i)/u,g=this.image;for(let v=0;v<u;v++){const N=Xe.round(n+v*f),A=Xe.round(i+v*m);if(g.get(N,A))return new H(N,A)}return null}centerEdges(n,i,o,d){const u=n.getX(),f=n.getY(),m=i.getX(),g=i.getY(),v=o.getX(),N=o.getY(),A=d.getX(),T=d.getY(),L=he.CORR;return u<this.width/2?[new H(A-L,T+L),new H(m+L,g+L),new H(v-L,N-L),new H(u+L,f-L)]:[new H(A+L,T+L),new H(m+L,g-L),new H(v-L,N+L),new H(u-L,f-L)]}containsBlackPoint(n,i,o,d){const u=this.image;if(d){for(let f=n;f<=i;f++)if(u.get(f,o))return!0}else for(let f=n;f<=i;f++)if(u.get(o,f))return!0;return!1}}he.INIT_SIZE=10,he.CORR=1;class ue{static checkAndNudgePoints(n,i){const o=n.getWidth(),d=n.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const m=Math.floor(i[f]),g=Math.floor(i[f+1]);if(m<-1||m>o||g<-1||g>d)throw new V;u=!1,m===-1?(i[f]=0,u=!0):m===o&&(i[f]=o-1,u=!0),g===-1?(i[f+1]=0,u=!0):g===d&&(i[f+1]=d-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const m=Math.floor(i[f]),g=Math.floor(i[f+1]);if(m<-1||m>o||g<-1||g>d)throw new V;u=!1,m===-1?(i[f]=0,u=!0):m===o&&(i[f]=o-1,u=!0),g===-1?(i[f+1]=0,u=!0):g===d&&(i[f+1]=d-1,u=!0)}}}class Ce{constructor(n,i,o,d,u,f,m,g,v){this.a11=n,this.a21=i,this.a31=o,this.a12=d,this.a22=u,this.a32=f,this.a13=m,this.a23=g,this.a33=v}static quadrilateralToQuadrilateral(n,i,o,d,u,f,m,g,v,N,A,T,L,z,W,Z){const J=Ce.quadrilateralToSquare(n,i,o,d,u,f,m,g);return Ce.squareToQuadrilateral(v,N,A,T,L,z,W,Z).times(J)}transformPoints(n){const i=n.length,o=this.a11,d=this.a12,u=this.a13,f=this.a21,m=this.a22,g=this.a23,v=this.a31,N=this.a32,A=this.a33;for(let T=0;T<i;T+=2){const L=n[T],z=n[T+1],W=u*L+g*z+A;n[T]=(o*L+f*z+v)/W,n[T+1]=(d*L+m*z+N)/W}}transformPointsWithValues(n,i){const o=this.a11,d=this.a12,u=this.a13,f=this.a21,m=this.a22,g=this.a23,v=this.a31,N=this.a32,A=this.a33,T=n.length;for(let L=0;L<T;L++){const z=n[L],W=i[L],Z=u*z+g*W+A;n[L]=(o*z+f*W+v)/Z,i[L]=(d*z+m*W+N)/Z}}static squareToQuadrilateral(n,i,o,d,u,f,m,g){const v=n-o+u-m,N=i-d+f-g;if(v===0&&N===0)return new Ce(o-n,u-o,n,d-i,f-d,i,0,0,1);{const A=o-u,T=m-u,L=d-f,z=g-f,W=A*z-T*L,Z=(v*z-T*N)/W,J=(A*N-v*L)/W;return new Ce(o-n+Z*o,m-n+J*m,n,d-i+Z*d,g-i+J*g,i,Z,J,1)}}static quadrilateralToSquare(n,i,o,d,u,f,m,g){return Ce.squareToQuadrilateral(n,i,o,d,u,f,m,g).buildAdjoint()}buildAdjoint(){return new Ce(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Ce(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class rt extends ue{sampleGrid(n,i,o,d,u,f,m,g,v,N,A,T,L,z,W,Z,J,ce,de){const ae=Ce.quadrilateralToQuadrilateral(d,u,f,m,g,v,N,A,T,L,z,W,Z,J,ce,de);return this.sampleGridWithTransform(n,i,o,ae)}sampleGridWithTransform(n,i,o,d){if(i<=0||o<=0)throw new V;const u=new ne(i,o),f=new Float32Array(2*i);for(let m=0;m<o;m++){const g=f.length,v=m+.5;for(let N=0;N<g;N+=2)f[N]=N/2+.5,f[N+1]=v;d.transformPoints(f),ue.checkAndNudgePoints(n,f);try{for(let N=0;N<g;N+=2)n.get(Math.floor(f[N]),Math.floor(f[N+1]))&&u.set(N/2,m)}catch{throw new V}}return u}}class Qe{static setGridSampler(n){Qe.gridSampler=n}static getInstance(){return Qe.gridSampler}}Qe.gridSampler=new rt;class mt{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new H(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ni{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(n){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let d=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new pe(d,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new V;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(o,i);let d=0;for(let f=0;f<4;f++){let m=o[(this.shift+f)%4];this.compact?(d<<=7,d+=m>>1&127):(d<<=10,d+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,i){let o=0;n.forEach((d,u,f)=>{let m=(d>>i-2<<1)+(d&1);o=(o<<3)+m}),o=((o&1)<<11)+(o>>1);for(let d=0;d<4;d++)if(k.bitCount(o^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new V}getCorrectedParameterData(n,i){let o,d;i?(o=7,d=2):(o=10,d=4);let u=o-d,f=new Int32Array(o);for(let g=o-1;g>=0;--g)f[g]=n&15,n>>=4;try{new bi(Ke.AZTEC_PARAM).decode(f,u)}catch{throw new V}let m=0;for(let g=0;g<d;g++)m=(m<<4)+f[g];return m}getBullsEyeCorners(n){let i=n,o=n,d=n,u=n,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(i,f,1,-1),T=this.getFirstDifferent(o,f,1,1),L=this.getFirstDifferent(d,f,-1,1),z=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(z,A)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(A,T,L,z))break}i=A,o=T,d=L,u=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let m=new H(i.getX()+.5,i.getY()-.5),g=new H(o.getX()+.5,o.getY()+.5),v=new H(d.getX()-.5,d.getY()+.5),N=new H(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,g,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,o,d;try{let m=new he(this.image).detect();n=m[0],i=m[1],o=m[2],d=m[3]}catch{let g=this.image.getWidth()/2,v=this.image.getHeight()/2;n=this.getFirstDifferent(new mt(g+7,v-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(g+7,v+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new mt(g-7,v+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new mt(g-7,v-7),!1,-1,-1).toResultPoint()}let u=Xe.round((n.getX()+d.getX()+i.getX()+o.getX())/4),f=Xe.round((n.getY()+d.getY()+i.getY()+o.getY())/4);try{let m=new he(this.image,15,u,f).detect();n=m[0],i=m[1],o=m[2],d=m[3]}catch{n=this.getFirstDifferent(new mt(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new mt(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new mt(u-7,f+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new mt(u-7,f-7),!1,-1,-1).toResultPoint()}return u=Xe.round((n.getX()+d.getX()+i.getX()+o.getX())/4),f=Xe.round((n.getY()+d.getY()+i.getY()+o.getY())/4),new mt(u,f)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,o,d,u){let f=Qe.getInstance(),m=this.getDimension(),g=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return f.sampleGrid(n,m,m,g,g,v,g,v,v,g,v,i.getX(),i.getY(),o.getX(),o.getY(),d.getX(),d.getY(),u.getX(),u.getY())}sampleLine(n,i,o){let d=0,u=this.distanceResultPoint(n,i),f=u/o,m=n.getX(),g=n.getY(),v=f*(i.getX()-n.getX())/u,N=f*(i.getY()-n.getY())/u;for(let A=0;A<o;A++)this.image.get(Xe.round(m+A*v),Xe.round(g+A*N))&&(d|=1<<o-A-1);return d}isWhiteOrBlackRectangle(n,i,o,d){let u=3;n=new mt(n.getX()-u,n.getY()+u),i=new mt(i.getX()-u,i.getY()-u),o=new mt(o.getX()+u,o.getY()-u),d=new mt(d.getX()+u,d.getY()+u);let f=this.getColor(d,n);if(f===0)return!1;let m=this.getColor(n,i);return m!==f||(m=this.getColor(i,o),m!==f)?!1:(m=this.getColor(o,d),m===f)}getColor(n,i){let o=this.distancePoint(n,i),d=(i.getX()-n.getX())/o,u=(i.getY()-n.getY())/o,f=0,m=n.getX(),g=n.getY(),v=this.image.get(n.getX(),n.getY()),N=Math.ceil(o);for(let T=0;T<N;T++)m+=d,g+=u,this.image.get(Xe.round(m),Xe.round(g))!==v&&f++;let A=f/o;return A>.1&&A<.9?0:A<=.1===v?1:-1}getFirstDifferent(n,i,o,d){let u=n.getX()+o,f=n.getY()+d;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=o,f+=d;for(u-=o,f-=d;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=d;return f-=d,new mt(u,f)}expandSquare(n,i,o){let d=o/(2*i),u=n[0].getX()-n[2].getX(),f=n[0].getY()-n[2].getY(),m=(n[0].getX()+n[2].getX())/2,g=(n[0].getY()+n[2].getY())/2,v=new H(m+d*u,g+d*f),N=new H(m-d*u,g-d*f);u=n[1].getX()-n[3].getX(),f=n[1].getY()-n[3].getY(),m=(n[1].getX()+n[3].getX())/2,g=(n[1].getY()+n[3].getY())/2;let A=new H(m+d*u,g+d*f),T=new H(m-d*u,g-d*f);return[v,A,N,T]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Xe.round(n.getX()),o=Xe.round(n.getY());return this.isValid(i,o)}distancePoint(n,i){return Xe.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Xe.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class Zr{decode(n,i=null){let o=null,d=new Ni(n.getBlackMatrix()),u=null,f=null;try{let N=d.detectMirror(!1);u=N.getPoints(),this.reportFoundResultPoints(i,u),f=new gt().decode(N)}catch(N){o=N}if(f==null)try{let N=d.detectMirror(!0);u=N.getPoints(),this.reportFoundResultPoints(i,u),f=new gt().decode(N)}catch(N){throw o??N}let m=new ht(f.getText(),f.getRawBytes(),f.getNumBits(),u,Ae.AZTEC,I.currentTimeMillis()),g=f.getByteSegments();g!=null&&m.putMetadata(se.BYTE_SEGMENTS,g);let v=f.getECLevel();return v!=null&&m.putMetadata(se.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(n,i){if(n!=null){let o=n.get($.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((d,u,f)=>{o.foundPossibleResultPoint(d)})}}reset(){}}class Td extends st{constructor(n=500){super(new Zr,n)}}class jt{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get($.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),f=this.doDecode(u,i),m=f.getResultMetadata();let g=270;m!==null&&m.get(se.ORIENTATION)===!0&&(g=g+m.get(se.ORIENTATION)%360),f.putMetadata(se.ORIENTATION,g);const v=f.getResultPoints();if(v!==null){const N=u.getHeight();for(let A=0;A<v.length;A++)v[A]=new H(N-v[A].getY()-1,v[A].getX())}return f}else throw new V}}reset(){}doDecode(n,i){const o=n.getWidth(),d=n.getHeight();let u=new B(o);const f=i&&i.get($.TRY_HARDER)===!0,m=Math.max(1,d>>(f?8:5));let g;f?g=d:g=15;const v=Math.trunc(d/2);for(let N=0;N<g;N++){const A=Math.trunc((N+1)/2),T=(N&1)===0,L=v+m*(T?A:-A);if(L<0||L>=d)break;try{u=n.getBlackRow(L,u)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(u.reverse(),i&&i.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;i.forEach((Z,J)=>W.set(J,Z)),W.delete($.NEED_RESULT_POINT_CALLBACK),i=W}try{const W=this.decodeRow(L,u,i);if(z===1){W.putMetadata(se.ORIENTATION,180);const Z=W.getResultPoints();Z!==null&&(Z[0]=new H(o-Z[0].getX()-1,Z[0].getY()),Z[1]=new H(o-Z[1].getX()-1,Z[1].getY()))}return W}catch{}}}throw new V}static recordPattern(n,i,o){const d=o.length;for(let v=0;v<d;v++)o[v]=0;const u=n.getSize();if(i>=u)throw new V;let f=!n.get(i),m=0,g=i;for(;g<u;){if(n.get(g)!==f)o[m]++;else{if(++m===d)break;o[m]=1,f=!f}g++}if(!(m===d||m===d-1&&g===u))throw new V}static recordPatternInReverse(n,i,o){let d=o.length,u=n.get(i);for(;i>0&&d>=0;)n.get(--i)!==u&&(d--,u=!u);if(d>=0)throw new V;jt.recordPattern(n,i+1,o)}static patternMatchVariance(n,i,o){const d=n.length;let u=0,f=0;for(let v=0;v<d;v++)u+=n[v],f+=i[v];if(u<f)return Number.POSITIVE_INFINITY;const m=u/f;o*=m;let g=0;for(let v=0;v<d;v++){const N=n[v],A=i[v]*m,T=N>A?N-A:A-N;if(T>o)return Number.POSITIVE_INFINITY;g+=T}return g/u}}class ge extends jt{static findStartPattern(n){const i=n.getSize(),o=n.getNextSet(0);let d=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,m=!1;const g=6;for(let v=o;v<i;v++)if(n.get(v)!==m)u[d]++;else{if(d===g-1){let N=ge.MAX_AVG_VARIANCE,A=-1;for(let T=ge.CODE_START_A;T<=ge.CODE_START_C;T++){const L=jt.patternMatchVariance(u,ge.CODE_PATTERNS[T],ge.MAX_INDIVIDUAL_VARIANCE);L<N&&(N=L,A=T)}if(A>=0&&n.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,A]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[d-1]=0,u[d]=0,d--}else d++;u[d]=1,m=!m}throw new V}static decodeCode(n,i,o){jt.recordPattern(n,o,i);let d=ge.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<ge.CODE_PATTERNS.length;f++){const m=ge.CODE_PATTERNS[f],g=this.patternMatchVariance(i,m,ge.MAX_INDIVIDUAL_VARIANCE);g<d&&(d=g,u=f)}if(u>=0)return u;throw new V}decodeRow(n,i,o){const d=o&&o.get($.ASSUME_GS1)===!0,u=ge.findStartPattern(i),f=u[2];let m=0;const g=new Uint8Array(20);g[m++]=f;let v;switch(f){case ge.CODE_START_A:v=ge.CODE_CODE_A;break;case ge.CODE_START_B:v=ge.CODE_CODE_B;break;case ge.CODE_START_C:v=ge.CODE_CODE_C;break;default:throw new P}let N=!1,A=!1,T="",L=u[0],z=u[1];const W=Int32Array.from([0,0,0,0,0,0]);let Z=0,J=0,ce=f,de=0,ae=!0,Ze=!1,Ve=!1;for(;!N;){const sa=A;switch(A=!1,Z=J,J=ge.decodeCode(i,W,z),g[m++]=J,J!==ge.CODE_STOP&&(ae=!0),J!==ge.CODE_STOP&&(de++,ce+=de*J),L=z,z+=W.reduce((fy,hy)=>fy+hy,0),J){case ge.CODE_START_A:case ge.CODE_START_B:case ge.CODE_START_C:throw new P}switch(v){case ge.CODE_CODE_A:if(J<64)Ve===Ze?T+=String.fromCharCode(" ".charCodeAt(0)+J):T+=String.fromCharCode(" ".charCodeAt(0)+J+128),Ve=!1;else if(J<96)Ve===Ze?T+=String.fromCharCode(J-64):T+=String.fromCharCode(J+64),Ve=!1;else switch(J!==ge.CODE_STOP&&(ae=!1),J){case ge.CODE_FNC_1:d&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_A:!Ze&&Ve?(Ze=!0,Ve=!1):Ze&&Ve?(Ze=!1,Ve=!1):Ve=!0;break;case ge.CODE_SHIFT:A=!0,v=ge.CODE_CODE_B;break;case ge.CODE_CODE_B:v=ge.CODE_CODE_B;break;case ge.CODE_CODE_C:v=ge.CODE_CODE_C;break;case ge.CODE_STOP:N=!0;break}break;case ge.CODE_CODE_B:if(J<96)Ve===Ze?T+=String.fromCharCode(" ".charCodeAt(0)+J):T+=String.fromCharCode(" ".charCodeAt(0)+J+128),Ve=!1;else switch(J!==ge.CODE_STOP&&(ae=!1),J){case ge.CODE_FNC_1:d&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_B:!Ze&&Ve?(Ze=!0,Ve=!1):Ze&&Ve?(Ze=!1,Ve=!1):Ve=!0;break;case ge.CODE_SHIFT:A=!0,v=ge.CODE_CODE_A;break;case ge.CODE_CODE_A:v=ge.CODE_CODE_A;break;case ge.CODE_CODE_C:v=ge.CODE_CODE_C;break;case ge.CODE_STOP:N=!0;break}break;case ge.CODE_CODE_C:if(J<100)J<10&&(T+="0"),T+=J;else switch(J!==ge.CODE_STOP&&(ae=!1),J){case ge.CODE_FNC_1:d&&(T.length===0?T+="]C1":T+=String.fromCharCode(29));break;case ge.CODE_CODE_A:v=ge.CODE_CODE_A;break;case ge.CODE_CODE_B:v=ge.CODE_CODE_B;break;case ge.CODE_STOP:N=!0;break}break}sa&&(v=v===ge.CODE_CODE_A?ge.CODE_CODE_B:ge.CODE_CODE_A)}const Pr=z-L;if(z=i.getNextUnset(z),!i.isRange(z,Math.min(i.getSize(),z+(z-L)/2),!1))throw new V;if(ce-=de*Z,ce%103!==Z)throw new _;const _n=T.length;if(_n===0)throw new V;_n>0&&ae&&(v===ge.CODE_CODE_C?T=T.substring(0,_n-2):T=T.substring(0,_n-1));const Br=(u[1]+u[0])/2,yt=L+Pr/2,hr=g.length,$r=new Uint8Array(hr);for(let sa=0;sa<hr;sa++)$r[sa]=g[sa];const na=[new H(Br,n),new H(yt,n)];return new ht(T,$r,0,na,Ae.CODE_128,new Date().getTime())}}ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ge.MAX_AVG_VARIANCE=.25,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.CODE_SHIFT=98,ge.CODE_CODE_C=99,ge.CODE_CODE_B=100,ge.CODE_CODE_A=101,ge.CODE_FNC_1=102,ge.CODE_FNC_2=97,ge.CODE_FNC_3=96,ge.CODE_FNC_4_A=101,ge.CODE_FNC_4_B=100,ge.CODE_START_A=103,ge.CODE_START_B=104,ge.CODE_START_C=105,ge.CODE_STOP=106;class Vt extends jt{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,o){let d=this.counters;d.fill(0),this.decodeRowResult="";let u=Vt.findAsteriskPattern(i,d),f=i.getNextSet(u[1]),m=i.getSize(),g,v;do{Vt.recordPattern(i,f,d);let W=Vt.toNarrowWidePattern(d);if(W<0)throw new V;g=Vt.patternToChar(W),this.decodeRowResult+=g,v=f;for(let Z of d)f+=Z;f=i.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let W of d)N+=W;let A=f-v-N;if(f!==m&&A*2<N)throw new V;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,Z=0;for(let J=0;J<W;J++)Z+=Vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(W)!==Vt.ALPHABET_STRING.charAt(Z%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new V;let T;this.extendedMode?T=Vt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let L=(u[1]+u[0])/2,z=v+N/2;return new ht(T,null,0,[new H(L,n),new H(z,n)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let o=n.getSize(),d=n.getNextSet(0),u=0,f=d,m=!1,g=i.length;for(let v=d;v<o;v++)if(n.get(v)!==m)i[u]++;else{if(u===g-1){if(this.toNarrowWidePattern(i)===Vt.ASTERISK_ENCODING&&n.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,m=!m}throw new V}static toNarrowWidePattern(n){let i=n.length,o=0,d;do{let u=2147483647;for(let g of n)g<u&&g>o&&(u=g);o=u,d=0;let f=0,m=0;for(let g=0;g<i;g++){let v=n[g];v>o&&(m|=1<<i-1-g,d++,f+=v)}if(d===3){for(let g=0;g<i&&d>0;g++){let v=n[g];if(v>o&&(d--,v*2>=f))return-1}return m}}while(d>3);return-1}static patternToChar(n){for(let i=0;i<Vt.CHARACTER_ENCODINGS.length;i++)if(Vt.CHARACTER_ENCODINGS[i]===n)return Vt.ALPHABET_STRING.charAt(i);if(n===Vt.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(n){let i=n.length,o="";for(let d=0;d<i;d++){let u=n.charAt(d);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=n.charAt(d+1),m="\0";switch(u){case"+":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)+32);else throw new P;break;case"$":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)-64);else throw new P;break;case"%":if(f>="A"&&f<="E")m=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")m=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")m=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")m="\0";else if(f==="V")m="@";else if(f==="W")m="`";else if(f==="X"||f==="Y"||f==="Z")m="";else throw new P;break;case"/":if(f>="A"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")m=":";else throw new P;break}o+=m,d++}else o+=u}return o}}Vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vt.ASTERISK_ENCODING=148;class lt extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,o){let d=this.decodeStart(i),u=this.decodeEnd(i),f=new ee;lt.decodeMiddle(i,d[1],u[0],f);let m=f.toString(),g=null;o!=null&&(g=o.get($.ALLOWED_LENGTHS)),g==null&&(g=lt.DEFAULT_ALLOWED_LENGTHS);let v=m.length,N=!1,A=0;for(let z of g){if(v===z){N=!0;break}z>A&&(A=z)}if(!N&&v>A&&(N=!0),!N)throw new P;const T=[new H(d[1],n),new H(u[0],n)];return new ht(m,null,0,T,Ae.ITF,new Date().getTime())}static decodeMiddle(n,i,o,d){let u=new Int32Array(10),f=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),f.fill(0),m.fill(0);i<o;){jt.recordPattern(n,i,u);for(let v=0;v<5;v++){let N=2*v;f[v]=u[N],m[v]=u[N+1]}let g=lt.decodeDigit(f);d.append(g.toString()),g=this.decodeDigit(m),d.append(g.toString()),u.forEach(function(v){i+=v})}}decodeStart(n){let i=lt.skipWhiteSpace(n),o=lt.findGuardPattern(n,i,lt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let d=i-1;o>0&&d>=0&&!n.get(d);d--)o--;if(o!==0)throw new V}static skipWhiteSpace(n){const i=n.getSize(),o=n.getNextSet(0);if(o===i)throw new V;return o}decodeEnd(n){n.reverse();try{let i=lt.skipWhiteSpace(n),o;try{o=lt.findGuardPattern(n,i,lt.END_PATTERN_REVERSED[0])}catch(u){u instanceof V&&(o=lt.findGuardPattern(n,i,lt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let d=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-d,o}finally{n.reverse()}}static findGuardPattern(n,i,o){let d=o.length,u=new Int32Array(d),f=n.getSize(),m=!1,g=0,v=i;u.fill(0);for(let N=i;N<f;N++)if(n.get(N)!==m)u[g]++;else{if(g===d-1){if(jt.patternMatchVariance(u,o,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return[v,N];v+=u[0]+u[1],I.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,m=!m}throw new V}static decodeDigit(n){let i=lt.MAX_AVG_VARIANCE,o=-1,d=lt.PATTERNS.length;for(let u=0;u<d;u++){let f=lt.PATTERNS[u],m=jt.patternMatchVariance(n,f,lt.MAX_INDIVIDUAL_VARIANCE);m<i?(i=m,o=u):m===i&&(o=-1)}if(o>=0)return o%10;throw new V}}lt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],lt.MAX_AVG_VARIANCE=.38,lt.MAX_INDIVIDUAL_VARIANCE=.5,lt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],lt.START_PATTERN=Int32Array.from([1,1,1,1]),lt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class It extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,o,d=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),o=It.findGuardPattern(n,d,!1,this.START_END_PATTERN,u);let f=o[0];d=o[1];let m=f-(d-f);m>=0&&(i=n.isRange(m,f,!1))}return o}static checkChecksum(n){return It.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return It.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let d=i-1;d>=0;d-=2){let u=n.charAt(d).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;o+=u}o*=3;for(let d=i-2;d>=0;d-=2){let u=n.charAt(d).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;o+=u}return(1e3-o)%10}static decodeEnd(n,i){return It.findGuardPattern(n,i,!1,It.START_END_PATTERN,new Int32Array(It.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,o,d){return this.findGuardPattern(n,i,o,d,new Int32Array(d.length))}static findGuardPattern(n,i,o,d,u){let f=n.getSize();i=o?n.getNextUnset(i):n.getNextSet(i);let m=0,g=i,v=d.length,N=o;for(let A=i;A<f;A++)if(n.get(A)!==N)u[m]++;else{if(m===v-1){if(jt.patternMatchVariance(u,d,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return Int32Array.from([g,A]);g+=u[0]+u[1];let T=u.slice(2,u.length-1);for(let L=0;L<m-1;L++)u[L]=T[L];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,N=!N}throw new V}static decodeDigit(n,i,o,d){this.recordPattern(n,o,i);let u=this.MAX_AVG_VARIANCE,f=-1,m=d.length;for(let g=0;g<m;g++){let v=d[g],N=jt.patternMatchVariance(i,v,It.MAX_INDIVIDUAL_VARIANCE);N<u&&(u=N,f=g)}if(f>=0)return f;throw new V}}It.MAX_AVG_VARIANCE=.48,It.MAX_INDIVIDUAL_VARIANCE=.7,It.START_END_PATTERN=Int32Array.from([1,1,1]),It.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),It.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class js{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let d=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,d),f=d.toString(),m=js.parseExtensionString(f),g=[new H((o[0]+o[1])/2,n),new H(u,n)],v=new ht(f,null,0,g,Ae.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(n,i,o){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=n.getSize(),f=i[1],m=0;for(let v=0;v<5&&f<u;v++){let N=It.decodeDigit(n,d,f,It.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let A of d)f+=A;N>=10&&(m|=1<<4-v),v!==4&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==5)throw new V;let g=this.determineCheckDigit(m);if(js.extensionChecksum(o.toString())!==g)throw new V;return f}static extensionChecksum(n){let i=n.length,o=0;for(let d=i-2;d>=0;d-=2)o+=n.charAt(d).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let d=i-1;d>=0;d-=2)o+=n.charAt(d).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new V}static parseExtensionString(n){if(n.length!==5)return null;let i=js.parseExtension5String(n);return i==null?null:new Map([[se.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(n.substring(1)),d=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return i+d+"."+f}}class kd{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let d=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,d),f=d.toString(),m=kd.parseExtensionString(f),g=[new H((o[0]+o[1])/2,n),new H(u,n)],v=new ht(f,null,0,g,Ae.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(n,i,o){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=n.getSize(),f=i[1],m=0;for(let g=0;g<2&&f<u;g++){let v=It.decodeDigit(n,d,f,It.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let N of d)f+=N;v>=10&&(m|=1<<1-g),g!==1&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==2)throw new V;if(parseInt(o.toString())%4!==m)throw new V;return f}static parseExtensionString(n){return n.length!==2?null:new Map([[se.ISSUE_NUMBER,parseInt(n)]])}}class uh{static decodeRow(n,i,o){let d=It.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new js().decodeRow(n,i,d)}catch{return new kd().decodeRow(n,i,d)}}}uh.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class it extends It{constructor(){super(),this.decodeRowStringBuffer="",it.L_AND_G_PATTERNS=it.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=it.L_PATTERNS[n-10],o=new Int32Array(i.length);for(let d=0;d<i.length;d++)o[d]=i[i.length-d-1];it.L_AND_G_PATTERNS[n]=o}}decodeRow(n,i,o){let d=it.findStartGuardPattern(i),u=o==null?null:o.get($.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ae=new H((d[0]+d[1])/2,n);u.foundPossibleResultPoint(ae)}let f=this.decodeMiddle(i,d,this.decodeRowStringBuffer),m=f.rowOffset,g=f.resultString;if(u!=null){const ae=new H(m,n);u.foundPossibleResultPoint(ae)}let v=this.decodeEnd(i,m);if(u!=null){const ae=new H((v[0]+v[1])/2,n);u.foundPossibleResultPoint(ae)}let N=v[1],A=N+(N-v[0]);if(A>=i.getSize()||!i.isRange(N,A,!1))throw new V;let T=g.toString();if(T.length<8)throw new P;if(!it.checkChecksum(T))throw new _;let L=(d[1]+d[0])/2,z=(v[1]+v[0])/2,W=this.getBarcodeFormat(),Z=[new H(L,n),new H(z,n)],J=new ht(T,null,0,Z,W,new Date().getTime()),ce=0;try{let ae=uh.decodeRow(n,i,v[1]);J.putMetadata(se.UPC_EAN_EXTENSION,ae.getText()),J.putAllMetadata(ae.getResultMetadata()),J.addResultPoints(ae.getResultPoints()),ce=ae.getText().length}catch{}let de=o==null?null:o.get($.ALLOWED_EAN_EXTENSIONS);if(de!=null){let ae=!1;for(let Ze in de)if(ce.toString()===Ze){ae=!0;break}if(!ae)throw new V}return J}decodeEnd(n,i){return it.findGuardPattern(n,i,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return it.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return it.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let d=i-1;d>=0;d-=2){let u=n.charAt(d).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;o+=u}o*=3;for(let d=i-2;d>=0;d-=2){let u=n.charAt(d).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;o+=u}return(1e3-o)%10}}class Ci extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=n.getSize(),f=i[1],m=0;for(let v=0;v<6&&f<u;v++){let N=it.decodeDigit(n,d,f,it.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let A of d)f+=A;N>=10&&(m|=1<<5-v)}o=Ci.determineFirstDigit(o,m),f=it.findGuardPattern(n,f,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<u;v++){let N=it.decodeDigit(n,d,f,it.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+N);for(let A of d)f+=A}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(n,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode("0".charCodeAt(0)+o)+n,n;throw new V}}Ci.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class fh extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=n.getSize(),f=i[1];for(let g=0;g<4&&f<u;g++){let v=it.decodeDigit(n,d,f,it.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+v);for(let N of d)f+=N}f=it.findGuardPattern(n,f,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&f<u;g++){let v=it.decodeDigit(n,d,f,it.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+v);for(let N of d)f+=N}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Ae.EAN_8}}class hh extends it{constructor(){super(...arguments),this.ean13Reader=new Ci}getBarcodeFormat(){return Ae.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,o))}decodeMiddle(n,i,o){return this.ean13Reader.decodeMiddle(n,i,o)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let o=new ht(i.substring(1),null,null,n.getResultPoints(),Ae.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new V}reset(){this.ean13Reader.reset()}}class In extends it{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,o){const d=this.decodeMiddleCounters.map(v=>v);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const u=n.getSize();let f=i[1],m=0;for(let v=0;v<6&&f<u;v++){const N=In.decodeDigit(n,d,f,In.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+N%10);for(let A of d)f+=A;N>=10&&(m|=1<<5-v)}let g=In.determineNumSysAndCheckDigit(o,m);return{rowOffset:f,resultString:g}}decodeEnd(n,i){return In.findGuardPatternWithoutCounters(n,i,!0,In.MIDDLE_END_PATTERN)}checkChecksum(n){return it.checkChecksum(In.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let o=0;o<=1;o++)for(let d=0;d<10;d++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][d]){let u=String.fromCharCode("0".charCodeAt(0)+o),f=String.fromCharCode("0".charCodeAt(0)+d);return u+n+f}throw V.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new ee;o.append(n.charAt(0));let d=i[5];switch(d){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(d),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(d);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}In.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),In.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Md extends jt{constructor(n){super();let i=n==null?null:n.get($.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new Ci),o.push(new hh),o.push(new fh),o.push(new In)):(i.indexOf(Ae.EAN_13)>-1&&o.push(new Ci),i.indexOf(Ae.UPC_A)>-1&&o.push(new hh),i.indexOf(Ae.EAN_8)>-1&&o.push(new fh),i.indexOf(Ae.UPC_E)>-1&&o.push(new In)),this.readers=o}decodeRow(n,i,o){for(let d of this.readers)try{const u=d.decodeRow(n,i,o),f=u.getBarcodeFormat()===Ae.EAN_13&&u.getText().charAt(0)==="0",m=o==null?null:o.get($.POSSIBLE_FORMATS),g=m==null||m.includes(Ae.UPC_A);if(f&&g){const v=u.getRawBytes(),N=new ht(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),Ae.UPC_A);return N.putAllMetadata(u.getResultMetadata()),N}return u}catch{}throw new V}reset(){for(let n of this.readers)n.reset()}}class vr extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let o=0;o<i.length;o++)if(jt.patternMatchVariance(n,i[o],vr.MAX_INDIVIDUAL_VARIANCE)<vr.MAX_AVG_VARIANCE)return o;throw new V}static count(n){return Xe.sum(new Int32Array(n))}static increment(n,i){let o=0,d=i[0];for(let u=1;u<n.length;u++)i[u]>d&&(d=i[u],o=u);n[o]++}static decrement(n,i){let o=0,d=i[0];for(let u=1;u<n.length;u++)i[u]<d&&(d=i[u],o=u);n[o]--}static isFinderPattern(n){let i=n[0]+n[1],o=i+n[2]+n[3],d=i/o;if(d>=vr.MIN_FINDER_PATTERN_RATIO&&d<=vr.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let m of n)m>f&&(f=m),m<u&&(u=m);return f<10*u}return!1}}vr.MAX_AVG_VARIANCE=.2,vr.MAX_INDIVIDUAL_VARIANCE=.45,vr.MIN_FINDER_PATTERN_RATIO=9.5/12,vr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Qi{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Qi))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Nl{constructor(n,i,o,d,u){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new H(o,u)),this.resultPoints.push(new H(d,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Nl))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class Hn{constructor(){}static getRSSvalue(n,i,o){let d=0;for(let g of n)d+=g;let u=0,f=0,m=n.length;for(let g=0;g<m-1;g++){let v;for(v=1,f|=1<<g;v<n[g];v++,f&=~(1<<g)){let N=Hn.combins(d-v-1,m-g-2);if(o&&f===0&&d-v-(m-g-1)>=m-g-1&&(N-=Hn.combins(d-v-(m-g),m-g-2)),m-g-1>1){let A=0;for(let T=d-v-(m-g-2);T>i;T--)A+=Hn.combins(d-v-T-1,m-g-3);N-=A*(m-1-g)}else d-v>i&&N--;u+=N}d-=v}return u}static combins(n,i){let o,d;n-i>i?(d=i,o=n-i):(d=n-i,o=i);let u=1,f=1;for(let m=n;m>o;m--)u*=m,f<=d&&(u/=f,f++);for(;f<=d;)u/=f,f++;return u}}class B2{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let o=12*i,d=new B(o),u=0,m=n[0].getRightChar().getValue();for(let g=11;g>=0;--g)m&1<<g&&d.set(u),u++;for(let g=1;g<n.length;++g){let v=n[g],N=v.getLeftChar().getValue();for(let A=11;A>=0;--A)N&1<<A&&d.set(u),u++;if(v.getRightChar()!=null){let A=v.getRightChar().getValue();for(let T=11;T>=0;--T)A&1<<T&&d.set(u),u++}}return d}}class Ei{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Rd{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Or extends Rd{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Or.FNC1}}Or.FNC1="$";class Si extends Rd{constructor(n,i,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends Rd{constructor(n,i,o){if(super(n),i<0||i>10||o<0||o>10)throw new P;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new V;let i=n.substring(0,2);for(let u of be.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,u[2],n):be.processFixedAI(2,u[1],n);if(n.length<3)throw new V;let o=n.substring(0,3);for(let u of be.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,u[2],n):be.processFixedAI(3,u[1],n);for(let u of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,u[2],n):be.processFixedAI(4,u[1],n);if(n.length<4)throw new V;let d=n.substring(0,4);for(let u of be.FOUR_DIGIT_DATA_LENGTH)if(u[0]===d)return u[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,u[2],n):be.processFixedAI(4,u[1],n);throw new V}static processFixedAI(n,i,o){if(o.length<n)throw new V;let d=o.substring(0,n);if(o.length<n+i)throw new V;let u=o.substring(n,n+i),f=o.substring(n+i),m="("+d+")"+u,g=be.parseFieldsInGeneralPurpose(f);return g==null?m:m+g}static processVariableAI(n,i,o){let d=o.substring(0,n),u;o.length<n+i?u=o.length:u=n+i;let f=o.substring(n,u),m=o.substring(u),g="("+d+")"+f,v=be.parseFieldsInGeneralPurpose(m);return v==null?g:g+v}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class qi{constructor(n){this.buffer=new ee,this.information=n}decodeAllCodes(n,i){let o=i,d=null;do{let u=this.decodeGeneralPurposeField(o,d),f=be.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&n.append(f),u.isRemaining()?d=""+u.getRemainingValue():d=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),u-1,mn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),o=(i-8)/11,d=(i-8)%11;return new mn(n+7,o,d)}extractNumericValueFromBitArray(n,i){return qi.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,o){let d=0;for(let u=0;u<o;++u)n.get(i+u)&&(d|=1<<o-u-1);return d}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Si(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Si(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new Si(this.current.getPosition(),this.buffer.toString()):i=new Si(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Ei(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new Si(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Si(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Si(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ei(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(n,8);return d>=232&&d<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Or(n+5,Or.FNC1);if(i>=5&&i<15)return new Or(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new Or(n+7,""+(o+1));if(o>=90&&o<116)return new Or(n+7,""+(o+7));let d=this.extractNumericValueFromBitArray(n,8),u;switch(d){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new P}return new Or(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Or(n+5,Or.FNC1);if(i>=5&&i<15)return new Or(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new Or(n+6,""+(o+33));let d;switch(o){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Xr("Decoding invalid alphanumeric value: "+o)}return new Or(n+6,d)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class Od{constructor(n){this.information=n,this.generalDecoder=new qi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Dr extends Od{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,o)}encodeCompressedGtinWithoutAI(n,i,o){for(let d=0;d<4;++d){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*d,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}Dr.appendCheckDigit(n,o)}static appendCheckDigit(n,i){let o=0;for(let d=0;d<13;d++){let u=n.charAt(d+i).charCodeAt(0)-"0".charCodeAt(0);o+=d&1?u:3*u}o=10-o%10,o===10&&(o=0),n.append(o)}}Dr.GTIN_SIZE=40;class Ki extends Dr{constructor(n){super(n)}parseInformation(){let n=new ee;n.append("(01)");let i=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ki.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Ki.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Ki.HEADER_SIZE+44)}}Ki.HEADER_SIZE=1+1+2;class Cl extends Od{constructor(n){super(n)}parseInformation(){let n=new ee;return this.getGeneralDecoder().decodeAllCodes(n,Cl.HEADER_SIZE)}}Cl.HEADER_SIZE=2+1+2;class El extends Dr{constructor(n){super(n)}encodeCompressedWeight(n,i,o){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(n,d);let u=this.checkWeight(d),f=1e5;for(let m=0;m<5;++m)u/f===0&&n.append("0"),f/=10;n.append(u)}}class Wn extends El{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Wn.HEADER_SIZE+El.GTIN_SIZE+Wn.WEIGHT_SIZE)throw new V;let n=new ee;return this.encodeCompressedGtin(n,Wn.HEADER_SIZE),this.encodeCompressedWeight(n,Wn.HEADER_SIZE+El.GTIN_SIZE,Wn.WEIGHT_SIZE),n.toString()}}Wn.HEADER_SIZE=4+1,Wn.WEIGHT_SIZE=15;class F2 extends Wn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class U2 extends Wn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Gn extends Dr{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Gn.HEADER_SIZE+Dr.GTIN_SIZE)throw new V;let n=new ee;this.encodeCompressedGtin(n,Gn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Gn.HEADER_SIZE+Dr.GTIN_SIZE,Gn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Gn.HEADER_SIZE+Dr.GTIN_SIZE+Gn.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}Gn.HEADER_SIZE=5+1+2,Gn.LAST_DIGIT_SIZE=2;class Ar extends Dr{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Ar.HEADER_SIZE+Dr.GTIN_SIZE)throw new V;let n=new ee;this.encodeCompressedGtin(n,Ar.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE+Dr.GTIN_SIZE,Ar.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE+Dr.GTIN_SIZE+Ar.LAST_DIGIT_SIZE,Ar.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let d=this.getGeneralDecoder().decodeGeneralPurposeField(Ar.HEADER_SIZE+Dr.GTIN_SIZE+Ar.LAST_DIGIT_SIZE+Ar.FIRST_THREE_DIGITS_SIZE,null);return n.append(d.getNewString()),n.toString()}}Ar.HEADER_SIZE=5+1+2,Ar.LAST_DIGIT_SIZE=2,Ar.FIRST_THREE_DIGITS_SIZE=10;class _t extends El{constructor(n,i,o){super(n),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE+_t.DATE_SIZE)throw new V;let n=new ee;return this.encodeCompressedGtin(n,_t.HEADER_SIZE),this.encodeCompressedWeight(n,_t.HEADER_SIZE+_t.GTIN_SIZE,_t.WEIGHT_SIZE),this.encodeCompressedDate(n,_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,_t.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let d=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&n.append("0"),n.append(f),u/10==0&&n.append("0"),n.append(u),d/10==0&&n.append("0"),n.append(d)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}_t.HEADER_SIZE=7+1,_t.WEIGHT_SIZE=20,_t.DATE_SIZE=16;function mh(S){try{if(S.get(1))return new Ki(S);if(!S.get(2))return new Cl(S);switch(qi.extractNumericValueFromBitArray(S,1,4)){case 4:return new F2(S);case 5:return new U2(S)}switch(qi.extractNumericValueFromBitArray(S,1,5)){case 12:return new Gn(S);case 13:return new Ar(S)}switch(qi.extractNumericValueFromBitArray(S,1,7)){case 56:return new _t(S,"310","11");case 57:return new _t(S,"320","11");case 58:return new _t(S,"310","13");case 59:return new _t(S,"320","13");case 60:return new _t(S,"310","15");case 61:return new _t(S,"320","15");case 62:return new _t(S,"310","17");case 63:return new _t(S,"320","17")}}catch(n){throw console.log(n),new Xr("unknown decoder: "+S)}}class Is{constructor(n,i,o,d){this.leftchar=n,this.rightchar=i,this.finderpattern=o,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Is?Is.equalsOrNull(n.leftchar,i.leftchar)&&Is.equalsOrNull(n.rightchar,i.rightchar)&&Is.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Is.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Dd{constructor(n,i,o){this.pairs=n,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Dd?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let o;return n.forEach((d,u)=>{i.forEach(f=>{d.getLeftChar().getValue()===f.getLeftChar().getValue()&&d.getRightChar().getValue()===f.getRightChar().getValue()&&d.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class ie extends vr{constructor(n){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,o){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(n,i))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(u){if(u instanceof V){if(!this.pairs.length)throw new V;o=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(n,!1),d){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new V}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let o=i;o<this.rows.length;o++){let d=this.rows[o];this.pairs.length=0;for(let f of n)this.pairs.push(f.getPairs());if(this.pairs.push(d.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(d);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new V}static isValidSequence(n){for(let i of ie.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let o=!0;for(let d=0;d<n.length;d++)if(n[d].getFinderPattern().getValue()!=i[d]){o=!1;break}if(o)return!0}return!1}storeRow(n,i){let o=0,d=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>n){u=f.isEquivalent(this.pairs);break}d=f.isEquivalent(this.pairs),o++}u||d||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Dd(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let o of i)if(o.getPairs().length!==n.length){for(let d of o.getPairs())for(let u of n)if(Is.equals(d,u))break}}static isPartialRow(n,i){for(let o of i){let d=!0;for(let u of n){let f=!1;for(let m of o.getPairs())if(u.equals(m)){f=!0;break}if(!f){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=B2.buildBitArray(n),d=mh(i).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),f=n[n.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],f[0],f[1]];return new ht(d,null,null,m,Ae.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let d=o.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let g=this.pairs.get(m);d+=g.getLeftChar().getChecksumPortion(),u++;let v=g.getRightChar();v!=null&&(d+=v.getChecksumPortion(),u++)}return d%=211,211*(u-4)+d==i.getValue()}static getNextSecondBar(n,i){let o;return n.get(i)?(o=n.getNextUnset(i),o=n.getNextSet(o)):(o=n.getNextSet(i),o=n.getNextUnset(o)),o}retrieveNextPair(n,i,o){let d=i.length%2==0;this.startFromEven&&(d=!d);let u,f=!0,m=-1;do this.findNextPair(n,i,m),u=this.parseFoundFinderPattern(n,o,d),u==null?m=ie.getNextSecondBar(n,this.startEnd[0]):f=!1;while(f);let g=this.decodeDataCharacter(n,u,d,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new V;let v;try{v=this.decodeDataCharacter(n,u,d,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new Is(g,v,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,o){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let u=n.getSize(),f;o>=0?f=o:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let m=i.length%2!=0;this.startFromEven&&(m=!m);let g=!1;for(;f<u&&(g=!n.get(f),!!g);)f++;let v=0,N=f;for(let A=f;A<u;A++)if(n.get(A)!=g)d[v]++;else{if(v==3){if(m&&ie.reverseCounters(d),ie.isFinderPattern(d)){this.startEnd[0]=N,this.startEnd[1]=A;return}m&&ie.reverseCounters(d),N+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,v--}else v++;d[v]=1,g=!g}throw new V}static reverseCounters(n){let i=n.length;for(let o=0;o<i/2;++o){let d=n[o];n[o]=n[i-o-1],n[i-o-1]=d}}parseFoundFinderPattern(n,i,o){let d,u,f;if(o){let v=this.startEnd[0]-1;for(;v>=0&&!n.get(v);)v--;v++,d=this.startEnd[0]-v,u=v,f=this.startEnd[1]}else u=this.startEnd[0],f=n.getNextUnset(this.startEnd[1]+1),d=f-this.startEnd[1];let m=this.getDecodeFinderCounters();I.arraycopy(m,0,m,1,m.length-1),m[0]=d;let g;try{g=this.parseFinderValue(m,ie.FINDER_PATTERNS)}catch{return null}return new Nl(g,[u,f],u,f,i)}decodeDataCharacter(n,i,o,d){let u=this.getDataCharacterCounters();for(let yt=0;yt<u.length;yt++)u[yt]=0;if(d)ie.recordPatternInReverse(n,i.getStartEnd()[0],u);else{ie.recordPattern(n,i.getStartEnd()[1],u);for(let yt=0,hr=u.length-1;yt<hr;yt++,hr--){let $r=u[yt];u[yt]=u[hr],u[hr]=$r}}let f=17,m=Xe.sum(new Int32Array(u))/f,g=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(m-g)/g>.3)throw new V;let v=this.getOddCounts(),N=this.getEvenCounts(),A=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let yt=0;yt<u.length;yt++){let hr=1*u[yt]/m,$r=hr+.5;if($r<1){if(hr<.3)throw new V;$r=1}else if($r>8){if(hr>8.7)throw new V;$r=8}let na=yt/2;yt&1?(N[na]=$r,T[na]=hr-$r):(v[na]=$r,A[na]=hr-$r)}this.adjustOddEvenCounts(f);let L=4*i.getValue()+(o?0:2)+(d?0:1)-1,z=0,W=0;for(let yt=v.length-1;yt>=0;yt--){if(ie.isNotA1left(i,o,d)){let hr=ie.WEIGHTS[L][2*yt];W+=v[yt]*hr}z+=v[yt]}let Z=0;for(let yt=N.length-1;yt>=0;yt--)if(ie.isNotA1left(i,o,d)){let hr=ie.WEIGHTS[L][2*yt+1];Z+=N[yt]*hr}let J=W+Z;if(z&1||z>13||z<4)throw new V;let ce=(13-z)/2,de=ie.SYMBOL_WIDEST[ce],ae=9-de,Ze=Hn.getRSSvalue(v,de,!0),Ve=Hn.getRSSvalue(N,ae,!1),Pr=ie.EVEN_TOTAL_SUBSET[ce],_n=ie.GSUM[ce],Br=Ze*Pr+Ve+_n;return new Qi(Br,J)}static isNotA1left(n,i,o){return!(n.getValue()==0&&i&&o)}adjustOddEvenCounts(n){let i=Xe.sum(new Int32Array(this.getOddCounts())),o=Xe.sum(new Int32Array(this.getEvenCounts())),d=!1,u=!1;i>13?u=!0:i<4&&(d=!0);let f=!1,m=!1;o>13?m=!0:o<4&&(f=!0);let g=i+o-n,v=(i&1)==1,N=(o&1)==0;if(g==1)if(v){if(N)throw new V;u=!0}else{if(!N)throw new V;m=!0}else if(g==-1)if(v){if(N)throw new V;d=!0}else{if(!N)throw new V;f=!0}else if(g==0){if(v){if(!N)throw new V;i<o?(d=!0,m=!0):(u=!0,f=!0)}else if(N)throw new V}else throw new V;if(d){if(u)throw new V;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new V;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class z2 extends Qi{constructor(n,i,o){super(n,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Lt extends vr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,o){const d=this.decodePair(i,!1,n,o);Lt.addOrTally(this.possibleLeftPairs,d),i.reverse();let u=this.decodePair(i,!0,n,o);Lt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Lt.checkChecksum(f,m))return Lt.constructResult(f,m)}throw new V}static addOrTally(n,i){if(i==null)return;let o=!1;for(let d of n)if(d.getValue()===i.getValue()){d.incrementCount(),o=!0;break}o||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let o=4537077*n.getValue()+i.getValue(),d=new String(o).toString(),u=new ee;for(let v=13-d.length;v>0;v--)u.append("0");u.append(d);let f=0;for(let v=0;v<13;v++){let N=u.charAt(v).charCodeAt(0)-"0".charCodeAt(0);f+=v&1?N:3*N}f=10-f%10,f===10&&(f=0),u.append(f.toString());let m=n.getFinderPattern().getResultPoints(),g=i.getFinderPattern().getResultPoints();return new ht(u.toString(),null,0,[m[0],m[1],g[0],g[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(n,i){let o=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,d=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,o===d}decodePair(n,i,o,d){try{let u=this.findFinderPattern(n,i),f=this.parseFoundFinderPattern(n,o,i,u),m=d==null?null:d.get($.NEED_RESULT_POINT_CALLBACK);if(m!=null){let N=(u[0]+u[1])/2;i&&(N=n.getSize()-1-N),m.foundPossibleResultPoint(new H(N,o))}let g=this.decodeDataCharacter(n,f,!0),v=this.decodeDataCharacter(n,f,!1);return new z2(1597*g.getValue()+v.getValue(),g.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(n,i,o){let d=this.getDataCharacterCounters();for(let Z=0;Z<d.length;Z++)d[Z]=0;if(o)jt.recordPatternInReverse(n,i.getStartEnd()[0],d);else{jt.recordPattern(n,i.getStartEnd()[1]+1,d);for(let Z=0,J=d.length-1;Z<J;Z++,J--){let ce=d[Z];d[Z]=d[J],d[J]=ce}}let u=o?16:15,f=Xe.sum(new Int32Array(d))/u,m=this.getOddCounts(),g=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Z=0;Z<d.length;Z++){let J=d[Z]/f,ce=Math.floor(J+.5);ce<1?ce=1:ce>8&&(ce=8);let de=Math.floor(Z/2);Z&1?(g[de]=ce,N[de]=J-ce):(m[de]=ce,v[de]=J-ce)}this.adjustOddEvenCounts(o,u);let A=0,T=0;for(let Z=m.length-1;Z>=0;Z--)T*=9,T+=m[Z],A+=m[Z];let L=0,z=0;for(let Z=g.length-1;Z>=0;Z--)L*=9,L+=g[Z],z+=g[Z];let W=T+3*L;if(o){if(A&1||A>12||A<4)throw new V;let Z=(12-A)/2,J=Lt.OUTSIDE_ODD_WIDEST[Z],ce=9-J,de=Hn.getRSSvalue(m,J,!1),ae=Hn.getRSSvalue(g,ce,!0),Ze=Lt.OUTSIDE_EVEN_TOTAL_SUBSET[Z],Ve=Lt.OUTSIDE_GSUM[Z];return new Qi(de*Ze+ae+Ve,W)}else{if(z&1||z>10||z<4)throw new V;let Z=(10-z)/2,J=Lt.INSIDE_ODD_WIDEST[Z],ce=9-J,de=Hn.getRSSvalue(m,J,!0),ae=Hn.getRSSvalue(g,ce,!1),Ze=Lt.INSIDE_ODD_TOTAL_SUBSET[Z],Ve=Lt.INSIDE_GSUM[Z];return new Qi(ae*Ze+de+Ve,W)}}findFinderPattern(n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let d=n.getSize(),u=!1,f=0;for(;f<d&&(u=!n.get(f),i!==u);)f++;let m=0,g=f;for(let v=f;v<d;v++)if(n.get(v)!==u)o[m]++;else{if(m===3){if(vr.isFinderPattern(o))return[g,v];g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,m--}else m++;o[m]=1,u=!u}throw new V}parseFoundFinderPattern(n,i,o,d){let u=n.get(d[0]),f=d[0]-1;for(;f>=0&&u!==n.get(f);)f--;f++;const m=d[0]-f,g=this.getDecodeFinderCounters(),v=new Int32Array(g.length);I.arraycopy(g,0,v,1,g.length-1),v[0]=m;const N=this.parseFinderValue(v,Lt.FINDER_PATTERNS);let A=f,T=d[1];return o&&(A=n.getSize()-1-A,T=n.getSize()-1-T),new Nl(N,[f,d[1]],A,T,i)}adjustOddEvenCounts(n,i){let o=Xe.sum(new Int32Array(this.getOddCounts())),d=Xe.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,m=!1,g=!1;n?(o>12?f=!0:o<4&&(u=!0),d>12?g=!0:d<4&&(m=!0)):(o>11?f=!0:o<5&&(u=!0),d>10?g=!0:d<4&&(m=!0));let v=o+d-i,N=(o&1)===(n?1:0),A=(d&1)===1;if(v===1)if(N){if(A)throw new V;f=!0}else{if(!A)throw new V;g=!0}else if(v===-1)if(N){if(A)throw new V;u=!0}else{if(!A)throw new V;m=!0}else if(v===0){if(N){if(!A)throw new V;o<d?(u=!0,g=!0):(f=!0,m=!0)}else if(A)throw new V}else throw new V;if(u){if(f)throw new V;vr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&vr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(g)throw new V;vr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&vr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Lt.OUTSIDE_GSUM=[0,161,961,2015,2715],Lt.INSIDE_GSUM=[0,336,1036,1516],Lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Lt.INSIDE_ODD_WIDEST=[2,4,6,8],Lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ji extends jt{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const o=n?n.get($.POSSIBLE_FORMATS):null,d=n&&n.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(Ae.EAN_13)||o.includes(Ae.UPC_A)||o.includes(Ae.EAN_8)||o.includes(Ae.UPC_E))&&this.readers.push(new Md(n)),o.includes(Ae.CODE_39)&&this.readers.push(new Vt(d)),o.includes(Ae.CODE_128)&&this.readers.push(new ge),o.includes(Ae.ITF)&&this.readers.push(new lt),o.includes(Ae.RSS_14)&&this.readers.push(new Lt),o.includes(Ae.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new Md(n)),this.readers.push(new Vt),this.readers.push(new Md(n)),this.readers.push(new ge),this.readers.push(new lt),this.readers.push(new Lt),this.readers.push(new ie(this.verbose)))}decodeRow(n,i,o){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(n,i,o)}catch{}throw new V}reset(){this.readers.forEach(n=>n.reset())}}class V2 extends st{constructor(n=500,i){super(new Ji(i),n,i)}}class ct{constructor(n,i,o){this.ecCodewords=n,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(n,i,o,d,u,f){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=u,this.ecBlocks=f;let m=0;const g=f.getECCodewords(),v=f.getECBlocks();for(let N of v)m+=N.getCount()*(N.getDataCodewords()+g);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new P;for(let o of qe.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===i)return o;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new qe(1,10,10,8,8,new ct(5,new at(1,3))),new qe(2,12,12,10,10,new ct(7,new at(1,5))),new qe(3,14,14,12,12,new ct(10,new at(1,8))),new qe(4,16,16,14,14,new ct(12,new at(1,12))),new qe(5,18,18,16,16,new ct(14,new at(1,18))),new qe(6,20,20,18,18,new ct(18,new at(1,22))),new qe(7,22,22,20,20,new ct(20,new at(1,30))),new qe(8,24,24,22,22,new ct(24,new at(1,36))),new qe(9,26,26,24,24,new ct(28,new at(1,44))),new qe(10,32,32,14,14,new ct(36,new at(1,62))),new qe(11,36,36,16,16,new ct(42,new at(1,86))),new qe(12,40,40,18,18,new ct(48,new at(1,114))),new qe(13,44,44,20,20,new ct(56,new at(1,144))),new qe(14,48,48,22,22,new ct(68,new at(1,174))),new qe(15,52,52,24,24,new ct(42,new at(2,102))),new qe(16,64,64,14,14,new ct(56,new at(2,140))),new qe(17,72,72,16,16,new ct(36,new at(4,92))),new qe(18,80,80,18,18,new ct(48,new at(4,114))),new qe(19,88,88,20,20,new ct(56,new at(4,144))),new qe(20,96,96,22,22,new ct(68,new at(4,174))),new qe(21,104,104,24,24,new ct(56,new at(6,136))),new qe(22,120,120,18,18,new ct(68,new at(6,175))),new qe(23,132,132,20,20,new ct(62,new at(8,163))),new qe(24,144,144,22,22,new ct(62,new at(8,156),new at(2,155))),new qe(25,8,18,6,16,new ct(7,new at(1,5))),new qe(26,8,32,6,14,new ct(11,new at(1,10))),new qe(27,12,26,10,24,new ct(14,new at(1,16))),new qe(28,12,36,10,16,new ct(18,new at(1,22))),new qe(29,16,36,14,16,new ct(24,new at(1,32))),new qe(30,16,48,14,22,new ct(28,new at(1,49)))]}}qe.VERSIONS=qe.buildVersions();class Ld{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new P;this.version=Ld.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),o=n.getWidth();return qe.getVersionForDimensions(i,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,d=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let m=!1,g=!1,v=!1,N=!1;do if(o===u&&d===0&&!m)n[i++]=this.readCorner1(u,f)&255,o-=2,d+=2,m=!0;else if(o===u-2&&d===0&&f&3&&!g)n[i++]=this.readCorner2(u,f)&255,o-=2,d+=2,g=!0;else if(o===u+4&&d===2&&!(f&7)&&!v)n[i++]=this.readCorner3(u,f)&255,o-=2,d+=2,v=!0;else if(o===u-2&&d===0&&(f&7)===4&&!N)n[i++]=this.readCorner4(u,f)&255,o-=2,d+=2,N=!0;else{do o<u&&d>=0&&!this.readMappingMatrix.get(d,o)&&(n[i++]=this.readUtah(o,d,u,f)&255),o-=2,d+=2;while(o>=0&&d<f);o+=1,d+=3;do o>=0&&d<f&&!this.readMappingMatrix.get(d,o)&&(n[i++]=this.readUtah(o,d,u,f)&255),o+=2,d-=2;while(o<u&&d>=0);o+=3,d+=1}while(o<u||d<f);if(i!==this.version.getTotalCodewords())throw new P;return n}readModule(n,i,o,d){return n<0&&(n+=o,i+=4-(o+4&7)),i<0&&(i+=d,n+=4-(d+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,o,d){let u=0;return this.readModule(n-2,i-2,o,d)&&(u|=1),u<<=1,this.readModule(n-2,i-1,o,d)&&(u|=1),u<<=1,this.readModule(n-1,i-2,o,d)&&(u|=1),u<<=1,this.readModule(n-1,i-1,o,d)&&(u|=1),u<<=1,this.readModule(n-1,i,o,d)&&(u|=1),u<<=1,this.readModule(n,i-2,o,d)&&(u|=1),u<<=1,this.readModule(n,i-1,o,d)&&(u|=1),u<<=1,this.readModule(n,i,o,d)&&(u|=1),u}readCorner1(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,1,n,i)&&(o|=1),o<<=1,this.readModule(n-1,2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}readCorner2(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-4,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner3(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-3,n,i)&&(o|=1),o<<=1,this.readModule(1,i-2,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner4(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new w("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/d|0,m=o/u|0,g=f*d,v=m*u,N=new ne(v,g);for(let A=0;A<f;++A){const T=A*d;for(let L=0;L<m;++L){const z=L*u;for(let W=0;W<d;++W){const Z=A*(d+2)+1+W,J=T+W;for(let ce=0;ce<u;++ce){const de=L*(u+2)+1+ce;if(n.get(de,Z)){const ae=z+ce;N.set(ae,J)}}}}}return N}}class Pd{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const o=i.getECBlocks();let d=0;const u=o.getECBlocks();for(let W of u)d+=W.getCount();const f=new Array(d);let m=0;for(let W of u)for(let Z=0;Z<W.getCount();Z++){const J=W.getDataCodewords(),ce=o.getECCodewords()+J;f[m++]=new Pd(J,new Uint8Array(ce))}const v=f[0].codewords.length-o.getECCodewords(),N=v-1;let A=0;for(let W=0;W<N;W++)for(let Z=0;Z<m;Z++)f[Z].codewords[W]=n[A++];const T=i.getVersionNumber()===24,L=T?8:m;for(let W=0;W<L;W++)f[W].codewords[v-1]=n[A++];const z=f[0].codewords.length;for(let W=v;W<z;W++)for(let Z=0;Z<m;Z++){const J=T?(Z+8)%m:Z,ce=T&&J>7?W-1:W;f[J].codewords[ce]=n[A++]}if(A!==n.length)throw new w;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bd{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new w(""+n);let i=0,o=this.bitOffset,d=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,m=n<f?n:f,g=f-m,v=255>>8-m<<g;i=(u[d]&v)>>g,n-=m,o+=m,o===8&&(o=0,d++)}if(n>0){for(;n>=8;)i=i<<8|u[d]&255,d++,n-=8;if(n>0){const f=8-n,m=255>>f<<f;i=i<<n|(u[d]&m)>>f,o+=n}}return this.bitOffset=o,this.byteOffset=d,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var er;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(er||(er={}));class _s{static decode(n){const i=new Bd(n),o=new ee,d=new ee,u=new Array;let f=er.ASCII_ENCODE;do if(f===er.ASCII_ENCODE)f=this.decodeAsciiSegment(i,o,d);else{switch(f){case er.C40_ENCODE:this.decodeC40Segment(i,o);break;case er.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case er.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case er.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case er.BASE256_ENCODE:this.decodeBase256Segment(i,o,u);break;default:throw new P}f=er.ASCII_ENCODE}while(f!==er.PAD_ENCODE&&i.available()>0);return d.length()>0&&o.append(d.toString()),new Oe(n,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,i,o){let d=!1;do{let u=n.readBits(8);if(u===0)throw new P;if(u<=128)return d&&(u+=128),i.append(String.fromCharCode(u-1)),er.ASCII_ENCODE;if(u===129)return er.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return er.C40_ENCODE;case 231:return er.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:d=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return er.ANSIX12_ENCODE;case 239:return er.TEXT_ENCODE;case 240:return er.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new P;break}}while(n.available()>0);return er.ASCII_ENCODE}static decodeC40Segment(n,i){let o=!1;const d=[];let u=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),d);for(let m=0;m<3;m++){const g=d[m];switch(u){case 0:if(g<3)u=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[g];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else throw new P;break;case 1:o?(i.append(String.fromCharCode(g+128)),o=!1):i.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[g];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else switch(g){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new P}u=0;break;case 3:o?(i.append(String.fromCharCode(g+224)),o=!1):i.append(String.fromCharCode(g+96)),u=0;break;default:throw new P}}}while(n.available()>0)}static decodeTextSegment(n,i){let o=!1,d=[],u=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),d);for(let m=0;m<3;m++){const g=d[m];switch(u){case 0:if(g<3)u=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[g];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else throw new P;break;case 1:o?(i.append(String.fromCharCode(g+128)),o=!1):i.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[g];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v)}else switch(g){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new P}u=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[g];o?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):i.append(v),u=0}else throw new P;break;default:throw new P}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const o=[];do{if(n.available()===8)return;const d=n.readBits(8);if(d===254)return;this.parseTwoBytes(d,n.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new P;break}}}while(n.available()>0)}static parseTwoBytes(n,i,o){let d=(n<<8)+i-1,u=Math.floor(d/1600);o[0]=u,d-=u*1600,u=Math.floor(d/40),o[1]=u,o[2]=d-u*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let d=n.readBits(6);if(d===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}d&32||(d|=64),i.append(String.fromCharCode(d))}}while(n.available()>0)}static decodeBase256Segment(n,i,o){let d=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),d++);let f;if(u===0?f=n.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(n.readBits(8),d++),f<0)throw new P;const m=new Uint8Array(f);for(let g=0;g<f;g++){if(n.available()<8)throw new P;m[g]=this.unrandomize255State(n.readBits(8),d++)}o.push(m);try{i.append(X.decode(m,F.ISO88591))}catch(g){throw new Xr("Platform does not support required encoding: "+g.message)}}static unrandomize255State(n,i){const o=149*i%255+1,d=n-o;return d>=0?d:d+256}}_s.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_s.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],_s.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_s.TEXT_SHIFT2_SET_CHARS=_s.C40_SHIFT2_SET_CHARS,_s.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class H2{constructor(){this.rsDecoder=new bi(Ke.DATA_MATRIX_FIELD_256)}decode(n){const i=new Ld(n),o=i.getVersion(),d=i.readCodewords(),u=Pd.getDataBlocks(d,o);let f=0;for(let v of u)f+=v.getNumDataCodewords();const m=new Uint8Array(f),g=u.length;for(let v=0;v<g;v++){const N=u[v],A=N.getCodewords(),T=N.getNumDataCodewords();this.correctErrors(A,T);for(let L=0;L<T;L++)m[L*g+v]=A[L]}return _s.decode(m)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new _}for(let d=0;d<i;d++)n[d]=o[d]}}class Ht{constructor(n){this.image=n,this.rectangleDetector=new he(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new V;i=this.shiftToModuleCenter(i);const o=i[0],d=i[1],u=i[2],f=i[3];let m=this.transitionsBetween(o,f)+1,g=this.transitionsBetween(u,f)+1;(m&1)===1&&(m+=1),(g&1)===1&&(g+=1),4*m<7*g&&4*g<7*m&&(m=g=Math.max(m,g));let v=Ht.sampleGrid(this.image,o,d,u,f,m,g);return new re(v,[o,d,u,f])}static shiftPoint(n,i,o){let d=(i.getX()-n.getX())/(o+1),u=(i.getY()-n.getY())/(o+1);return new H(n.getX()+d,n.getY()+u)}static moveAway(n,i,o){let d=n.getX(),u=n.getY();return d<i?d-=1:d+=1,u<o?u-=1:u+=1,new H(d,u)}detectSolid1(n){let i=n[0],o=n[1],d=n[3],u=n[2],f=this.transitionsBetween(i,o),m=this.transitionsBetween(o,d),g=this.transitionsBetween(d,u),v=this.transitionsBetween(u,i),N=f,A=[u,i,o,d];return N>m&&(N=m,A[0]=i,A[1]=o,A[2]=d,A[3]=u),N>g&&(N=g,A[0]=o,A[1]=d,A[2]=u,A[3]=i),N>v&&(A[0]=d,A[1]=u,A[2]=i,A[3]=o),A}detectSolid2(n){let i=n[0],o=n[1],d=n[2],u=n[3],f=this.transitionsBetween(i,u),m=Ht.shiftPoint(o,d,(f+1)*4),g=Ht.shiftPoint(d,o,(f+1)*4),v=this.transitionsBetween(m,i),N=this.transitionsBetween(g,u);return v<N?(n[0]=i,n[1]=o,n[2]=d,n[3]=u):(n[0]=o,n[1]=d,n[2]=u,n[3]=i),n}correctTopRight(n){let i=n[0],o=n[1],d=n[2],u=n[3],f=this.transitionsBetween(i,u),m=this.transitionsBetween(o,u),g=Ht.shiftPoint(i,o,(m+1)*4),v=Ht.shiftPoint(d,o,(f+1)*4);f=this.transitionsBetween(g,u),m=this.transitionsBetween(v,u);let N=new H(u.getX()+(d.getX()-o.getX())/(f+1),u.getY()+(d.getY()-o.getY())/(f+1)),A=new H(u.getX()+(i.getX()-o.getX())/(m+1),u.getY()+(i.getY()-o.getY())/(m+1));if(!this.isValid(N))return this.isValid(A)?A:null;if(!this.isValid(A))return N;let T=this.transitionsBetween(g,N)+this.transitionsBetween(v,N),L=this.transitionsBetween(g,A)+this.transitionsBetween(v,A);return T>L?N:A}shiftToModuleCenter(n){let i=n[0],o=n[1],d=n[2],u=n[3],f=this.transitionsBetween(i,u)+1,m=this.transitionsBetween(d,u)+1,g=Ht.shiftPoint(i,o,m*4),v=Ht.shiftPoint(d,o,f*4);f=this.transitionsBetween(g,u)+1,m=this.transitionsBetween(v,u)+1,(f&1)===1&&(f+=1),(m&1)===1&&(m+=1);let N=(i.getX()+o.getX()+d.getX()+u.getX())/4,A=(i.getY()+o.getY()+d.getY()+u.getY())/4;i=Ht.moveAway(i,N,A),o=Ht.moveAway(o,N,A),d=Ht.moveAway(d,N,A),u=Ht.moveAway(u,N,A);let T,L;return g=Ht.shiftPoint(i,o,m*4),g=Ht.shiftPoint(g,u,f*4),T=Ht.shiftPoint(o,i,m*4),T=Ht.shiftPoint(T,d,f*4),v=Ht.shiftPoint(d,u,m*4),v=Ht.shiftPoint(v,o,f*4),L=Ht.shiftPoint(u,d,m*4),L=Ht.shiftPoint(L,i,f*4),[g,T,v,L]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,o,d,u,f,m){return Qe.getInstance().sampleGrid(n,f,m,.5,.5,f-.5,.5,f-.5,m-.5,.5,m-.5,i.getX(),i.getY(),u.getX(),u.getY(),d.getX(),d.getY(),o.getX(),o.getY())}transitionsBetween(n,i){let o=Math.trunc(n.getX()),d=Math.trunc(n.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),m=Math.abs(f-d)>Math.abs(u-o);if(m){let W=o;o=d,d=W,W=u,u=f,f=W}let g=Math.abs(u-o),v=Math.abs(f-d),N=-g/2,A=d<f?1:-1,T=o<u?1:-1,L=0,z=this.image.get(m?d:o,m?o:d);for(let W=o,Z=d;W!==u;W+=T){let J=this.image.get(m?Z:W,m?W:Z);if(J!==z&&(L++,z=J),N+=v,N>0){if(Z===f)break;Z+=A,N-=g}}return L}}class Ts{constructor(){this.decoder=new H2}decode(n,i=null){let o,d;if(i!=null&&i.has($.PURE_BARCODE)){const v=Ts.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(v),d=Ts.NO_POINTS}else{const v=new Ht(n.getBlackMatrix()).detect();o=this.decoder.decode(v.getBits()),d=v.getPoints()}const u=o.getRawBytes(),f=new ht(o.getText(),u,8*u.length,d,Ae.DATA_MATRIX,I.currentTimeMillis()),m=o.getByteSegments();m!=null&&f.putMetadata(se.BYTE_SEGMENTS,m);const g=o.getECLevel();return g!=null&&f.putMetadata(se.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i==null||o==null)throw new V;const d=this.moduleSize(i,n);let u=i[1];const f=o[1];let m=i[0];const v=(o[0]-m+1)/d,N=(f-u+1)/d;if(v<=0||N<=0)throw new V;const A=d/2;u+=A,m+=A;const T=new ne(v,N);for(let L=0;L<N;L++){const z=u+L*d;for(let W=0;W<v;W++)n.get(m+W*d,z)&&T.set(W,L)}return T}static moduleSize(n,i){const o=i.getWidth();let d=n[0];const u=n[1];for(;d<o&&i.get(d,u);)d++;if(d===o)throw new V;const f=d-n[0];if(f===0)throw new V;return f}}Ts.NO_POINTS=[];class W2 extends st{constructor(n=500){super(new Ts,n)}}var ea;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(ea||(ea={}));class wt{constructor(n,i,o){this.value=n,this.stringValue=i,this.bits=o,wt.FOR_BITS.set(o,this),wt.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return wt.L;case"M":return wt.M;case"Q":return wt.Q;case"H":return wt.H;default:throw new b(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof wt))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=wt.FOR_BITS.size)throw new w;return wt.FOR_BITS.get(n)}}wt.FOR_BITS=new Map,wt.FOR_VALUE=new Map,wt.L=new wt(ea.L,"L",1),wt.M=new wt(ea.M,"M",0),wt.Q=new wt(ea.Q,"Q",3),wt.H=new wt(ea.H,"H",2);class wr{constructor(n){this.errorCorrectionLevel=wt.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return k.bitCount(n^i)}static decodeFormatInformation(n,i){const o=wr.doDecodeFormatInformation(n,i);return o!==null?o:wr.doDecodeFormatInformation(n^wr.FORMAT_INFO_MASK_QR,i^wr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let o=Number.MAX_SAFE_INTEGER,d=0;for(const u of wr.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===n||f===i)return new wr(u[1]);let m=wr.numBitsDiffering(n,f);m<o&&(d=u[1],o=m),n!==i&&(m=wr.numBitsDiffering(i,f),m<o&&(d=u[1],o=m))}return o<=3?new wr(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof wr))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}wr.FORMAT_INFO_MASK_QR=21522,wr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const o of i)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(n,i,...o){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=o;let d=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const m of f)d+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new P;try{return this.getVersionForNumber((n-17)/4)}catch{throw new P}}static getVersionForNumber(n){if(n<1||n>40)throw new w;return _e.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,o=0;for(let d=0;d<_e.VERSION_DECODE_INFO.length;d++){const u=_e.VERSION_DECODE_INFO[d];if(u===n)return _e.getVersionForNumber(d+7);const f=wr.numBitsDiffering(n,u);f<i&&(o=d+7,i=f)}return i<=3?_e.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new ne(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let d=0;d<o;d++){const u=this.alignmentPatternCenters[d]-2;for(let f=0;f<o;f++)d===0&&(f===0||f===o-1)||d===o-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new Q(7,new O(1,19)),new Q(10,new O(1,16)),new Q(13,new O(1,13)),new Q(17,new O(1,9))),new _e(2,Int32Array.from([6,18]),new Q(10,new O(1,34)),new Q(16,new O(1,28)),new Q(22,new O(1,22)),new Q(28,new O(1,16))),new _e(3,Int32Array.from([6,22]),new Q(15,new O(1,55)),new Q(26,new O(1,44)),new Q(18,new O(2,17)),new Q(22,new O(2,13))),new _e(4,Int32Array.from([6,26]),new Q(20,new O(1,80)),new Q(18,new O(2,32)),new Q(26,new O(2,24)),new Q(16,new O(4,9))),new _e(5,Int32Array.from([6,30]),new Q(26,new O(1,108)),new Q(24,new O(2,43)),new Q(18,new O(2,15),new O(2,16)),new Q(22,new O(2,11),new O(2,12))),new _e(6,Int32Array.from([6,34]),new Q(18,new O(2,68)),new Q(16,new O(4,27)),new Q(24,new O(4,19)),new Q(28,new O(4,15))),new _e(7,Int32Array.from([6,22,38]),new Q(20,new O(2,78)),new Q(18,new O(4,31)),new Q(18,new O(2,14),new O(4,15)),new Q(26,new O(4,13),new O(1,14))),new _e(8,Int32Array.from([6,24,42]),new Q(24,new O(2,97)),new Q(22,new O(2,38),new O(2,39)),new Q(22,new O(4,18),new O(2,19)),new Q(26,new O(4,14),new O(2,15))),new _e(9,Int32Array.from([6,26,46]),new Q(30,new O(2,116)),new Q(22,new O(3,36),new O(2,37)),new Q(20,new O(4,16),new O(4,17)),new Q(24,new O(4,12),new O(4,13))),new _e(10,Int32Array.from([6,28,50]),new Q(18,new O(2,68),new O(2,69)),new Q(26,new O(4,43),new O(1,44)),new Q(24,new O(6,19),new O(2,20)),new Q(28,new O(6,15),new O(2,16))),new _e(11,Int32Array.from([6,30,54]),new Q(20,new O(4,81)),new Q(30,new O(1,50),new O(4,51)),new Q(28,new O(4,22),new O(4,23)),new Q(24,new O(3,12),new O(8,13))),new _e(12,Int32Array.from([6,32,58]),new Q(24,new O(2,92),new O(2,93)),new Q(22,new O(6,36),new O(2,37)),new Q(26,new O(4,20),new O(6,21)),new Q(28,new O(7,14),new O(4,15))),new _e(13,Int32Array.from([6,34,62]),new Q(26,new O(4,107)),new Q(22,new O(8,37),new O(1,38)),new Q(24,new O(8,20),new O(4,21)),new Q(22,new O(12,11),new O(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new Q(30,new O(3,115),new O(1,116)),new Q(24,new O(4,40),new O(5,41)),new Q(20,new O(11,16),new O(5,17)),new Q(24,new O(11,12),new O(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new Q(22,new O(5,87),new O(1,88)),new Q(24,new O(5,41),new O(5,42)),new Q(30,new O(5,24),new O(7,25)),new Q(24,new O(11,12),new O(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new Q(24,new O(5,98),new O(1,99)),new Q(28,new O(7,45),new O(3,46)),new Q(24,new O(15,19),new O(2,20)),new Q(30,new O(3,15),new O(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new Q(28,new O(1,107),new O(5,108)),new Q(28,new O(10,46),new O(1,47)),new Q(28,new O(1,22),new O(15,23)),new Q(28,new O(2,14),new O(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new Q(30,new O(5,120),new O(1,121)),new Q(26,new O(9,43),new O(4,44)),new Q(28,new O(17,22),new O(1,23)),new Q(28,new O(2,14),new O(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new Q(28,new O(3,113),new O(4,114)),new Q(26,new O(3,44),new O(11,45)),new Q(26,new O(17,21),new O(4,22)),new Q(26,new O(9,13),new O(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new Q(28,new O(3,107),new O(5,108)),new Q(26,new O(3,41),new O(13,42)),new Q(30,new O(15,24),new O(5,25)),new Q(28,new O(15,15),new O(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new Q(28,new O(4,116),new O(4,117)),new Q(26,new O(17,42)),new Q(28,new O(17,22),new O(6,23)),new Q(30,new O(19,16),new O(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new Q(28,new O(2,111),new O(7,112)),new Q(28,new O(17,46)),new Q(30,new O(7,24),new O(16,25)),new Q(24,new O(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new Q(30,new O(4,121),new O(5,122)),new Q(28,new O(4,47),new O(14,48)),new Q(30,new O(11,24),new O(14,25)),new Q(30,new O(16,15),new O(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new Q(30,new O(6,117),new O(4,118)),new Q(28,new O(6,45),new O(14,46)),new Q(30,new O(11,24),new O(16,25)),new Q(30,new O(30,16),new O(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new Q(26,new O(8,106),new O(4,107)),new Q(28,new O(8,47),new O(13,48)),new Q(30,new O(7,24),new O(22,25)),new Q(30,new O(22,15),new O(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new Q(28,new O(10,114),new O(2,115)),new Q(28,new O(19,46),new O(4,47)),new Q(28,new O(28,22),new O(6,23)),new Q(30,new O(33,16),new O(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new Q(30,new O(8,122),new O(4,123)),new Q(28,new O(22,45),new O(3,46)),new Q(30,new O(8,23),new O(26,24)),new Q(30,new O(12,15),new O(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new O(3,117),new O(10,118)),new Q(28,new O(3,45),new O(23,46)),new Q(30,new O(4,24),new O(31,25)),new Q(30,new O(11,15),new O(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new O(7,116),new O(7,117)),new Q(28,new O(21,45),new O(7,46)),new Q(30,new O(1,23),new O(37,24)),new Q(30,new O(19,15),new O(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new O(5,115),new O(10,116)),new Q(28,new O(19,47),new O(10,48)),new Q(30,new O(15,24),new O(25,25)),new Q(30,new O(23,15),new O(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new O(13,115),new O(3,116)),new Q(28,new O(2,46),new O(29,47)),new Q(30,new O(42,24),new O(1,25)),new Q(30,new O(23,15),new O(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new O(17,115)),new Q(28,new O(10,46),new O(23,47)),new Q(30,new O(10,24),new O(35,25)),new Q(30,new O(19,15),new O(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new O(17,115),new O(1,116)),new Q(28,new O(14,46),new O(21,47)),new Q(30,new O(29,24),new O(19,25)),new Q(30,new O(11,15),new O(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new O(13,115),new O(6,116)),new Q(28,new O(14,46),new O(23,47)),new Q(30,new O(44,24),new O(7,25)),new Q(30,new O(59,16),new O(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new O(12,121),new O(7,122)),new Q(28,new O(12,47),new O(26,48)),new Q(30,new O(39,24),new O(14,25)),new Q(30,new O(22,15),new O(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new O(6,121),new O(14,122)),new Q(28,new O(6,47),new O(34,48)),new Q(30,new O(46,24),new O(10,25)),new Q(30,new O(2,15),new O(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new O(17,122),new O(4,123)),new Q(28,new O(29,46),new O(14,47)),new Q(30,new O(49,24),new O(10,25)),new Q(30,new O(24,15),new O(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new O(4,122),new O(18,123)),new Q(28,new O(13,46),new O(32,47)),new Q(30,new O(48,24),new O(14,25)),new Q(30,new O(42,15),new O(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new O(20,117),new O(4,118)),new Q(28,new O(40,47),new O(7,48)),new Q(30,new O(43,24),new O(22,25)),new Q(30,new O(10,15),new O(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new O(19,118),new O(6,119)),new Q(28,new O(18,47),new O(31,48)),new Q(30,new O(34,24),new O(34,25)),new Q(30,new O(20,15),new O(61,16)))];var ir;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(ir||(ir={}));class xn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let o=0;o<i;o++)for(let d=0;d<i;d++)this.isMasked(o,d)&&n.flip(d,o)}}xn.values=new Map([[ir.DATA_MASK_000,new xn(ir.DATA_MASK_000,(S,n)=>(S+n&1)===0)],[ir.DATA_MASK_001,new xn(ir.DATA_MASK_001,(S,n)=>(S&1)===0)],[ir.DATA_MASK_010,new xn(ir.DATA_MASK_010,(S,n)=>n%3===0)],[ir.DATA_MASK_011,new xn(ir.DATA_MASK_011,(S,n)=>(S+n)%3===0)],[ir.DATA_MASK_100,new xn(ir.DATA_MASK_100,(S,n)=>(Math.floor(S/2)+Math.floor(n/3)&1)===0)],[ir.DATA_MASK_101,new xn(ir.DATA_MASK_101,(S,n)=>S*n%6===0)],[ir.DATA_MASK_110,new xn(ir.DATA_MASK_110,(S,n)=>S*n%6<3)],[ir.DATA_MASK_111,new xn(ir.DATA_MASK_111,(S,n)=>(S+n+S*n%3&1)===0)]]);class G2{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new P;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const i=this.bitMatrix.getHeight();let o=0;const d=i-7;for(let u=i-1;u>=d;u--)o=this.copyBit(8,u,o);for(let u=i-8;u<i;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=wr.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return _e.getVersionForNumber(i);let o=0;const d=n-11;for(let f=5;f>=0;f--)for(let m=n-9;m>=d;m--)o=this.copyBit(m,f,o);let u=_e.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let m=n-9;m>=d;m--)o=this.copyBit(f,m,o);if(u=_e.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new P}copyBit(n,i,o){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),o=xn.values.get(n.getDataMask()),d=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,d);const u=i.buildFunctionPattern();let f=!0;const m=new Uint8Array(i.getTotalCodewords());let g=0,v=0,N=0;for(let A=d-1;A>0;A-=2){A===6&&A--;for(let T=0;T<d;T++){const L=f?d-1-T:T;for(let z=0;z<2;z++)u.get(A-z,L)||(N++,v<<=1,this.bitMatrix.get(A-z,L)&&(v|=1),N===8&&(m[g++]=v,N=0,v=0))}f=!f}if(g!==i.getTotalCodewords())throw new P;return m}remask(){if(this.parsedFormatInfo===null)return;const n=xn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,o=n.getWidth();i<o;i++)for(let d=i+1,u=n.getHeight();d<u;d++)n.get(i,d)!==n.get(d,i)&&(n.flip(d,i),n.flip(i,d))}}class Fd{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,o){if(n.length!==i.getTotalCodewords())throw new w;const d=i.getECBlocksForLevel(o);let u=0;const f=d.getECBlocks();for(const z of f)u+=z.getCount();const m=new Array(u);let g=0;for(const z of f)for(let W=0;W<z.getCount();W++){const Z=z.getDataCodewords(),J=d.getECCodewordsPerBlock()+Z;m[g++]=new Fd(Z,new Uint8Array(J))}const v=m[0].codewords.length;let N=m.length-1;for(;N>=0&&m[N].codewords.length!==v;)N--;N++;const A=v-d.getECCodewordsPerBlock();let T=0;for(let z=0;z<A;z++)for(let W=0;W<g;W++)m[W].codewords[z]=n[T++];for(let z=N;z<g;z++)m[z].codewords[A]=n[T++];const L=m[0].codewords.length;for(let z=A;z<L;z++)for(let W=0;W<g;W++){const Z=W<N?z:z+1;m[W].codewords[Z]=n[T++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(gn||(gn={}));class Te{constructor(n,i,o,d){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=d,Te.FOR_BITS.set(d,this),Te.FOR_VALUE.set(n,this)}static forBits(n){const i=Te.FOR_BITS.get(n);if(i===void 0)throw new w;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof Te))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}Te.FOR_BITS=new Map,Te.FOR_VALUE=new Map,Te.TERMINATOR=new Te(gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Te.NUMERIC=new Te(gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Te.ALPHANUMERIC=new Te(gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Te.STRUCTURED_APPEND=new Te(gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Te.BYTE=new Te(gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Te.ECI=new Te(gn.ECI,"ECI",Int32Array.from([0,0,0]),7),Te.KANJI=new Te(gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Te.FNC1_FIRST_POSITION=new Te(gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Te.FNC1_SECOND_POSITION=new Te(gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Te.HANZI=new Te(gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kt{static decode(n,i,o,d){const u=new Bd(n);let f=new ee;const m=new Array;let g=-1,v=-1;try{let N=null,A=!1,T;do{if(u.available()<4)T=Te.TERMINATOR;else{const L=u.readBits(4);T=Te.forBits(L)}switch(T){case Te.TERMINATOR:break;case Te.FNC1_FIRST_POSITION:case Te.FNC1_SECOND_POSITION:A=!0;break;case Te.STRUCTURED_APPEND:if(u.available()<16)throw new P;g=u.readBits(8),v=u.readBits(8);break;case Te.ECI:const L=kt.parseECIValue(u);if(N=G.getCharacterSetECIByValue(L),N===null)throw new P;break;case Te.HANZI:const z=u.readBits(4),W=u.readBits(T.getCharacterCountBits(i));z===kt.GB2312_SUBSET&&kt.decodeHanziSegment(u,f,W);break;default:const Z=u.readBits(T.getCharacterCountBits(i));switch(T){case Te.NUMERIC:kt.decodeNumericSegment(u,f,Z);break;case Te.ALPHANUMERIC:kt.decodeAlphanumericSegment(u,f,Z,A);break;case Te.BYTE:kt.decodeByteSegment(u,f,Z,N,m,d);break;case Te.KANJI:kt.decodeKanjiSegment(u,f,Z);break;default:throw new P}break}}while(T!==Te.TERMINATOR)}catch{throw new P}return new Oe(n,f.toString(),m.length===0?null:m,o===null?null:o.toString(),g,v)}static decodeHanziSegment(n,i,o){if(o*13>n.available())throw new P;const d=new Uint8Array(2*o);let u=0;for(;o>0;){const f=n.readBits(13);let m=f/96<<8&4294967295|f%96;m<959?m+=41377:m+=42657,d[u]=m>>8&255,d[u+1]=m&255,u+=2,o--}try{i.append(X.decode(d,F.GB2312))}catch(f){throw new P(f)}}static decodeKanjiSegment(n,i,o){if(o*13>n.available())throw new P;const d=new Uint8Array(2*o);let u=0;for(;o>0;){const f=n.readBits(13);let m=f/192<<8&4294967295|f%192;m<7936?m+=33088:m+=49472,d[u]=m>>8,d[u+1]=m,u+=2,o--}try{i.append(X.decode(d,F.SHIFT_JIS))}catch(f){throw new P(f)}}static decodeByteSegment(n,i,o,d,u,f){if(8*o>n.available())throw new P;const m=new Uint8Array(o);for(let v=0;v<o;v++)m[v]=n.readBits(8);let g;d===null?g=F.guessEncoding(m,f):g=d.getName();try{i.append(X.decode(m,g))}catch(v){throw new P(v)}u.push(m)}static toAlphaNumericChar(n){if(n>=kt.ALPHANUMERIC_CHARS.length)throw new P;return kt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,o,d){const u=i.length();for(;o>1;){if(n.available()<11)throw new P;const f=n.readBits(11);i.append(kt.toAlphaNumericChar(Math.floor(f/45))),i.append(kt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(n.available()<6)throw new P;i.append(kt.toAlphaNumericChar(n.readBits(6)))}if(d)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,String.fromCharCode(29)))}static decodeNumericSegment(n,i,o){for(;o>=3;){if(n.available()<10)throw new P;const d=n.readBits(10);if(d>=1e3)throw new P;i.append(kt.toAlphaNumericChar(Math.floor(d/100))),i.append(kt.toAlphaNumericChar(Math.floor(d/10)%10)),i.append(kt.toAlphaNumericChar(d%10)),o-=3}if(o===2){if(n.available()<7)throw new P;const d=n.readBits(7);if(d>=100)throw new P;i.append(kt.toAlphaNumericChar(Math.floor(d/10))),i.append(kt.toAlphaNumericChar(d%10))}else if(o===1){if(n.available()<4)throw new P;const d=n.readBits(4);if(d>=10)throw new P;i.append(kt.toAlphaNumericChar(d))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=n.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=n.readBits(16);return(i&31)<<16&4294967295|o}throw new P}}kt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kt.GB2312_SUBSET=1;class xh{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class Y2{constructor(){this.rsDecoder=new bi(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(ne.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const o=new G2(n);let d=null;try{return this.decodeBitMatrixParser(o,i)}catch(u){d=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,i);return u.setOther(new xh(!0)),u}catch(u){throw d!==null?d:u}}decodeBitMatrixParser(n,i){const o=n.readVersion(),d=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),f=Fd.getDataBlocks(u,o,d);let m=0;for(const N of f)m+=N.getNumDataCodewords();const g=new Uint8Array(m);let v=0;for(const N of f){const A=N.getCodewords(),T=N.getNumDataCodewords();this.correctErrors(A,T);for(let L=0;L<T;L++)g[v++]=A[L]}return kt.decode(g,o,d,i)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new _}for(let d=0;d<i;d++)n[d]=o[d]}}class Ud extends H{constructor(n,i,o){super(n,i),this.estimatedModuleSize=o}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const d=Math.abs(n-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const d=(this.getX()+i)/2,u=(this.getY()+n)/2,f=(this.estimatedModuleSize+o)/2;return new Ud(d,u,f)}}class Sl{constructor(n,i,o,d,u,f,m){this.image=n,this.startX=i,this.startY=o,this.width=d,this.height=u,this.moduleSize=f,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,o=this.width,d=n+o,u=this.startY+i/2,f=new Int32Array(3),m=this.image;for(let g=0;g<i;g++){const v=u+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));f[0]=0,f[1]=0,f[2]=0;let N=n;for(;N<d&&!m.get(N,v);)N++;let A=0;for(;N<d;){if(m.get(N,v))if(A===1)f[1]++;else if(A===2){if(this.foundPatternCross(f)){const T=this.handlePossibleCenter(f,v,N);if(T!==null)return T}f[0]=f[2],f[1]=1,f[2]=0,A=1}else f[++A]++;else A===1&&A++,f[A]++;N++}if(this.foundPatternCross(f)){const T=this.handlePossibleCenter(f,v,d);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,o=i/2;for(let d=0;d<3;d++)if(Math.abs(i-n[d])>=o)return!1;return!0}crossCheckVertical(n,i,o,d){const u=this.image,f=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let g=n;for(;g>=0&&u.get(i,g)&&m[1]<=o;)m[1]++,g--;if(g<0||m[1]>o)return NaN;for(;g>=0&&!u.get(i,g)&&m[0]<=o;)m[0]++,g--;if(m[0]>o)return NaN;for(g=n+1;g<f&&u.get(i,g)&&m[1]<=o;)m[1]++,g++;if(g===f||m[1]>o)return NaN;for(;g<f&&!u.get(i,g)&&m[2]<=o;)m[2]++,g++;if(m[2]>o)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-d)>=2*d?NaN:this.foundPatternCross(m)?Sl.centerFromEnd(m,g):NaN}handlePossibleCenter(n,i,o){const d=n[0]+n[1]+n[2],u=Sl.centerFromEnd(n,o),f=this.crossCheckVertical(i,u,2*n[1],d);if(!isNaN(f)){const m=(n[0]+n[1]+n[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,f,u))return v.combineEstimate(f,u,m);const g=new Ud(u,f,m);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class zd extends H{constructor(n,i,o,d){super(n,i),this.estimatedModuleSize=o,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const d=Math.abs(n-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const d=this.count+1,u=(this.count*this.getX()+i)/d,f=(this.count*this.getY()+n)/d,m=(this.count*this.estimatedModuleSize+o)/d;return new zd(u,f,m,d)}}class X2{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ar{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get($.TRY_HARDER)!==void 0,o=n!=null&&n.get($.PURE_BARCODE)!==void 0,d=this.image,u=d.getHeight(),f=d.getWidth();let m=Math.floor(3*u/(4*ar.MAX_MODULES));(m<ar.MIN_SKIP||i)&&(m=ar.MIN_SKIP);let g=!1;const v=new Int32Array(5);for(let A=m-1;A<u&&!g;A+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let T=0;for(let L=0;L<f;L++)if(d.get(L,A))(T&1)===1&&T++,v[T]++;else if(T&1)v[T]++;else if(T===4)if(ar.foundPatternCross(v)){if(this.handlePossibleCenter(v,A,L,o)===!0)if(m=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>v[2]&&(A+=W-v[2]-m,L=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,T=3;continue}T=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,T=3;else v[++T]++;ar.foundPatternCross(v)&&this.handlePossibleCenter(v,A,f,o)===!0&&(m=v[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return H.orderBestPatterns(N),new X2(N)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let u=0;u<5;u++){const f=n[u];if(f===0)return!1;i+=f}if(i<7)return!1;const o=i/7,d=o/2;return Math.abs(o-n[0])<d&&Math.abs(o-n[1])<d&&Math.abs(3*o-n[2])<3*d&&Math.abs(o-n[3])<d&&Math.abs(o-n[4])<d}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,o,d){const u=this.getCrossCheckStateCount();let f=0;const m=this.image;for(;n>=f&&i>=f&&m.get(i-f,n-f);)u[2]++,f++;if(n<f||i<f)return!1;for(;n>=f&&i>=f&&!m.get(i-f,n-f)&&u[1]<=o;)u[1]++,f++;if(n<f||i<f||u[1]>o)return!1;for(;n>=f&&i>=f&&m.get(i-f,n-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const g=m.getHeight(),v=m.getWidth();for(f=1;n+f<g&&i+f<v&&m.get(i+f,n+f);)u[2]++,f++;if(n+f>=g||i+f>=v)return!1;for(;n+f<g&&i+f<v&&!m.get(i+f,n+f)&&u[3]<o;)u[3]++,f++;if(n+f>=g||i+f>=v||u[3]>=o)return!1;for(;n+f<g&&i+f<v&&m.get(i+f,n+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const N=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(N-d)<2*d&&ar.foundPatternCross(u)}crossCheckVertical(n,i,o,d){const u=this.image,f=u.getHeight(),m=this.getCrossCheckStateCount();let g=n;for(;g>=0&&u.get(i,g);)m[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(i,g)&&m[1]<=o;)m[1]++,g--;if(g<0||m[1]>o)return NaN;for(;g>=0&&u.get(i,g)&&m[0]<=o;)m[0]++,g--;if(m[0]>o)return NaN;for(g=n+1;g<f&&u.get(i,g);)m[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(i,g)&&m[3]<o;)m[3]++,g++;if(g===f||m[3]>=o)return NaN;for(;g<f&&u.get(i,g)&&m[4]<o;)m[4]++,g++;if(m[4]>=o)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-d)>=2*d?NaN:ar.foundPatternCross(m)?ar.centerFromEnd(m,g):NaN}crossCheckHorizontal(n,i,o,d){const u=this.image,f=u.getWidth(),m=this.getCrossCheckStateCount();let g=n;for(;g>=0&&u.get(g,i);)m[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(g,i)&&m[1]<=o;)m[1]++,g--;if(g<0||m[1]>o)return NaN;for(;g>=0&&u.get(g,i)&&m[0]<=o;)m[0]++,g--;if(m[0]>o)return NaN;for(g=n+1;g<f&&u.get(g,i);)m[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(g,i)&&m[3]<o;)m[3]++,g++;if(g===f||m[3]>=o)return NaN;for(;g<f&&u.get(g,i)&&m[4]<o;)m[4]++,g++;if(m[4]>=o)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-d)>=d?NaN:ar.foundPatternCross(m)?ar.centerFromEnd(m,g):NaN}handlePossibleCenter(n,i,o,d){const u=n[0]+n[1]+n[2]+n[3]+n[4];let f=ar.centerFromEnd(n,o),m=this.crossCheckVertical(i,Math.floor(f),n[2],u);if(!isNaN(m)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(m),n[2],u),!isNaN(f)&&(!d||this.crossCheckDiagonal(Math.floor(m),Math.floor(f),n[2],u)))){const g=u/7;let v=!1;const N=this.possibleCenters;for(let A=0,T=N.length;A<T;A++){const L=N[A];if(L.aboutEquals(g,m,f)){N[A]=L.combineEstimate(m,f,g),v=!0;break}}if(!v){const A=new zd(f,m,g);N.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=ar.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=ar.CENTER_QUORUM&&(n++,i+=f.getEstimatedModuleSize());if(n<3)return!1;const d=i/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-d);return u<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new V;const i=this.possibleCenters;let o;if(n>3){let d=0,u=0;for(const g of this.possibleCenters){const v=g.getEstimatedModuleSize();d+=v,u+=v*v}o=d/n;let f=Math.sqrt(u/n-o*o);i.sort((g,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-o),A=Math.abs(g.getEstimatedModuleSize()-o);return N<A?-1:N>A?1:0});const m=Math.max(.2*o,f);for(let g=0;g<i.length&&i.length>3;g++){const v=i[g];Math.abs(v.getEstimatedModuleSize()-o)>m&&(i.splice(g,1),g--)}}if(i.length>3){let d=0;for(const u of i)d+=u.getEstimatedModuleSize();o=d/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const m=Math.abs(f.getEstimatedModuleSize()-o),g=Math.abs(u.getEstimatedModuleSize()-o);return m<g?1:m>g?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}ar.CENTER_QUORUM=2,ar.MIN_SKIP=3,ar.MAX_MODULES=57;class Ka{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get($.NEED_RESULT_POINT_CALLBACK);const o=new ar(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const i=n.getTopLeft(),o=n.getTopRight(),d=n.getBottomLeft(),u=this.calculateModuleSize(i,o,d);if(u<1)throw new V("No pattern found in proccess finder.");const f=Ka.computeDimension(i,o,d,u),m=_e.getProvisionalVersionForDimension(f),g=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const L=o.getX()-i.getX()+d.getX(),z=o.getY()-i.getY()+d.getY(),W=1-3/g,Z=Math.floor(i.getX()+W*(L-i.getX())),J=Math.floor(i.getY()+W*(z-i.getY()));for(let ce=4;ce<=16;ce<<=1)try{v=this.findAlignmentInRegion(u,Z,J,ce);break}catch(de){if(!(de instanceof V))throw de}}const N=Ka.createTransform(i,o,d,v,f),A=Ka.sampleGrid(this.image,N,f);let T;return v===null?T=[d,i,o]:T=[d,i,o,v],new re(A,T)}static createTransform(n,i,o,d,u){const f=u-3.5;let m,g,v,N;return d!==null?(m=d.getX(),g=d.getY(),v=f-3,N=v):(m=i.getX()-n.getX()+o.getX(),g=i.getY()-n.getY()+o.getY(),v=f,N=f),Ce.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,N,3.5,f,n.getX(),n.getY(),i.getX(),i.getY(),m,g,o.getX(),o.getY())}static sampleGrid(n,i,o){return Qe.getInstance().sampleGridWithTransform(n,o,o,i)}static computeDimension(n,i,o,d){const u=Xe.round(H.distance(n,i)/d),f=Xe.round(H.distance(n,o)/d);let m=Math.floor((u+f)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new V("Dimensions could be not found.")}return m}calculateModuleSize(n,i,o){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?d/7:isNaN(d)?o/7:(o+d)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,o,d){let u=this.sizeOfBlackWhiteBlackRun(n,i,o,d),f=1,m=n-(o-n);m<0?(f=n/(n-m),m=0):m>=this.image.getWidth()&&(f=(this.image.getWidth()-1-n)/(m-n),m=this.image.getWidth()-1);let g=Math.floor(i-(d-i)*f);return f=1,g<0?(f=i/(i-g),g=0):g>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(g-i),g=this.image.getHeight()-1),m=Math.floor(n+(m-n)*f),u+=this.sizeOfBlackWhiteBlackRun(n,i,m,g),u-1}sizeOfBlackWhiteBlackRun(n,i,o,d){const u=Math.abs(d-i)>Math.abs(o-n);if(u){let L=n;n=i,i=L,L=o,o=d,d=L}const f=Math.abs(o-n),m=Math.abs(d-i);let g=-f/2;const v=n<o?1:-1,N=i<d?1:-1;let A=0;const T=o+v;for(let L=n,z=i;L!==T;L+=v){const W=u?z:L,Z=u?L:z;if(A===1===this.image.get(W,Z)){if(A===2)return Xe.distance(L,z,n,i);A++}if(g+=m,g>0){if(z===d)break;z+=N,g-=f}}return A===2?Xe.distance(o+v,d,n,i):NaN}findAlignmentInRegion(n,i,o,d){const u=Math.floor(d*n),f=Math.max(0,i-u),m=Math.min(this.image.getWidth()-1,i+u);if(m-f<n*3)throw new V("Alignment top exceeds estimated module size.");const g=Math.max(0,o-u),v=Math.min(this.image.getHeight()-1,o+u);if(v-g<n*3)throw new V("Alignment bottom exceeds estimated module size.");return new Sl(this.image,f,g,m-f,v-g,n,this.resultPointCallback).find()}}class ks{constructor(){this.decoder=new Y2}getDecoder(){return this.decoder}decode(n,i){let o,d;if(i!=null&&i.get($.PURE_BARCODE)!==void 0){const g=ks.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(g,i),d=ks.NO_POINTS}else{const g=new Ka(n.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(g.getBits(),i),d=g.getPoints()}o.getOther()instanceof xh&&o.getOther().applyMirroredCorrection(d);const u=new ht(o.getText(),o.getRawBytes(),void 0,d,Ae.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(se.BYTE_SEGMENTS,f);const m=o.getECLevel();return m!==null&&u.putMetadata(se.ERROR_CORRECTION_LEVEL,m),o.hasStructuredAppend()&&(u.putMetadata(se.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(se.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i===null||o===null)throw new V;const d=this.moduleSize(i,n);let u=i[1],f=o[1],m=i[0],g=o[0];if(m>=g||u>=f)throw new V;if(f-u!==g-m&&(g=m+(f-u),g>=n.getWidth()))throw new V;const v=Math.round((g-m+1)/d),N=Math.round((f-u+1)/d);if(v<=0||N<=0)throw new V;if(N!==v)throw new V;const A=Math.floor(d/2);u+=A,m+=A;const T=m+Math.floor((v-1)*d)-g;if(T>0){if(T>A)throw new V;m-=T}const L=u+Math.floor((N-1)*d)-f;if(L>0){if(L>A)throw new V;u-=L}const z=new ne(v,N);for(let W=0;W<N;W++){const Z=u+Math.floor(W*d);for(let J=0;J<v;J++)n.get(m+Math.floor(J*d),Z)&&z.set(J,W)}return z}static moduleSize(n,i){const o=i.getHeight(),d=i.getWidth();let u=n[0],f=n[1],m=!0,g=0;for(;u<d&&f<o;){if(m!==i.get(u,f)){if(++g===5)break;m=!m}u++,f++}if(u===d||f===o)throw new V;return(u-n[0])/7}}ks.NO_POINTS=new Array;class De{PDF417Common(){}static getBitCountSum(n){return Xe.sum(n)}static toIntArray(n){if(n==null||!n.length)return De.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let o=0;for(const d of n)i[o++]=d;return i}static getCodeword(n){const i=C.binarySearch(De.SYMBOL_TABLE,n&262143);return i<0?-1:(De.CODEWORD_TABLE[i]-1)%De.NUMBER_OF_CODEWORDS}}De.NUMBER_OF_CODEWORDS=929,De.MAX_CODEWORDS_IN_BARCODE=De.NUMBER_OF_CODEWORDS-1,De.MIN_ROWS_IN_BARCODE=3,De.MAX_ROWS_IN_BARCODE=90,De.MODULES_IN_CODEWORD=17,De.MODULES_IN_STOP_PATTERN=18,De.BARS_IN_MODULE=8,De.EMPTY_INT_ARRAY=new Int32Array([]),De.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),De.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Z2{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(n,i,o){let d=n.getBlackMatrix(),u=He.detect(o,d);return u.length||(d=d.clone(),d.rotate180(),u=He.detect(o,d)),new Z2(d,u)}static detect(n,i){const o=new Array;let d=0,u=0,f=!1;for(;d<i.getHeight();){const m=He.findVertices(i,d,u);if(m[0]==null&&m[3]==null){if(!f)break;f=!1,u=0;for(const g of o)g[1]!=null&&(d=Math.trunc(Math.max(d,g[1].getY()))),g[3]!=null&&(d=Math.max(d,Math.trunc(g[3].getY())));d+=He.ROW_STEP;continue}if(f=!0,o.push(m),!n)break;m[2]!=null?(u=Math.trunc(m[2].getX()),d=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),d=Math.trunc(m[4].getY()))}return o}static findVertices(n,i,o){const d=n.getHeight(),u=n.getWidth(),f=new Array(8);return He.copyToResult(f,He.findRowsWithPattern(n,d,u,i,o,He.START_PATTERN),He.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),He.copyToResult(f,He.findRowsWithPattern(n,d,u,i,o,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),f}static copyToResult(n,i,o){for(let d=0;d<o.length;d++)n[o[d]]=i[d]}static findRowsWithPattern(n,i,o,d,u,f){const m=new Array(4);let g=!1;const v=new Int32Array(f.length);for(;d<i;d+=He.ROW_STEP){let A=He.findGuardPattern(n,u,d,o,!1,f,v);if(A!=null){for(;d>0;){const T=He.findGuardPattern(n,u,--d,o,!1,f,v);if(T!=null)A=T;else{d++;break}}m[0]=new H(A[0],d),m[1]=new H(A[1],d),g=!0;break}}let N=d+1;if(g){let A=0,T=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;N<i;N++){const L=He.findGuardPattern(n,T[0],N,o,!1,f,v);if(L!=null&&Math.abs(T[0]-L[0])<He.MAX_PATTERN_DRIFT&&Math.abs(T[1]-L[1])<He.MAX_PATTERN_DRIFT)T=L,A=0;else{if(A>He.SKIPPED_ROW_COUNT_MAX)break;A++}}N-=A+1,m[2]=new H(T[0],N),m[3]=new H(T[1],N)}return N-d<He.BARCODE_MIN_HEIGHT&&C.fill(m,null),m}static findGuardPattern(n,i,o,d,u,f,m){C.fillWithin(m,0,m.length,0);let g=i,v=0;for(;n.get(g,o)&&g>0&&v++<He.MAX_PIXEL_DRIFT;)g--;let N=g,A=0,T=f.length;for(let L=u;N<d;N++)if(n.get(N,o)!==L)m[A]++;else{if(A===T-1){if(He.patternMatchVariance(m,f,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([g,N]);g+=m[0]+m[1],I.arraycopy(m,2,m,0,A-1),m[A-1]=0,m[A]=0,A--}else A++;m[A]=1,L=!L}return A===T-1&&He.patternMatchVariance(m,f,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([g,N-1]):null}static patternMatchVariance(n,i,o){let d=n.length,u=0,f=0;for(let v=0;v<d;v++)u+=n[v],f+=i[v];if(u<f)return 1/0;let m=u/f;o*=m;let g=0;for(let v=0;v<d;v++){let N=n[v],A=i[v]*m,T=N>A?N-A:A-N;if(T>o)return 1/0;g+=T}return g/u}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class ur{constructor(n,i){if(i.length===0)throw new w;this.field=n;let o=i.length;if(o>1&&i[0]===0){let d=1;for(;d<o&&i[d]===0;)d++;d===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-d),I.arraycopy(i,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let d=0;for(let u of this.coefficients)d=this.field.add(d,u);return d}let i=this.coefficients[0],o=this.coefficients.length;for(let d=1;d<o;d++)i=this.field.add(this.field.multiply(n,i),this.coefficients[d]);return i}add(n){if(!this.field.equals(n.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){let f=i;i=o,o=f}let d=new Int32Array(o.length),u=o.length-i.length;I.arraycopy(o,0,d,0,u);for(let f=u;f<o.length;f++)d[f]=this.field.add(i[f-u],o[f]);return new ur(this.field,d)}subtract(n){if(!this.field.equals(n.field))throw new w("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof ur?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new ur(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,d=n.coefficients,u=d.length,f=new Int32Array(o+u-1);for(let m=0;m<o;m++){let g=i[m];for(let v=0;v<u;v++)f[m+v]=this.field.add(f[m+v],this.field.multiply(g,d[v]))}return new ur(this.field,f)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new ur(this.field,i)}multiplyScalar(n){if(n===0)return new ur(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let d=0;d<i;d++)o[d]=this.field.multiply(this.coefficients[d],n);return new ur(this.field,o)}multiplyByMonomial(n,i){if(n<0)throw new w;if(i===0)return new ur(this.field,new Int32Array([0]));let o=this.coefficients.length,d=new Int32Array(o+n);for(let u=0;u<o;u++)d[u]=this.field.multiply(this.coefficients[u],i);return new ur(this.field,d)}toString(){let n=new ee;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(i===0||o!==1)&&n.append(o),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class $2{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new w;return this.logTable[n]}inverse(n){if(n===0)throw new dr;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Vd extends $2{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let d=0;d<n;d++)this.expTable[d]=o,o=o*i%n;for(let d=0;d<n-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new ur(this,new Int32Array([0])),this.one=new ur(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new w;if(i===0)return this.zero;let o=new Int32Array(n+1);return o[0]=i,new ur(this,o)}}Vd.PDF417_GF=new Vd(De.NUMBER_OF_CODEWORDS,3);class gh{constructor(){this.field=Vd.PDF417_GF}decode(n,i,o){let d=new ur(this.field,n),u=new Int32Array(i),f=!1;for(let z=i;z>0;z--){let W=d.evaluateAt(this.field.exp(z));u[i-z]=W,W!==0&&(f=!0)}if(!f)return 0;let m=this.field.getOne();if(o!=null)for(const z of o){let W=this.field.exp(n.length-1-z),Z=new ur(this.field,new Int32Array([this.field.subtract(0,W),1]));m=m.multiply(Z)}let g=new ur(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),g,i),N=v[0],A=v[1],T=this.findErrorLocations(N),L=this.findErrorMagnitudes(A,N,T);for(let z=0;z<T.length;z++){let W=n.length-1-this.field.log(T[z]);if(W<0)throw _.getChecksumInstance();n[W]=this.field.subtract(n[W],L[z])}return T.length}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){let T=n;n=i,i=T}let d=n,u=i,f=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let T=d,L=f;if(d=u,f=m,d.isZero())throw _.getChecksumInstance();u=T;let z=this.field.getZero(),W=d.getCoefficient(d.getDegree()),Z=this.field.inverse(W);for(;u.getDegree()>=d.getDegree()&&!u.isZero();){let J=u.getDegree()-d.getDegree(),ce=this.field.multiply(u.getCoefficient(u.getDegree()),Z);z=z.add(this.field.buildMonomial(J,ce)),u=u.subtract(d.multiplyByMonomial(J,ce))}m=z.multiply(f).subtract(L).negative()}let g=m.getCoefficient(0);if(g===0)throw _.getChecksumInstance();let v=this.field.inverse(g),N=m.multiply(v),A=u.multiply(v);return[N,A]}findErrorLocations(n){let i=n.getDegree(),o=new Int32Array(i),d=0;for(let u=1;u<this.field.getSize()&&d<i;u++)n.evaluateAt(u)===0&&(o[d]=this.field.inverse(u),d++);if(d!==i)throw _.getChecksumInstance();return o}findErrorMagnitudes(n,i,o){let d=i.getDegree(),u=new Int32Array(d);for(let v=1;v<=d;v++)u[d-v]=this.field.multiply(v,i.getCoefficient(v));let f=new ur(this.field,u),m=o.length,g=new Int32Array(m);for(let v=0;v<m;v++){let N=this.field.inverse(o[v]),A=this.field.subtract(0,n.evaluateAt(N)),T=this.field.inverse(f.evaluateAt(N));g[v]=this.field.multiply(A,T)}return g}}class Ai{constructor(n,i,o,d,u){n instanceof Ai?this.constructor_2(n):this.constructor_1(n,i,o,d,u)}constructor_1(n,i,o,d,u){const f=i==null||o==null,m=d==null||u==null;if(f&&m)throw new V;f?(i=new H(0,d.getY()),o=new H(0,u.getY())):m&&(d=new H(n.getWidth()-1,i.getY()),u=new H(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=i,this.bottomLeft=o,this.topRight=d,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(d.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),d.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new Ai(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,o){let d=this.topLeft,u=this.bottomLeft,f=this.topRight,m=this.bottomRight;if(n>0){let g=o?this.topLeft:this.topRight,v=Math.trunc(g.getY()-n);v<0&&(v=0);let N=new H(g.getX(),v);o?d=N:f=N}if(i>0){let g=o?this.bottomLeft:this.bottomRight,v=Math.trunc(g.getY()+i);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new H(g.getX(),v);o?u=N:m=N}return new Ai(this.image,d,u,f,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Q2{constructor(n,i,o,d){this.columnCount=n,this.errorCorrectionLevel=d,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ja{constructor(){this.buffer=""}static form(n,i){let o=-1;function d(f,m,g,v,N,A){if(f==="%%")return"%";if(i[++o]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let T=N?parseInt(N.substr(1)):void 0,L;switch(A){case"s":L=i[o];break;case"c":L=i[o][0];break;case"f":L=parseFloat(i[o]).toFixed(f);break;case"p":L=parseFloat(i[o]).toPrecision(f);break;case"e":L=parseFloat(i[o]).toExponential(f);break;case"x":L=parseInt(i[o]).toString(T||16);break;case"d":L=parseFloat(parseInt(i[o],T||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(T);let z=parseInt(g),W=g&&g[0]+""=="0"?"0":" ";for(;L.length<z;)L=m!==void 0?L+W:W+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,d)}format(n,...i){this.buffer+=Ja.form(n,i)}toString(){return this.buffer}}class eo{constructor(n){this.boundingBox=new Ai(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let o=1;o<eo.MAX_NEARBY_DISTANCE;o++){let d=this.imageRowToCodewordIndex(n)-o;if(d>=0&&(i=this.codewords[d],i!=null)||(d=this.imageRowToCodewordIndex(n)+o,d<this.codewords.length&&(i=this.codewords[d],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Ja;let i=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return n.toString()}}eo.MAX_NEARBY_DISTANCE=5;class to{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[o,d]of this.values.entries()){const u={getKey:()=>o,getValue:()=>d};u.getValue()>n?(n=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===n&&i.push(u.getKey())}return De.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class ph extends eo{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let o=this.getBoundingBox(),d=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(d.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=-1,v=1,N=0;for(let A=f;A<m;A++){if(i[A]==null)continue;let T=i[A],L=T.getRowNumber()-g;if(L===0)N++;else if(L===1)v=Math.max(v,N),N=1,g=T.getRowNumber();else if(L<0||T.getRowNumber()>=n.getRowCount()||L>A)i[A]=null;else{let z;v>2?z=(v-2)*L:z=L;let W=z>=A;for(let Z=1;Z<=z&&!W;Z++)W=i[A-Z]!=null;W?i[A]=null:(g=T.getRowNumber(),N=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let d=o.getRowNumber();if(d>=i.length)continue;i[d]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),d=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(d.getY())),m=this.getCodewords(),g=-1;for(let v=u;v<f;v++){if(m[v]==null)continue;let N=m[v];N.setRowNumberAsRowIndicatorColumn();let A=N.getRowNumber()-g;A===0||(A===1?g=N.getRowNumber():N.getRowNumber()>=n.getRowCount()?m[v]=null:g=N.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new to,o=new to,d=new to,u=new to;for(let m of n){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let g=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:o.setValue(g*3+1);break;case 1:u.setValue(g/3),d.setValue(g%3);break;case 2:i.setValue(g+1);break}}if(i.getValue().length===0||o.getValue().length===0||d.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+d.getValue()[0]<De.MIN_ROWS_IN_BARCODE||o.getValue()[0]+d.getValue()[0]>De.MAX_ROWS_IN_BARCODE)return null;let f=new Q2(i.getValue()[0],o.getValue()[0],d.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,f),f}removeIncorrectCodewords(n,i){for(let o=0;o<n.length;o++){let d=n[o];if(n[o]==null)continue;let u=d.getValue()%30,f=d.getRowNumber();if(f>i.getRowCount()){n[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(n[o]=null);break;case 2:u+1!==i.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ro{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=De.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let d=0;d<o.length;d++)o[d]!=null&&(o[d].hasValidRowNumber()||this.adjustRowNumbers(i,d,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&i[o]!=null&&n[o].getRowNumber()===i[o].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let u=this.detectionResultColumns[d].getCodewords()[o];u!=null&&(u.setRowNumber(n[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let d=i[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let m=this.detectionResultColumns[f].getCodewords()[o];m!=null&&(u=ro.adjustRowNumberIfValid(d,u,m),m.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let d=i[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let m=this.detectionResultColumns[f].getCodewords()[o];m!=null&&(u=ro.adjustRowNumberIfValid(d,u,m),m.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,o){if(!this.detectionResultColumns[n-1])return;let d=o[i],u=this.detectionResultColumns[n-1].getCodewords(),f=u;this.detectionResultColumns[n+1]!=null&&(f=this.detectionResultColumns[n+1].getCodewords());let m=new Array(14);m[2]=u[i],m[3]=f[i],i>0&&(m[0]=o[i-1],m[4]=u[i-1],m[5]=f[i-1]),i>1&&(m[8]=o[i-2],m[10]=u[i-2],m[11]=f[i-2]),i<o.length-1&&(m[1]=o[i+1],m[6]=u[i+1],m[7]=f[i+1]),i<o.length-2&&(m[9]=o[i+2],m[12]=u[i+2],m[13]=f[i+2]);for(let g of m)if(ro.adjustRowNumber(d,g))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Ja;for(let o=0;o<n.getCodewords().length;o++){i.format("CW %3d:",o);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[d].getCodewords()[o];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class no{constructor(n,i,o,d){this.rowNumber=no.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==no.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}no.BARCODE_ROW_UNKNOWN=-1;class Lr{static initialize(){for(let n=0;n<De.SYMBOL_TABLE.length;n++){let i=De.SYMBOL_TABLE[n],o=i&1;for(let d=0;d<De.BARS_IN_MODULE;d++){let u=0;for(;(i&1)===o;)u+=1,i>>=1;o=i&1,Lr.RATIOS_TABLE[n]||(Lr.RATIOS_TABLE[n]=new Array(De.BARS_IN_MODULE)),Lr.RATIOS_TABLE[n][De.BARS_IN_MODULE-d-1]=Math.fround(u/De.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Lr.getDecodedCodewordValue(Lr.sampleBitCounts(n));return i!==-1?i:Lr.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Xe.sum(n),o=new Int32Array(De.BARS_IN_MODULE),d=0,u=0;for(let f=0;f<De.MODULES_IN_CODEWORD;f++){let m=i/(2*De.MODULES_IN_CODEWORD)+f*i/De.MODULES_IN_CODEWORD;u+n[d]<=m&&(u+=n[d],d++),o[d]++}return o}static getDecodedCodewordValue(n){let i=Lr.getBitValue(n);return De.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let o=0;o<n.length;o++)for(let d=0;d<n[o];d++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Xe.sum(n),o=new Array(De.BARS_IN_MODULE);if(i>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(n[f]/i);let d=U.MAX_VALUE,u=-1;this.bSymbolTableReady||Lr.initialize();for(let f=0;f<Lr.RATIOS_TABLE.length;f++){let m=0,g=Lr.RATIOS_TABLE[f];for(let v=0;v<De.BARS_IN_MODULE;v++){let N=Math.fround(g[v]-o[v]);if(m+=Math.fround(N*N),m>=d)break}m<d&&(d=m,u=De.SYMBOL_TABLE[f])}return u}}Lr.bSymbolTableReady=!1,Lr.RATIOS_TABLE=new Array(De.SYMBOL_TABLE.length).map(S=>new Array(De.BARS_IN_MODULE));class yh{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class vh{static parseLong(n,i=void 0){return parseInt(n,i)}}class wh extends p{}wh.kind="NullPointerException";class q2{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,o){if(n==null)throw new wh;if(i<0||i>n.length||o<0||i+o>n.length||i+o<0)throw new M;if(o===0)return;for(let d=0;d<o;d++)this.write(n[i+d])}flush(){}close(){}}class K2 extends p{}class J2 extends q2{constructor(n=32){if(super(),this.count=0,n<0)throw new w("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new K2;o=k.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,o){if(i<0||i>n.length||o<0||i+o-n.length>0)throw new M;this.ensureCapacity(this.count+o),I.arraycopy(n,i,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return C.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var xt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xt||(xt={}));function bh(){if(typeof window<"u")return window.BigInt||null;if(typeof ao<"u")return ao.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Al;function Ms(S){if(typeof Al>"u"&&(Al=bh()),Al===null)throw new Error("BigInt is not supported!");return Al(S)}function ey(){let S=[];S[0]=Ms(1);let n=Ms(900);S[1]=n;for(let i=2;i<16;i++)S[i]=S[i-1]*n;return S}class K{static decode(n,i){let o=new ee(""),d=G.ISO8859_1;o.enableDecoding(d);let u=1,f=n[u++],m=new yh;for(;u<n[0];){switch(f){case K.TEXT_COMPACTION_MODE_LATCH:u=K.textCompaction(n,u,o);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:u=K.byteCompaction(f,n,d,u,o);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:u=K.numericCompaction(n,u,o);break;case K.ECI_CHARSET:G.getCharacterSetECIByValue(n[u++]);break;case K.ECI_GENERAL_PURPOSE:u+=2;break;case K.ECI_USER_DEFINED:u++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=K.decodeMacroBlock(n,u,m);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new P;default:u--,u=K.textCompaction(n,u,o);break}if(u<n.length)f=n[u++];else throw P.getFormatInstance()}if(o.length()===0)throw P.getFormatInstance();let g=new Oe(null,o.toString(),null,i);return g.setOther(m),g}static decodeMacroBlock(n,i,o){if(i+K.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw P.getFormatInstance();let d=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<K.NUMBER_OF_SEQUENCE_CODEWORDS;m++,i++)d[m]=n[i];o.setSegmentIndex(k.parseInt(K.decodeBase900toBase10(d,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ee;i=K.textCompaction(n,i,u),o.setFileId(u.toString());let f=-1;for(n[i]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<n[0];)switch(n[i]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new ee;i=K.textCompaction(n,i+1,m),o.setFileName(m.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new ee;i=K.textCompaction(n,i+1,g),o.setSender(g.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ee;i=K.textCompaction(n,i+1,v),o.setAddressee(v.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new ee;i=K.numericCompaction(n,i+1,N),o.setSegmentCount(k.parseInt(N.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new ee;i=K.numericCompaction(n,i+1,A),o.setTimestamp(vh.parseLong(A.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new ee;i=K.numericCompaction(n,i+1,T),o.setChecksum(k.parseInt(T.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new ee;i=K.numericCompaction(n,i+1,L),o.setFileSize(vh.parseLong(L.toString()));break;default:throw P.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(f!==-1){let m=i-f;o.isLastSegment()&&m--,o.setOptionalData(C.copyOfRange(n,f,f+m))}return i}static textCompaction(n,i,o){let d=new Int32Array((n[0]-i)*2),u=new Int32Array((n[0]-i)*2),f=0,m=!1;for(;i<n[0]&&!m;){let g=n[i++];if(g<K.TEXT_COMPACTION_MODE_LATCH)d[f]=g/30,d[f+1]=g%30,f+=2;else switch(g){case K.TEXT_COMPACTION_MODE_LATCH:d[f++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,m=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[f]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=n[i++],u[f]=g,f++;break}}return K.decodeTextCompaction(d,u,f,o),i}static decodeTextCompaction(n,i,o,d){let u=xt.ALPHA,f=xt.ALPHA,m=0;for(;m<o;){let g=n[m],v="";switch(u){case xt.ALPHA:if(g<26)v=String.fromCharCode(65+g);else switch(g){case 26:v=" ";break;case K.LL:u=xt.LOWER;break;case K.ML:u=xt.MIXED;break;case K.PS:f=u,u=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(i[m]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=xt.ALPHA;break}break;case xt.LOWER:if(g<26)v=String.fromCharCode(97+g);else switch(g){case 26:v=" ";break;case K.AS:f=u,u=xt.ALPHA_SHIFT;break;case K.ML:u=xt.MIXED;break;case K.PS:f=u,u=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(i[m]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=xt.ALPHA;break}break;case xt.MIXED:if(g<K.PL)v=K.MIXED_CHARS[g];else switch(g){case K.PL:u=xt.PUNCT;break;case 26:v=" ";break;case K.LL:u=xt.LOWER;break;case K.AL:u=xt.ALPHA;break;case K.PS:f=u,u=xt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(i[m]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=xt.ALPHA;break}break;case xt.PUNCT:if(g<K.PAL)v=K.PUNCT_CHARS[g];else switch(g){case K.PAL:u=xt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(i[m]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=xt.ALPHA;break}break;case xt.ALPHA_SHIFT:if(u=f,g<26)v=String.fromCharCode(65+g);else switch(g){case 26:v=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:u=xt.ALPHA;break}break;case xt.PUNCT_SHIFT:if(u=f,g<K.PAL)v=K.PUNCT_CHARS[g];else switch(g){case K.PAL:u=xt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(i[m]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=xt.ALPHA;break}break}v!==""&&d.append(v),m++}}static byteCompaction(n,i,o,d,u){let f=new J2,m=0,g=0,v=!1;switch(n){case K.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),A=i[d++];for(;d<i[0]&&!v;)switch(N[m++]=A,g=900*g+A,A=i[d++],A){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:d--,v=!0;break;default:if(m%5===0&&m>0){for(let T=0;T<6;++T)f.write(Number(Ms(g)>>Ms(8*(5-T))));g=0,m=0}break}d===i[0]&&A<K.TEXT_COMPACTION_MODE_LATCH&&(N[m++]=A);for(let T=0;T<m;T++)f.write(N[T]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;d<i[0]&&!v;){let T=i[d++];if(T<K.TEXT_COMPACTION_MODE_LATCH)m++,g=900*g+T;else switch(T){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:d--,v=!0;break}if(m%5===0&&m>0){for(let L=0;L<6;++L)f.write(Number(Ms(g)>>Ms(8*(5-L))));g=0,m=0}}break}return u.append(X.decode(f.toByteArray(),o)),d}static numericCompaction(n,i,o){let d=0,u=!1,f=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!u;){let m=n[i++];if(i===n[0]&&(u=!0),m<K.TEXT_COMPACTION_MODE_LATCH)f[d]=m,d++;else switch(m){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(d%K.MAX_NUMERIC_CODEWORDS===0||m===K.NUMERIC_COMPACTION_MODE_LATCH||u)&&d>0&&(o.append(K.decodeBase900toBase10(f,d)),d=0)}return i}static decodeBase900toBase10(n,i){let o=Ms(0);for(let u=0;u<i;u++)o+=K.EXP900[i-u-1]*Ms(n[u]);let d=o.toString();if(d.charAt(0)!=="1")throw new P;return d.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=bh()?ey():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class We{constructor(){}static decode(n,i,o,d,u,f,m){let g=new Ai(n,i,o,d,u),v=null,N=null,A;for(let z=!0;;z=!1){if(i!=null&&(v=We.getRowIndicatorColumn(n,g,i,!0,f,m)),d!=null&&(N=We.getRowIndicatorColumn(n,g,d,!1,f,m)),A=We.merge(v,N),A==null)throw V.getNotFoundInstance();let W=A.getBoundingBox();if(z&&W!=null&&(W.getMinY()<g.getMinY()||W.getMaxY()>g.getMaxY()))g=W;else break}A.setBoundingBox(g);let T=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,v),A.setDetectionResultColumn(T,N);let L=v!=null;for(let z=1;z<=T;z++){let W=L?z:T-z;if(A.getDetectionResultColumn(W)!==void 0)continue;let Z;W===0||W===T?Z=new ph(g,W===0):Z=new eo(g),A.setDetectionResultColumn(W,Z);let J=-1,ce=J;for(let de=g.getMinY();de<=g.getMaxY();de++){if(J=We.getStartColumn(A,W,de,L),J<0||J>g.getMaxX()){if(ce===-1)continue;J=ce}let ae=We.detectCodeword(n,g.getMinX(),g.getMaxX(),L,J,de,f,m);ae!=null&&(Z.setCodeword(de,ae),ce=J,f=Math.min(f,ae.getWidth()),m=Math.max(m,ae.getWidth()))}}return We.createDecoderResult(A)}static merge(n,i){if(n==null&&i==null)return null;let o=We.getBarcodeMetadata(n,i);if(o==null)return null;let d=Ai.merge(We.adjustBoundingBox(n),We.adjustBoundingBox(i));return new ro(o,d)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let o=We.getMax(i),d=0;for(let m of i)if(d+=o-m,m>0)break;let u=n.getCodewords();for(let m=0;d>0&&u[m]==null;m++)d--;let f=0;for(let m=i.length-1;m>=0&&(f+=o-i[m],!(i[m]>0));m--);for(let m=u.length-1;f>0&&u[m]==null;m--)f--;return n.getBoundingBox().addMissingRows(d,f,n.isLeft())}static getMax(n){let i=-1;for(let o of n)i=Math.max(i,o);return i}static getBarcodeMetadata(n,i){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let d;return i==null||(d=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==d.getColumnCount()&&o.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&o.getRowCount()!==d.getRowCount()?null:o}static getRowIndicatorColumn(n,i,o,d,u,f){let m=new ph(i,d);for(let g=0;g<2;g++){let v=g===0?1:-1,N=Math.trunc(Math.trunc(o.getX()));for(let A=Math.trunc(Math.trunc(o.getY()));A<=i.getMaxY()&&A>=i.getMinY();A+=v){let T=We.detectCodeword(n,0,n.getWidth(),d,N,A,u,f);T!=null&&(m.setCodeword(A,T),d?N=T.getStartX():N=T.getEndX())}}return m}static adjustCodewordCount(n,i){let o=i[0][1],d=o.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-We.getNumberOfECCodeWords(n.getBarcodeECLevel());if(d.length===0){if(u<1||u>De.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();o.setValue(u)}else d[0]!==u&&o.setValue(u)}static createDecoderResult(n){let i=We.createBarcodeMatrix(n);We.adjustCodewordCount(n,i);let o=new Array,d=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],f=new Array;for(let g=0;g<n.getBarcodeRowCount();g++)for(let v=0;v<n.getBarcodeColumnCount();v++){let N=i[g][v+1].getValue(),A=g*n.getBarcodeColumnCount()+v;N.length===0?o.push(A):N.length===1?d[A]=N[0]:(f.push(A),u.push(N))}let m=new Array(u.length);for(let g=0;g<m.length;g++)m[g]=u[g];return We.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),d,De.toIntArray(o),De.toIntArray(f),m)}static createDecoderResultFromAmbiguousValues(n,i,o,d,u){let f=new Int32Array(d.length),m=100;for(;m-- >0;){for(let g=0;g<f.length;g++)i[d[g]]=u[g][f[g]];try{return We.decodeCodewords(i,n,o)}catch(g){if(!(g instanceof _))throw g}if(f.length===0)throw _.getChecksumInstance();for(let g=0;g<f.length;g++)if(f[g]<u[g].length-1){f[g]++;break}else if(f[g]=0,g===f.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let d=0;d<i.length;d++)for(let u=0;u<i[d].length;u++)i[d][u]=new to;let o=0;for(let d of n.getDetectionResultColumns()){if(d!=null){for(let u of d.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][o].setValue(u.getValue())}}}o++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,o,d){let u=d?1:-1,f=null;if(We.isValidBarcodeColumn(n,i-u)&&(f=n.getDetectionResultColumn(i-u).getCodeword(o)),f!=null)return d?f.getEndX():f.getStartX();if(f=n.getDetectionResultColumn(i).getCodewordNearby(o),f!=null)return d?f.getStartX():f.getEndX();if(We.isValidBarcodeColumn(n,i-u)&&(f=n.getDetectionResultColumn(i-u).getCodewordNearby(o)),f!=null)return d?f.getEndX():f.getStartX();let m=0;for(;We.isValidBarcodeColumn(n,i-u);){i-=u;for(let g of n.getDetectionResultColumn(i).getCodewords())if(g!=null)return(d?g.getEndX():g.getStartX())+u*m*(g.getEndX()-g.getStartX());m++}return d?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,o,d,u,f,m,g){u=We.adjustCodewordStartColumn(n,i,o,d,u,f);let v=We.getModuleBitCount(n,i,o,d,u,f);if(v==null)return null;let N,A=Xe.sum(v);if(d)N=u+A;else{for(let z=0;z<v.length/2;z++){let W=v[z];v[z]=v[v.length-1-z],v[v.length-1-z]=W}N=u,u=N-A}if(!We.checkCodewordSkew(A,m,g))return null;let T=Lr.getDecodedValue(v),L=De.getCodeword(T);return L===-1?null:new no(u,N,We.getCodewordBucketNumber(T),L)}static getModuleBitCount(n,i,o,d,u,f){let m=u,g=new Int32Array(8),v=0,N=d?1:-1,A=d;for(;(d?m<o:m>=i)&&v<g.length;)n.get(m,f)===A?(g[v]++,m+=N):(v++,A=!A);return v===g.length||m===(d?o:i)&&v===g.length-1?g:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,o,d,u,f){let m=u,g=d?-1:1;for(let v=0;v<2;v++){for(;(d?m>=i:m<o)&&d===n.get(m,f);){if(Math.abs(u-m)>We.CODEWORD_SKEW_SIZE)return u;m+=g}g=-g,d=!d}return m}static checkCodewordSkew(n,i,o){return i-We.CODEWORD_SKEW_SIZE<=n&&n<=o+We.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,o){if(n.length===0)throw P.getFormatInstance();let d=1<<i+1,u=We.correctErrors(n,o,d);We.verifyCodewordCount(n,d);let f=K.decode(n,""+i);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(n,i,o){if(i!=null&&i.length>o/2+We.MAX_ERRORS||o<0||o>We.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return We.errorCorrection.decode(n,o,i)}static verifyCodewordCount(n,i){if(n.length<4)throw P.getFormatInstance();let o=n[0];if(o>n.length)throw P.getFormatInstance();if(o===0)if(i<n.length)n[0]=n.length-i;else throw P.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),o=0,d=i.length-1;for(;!((n&1)!==o&&(o=n&1,d--,d<0));)i[d]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return We.getCodewordBucketNumber(We.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Ja;for(let o=0;o<n.length;o++){i.format("Row %2d: ",o);for(let d=0;d<n[o].length;d++){let u=n[o][d];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}We.CODEWORD_SKEW_SIZE=2,We.MAX_ERRORS=3,We.MAX_EC_CODEWORDS=512,We.errorCorrection=new gh;class fr{decode(n,i=null){let o=fr.decode(n,i,!1);if(o==null||o.length===0||o[0]==null)throw V.getNotFoundInstance();return o[0]}decodeMultiple(n,i=null){try{return fr.decode(n,i,!0)}catch(o){throw o instanceof P||o instanceof _?V.getNotFoundInstance():o}}static decode(n,i,o){const d=new Array,u=He.detectMultiple(n,i,o);for(const f of u.getPoints()){const m=We.decode(u.getBits(),f[4],f[5],f[6],f[7],fr.getMinCodewordWidth(f),fr.getMaxCodewordWidth(f)),g=new ht(m.getText(),m.getRawBytes(),void 0,f,Ae.PDF_417);g.putMetadata(se.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&g.putMetadata(se.PDF417_EXTRA_METADATA,v),d.push(g)}return d.map(f=>f)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?k.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(fr.getMaxWidth(n[0],n[4]),fr.getMaxWidth(n[6],n[2])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN),Math.max(fr.getMaxWidth(n[1],n[5]),fr.getMaxWidth(n[7],n[3])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(fr.getMinWidth(n[0],n[4]),fr.getMinWidth(n[6],n[2])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN),Math.min(fr.getMinWidth(n[1],n[5]),fr.getMinWidth(n[7],n[3])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN)))}reset(){}}class jl extends p{}jl.kind="ReaderException";class Nh{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!s(n)&&n.get($.TRY_HARDER)===!0,o=s(n)?null:n.get($.POSSIBLE_FORMATS),d=new Array;if(!s(o)){const u=o.some(f=>f===Ae.UPC_A||f===Ae.UPC_E||f===Ae.EAN_13||f===Ae.EAN_8||f===Ae.CODABAR||f===Ae.CODE_39||f===Ae.CODE_93||f===Ae.CODE_128||f===Ae.ITF||f===Ae.RSS_14||f===Ae.RSS_EXPANDED);u&&!i&&d.push(new Ji(n,this.verbose)),o.includes(Ae.QR_CODE)&&d.push(new ks),o.includes(Ae.DATA_MATRIX)&&d.push(new Ts),o.includes(Ae.AZTEC)&&d.push(new Zr),o.includes(Ae.PDF_417)&&d.push(new fr),u&&i&&d.push(new Ji(n,this.verbose))}d.length===0&&(i||d.push(new Ji(n,this.verbose)),d.push(new ks),d.push(new Ts),d.push(new Zr),d.push(new fr),i&&d.push(new Ji(n,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new jl("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(o){if(o instanceof jl)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class ty extends st{constructor(n=null,i=500){const o=new Nh;o.setHints(n),super(o,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class ry extends st{constructor(n=500){super(new fr,n)}}class ny extends st{constructor(n=500){super(new ks,n)}}var Hd;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Hd||(Hd={}));var tr=Hd;class Wd{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Ue(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let o=i[i.length-1];const d=this.field;for(let u=i.length;u<=n;u++){const f=o.multiply(new Ue(d,Int32Array.from([1,d.exp(u-1+d.getGeneratorBase())])));i.push(f),o=f}}return i[n]}encode(n,i){if(i===0)throw new w("No error correction bytes");const o=n.length-i;if(o<=0)throw new w("No data bytes provided");const d=this.buildGenerator(i),u=new Int32Array(o);I.arraycopy(n,0,u,0,o);let f=new Ue(this.field,u);f=f.multiplyByMonomial(i,1);const g=f.divide(d)[1].getCoefficients(),v=i-g.length;for(let N=0;N<v;N++)n[o+N]=0;I.arraycopy(g,0,n,o+v,g.length)}}class Pt{constructor(){}static applyMaskPenaltyRule1(n){return Pt.applyMaskPenaltyRule1Internal(n,!0)+Pt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const o=n.getArray(),d=n.getWidth(),u=n.getHeight();for(let f=0;f<u-1;f++){const m=o[f];for(let g=0;g<d-1;g++){const v=m[g];v===m[g+1]&&v===o[f+1][g]&&v===o[f+1][g+1]&&i++}}return Pt.N2*i}static applyMaskPenaltyRule3(n){let i=0;const o=n.getArray(),d=n.getWidth(),u=n.getHeight();for(let f=0;f<u;f++)for(let m=0;m<d;m++){const g=o[f];m+6<d&&g[m]===1&&g[m+1]===0&&g[m+2]===1&&g[m+3]===1&&g[m+4]===1&&g[m+5]===0&&g[m+6]===1&&(Pt.isWhiteHorizontal(g,m-4,m)||Pt.isWhiteHorizontal(g,m+7,m+11))&&i++,f+6<u&&o[f][m]===1&&o[f+1][m]===0&&o[f+2][m]===1&&o[f+3][m]===1&&o[f+4][m]===1&&o[f+5][m]===0&&o[f+6][m]===1&&(Pt.isWhiteVertical(o,m,f-4,f)||Pt.isWhiteVertical(o,m,f+7,f+11))&&i++}return i*Pt.N3}static isWhiteHorizontal(n,i,o){i=Math.max(i,0),o=Math.min(o,n.length);for(let d=i;d<o;d++)if(n[d]===1)return!1;return!0}static isWhiteVertical(n,i,o,d){o=Math.max(o,0),d=Math.min(d,n.length);for(let u=o;u<d;u++)if(n[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const o=n.getArray(),d=n.getWidth(),u=n.getHeight();for(let g=0;g<u;g++){const v=o[g];for(let N=0;N<d;N++)v[N]===1&&i++}const f=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Pt.N4}static getDataMaskBit(n,i,o){let d,u;switch(n){case 0:d=o+i&1;break;case 1:d=o&1;break;case 2:d=i%3;break;case 3:d=(o+i)%3;break;case 4:d=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:u=o*i,d=(u&1)+u%3;break;case 6:u=o*i,d=(u&1)+u%3&1;break;case 7:u=o*i,d=u%3+(o+i&1)&1;break;default:throw new w("Invalid mask pattern: "+n)}return d===0}static applyMaskPenaltyRule1Internal(n,i){let o=0;const d=i?n.getHeight():n.getWidth(),u=i?n.getWidth():n.getHeight(),f=n.getArray();for(let m=0;m<d;m++){let g=0,v=-1;for(let N=0;N<u;N++){const A=i?f[m][N]:f[N][m];A===v?g++:(g>=5&&(o+=Pt.N1+(g-5)),g=1,v=A)}g>=5&&(o+=Pt.N1+(g-5))}return o}}Pt.N1=3,Pt.N2=3,Pt.N3=40,Pt.N4=10;class Il{constructor(n,i){this.width=n,this.height=i;const o=new Array(i);for(let d=0;d!==i;d++)o[d]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,o){this.bytes[i][n]=o}setBoolean(n,i,o){this.bytes[i][n]=o?1:0}clear(n){for(const i of this.bytes)C.fill(i,n)}equals(n){if(!(n instanceof Il))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,d=this.height;o<d;++o){const u=this.bytes[o],f=i.bytes[o];for(let m=0,g=this.width;m<g;++m)if(u[m]!==f[m])return!1}return!0}toString(){const n=new ee;for(let i=0,o=this.height;i<o;++i){const d=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(d[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class ji{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ee;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<ji.NUM_MASK_PATTERNS}}ji.NUM_MASK_PATTERNS=8;class pt extends p{}pt.kind="WriterException";class Re{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,o,d,u){Re.clearMatrix(u),Re.embedBasicPatterns(o,u),Re.embedTypeInfo(i,d,u),Re.maybeEmbedVersionInfo(o,u),Re.embedDataBits(n,d,u)}static embedBasicPatterns(n,i){Re.embedPositionDetectionPatternsAndSeparators(i),Re.embedDarkDotAtLeftBottomCorner(i),Re.maybeEmbedPositionAdjustmentPatterns(n,i),Re.embedTimingPatterns(i)}static embedTypeInfo(n,i,o){const d=new B;Re.makeTypeInfoBits(n,i,d);for(let u=0,f=d.getSize();u<f;++u){const m=d.get(d.getSize()-1-u),g=Re.TYPE_INFO_COORDINATES[u],v=g[0],N=g[1];if(o.setBoolean(v,N,m),u<8){const A=o.getWidth()-u-1,T=8;o.setBoolean(A,T,m)}else{const T=o.getHeight()-7+(u-8);o.setBoolean(8,T,m)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const o=new B;Re.makeVersionInfoBits(n,o);let d=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const m=o.get(d);d--,i.setBoolean(u,i.getHeight()-11+f,m),i.setBoolean(i.getHeight()-11+f,u,m)}}static embedDataBits(n,i,o){let d=0,u=-1,f=o.getWidth()-1,m=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);m>=0&&m<o.getHeight();){for(let g=0;g<2;++g){const v=f-g;if(!Re.isEmpty(o.get(v,m)))continue;let N;d<n.getSize()?(N=n.get(d),++d):N=!1,i!==255&&Pt.getDataMaskBit(i,v,m)&&(N=!N),o.setBoolean(v,m,N)}m+=u}u=-u,m+=u,f-=2}if(d!==n.getSize())throw new pt("Not all bits consumed: "+d+"/"+n.getSize())}static findMSBSet(n){return 32-k.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new w("0 polynomial");const o=Re.findMSBSet(i);for(n<<=o-1;Re.findMSBSet(n)>=o;)n^=i<<Re.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,i,o){if(!ji.isValidMaskPattern(i))throw new pt("Invalid mask pattern");const d=n.getBits()<<3|i;o.appendBits(d,5);const u=Re.calculateBCHCode(d,Re.TYPE_INFO_POLY);o.appendBits(u,10);const f=new B;if(f.appendBits(Re.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new pt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const o=Re.calculateBCHCode(n.getVersionNumber(),Re.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new pt("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const o=(i+1)%2;Re.isEmpty(n.get(i,6))&&n.setNumber(i,6,o),Re.isEmpty(n.get(6,i))&&n.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new pt;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,o){for(let d=0;d<8;++d){if(!Re.isEmpty(o.get(n+d,i)))throw new pt;o.setNumber(n+d,i,0)}}static embedVerticalSeparationPattern(n,i,o){for(let d=0;d<7;++d){if(!Re.isEmpty(o.get(n,i+d)))throw new pt;o.setNumber(n,i+d,0)}}static embedPositionAdjustmentPattern(n,i,o){for(let d=0;d<5;++d){const u=Re.POSITION_ADJUSTMENT_PATTERN[d];for(let f=0;f<5;++f)o.setNumber(n+f,i+d,u[f])}}static embedPositionDetectionPattern(n,i,o){for(let d=0;d<7;++d){const u=Re.POSITION_DETECTION_PATTERN[d];for(let f=0;f<7;++f)o.setNumber(n+f,i+d,u[f])}}static embedPositionDetectionPatternsAndSeparators(n){const i=Re.POSITION_DETECTION_PATTERN[0].length;Re.embedPositionDetectionPattern(0,0,n),Re.embedPositionDetectionPattern(n.getWidth()-i,0,n),Re.embedPositionDetectionPattern(0,n.getWidth()-i,n);const o=8;Re.embedHorizontalSeparationPattern(0,o-1,n),Re.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),Re.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const d=7;Re.embedVerticalSeparationPattern(d,0,n),Re.embedVerticalSeparationPattern(n.getHeight()-d-1,0,n),Re.embedVerticalSeparationPattern(d,n.getHeight()-d,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,d=Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=d.length;u!==f;u++){const m=d[u];if(m>=0)for(let g=0;g!==f;g++){const v=d[g];v>=0&&Re.isEmpty(i.get(v,m))&&Re.embedPositionAdjustmentPattern(v-2,m-2,i)}}}}Re.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Re.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Re.VERSION_INFO_POLY=7973,Re.TYPE_INFO_POLY=1335,Re.TYPE_INFO_MASK_PATTERN=21522;class sy{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nt{constructor(){}static calculateMaskPenalty(n){return Pt.applyMaskPenaltyRule1(n)+Pt.applyMaskPenaltyRule2(n)+Pt.applyMaskPenaltyRule3(n)+Pt.applyMaskPenaltyRule4(n)}static encode(n,i,o=null){let d=Nt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(tr.CHARACTER_SET)!==void 0;u&&(d=o.get(tr.CHARACTER_SET).toString());const f=this.chooseMode(n,d),m=new B;if(f===Te.BYTE&&(u||Nt.DEFAULT_BYTE_MODE_ENCODING!==d)){const de=G.getCharacterSetECIByName(d);de!==void 0&&this.appendECI(de,m)}this.appendModeInfo(f,m);const g=new B;this.appendBytes(n,f,g,d);let v;if(o!==null&&o.get(tr.QR_VERSION)!==void 0){const de=Number.parseInt(o.get(tr.QR_VERSION).toString(),10);v=_e.getVersionForNumber(de);const ae=this.calculateBitsNeeded(f,m,g,v);if(!this.willFit(ae,v,i))throw new pt("Data too big for requested version")}else v=this.recommendVersion(i,f,m,g);const N=new B;N.appendBitArray(m);const A=f===Te.BYTE?g.getSizeInBytes():n.length;this.appendLengthInfo(A,v,f,N),N.appendBitArray(g);const T=v.getECBlocksForLevel(i),L=v.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(L,N);const z=this.interleaveWithECBytes(N,v.getTotalCodewords(),L,T.getNumBlocks()),W=new ji;W.setECLevel(i),W.setMode(f),W.setVersion(v);const Z=v.getDimensionForVersion(),J=new Il(Z,Z),ce=this.chooseMaskPattern(z,i,v,J);return W.setMaskPattern(ce),Re.buildMatrix(z,i,v,ce,J),W.setMatrix(J),W}static recommendVersion(n,i,o,d){const u=this.calculateBitsNeeded(i,o,d,_e.getVersionForNumber(1)),f=this.chooseVersion(u,n),m=this.calculateBitsNeeded(i,o,d,f);return this.chooseVersion(m,n)}static calculateBitsNeeded(n,i,o,d){return i.getSize()+n.getCharacterCountBits(d)+o.getSize()}static getAlphanumericCode(n){return n<Nt.ALPHANUMERIC_TABLE.length?Nt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(G.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return Te.KANJI;let o=!1,d=!1;for(let u=0,f=n.length;u<f;++u){const m=n.charAt(u);if(Nt.isDigit(m))o=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)d=!0;else return Te.BYTE}return d?Te.ALPHANUMERIC:o?Te.NUMERIC:Te.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=X.encode(n,G.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let d=0;d<o;d+=2){const u=i[d]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,i,o,d){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let m=0;m<ji.NUM_MASK_PATTERNS;m++){Re.buildMatrix(n,i,o,m,d);let g=this.calculateMaskPenalty(d);g<u&&(u=g,f=m)}return f}static chooseVersion(n,i){for(let o=1;o<=40;o++){const d=_e.getVersionForNumber(o);if(Nt.willFit(n,d,i))return d}throw new pt("Data too big")}static willFit(n,i,o){const d=i.getTotalCodewords(),f=i.getECBlocksForLevel(o).getTotalECCodewords(),m=d-f,g=(n+7)/8;return m>=g}static terminateBits(n,i){const o=n*8;if(i.getSize()>o)throw new pt("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let f=0;f<4&&i.getSize()<o;++f)i.appendBit(!1);const d=i.getSize()&7;if(d>0)for(let f=d;f<8;f++)i.appendBit(!1);const u=n-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==o)throw new pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,o,d,u,f){if(d>=o)throw new pt("Block ID too large");const m=n%o,g=o-m,v=Math.floor(n/o),N=v+1,A=Math.floor(i/o),T=A+1,L=v-A,z=N-T;if(L!==z)throw new pt("EC bytes mismatch");if(o!==g+m)throw new pt("RS blocks mismatch");if(n!==(A+L)*g+(T+z)*m)throw new pt("Total bytes mismatch");d<g?(u[0]=A,f[0]=L):(u[0]=T,f[0]=z)}static interleaveWithECBytes(n,i,o,d){if(n.getSizeInBytes()!==o)throw new pt("Number of bits and data bytes does not match");let u=0,f=0,m=0;const g=new Array;for(let N=0;N<d;++N){const A=new Int32Array(1),T=new Int32Array(1);Nt.getNumDataBytesAndNumECBytesForBlockID(i,o,d,N,A,T);const L=A[0],z=new Uint8Array(L);n.toBytes(8*u,z,0,L);const W=Nt.generateECBytes(z,T[0]);g.push(new sy(z,W)),f=Math.max(f,L),m=Math.max(m,W.length),u+=A[0]}if(o!==u)throw new pt("Data bytes does not match offset");const v=new B;for(let N=0;N<f;++N)for(const A of g){const T=A.getDataBytes();N<T.length&&v.appendBits(T[N],8)}for(let N=0;N<m;++N)for(const A of g){const T=A.getErrorCorrectionBytes();N<T.length&&v.appendBits(T[N],8)}if(i!==v.getSizeInBytes())throw new pt("Interleaving error: "+i+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(n,i){const o=n.length,d=new Int32Array(o+i);for(let f=0;f<o;f++)d[f]=n[f]&255;new Wd(Ke.QR_CODE_FIELD_256).encode(d,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=d[o+f];return u}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,o,d){const u=o.getCharacterCountBits(i);if(n>=1<<u)throw new pt(n+" is bigger than "+((1<<u)-1));d.appendBits(n,u)}static appendBytes(n,i,o,d){switch(i){case Te.NUMERIC:Nt.appendNumericBytes(n,o);break;case Te.ALPHANUMERIC:Nt.appendAlphanumericBytes(n,o);break;case Te.BYTE:Nt.append8BitBytes(n,o,d);break;case Te.KANJI:Nt.appendKanjiBytes(n,o);break;default:throw new pt("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=Nt.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const o=n.length;let d=0;for(;d<o;){const u=Nt.getDigit(n.charAt(d));if(d+2<o){const f=Nt.getDigit(n.charAt(d+1)),m=Nt.getDigit(n.charAt(d+2));i.appendBits(u*100+f*10+m,10),d+=3}else if(d+1<o){const f=Nt.getDigit(n.charAt(d+1));i.appendBits(u*10+f,7),d+=2}else i.appendBits(u,4),d++}}static appendAlphanumericBytes(n,i){const o=n.length;let d=0;for(;d<o;){const u=Nt.getAlphanumericCode(n.charCodeAt(d));if(u===-1)throw new pt;if(d+1<o){const f=Nt.getAlphanumericCode(n.charCodeAt(d+1));if(f===-1)throw new pt;i.appendBits(u*45+f,11),d+=2}else i.appendBits(u,6),d++}}static append8BitBytes(n,i,o){let d;try{d=X.encode(n,o)}catch(u){throw new pt(u)}for(let u=0,f=d.length;u!==f;u++){const m=d[u];i.appendBits(m,8)}}static appendKanjiBytes(n,i){let o;try{o=X.encode(n,G.SJIS)}catch(u){throw new pt(u)}const d=o.length;for(let u=0;u<d;u+=2){const f=o[u]&255,m=o[u+1]&255,g=f<<8&4294967295|m;let v=-1;if(g>=33088&&g<=40956?v=g-33088:g>=57408&&g<=60351&&(v=g-49472),v===-1)throw new pt("Invalid byte sequence");const N=(v>>8)*192+(v&255);i.appendBits(N,13)}}static appendECI(n,i){i.appendBits(Te.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}Nt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nt.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Ii{write(n,i,o,d=null){if(n.length===0)throw new w("Found empty contents");if(i<0||o<0)throw new w("Requested dimensions are too small: "+i+"x"+o);let u=wt.L,f=Ii.QUIET_ZONE_SIZE;d!==null&&(d.get(tr.ERROR_CORRECTION)!==void 0&&(u=wt.fromString(d.get(tr.ERROR_CORRECTION).toString())),d.get(tr.MARGIN)!==void 0&&(f=Number.parseInt(d.get(tr.MARGIN).toString(),10)));const m=Nt.encode(n,u,d);return this.renderResult(m,i,o,f)}writeToDom(n,i,o,d,u=null){typeof n=="string"&&(n=document.querySelector(n));const f=this.write(i,o,d,u);n&&n.appendChild(f)}renderResult(n,i,o,d){const u=n.getMatrix();if(u===null)throw new Xr;const f=u.getWidth(),m=u.getHeight(),g=f+d*2,v=m+d*2,N=Math.max(i,g),A=Math.max(o,v),T=Math.min(Math.floor(N/g),Math.floor(A/v)),L=Math.floor((N-f*T)/2),z=Math.floor((A-m*T)/2),W=this.createSVGElement(N,A);for(let Z=0,J=z;Z<m;Z++,J+=T)for(let ce=0,de=L;ce<f;ce++,de+=T)if(u.get(ce,Z)===1){const ae=this.createSvgRectElement(de,J,T,T);W.appendChild(ae)}return W}createSVGElement(n,i){const o=document.createElementNS(Ii.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(n,i,o,d){const u=document.createElementNS(Ii.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",d.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Ii.QUIET_ZONE_SIZE=4,Ii.SVG_NS="http://www.w3.org/2000/svg";class ta{encode(n,i,o,d,u){if(n.length===0)throw new w("Found empty contents");if(i!==Ae.QR_CODE)throw new w("Can only encode QR_CODE, but got "+i);if(o<0||d<0)throw new w(`Requested dimensions are too small: ${o}x${d}`);let f=wt.L,m=ta.QUIET_ZONE_SIZE;u!==null&&(u.get(tr.ERROR_CORRECTION)!==void 0&&(f=wt.fromString(u.get(tr.ERROR_CORRECTION).toString())),u.get(tr.MARGIN)!==void 0&&(m=Number.parseInt(u.get(tr.MARGIN).toString(),10)));const g=Nt.encode(n,f,u);return ta.renderResult(g,o,d,m)}static renderResult(n,i,o,d){const u=n.getMatrix();if(u===null)throw new Xr;const f=u.getWidth(),m=u.getHeight(),g=f+d*2,v=m+d*2,N=Math.max(i,g),A=Math.max(o,v),T=Math.min(Math.floor(N/g),Math.floor(A/v)),L=Math.floor((N-f*T)/2),z=Math.floor((A-m*T)/2),W=new ne(N,A);for(let Z=0,J=z;Z<m;Z++,J+=T)for(let ce=0,de=L;ce<f;ce++,de+=T)u.get(ce,Z)===1&&W.setRegion(de,J,T,T);return W}}ta.QUIET_ZONE_SIZE=4;class iy{encode(n,i,o,d,u){let f;switch(i){case Ae.QR_CODE:f=new ta;break;default:throw new w("No encoder available for format "+i)}return f.encode(n,i,o,d,u)}}class Yn extends le{constructor(n,i,o,d,u,f,m,g){if(super(f,m),this.yuvData=n,this.dataWidth=i,this.dataHeight=o,this.left=d,this.top=u,d+f>i||u+m>o)throw new w("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,m)}getRow(n,i){if(n<0||n>=this.getHeight())throw new w("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const d=(n+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,d,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=n*i,d=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return I.arraycopy(this.yuvData,u,d,0,o),d;for(let f=0;f<i;f++){const m=f*n;I.arraycopy(this.yuvData,u,d,m,n),u+=this.dataWidth}return d}isCropSupported(){return!0}crop(n,i,o,d){return new Yn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,o,d,!1)}renderThumbnail(){const n=this.getWidth()/Yn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Yn.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*i),d=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const m=f*n;for(let g=0;g<n;g++){const v=d[u+g*Yn.THUMBNAIL_SCALE_FACTOR]&255;o[m+g]=4278190080|v*65793}u+=this.dataWidth*Yn.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Yn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Yn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const o=this.yuvData;for(let d=0,u=this.top*this.dataWidth+this.left;d<i;d++,u+=this.dataWidth){const f=u+n/2;for(let m=u,g=u+n-1;m<f;m++,g--){const v=o[m];o[m]=o[g],o[g]=v}}}invert(){return new we(this)}}Yn.THUMBNAIL_SCALE_FACTOR=2;class Gd extends le{constructor(n,i,o,d,u,f,m){if(super(i,o),this.dataWidth=d,this.dataHeight=u,this.left=f,this.top=m,n.BYTES_PER_ELEMENT===4){const g=i*o,v=new Uint8ClampedArray(g);for(let N=0;N<g;N++){const A=n[N],T=A>>16&255,L=A>>7&510,z=A&255;v[N]=(T+L+z)/4&255}this.luminances=v}else this.luminances=n;if(d===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new w("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const d=(n+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,d,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=n*i,d=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return I.arraycopy(this.luminances,u,d,0,o),d;for(let f=0;f<i;f++){const m=f*n;I.arraycopy(this.luminances,u,d,m,n),u+=this.dataWidth}return d}isCropSupported(){return!0}crop(n,i,o,d){return new Gd(this.luminances,o,d,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new we(this)}}class Ch extends G{static forName(n){return this.getCharacterSetECIByName(n)}}class Yd{}Yd.ISO_8859_1=G.ISO8859_1;class Eh{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Sh{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class ay{constructor(n){this.previous=n}getPrevious(){return this.previous}}class ra extends ay{constructor(n,i,o){super(n),this.value=i,this.bitCount=o}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new ra(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ra(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+k.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Xd extends ra{constructor(n,i,o){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(n,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(n,i){return new Xd(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function oy(S,n,i){return new Xd(S,n,i)}function so(S,n,i){return new ra(S,n,i)}const ly=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Rs=0,_l=1,pn=2,Ah=3,Xn=4,cy=new ra(null,0,0),Zd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function dy(S){for(let n of S)C.fill(n,-1);return S[Rs][Xn]=0,S[_l][Xn]=0,S[_l][Rs]=28,S[Ah][Xn]=0,S[pn][Xn]=0,S[pn][Rs]=15,S}const jh=dy(C.createInt32Array(6,6));class Zn{constructor(n,i,o,d){this.token=n,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let o=this.bitCount,d=this.token;if(n!==this.mode){let f=Zd[this.mode][n];d=so(d,f&65535,f>>16),o+=f>>16}let u=n===pn?4:5;return d=so(d,i,u),new Zn(d,n,0,o+u)}shiftAndAppend(n,i){let o=this.token,d=this.mode===pn?4:5;return o=so(o,jh[this.mode][n],d),o=so(o,i,5),new Zn(o,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(n){let i=this.token,o=this.mode,d=this.bitCount;if(this.mode===Xn||this.mode===pn){let m=Zd[o][Rs];i=so(i,m&65535,m>>16),d+=m>>16,o=Rs}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Zn(i,o,this.binaryShiftByteCount+1,d+u);return f.binaryShiftByteCount===2047+31&&(f=f.endBinaryShift(n+1)),f}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=oy(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Zn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(Zd[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=Zn.calculateBinaryShiftCost(n)-Zn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let d=this.endBinaryShift(n.length).token;d!==null;d=d.getPrevious())i.unshift(d);let o=new B;for(const d of i)d.appendTo(o,n);return o}toString(){return F.format("%s bits=%d bytes=%d",ly[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Zn.INITIAL_STATE=new Zn(cy,Rs,0,0);function uy(S){const n=F.getCharCode(" "),i=F.getCharCode("."),o=F.getCharCode(",");S[Rs][n]=1;const d=F.getCharCode("Z"),u=F.getCharCode("A");for(let T=u;T<=d;T++)S[Rs][T]=T-u+2;S[_l][n]=1;const f=F.getCharCode("z"),m=F.getCharCode("a");for(let T=m;T<=f;T++)S[_l][T]=T-m+2;S[pn][n]=1;const g=F.getCharCode("9"),v=F.getCharCode("0");for(let T=v;T<=g;T++)S[pn][T]=T-v+2;S[pn][o]=12,S[pn][i]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<N.length;T++)S[Ah][F.getCharCode(N[T])]=T;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<A.length;T++)F.getCharCode(A[T])>0&&(S[Xn][F.getCharCode(A[T])]=T);return S}const $d=uy(C.createInt32Array(5,256));class io{constructor(n){this.text=n}encode(){const n=F.getCharCode(" "),i=F.getCharCode(`
`);let o=Sh.singletonList(Zn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case F.getCharCode("\r"):f=m===i?2:0;break;case F.getCharCode("."):f=m===n?3:0;break;case F.getCharCode(","):f=m===n?4:0;break;case F.getCharCode(":"):f=m===n?5:0;break;default:f=0}f>0?(o=io.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return Sh.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const o=[];for(let d of n)this.updateStateForChar(d,i,o);return io.simplifyStates(o)}updateStateForChar(n,i,o){let d=this.text[i]&255,u=$d[n.getMode()][d]>0,f=null;for(let m=0;m<=Xn;m++){let g=$d[m][d];if(g>0){if(f==null&&(f=n.endBinaryShift(i)),!u||m===n.getMode()||m===pn){const v=f.latchAndAppend(m,g);o.push(v)}if(!u&&jh[n.getMode()][m]>=0){const v=f.shiftAndAppend(m,g);o.push(v)}}}if(n.getBinaryShiftByteCount()>0||$d[n.getMode()][d]===0){let m=n.addBinaryShiftChar(i);o.push(m)}}static updateStateListForPair(n,i,o){const d=[];for(let u of n)this.updateStateForPair(u,i,o,d);return this.simplifyStates(d)}static updateStateForPair(n,i,o,d){let u=n.endBinaryShift(i);if(d.push(u.latchAndAppend(Xn,o)),n.getMode()!==Xn&&d.push(u.shiftAndAppend(Xn,o)),o===3||o===4){let f=u.latchAndAppend(pn,16-o).latchAndAppend(pn,1);d.push(f)}if(n.getBinaryShiftByteCount()>0){let f=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);d.push(f)}}static simplifyStates(n){let i=[];for(const o of n){let d=!0;for(const u of i){if(u.isBetterThanOrEqualTo(o)){d=!1;break}o.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}d&&i.push(o)}return i}}class Je{constructor(){}static encodeBytes(n){return Je.encode(n,Je.DEFAULT_EC_PERCENT,Je.DEFAULT_AZTEC_LAYERS)}static encode(n,i,o){let d=new io(n).encode(),u=k.truncDivision(d.getSize()*i,100)+11,f=d.getSize()+u,m,g,v,N,A;if(o!==Je.DEFAULT_AZTEC_LAYERS){if(m=o<0,g=Math.abs(o),g>(m?Je.MAX_NB_BITS_COMPACT:Je.MAX_NB_BITS))throw new w(F.format("Illegal value %s for layers",o));v=Je.totalBitsInLayer(g,m),N=Je.WORD_SIZE[g];let ae=v-v%N;if(A=Je.stuffBits(d,N),A.getSize()+u>ae)throw new w("Data to large for user specified layer");if(m&&A.getSize()>N*64)throw new w("Data to large for user specified layer")}else{N=0,A=null;for(let ae=0;;ae++){if(ae>Je.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(m=ae<=3,g=m?ae+1:ae,v=Je.totalBitsInLayer(g,m),f>v)continue;(A==null||N!==Je.WORD_SIZE[g])&&(N=Je.WORD_SIZE[g],A=Je.stuffBits(d,N));let Ze=v-v%N;if(!(m&&A.getSize()>N*64)&&A.getSize()+u<=Ze)break}}let T=Je.generateCheckWords(A,v,N),L=A.getSize()/N,z=Je.generateModeMessage(m,g,L),W=(m?11:14)+g*4,Z=new Int32Array(W),J;if(m){J=W;for(let ae=0;ae<Z.length;ae++)Z[ae]=ae}else{J=W+1+2*k.truncDivision(k.truncDivision(W,2)-1,15);let ae=k.truncDivision(W,2),Ze=k.truncDivision(J,2);for(let Ve=0;Ve<ae;Ve++){let Pr=Ve+k.truncDivision(Ve,15);Z[ae-Ve-1]=Ze-Pr-1,Z[ae+Ve]=Ze+Pr+1}}let ce=new ne(J);for(let ae=0,Ze=0;ae<g;ae++){let Ve=(g-ae)*4+(m?9:12);for(let Pr=0;Pr<Ve;Pr++){let _n=Pr*2;for(let Br=0;Br<2;Br++)T.get(Ze+_n+Br)&&ce.set(Z[ae*2+Br],Z[ae*2+Pr]),T.get(Ze+Ve*2+_n+Br)&&ce.set(Z[ae*2+Pr],Z[W-1-ae*2-Br]),T.get(Ze+Ve*4+_n+Br)&&ce.set(Z[W-1-ae*2-Br],Z[W-1-ae*2-Pr]),T.get(Ze+Ve*6+_n+Br)&&ce.set(Z[W-1-ae*2-Pr],Z[ae*2+Br])}Ze+=Ve*8}if(Je.drawModeMessage(ce,m,J,z),m)Je.drawBullsEye(ce,k.truncDivision(J,2),5);else{Je.drawBullsEye(ce,k.truncDivision(J,2),7);for(let ae=0,Ze=0;ae<k.truncDivision(W,2)-1;ae+=15,Ze+=16)for(let Ve=k.truncDivision(J,2)&1;Ve<J;Ve+=2)ce.set(k.truncDivision(J,2)-Ze,Ve),ce.set(k.truncDivision(J,2)+Ze,Ve),ce.set(Ve,k.truncDivision(J,2)-Ze),ce.set(Ve,k.truncDivision(J,2)+Ze)}let de=new Eh;return de.setCompact(m),de.setSize(J),de.setLayers(g),de.setCodeWords(L),de.setMatrix(ce),de}static drawBullsEye(n,i,o){for(let d=0;d<o;d+=2)for(let u=i-d;u<=i+d;u++)n.set(u,i-d),n.set(u,i+d),n.set(i-d,u),n.set(i+d,u);n.set(i-o,i-o),n.set(i-o+1,i-o),n.set(i-o,i-o+1),n.set(i+o,i-o),n.set(i+o,i-o+1),n.set(i+o,i+o-1)}static generateModeMessage(n,i,o){let d=new B;return n?(d.appendBits(i-1,2),d.appendBits(o-1,6),d=Je.generateCheckWords(d,28,4)):(d.appendBits(i-1,5),d.appendBits(o-1,11),d=Je.generateCheckWords(d,40,4)),d}static drawModeMessage(n,i,o,d){let u=k.truncDivision(o,2);if(i)for(let f=0;f<7;f++){let m=u-3+f;d.get(f)&&n.set(m,u-5),d.get(f+7)&&n.set(u+5,m),d.get(20-f)&&n.set(m,u+5),d.get(27-f)&&n.set(u-5,m)}else for(let f=0;f<10;f++){let m=u-5+f+k.truncDivision(f,5);d.get(f)&&n.set(m,u-7),d.get(f+10)&&n.set(u+7,m),d.get(29-f)&&n.set(m,u+7),d.get(39-f)&&n.set(u-7,m)}}static generateCheckWords(n,i,o){let d=n.getSize()/o,u=new Wd(Je.getGF(o)),f=k.truncDivision(i,o),m=Je.bitsToWords(n,o,f);u.encode(m,f-d);let g=i%o,v=new B;v.appendBits(0,g);for(const N of Array.from(m))v.appendBits(N,o);return v}static bitsToWords(n,i,o){let d=new Int32Array(o),u,f;for(u=0,f=n.getSize()/i;u<f;u++){let m=0;for(let g=0;g<i;g++)m|=n.get(u*i+g)?1<<i-g-1:0;d[u]=m}return d}static getGF(n){switch(n){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new w("Unsupported word size "+n)}}static stuffBits(n,i){let o=new B,d=n.getSize(),u=(1<<i)-2;for(let f=0;f<d;f+=i){let m=0;for(let g=0;g<i;g++)(f+g>=d||n.get(f+g))&&(m|=1<<i-1-g);(m&u)===u?(o.appendBits(m&u,i),f--):m&u?o.appendBits(m,i):(o.appendBits(m|1,i),f--)}return o}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Je.DEFAULT_EC_PERCENT=33,Je.DEFAULT_AZTEC_LAYERS=0,Je.MAX_NB_BITS=32,Je.MAX_NB_BITS_COMPACT=4,Je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Tl{encode(n,i,o,d){return this.encodeWithHints(n,i,o,d,null)}encodeWithHints(n,i,o,d,u){let f=Yd.ISO_8859_1,m=Je.DEFAULT_EC_PERCENT,g=Je.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(tr.CHARACTER_SET)&&(f=Ch.forName(u.get(tr.CHARACTER_SET).toString())),u.has(tr.ERROR_CORRECTION)&&(m=k.parseInt(u.get(tr.ERROR_CORRECTION).toString())),u.has(tr.AZTEC_LAYERS)&&(g=k.parseInt(u.get(tr.AZTEC_LAYERS).toString()))),Tl.encodeLayers(n,i,o,d,f,m,g)}static encodeLayers(n,i,o,d,u,f,m){if(i!==Ae.AZTEC)throw new w("Can only encode AZTEC, but got "+i);let g=Je.encode(F.getBytes(n,u),f,m);return Tl.renderResult(g,o,d)}static renderResult(n,i,o){let d=n.getMatrix();if(d==null)throw new Xr;let u=d.getWidth(),f=d.getHeight(),m=Math.max(i,u),g=Math.max(o,f),v=Math.min(m/u,g/f),N=(m-u*v)/2,A=(g-f*v)/2,T=new ne(m,g);for(let L=0,z=A;L<f;L++,z+=v)for(let W=0,Z=N;W<u;W++,Z+=v)d.get(W,L)&&T.setRegion(Z,z,v,v);return T}}r.AbstractExpandedDecoder=Od,r.ArgumentException=b,r.ArithmeticException=dr,r.AztecCode=Eh,r.AztecCodeReader=Zr,r.AztecCodeWriter=Tl,r.AztecDecoder=gt,r.AztecDetector=Ni,r.AztecDetectorResult=pe,r.AztecEncoder=Je,r.AztecHighLevelEncoder=io,r.AztecPoint=mt,r.BarcodeFormat=Ae,r.Binarizer=R,r.BinaryBitmap=E,r.BitArray=B,r.BitMatrix=ne,r.BitSource=Bd,r.BrowserAztecCodeReader=Td,r.BrowserBarcodeReader=V2,r.BrowserCodeReader=st,r.BrowserDatamatrixCodeReader=W2,r.BrowserMultiFormatReader=ty,r.BrowserPDF417Reader=ry,r.BrowserQRCodeReader=ny,r.BrowserQRCodeSvgWriter=Ii,r.CharacterSetECI=G,r.ChecksumException=_,r.Code128Reader=ge,r.Code39Reader=Vt,r.DataMatrixDecodedBitStreamParser=_s,r.DataMatrixReader=Ts,r.DecodeHintType=$,r.DecoderResult=Oe,r.DefaultGridSampler=rt,r.DetectorResult=re,r.EAN13Reader=Ci,r.EncodeHintType=tr,r.Exception=p,r.FormatException=P,r.GenericGF=Ke,r.GenericGFPoly=Ue,r.GlobalHistogramBinarizer=fe,r.GridSampler=ue,r.GridSamplerInstance=Qe,r.HTMLCanvasElementLuminanceSource=ye,r.HybridBinarizer=xe,r.ITFReader=lt,r.IllegalArgumentException=w,r.IllegalStateException=Xr,r.InvertedLuminanceSource=we,r.LuminanceSource=le,r.MathUtils=Xe,r.MultiFormatOneDReader=Ji,r.MultiFormatReader=Nh,r.MultiFormatWriter=iy,r.NotFoundException=V,r.OneDReader=jt,r.PDF417DecodedBitStreamParser=K,r.PDF417DecoderErrorCorrection=gh,r.PDF417Reader=fr,r.PDF417ResultMetadata=yh,r.PerspectiveTransform=Ce,r.PlanarYUVLuminanceSource=Yn,r.QRCodeByteMatrix=Il,r.QRCodeDataMask=xn,r.QRCodeDecodedBitStreamParser=kt,r.QRCodeDecoderErrorCorrectionLevel=wt,r.QRCodeDecoderFormatInformation=wr,r.QRCodeEncoder=Nt,r.QRCodeEncoderQRCode=ji,r.QRCodeMaskUtil=Pt,r.QRCodeMatrixUtil=Re,r.QRCodeMode=Te,r.QRCodeReader=ks,r.QRCodeVersion=_e,r.QRCodeWriter=ta,r.RGBLuminanceSource=Gd,r.RSS14Reader=Lt,r.RSSExpandedReader=ie,r.ReaderException=jl,r.ReedSolomonDecoder=bi,r.ReedSolomonEncoder=Wd,r.ReedSolomonException=as,r.Result=ht,r.ResultMetadataType=se,r.ResultPoint=H,r.StringUtils=F,r.UnsupportedOperationException=te,r.VideoInputDevice=Le,r.WhiteRectangleDetector=he,r.WriterException=pt,r.ZXingArrays=C,r.ZXingCharset=Ch,r.ZXingInteger=k,r.ZXingStandardCharsets=Yd,r.ZXingStringBuilder=ee,r.ZXingStringEncoding=X,r.ZXingSystem=I,r.createAbstractExpandedDecoder=mh,Object.defineProperty(r,"__esModule",{value:!0})})})(V0,V0.exports);var St=V0.exports;const FN=ed(St),UN=rx({__proto__:null,default:FN},[St]);var Rm=function(){function e(t,r,s){if(this.formatMap=new Map([[Ne.QR_CODE,St.BarcodeFormat.QR_CODE],[Ne.AZTEC,St.BarcodeFormat.AZTEC],[Ne.CODABAR,St.BarcodeFormat.CODABAR],[Ne.CODE_39,St.BarcodeFormat.CODE_39],[Ne.CODE_93,St.BarcodeFormat.CODE_93],[Ne.CODE_128,St.BarcodeFormat.CODE_128],[Ne.DATA_MATRIX,St.BarcodeFormat.DATA_MATRIX],[Ne.MAXICODE,St.BarcodeFormat.MAXICODE],[Ne.ITF,St.BarcodeFormat.ITF],[Ne.EAN_13,St.BarcodeFormat.EAN_13],[Ne.EAN_8,St.BarcodeFormat.EAN_8],[Ne.PDF_417,St.BarcodeFormat.PDF_417],[Ne.RSS_14,St.BarcodeFormat.RSS_14],[Ne.RSS_EXPANDED,St.BarcodeFormat.RSS_EXPANDED],[Ne.UPC_A,St.BarcodeFormat.UPC_A],[Ne.UPC_E,St.BarcodeFormat.UPC_E],[Ne.UPC_EAN_EXTENSION,St.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!UN)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=s;var l=this.createZXingFormats(t),c=new Map;c.set(St.DecodeHintType.POSSIBLE_FORMATS,l),c.set(St.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(s,l){try{s(r.decode(t))}catch(c){l(c)}})},e.prototype.decode=function(t){var r=new St.MultiFormatReader(this.verbose,this.hints),s=new St.HTMLCanvasElementLuminanceSource(t),l=new St.BinaryBitmap(new St.HybridBinarizer(s)),c=r.decode(l);return{text:c.text,format:qp.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var c=l[s];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),zN=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function x(b){try{p(s.next(b))}catch(w){h(w)}}function y(b){try{p(s.throw(b))}catch(w){h(w)}}function p(b){b.done?c(b.value):l(b.value).then(x,y)}p((s=s.apply(e,t||[])).next())})},VN=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,h;return h={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function x(p){return function(b){return y([p,b])}}function y(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(b){p=[6,b],l=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Om=function(){function e(t,r,s){if(this.formatMap=new Map([[Ne.QR_CODE,"qr_code"],[Ne.AZTEC,"aztec"],[Ne.CODABAR,"codabar"],[Ne.CODE_39,"code_39"],[Ne.CODE_93,"code_93"],[Ne.CODE_128,"code_128"],[Ne.DATA_MATRIX,"data_matrix"],[Ne.ITF,"itf"],[Ne.EAN_13,"ean_13"],[Ne.EAN_8,"ean_8"],[Ne.PDF_417,"pdf417"],[Ne.UPC_A,"upc_a"],[Ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=s;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return zN(this,void 0,void 0,function(){var r,s;return VN(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(r),[2,{text:s.rawValue,format:qp.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,s=0,l=0,c=t;l<c.length;l++){var h=c[l],x=h.boundingBox.width*h.boundingBox.height;x>s&&(s=x,r=h)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var c=l[s];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Dm=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function x(b){try{p(s.next(b))}catch(w){h(w)}}function y(b){try{p(s.throw(b))}catch(w){h(w)}}function p(b){b.done?c(b.value):l(b.value).then(x,y)}p((s=s.apply(e,t||[])).next())})},Lm=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,h;return h={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function x(p){return function(b){return y([p,b])}}function y(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(b){p=[6,b],l=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},HN=function(){function e(t,r,s,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,r&&Om.isSupported()?(this.primaryDecoder=new Om(t,s,l),this.secondaryDecoder=new Rm(t,s,l)):this.primaryDecoder=new Rm(t,s,l)}return e.prototype.decodeAsync=function(t){return Dm(this,void 0,void 0,function(){var r;return Lm(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Dm(this,void 0,void 0,function(){var r,s;return Lm(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(s=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,s=this.executionResults;r<s.length;r++){var l=s[r];t+=l}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),sh=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Kc=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function x(b){try{p(s.next(b))}catch(w){h(w)}}function y(b){try{p(s.throw(b))}catch(w){h(w)}}function p(b){b.done?c(b.value):l(b.value).then(x,y)}p((s=s.apply(e,t||[])).next())})},Jc=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,h;return h={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function x(p){return function(b){return y([p,b])}}function y(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(b){p=[6,b],l=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},t2=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),WN=function(e){sh(t,e);function t(r,s){return e.call(this,r,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var s={};s[this.name]=r;var l={advanced:[s]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),s=r[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(t2),GN=function(e){sh(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(WN),YN=function(e){sh(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(t2),XN=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new GN(this.track)},e.prototype.torchFeature=function(){return new YN(this.track)},e}(),ZN=function(){function e(t,r,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var s=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,s,l){return Kc(this,void 0,void 0,function(){var c,h;return Jc(this,function(x){switch(x.label){case 0:return c=new e(t,r,l),s.aspectRatio?(h={aspectRatio:s.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:x.sent(),x.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,s=function(){setTimeout(t,200),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Kc(this,void 0,void 0,function(){return Jc(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,s){var l=t.mediaStream.getVideoTracks(),c=l.length,h=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++h,h>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new XN(this.getFirstTrackOrFail())},e}(),$N=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,s){return Kc(this,void 0,void 0,function(){return Jc(this,function(l){return[2,ZN.create(t,this.mediaStream,r,s)]})})},e.create=function(t){return Kc(this,void 0,void 0,function(){var r,s;return Jc(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return s=l.sent(),[2,new e(s)]}})})},e}(),Pm=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function x(b){try{p(s.next(b))}catch(w){h(w)}}function y(b){try{p(s.throw(b))}catch(w){h(w)}}function p(b){b.done?c(b.value):l(b.value).then(x,y)}p((s=s.apply(e,t||[])).next())})},Bm=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,h;return h={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function x(p){return function(b){return y([p,b])}}function y(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(b){p=[6,b],l=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},QN=function(){function e(){}return e.failIfNotSupported=function(){return Pm(this,void 0,void 0,function(){return Bm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Pm(this,void 0,void 0,function(){return Bm(this,function(r){return[2,$N.create(t)]})})},e}(),qN=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function x(b){try{p(s.next(b))}catch(w){h(w)}}function y(b){try{p(s.throw(b))}catch(w){h(w)}}function p(b){b.done?c(b.value):l(b.value).then(x,y)}p((s=s.apply(e,t||[])).next())})},KN=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,h;return h={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function x(p){return function(b){return y([p,b])}}function y(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(b){p=[6,b],l=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},JN=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Ea.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Ea.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return qN(this,void 0,void 0,function(){var t,r,s,l,c,h,x;return KN(this,function(y){switch(y.label){case 0:return t=function(p){for(var b=p.getVideoTracks(),w=0,E=b;w<E.length;w++){var _=E[w];_.enabled=!1,_.stop(),p.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=y.sent(),l=[],c=0,h=s;c<h.length;c++)x=h[c],x.kind==="videoinput"&&l.push({id:x.deviceId,label:x.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var s=function(c){for(var h=[],x=0,y=c;x<y.length;x++){var p=y[x];p.kind==="video"&&h.push({id:p.id,label:p.label})}t(h)},l=MediaStreamTrack;l.getSources(s)})},e}(),Bt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Bt||(Bt={}));var eC=function(){function e(){this.state=Bt.NOT_STARTED,this.onGoingTransactionNewState=Bt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Bt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Bt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Bt.UNKNOWN:throw"Transition from unknown is not allowed";case Bt.NOT_STARTED:this.failIfNewStateIs(t,[Bt.PAUSED]);break;case Bt.SCANNING:break;case Bt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var s=0,l=r;s<l.length;s++){var c=l[s];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),tC=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Bt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Bt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Bt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Bt.PAUSED},e}(),rC=function(){function e(){}return e.create=function(){return new tC(new eC)},e}(),nC=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Kr=function(e){nC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(On),sC=function(){function e(t,r){this.logger=r,this.fps=Kr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Kr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?e2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!qn(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Fm=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof r=="boolean"?this.verbose=r===!0:r&&(s=r,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new Jp(this.verbose),this.qrcode=new HN(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=rC.create()}return e.prototype.start=function(t,r,s,l){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;l?h=l:h=this.verbose?this.logger.log:function(){};var x=sC.create(r,this.logger);this.clearElement();var y=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=y,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Kr.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var w=this,E=this.stateManagerProxy.startTransition(Bt.SCANNING);return new Promise(function(_,R){var I=p?x.videoConstraints:w.createVideoConstraints(t);if(!I){E.cancel(),R("videoConstraints should be defined");return}var M={};(!p||x.aspectRatio)&&(M.aspectRatio=x.aspectRatio);var j={onRenderSurfaceReady:function(C,k){w.setupUi(C,k,x),w.isScanning=!0,w.foreverScan(x,s,h)}};QN.failIfNotSupported().then(function(C){C.create(I).then(function(k){return k.render(c.element,M,j).then(function(B){w.renderedCamera=B,E.execute(),_(null)}).catch(function(B){E.cancel(),R(B)})}).catch(function(k){E.cancel(),R(Ea.errorGettingUserMedia(k))})}).catch(function(C){E.cancel(),R(Ea.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Bt.PAUSED),this.showPausedState(),(qn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Bt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var c=document.getElementById(Kr.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),s(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,r){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(qn(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var x=h.width,y=h.height,p=document.getElementById(s.elementId),b=p.clientWidth?p.clientWidth:Kr.DEFAULT_WIDTH,w=Math.max(p.clientHeight?p.clientHeight:y,Kr.FILE_SCAN_MIN_HEIGHT),E=s.computeCanvasDrawConfig(x,y,b,w);if(r){var _=s.createCanvasElement(b,w,"qr-canvas-visible");_.style.display="inline-block",p.appendChild(_);var R=_.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=b,R.canvas.height=w,R.drawImage(h,0,0,x,y,E.x,E.y,E.width,E.height)}var I=Kr.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(h.width,E.width),j=Math.max(h.height,E.height),C=M+2*I,k=j+2*I,B=s.createCanvasElement(C,k);p.appendChild(B);var Y=B.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=C,Y.canvas.height=k,Y.drawImage(h,0,0,x,y,I,I,M,j);try{s.qrcode.decodeRobustlyAsync(B).then(function($){l(km.createFromQrcodeResult($))}).catch(c)}catch($){c("QR code parse error, error = ".concat($))}},h.onerror=c,h.onabort=c,h.onstalled=c,h.onsuspend=c,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return JN.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!e2.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ne.QR_CODE,Ne.AZTEC,Ne.CODABAR,Ne.CODE_39,Ne.CODE_93,Ne.CODE_128,Ne.DATA_MATRIX,Ne.MAXICODE,Ne.ITF,Ne.EAN_13,Ne.EAN_8,Ne.PDF_417,Ne.RSS_14,Ne.RSS_EXPANDED,Ne.UPC_A,Ne.UPC_E,Ne.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],l=0,c=t.formatsToSupport;l<c.length;l++){var h=c[l];PN(h)?s.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(qn(t))return!0;if(!qn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(qn(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return qn(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,s){var l=this,c=s.qrbox;this.validateQrboxConfig(c);var h=this.toQrdimensions(t,r,c),x=function(p){if(p<Kr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Kr.MIN_QR_BOX_SIZE,"px.")},y=function(p){return p>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};x(h.width),x(h.height),h.width=y(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return s},e.prototype.setupUi=function(t,r,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,s);var l=qn(s.qrbox)?{width:t,height:r}:s.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(t,r,l);c.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=s.isShadedBoxEnabled()&&c.height<=r,x={x:0,y:0,width:t,height:r},y=h?this.getShadedRegionBounds(t,r,c):x,p=this.createCanvasElement(y.width,y.height),b={willReadFrequently:!0},w=p.getContext("2d",b);w.canvas.width=y.width,w.canvas.height=y.height,this.element.append(p),h&&this.possiblyInsertShadingElement(this.element,t,r,c),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=w,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Ea.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,km.createFromQrcodeResult(l)),s.possiblyUpdateShaders(!0),!0}).catch(function(l){s.possiblyUpdateShaders(!1);var c=Ea.codeParseError(l);return r(c,Kp.createFrom(c)),!1})},e.prototype.foreverScan=function(t,r,s){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),h=c.videoWidth/c.clientWidth,x=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*h,p=this.qrRegion.height*x,b=this.qrRegion.x*h,w=this.qrRegion.y*x;this.context.drawImage(c,b,w,y,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,s)},l.getTimeoutFps(t.fps))};this.scanContext(r,s).then(function(_){!_&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,s).finally(function(){E()})):E()}).catch(function(_){l.logger.logError("Error happend while scanning context",_),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",s="deviceId",l={user:!0,environment:!0},c="exact",h=function(R){if(R in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var y=Object.keys(t)[0];if(y!==r&&y!==s)throw"Only '".concat(r,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(y===r){var p=t.facingMode;if(typeof p=="string"){if(h(p))return{facingMode:p}}else if(typeof p=="object")if(c in p){if(h(p["".concat(c)]))return{facingMode:{exact:p["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var b=typeof p;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(c in w)return{deviceId:{exact:w["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var E=typeof w;throw"Invalid type of 'deviceId' = ".concat(E)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,r,s,l){if(t<=s&&r<=l){var c=(s-t)/2,h=(l-r)/2;return{x:c,y:h,width:t,height:r}}else{var x=t,y=r;return t>s&&(r=s/t*r,t=s),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(y)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,s,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Kr.BORDER_SHADER_MATCH_COLOR:Kr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,s){var l=t,c=r,h=document.createElement("canvas");return h.style.width="".concat(l,"px"),h.style.height="".concat(c,"px"),h.style.display="none",h.id=qn(s)?"qr-canvas":s,h},e.prototype.getShadedRegionBounds=function(t,r,s){if(s.width>t||s.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(r-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,r,s,l){if(!(r-l.width<1||s-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var h=(r-l.width)/2,x=(s-l.height)/2;if(c.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Kr.SHADED_REGION_ELEMENT_ID),r-l.width<11||s-l.height<11)this.hasBorderShaders=!1;else{var y=5,p=40;this.insertShaderBorders(c,p,y,-y,null,0,!0),this.insertShaderBorders(c,p,y,-y,null,0,!1),this.insertShaderBorders(c,p,y,null,-y,0,!0),this.insertShaderBorders(c,p,y,null,-y,0,!1),this.insertShaderBorders(c,y,p+y,-y,null,-y,!0),this.insertShaderBorders(c,y,p+y,null,-y,-y,!0),this.insertShaderBorders(c,y,p+y,-y,null,-y,!1),this.insertShaderBorders(c,y,p+y,null,-y,-y,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,r,s,l,c,h,x){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=Kr.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(r,"px"),y.style.height="".concat(s,"px"),l!==null&&(y.style.top="".concat(l,"px")),c!==null&&(y.style.bottom="".concat(c,"px")),x?y.style.left="".concat(h,"px"):y.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),t.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),ih="data:image/svg+xml;base64,",iC=ih+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",aC=ih+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Um=ih+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",oC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",zm=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),lC=function(){function e(){this.data=zm.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=zm.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),cC=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Mm.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var s=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=Mm.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),dC=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Um,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return r.onHoverIn()},this.infoIcon.onmouseout=function(s){return r.onHoverOut()},this.infoIcon.onclick=function(s){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=oC,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Um,this.infoIcon.style.opacity="0.6")},e}(),uC=function(){function e(){var t=this;this.infoDiv=new cC,this.infoIcon=new dC(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),fC=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function x(b){try{p(s.next(b))}catch(w){h(w)}}function y(b){try{p(s.throw(b))}catch(w){h(w)}}function p(b){b.done?c(b.value):l(b.value).then(x,y)}p((s=s.apply(e,t||[])).next())})},hC=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,h;return h={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function x(p){return function(b){return y([p,b])}}function y(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(b){p=[6,b],l=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Vm=function(){function e(){}return e.hasPermissions=function(){return fC(this,void 0,void 0,function(){var t,r,s,l;return hC(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),r=0,s=t;r<s.length;r++)if(l=s[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),Ds=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var s=r[t];if(e.isCameraScanType(s))return!0}return!1},e.isCameraScanType=function(t){return t===hi.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===hi.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return On.DEFAULT_SUPPORTED_SCAN_TYPE;var r=On.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var s=0,l=t;s<l.length;s++){var c=l[s];if(!On.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e}(),rn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),xs=function(){function e(){}return e.createElement=function(t,r){var s=document.createElement(t);return s.id=r,s.classList.add(rn.ALL_ELEMENT_CLASS),t==="button"&&s.setAttribute("type","button"),s},e}(),r2=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function x(b){try{p(s.next(b))}catch(w){h(w)}}function y(b){try{p(s.throw(b))}catch(w){h(w)}}function p(b){b.done?c(b.value):l(b.value).then(x,y)}p((s=s.apply(e,t||[])).next())})},n2=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,h;return h={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function x(p){return function(b){return y([p,b])}}function y(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(b){p=[6,b],l=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Hm=function(){function e(t,r,s){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=s}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return r2(this,void 0,void 0,function(){var t,r;return n2(this,function(s){switch(s.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=s.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?ut.torchOffButton():ut.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var s=t?ut.torchOnFailedMessage():ut.torchOffFailedMessage();r&&(s+="; Error = "+r),this.onTorchActionFailureCallback(s)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),mC=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=xs.createElement("button",rn.TORCH_BUTTON_ID),this.torchController=new Hm(t,this,r)}return e.prototype.render=function(t,r){var s=this;this.torchButton.innerText=ut.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return r2(s,void 0,void 0,function(){return n2(this,function(h){switch(h.label){case 0:return[4,l.torchController.flipState()];case 1:return h.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Hm(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=ut.torchOnButton(),this.torchController.reset()},e.create=function(t,r,s,l){var c=new e(r,l);return c.render(t,s),c},e}(),xC=function(){function e(t,r,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=xs.createElement("button",rn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=xs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var y=x.target;if(!(y.files&&y.files.length===0)){var p=y.files,b=p[0],w=b.name;c.setImageNameToButton(w),s(b)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var y=x.dataTransfer;if(y){var p=y.files;if(!p||p.length===0)return;for(var b=!1,w=0;w<p.length;++w){var E=p.item(w);if(E){var _=/image.*/;if(E.type.match(_)){b=!0;var R=E.name;c.setImageNameToButton(R),s(E),h.innerText=ut.dragAndDropMessage();break}}}b||(h.innerText=ut.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=ut.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var s=t.substring(0,8),l=t.length,c=t.substring(l-8,l);t="".concat(s,"....").concat(c)}var h=ut.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=ut.fileSelectionChooseImage()+" - "+ut.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,s){var l=new e(t,r,s);return l},e}(),gC=function(){function e(t){this.selectElement=xs.createElement("select",rn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var s=this.cameras.length;if(s===0)throw new Error("No cameras found");if(s===1)r.style.display="none";else{var l=ut.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,h=0,x=this.cameras;h<x.length;h++){var y=x[h],p=y.id,b=y.label==null?p:y.label;(!b||b==="")&&(b=[ut.anonymousCameraPrefix(),c++].join(" "));var w=document.createElement("option");w.value=p,w.innerText=b,this.options.push(w),this.selectElement.appendChild(w)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,s=this.options;r<s.length;r++){var l=s[r];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var s=new e(r);return s.render(t),s},e}(),pC=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=xs.createElement("input",rn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=ut.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=ut.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,s,l){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var s=new e;return s.render(t,r),s},e}(),Jr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Jr||(Jr={}));function yC(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function vC(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var wC=function(){function e(t,r,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=s===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ds(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Jp(this.verbose),this.persistedDataManager=new lC,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,h){if(t)t(c,h);else{if(s.lastMatchFound===c)return;s.lastMatchFound=c,s.setHeaderMessage(ut.lastMatch(c),Jr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,h){r&&r(c,h)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Fm(this.getScanRegionId(),vC(this.config,this.verbose))},e.prototype.pause=function(t){(qn(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var s=document.getElementById(t.elementId);s&&(s.innerHTML="",t.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,l){if(!t.html5Qrcode){s();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){s();return}t.html5Qrcode.clear(),r(),s()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(t.html5Qrcode.clear(),r(),s())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=On.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!On.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=On.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=On.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:On.SCAN_DEFAULT_FPS,rememberLastUsedCamera:On.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:On.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),s=this.getScanRegionId();r.id=s,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Ds.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var s=new uC;s.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,s){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(ut.cameraPermissionRequesting());var c=function(){s||l.createPermissionButton(t,r)};Fm.getCameras().then(function(h){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),h&&h.length>0?(t.removeChild(r),l.renderCameraSelection(h)):(l.setHeaderMessage(ut.noCameraFound(),Jr.STATUS_WARNING),c())}).catch(function(h){l.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:c(),l.setHeaderMessage(h,Jr.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var s=this,l=xs.createElement("button",this.getCameraPermissionButtonId());l.innerText=ut.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,s.createCameraListUi(t,r,l)}),r.appendChild(l)},e.prototype.createPermissionsUi=function(t,r){var s=this;if(Ds.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Vm.hasPermissions().then(function(l){l?s.createCameraListUi(t,r):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r))}).catch(function(l){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=Ds.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(s);var l=document.createElement("div");l.style.textAlign="center",s.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,l),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Ds.isFileScanType(this.currentScanType),s=this,l=function(c){if(!s.html5Qrcode)throw"html5Qrcode not defined";Ds.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(ut.loadingImage()),s.html5Qrcode.scanFileV2(c,!0).then(function(h){s.resetHeaderMessage(),s.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){s.setHeaderMessage(h,Jr.STATUS_WARNING),s.qrCodeErrorCallback(h,Kp.createFrom(h))}))};this.fileSelectionUi=xC.create(t,r,l)},e.prototype.renderCameraSelection=function(t){var r=this,s=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=pC.create(l,!1),h=function(I){var M=I.zoomFeature();if(M.isSupported()){c.setOnCameraZoomValueChangeCallback(function(C){M.apply(C)});var j=1;r.config.defaultZoomValueIfSupported&&(j=r.config.defaultZoomValueIfSupported),j=BN(j,M.min(),M.max()),c.setValues(M.min(),M.max(),j,M.step()),c.show()}},x=gC.create(l,t),y=document.createElement("span"),p=xs.createElement("button",rn.CAMERA_START_BUTTON_ID);p.innerText=ut.scanButtonStartScanningText(),y.appendChild(p);var b=xs.createElement("button",rn.CAMERA_STOP_BUTTON_ID);b.innerText=ut.scanButtonStopScanningText(),b.style.display="none",b.disabled=!0,y.appendChild(b);var w,E=function(I){if(!I.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(I.torchFeature()):w=mC.create(y,I.torchFeature(),{display:"none",marginLeft:"5px"},function(M){s.setHeaderMessage(M,Jr.STATUS_WARNING)}),w.show()};l.appendChild(y);var _=function(I){I||(p.style.display="none"),p.innerText=ut.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,I&&(p.style.display="inline-block")};if(p.addEventListener("click",function(I){p.innerText=ut.scanButtonScanningStarting(),x.disable(),p.disabled=!0,p.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var M=x.getValue();s.persistedDataManager.setLastUsedCameraId(M),s.html5Qrcode.start(M,yC(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(j){b.disabled=!1,b.style.display="inline-block",_(!1);var C=s.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&E(C),r.config.showZoomSliderIfSupported===!0&&h(C)}).catch(function(j){s.showHideScanTypeSwapLink(!0),x.enable(),_(!0),s.setHeaderMessage(j,Jr.STATUS_WARNING)})}),x.hasSingleItem()&&p.click(),b.addEventListener("click",function(I){if(!s.html5Qrcode)throw"html5Qrcode not defined";b.disabled=!0,s.html5Qrcode.stop().then(function(M){r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),x.enable(),p.disabled=!1,b.style.display="none",p.style.display="inline-block",w&&(w.reset(),w.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(M){b.disabled=!1,s.setHeaderMessage(M,Jr.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var R=s.persistedDataManager.getLastUsedCameraId();x.hasValue(R)?(x.setValue(R),p.click()):s.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=ut.textIfCameraScanSelected(),s=ut.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var h=xs.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Ds.isCameraScanType(this.currentScanType)?r:s,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ds.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=s,t.currentScanType=hi.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=r,t.currentScanType=hi.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(h),l.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Vm.hasPermissions().then(function(s){if(s){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(s){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Jr.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=t,s.style.display="block",r){case Jr.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case Jr.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;case Jr.STATUS_DEFAULT:default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=iC,this.cameraScanImage.alt=ut.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=aC,this.fileScanImage.alt=ut.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return rn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return rn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function bC({onScan:e,isScanning:t,setIsScanning:r}){const s=D.useRef(null),l="qr-scanner-container",[c,h]=D.useState(null),[x,y]=D.useState(null),[p,b]=D.useState(!1),[w,E]=D.useState(""),[_,R]=D.useState(0),[I,M]=D.useState(!1),j=D.useRef(null),C=D.useRef(0),k={fps:10,qrbox:{width:250,height:250},aspectRatio:1,disableFlip:!1,videoConstraints:{facingMode:"environment"},rememberLastUsedCamera:!0,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:1,useBarCodeDetectorIfSupported:!0,experimentalFeatures:{useBarCodeDetectorIfSupported:!0}},B=D.useCallback(async(F,ee)=>{var V;const ne=Date.now();if(ne-C.current<2e3){console.log("Ignoring rapid scan");return}if(F===w||p){console.log("Ignoring duplicate scan:",F);return}C.current=ne,b(!0),E(F),R(fe=>fe+1),y(null),console.log("QR Code detected:",F),console.log("Scan result details:",ee),j.current&&clearTimeout(j.current);try{await $(F),y({type:"success",message:"QR code scanned successfully! Processing check-in..."})}catch(fe){console.error("Scan processing error:",fe),(V=fe.message)!=null&&V.includes("already checked in")?y({type:"duplicate",message:"Participant already checked in"}):y({type:"error",message:fe.message||"Invalid QR code or processing error"})}finally{j.current=setTimeout(()=>{b(!1),setTimeout(()=>{E("")},5e3)},2e3)}},[p,w,e]),Y=D.useCallback(F=>{!F.includes("NotFoundException")&&!F.includes("No MultiFormat Readers were able")&&console.warn("QR Scan error:",F)},[]),$=async F=>{try{await e(F),y({type:"success",message:"Participant checked in successfully!"})}catch(ee){throw ee}},P=D.useCallback(()=>{try{console.log("Initializing HTML5 QR Code Scanner..."),s.current&&(s.current.clear().catch(console.error),s.current=null),s.current=new wC(l,k,!1),s.current.render(B,Y),M(!0),h(!0),console.log("QR Scanner initialized successfully")}catch(F){console.error("Failed to initialize scanner:",F),h(!1),y({type:"error",message:"Failed to initialize camera. Please check permissions and try again."})}},[B,Y]),q=D.useCallback(()=>{I||P()},[I,P]),G=D.useCallback(()=>{s.current&&s.current.pause(!0)},[]);D.useEffect(()=>{t?q():G()},[t,q,G]),D.useEffect(()=>{const F=setTimeout(()=>{t&&P()},100);return()=>{clearTimeout(F),s.current&&(s.current.clear().catch(console.error),s.current=null),j.current&&clearTimeout(j.current)}},[]);const te=()=>{r(!t),y(null),b(!1),E(""),j.current&&clearTimeout(j.current)},X=()=>{h(null),y(null),M(!1),setTimeout(()=>{P()},500)};return c===!1?a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx($1,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Camera Access Required"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"QR code scanning requires camera access to function properly."}),a.jsxs("div",{className:"text-left text-sm text-gray-600 mb-4 space-y-1 bg-gray-50 p-3 rounded",children:[a.jsx("p",{className:"font-medium",children:"To enable camera access:"}),a.jsx("p",{children:' Click "Allow" when prompted for camera permission'}),a.jsx("p",{children:" Check your browser settings for camera permissions"}),a.jsx("p",{children:" Ensure no other app is using the camera"}),a.jsx("p",{children:" Make sure you're using HTTPS (required by most browsers)"}),a.jsx("p",{children:" Try refreshing the page if problems persist"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:X,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[a.jsx(Rp,{className:"h-4 w-4 mr-2"}),"Try Again"]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Refresh Page"})]})]})}):c===null?a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Initializing Camera"}),a.jsx("p",{className:"text-gray-600",children:"Setting up QR code scanner... Please allow camera access when prompted."})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"QR Code Scanner"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Scans: ",_," | High-Speed & Accurate"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:[a.jsx($4,{className:"h-3 w-3 mr-1"}),"Fast Mode"]}),a.jsx("button",{onClick:te,className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-colors ${t?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:t?a.jsxs(a.Fragment,{children:[a.jsx($1,{className:"h-4 w-4"}),a.jsx("span",{children:"Stop"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Q1,{className:"h-4 w-4"}),a.jsx("span",{children:"Start"})]})})]})]})}),a.jsx("div",{className:"relative",children:t?a.jsxs("div",{className:"relative",children:[a.jsx("div",{id:l,className:"w-full"}),p&&a.jsx("div",{className:"absolute top-4 left-4 right-4 z-10",children:a.jsxs("div",{className:"bg-blue-600 text-white px-3 py-2 rounded-md text-sm flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Processing QR code..."]})})]}):a.jsx("div",{className:"h-64 bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Q1,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Advanced QR Scanner Ready"}),a.jsx("p",{className:"text-sm text-gray-500",children:'Click "Start" to begin high-speed scanning'})]})})}),x&&a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-md ${x.type==="success"?"bg-green-50 text-green-800":x.type==="duplicate"?"bg-yellow-50 text-yellow-800":"bg-red-50 text-red-800"}`,children:[x.type==="success"&&a.jsx(Zi,{className:"h-5 w-5"}),x.type==="duplicate"&&a.jsx(di,{className:"h-5 w-5"}),x.type==="error"&&a.jsx(dl,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:x.message}),x.participantName&&a.jsxs("p",{className:"text-sm opacity-75",children:["Participant: ",x.participantName]})]})]})}),a.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Features:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[a.jsx("div",{children:" High-speed scanning (10 FPS)"}),a.jsx("div",{children:" Auto-focus & exposure"}),a.jsx("div",{children:" Duplicate prevention"}),a.jsx("div",{children:" Torch/flashlight support"}),a.jsx("div",{children:" Multiple format support"}),a.jsx("div",{children:" Camera memory"})]}),a.jsx("h4",{className:"text-sm font-medium text-gray-900 mt-3 mb-2",children:"Tips:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("li",{children:" Hold device steady and ensure good lighting"}),a.jsx("li",{children:" QR code should fill the scan area (green box)"}),a.jsx("li",{children:" Use torch button for low-light conditions"}),a.jsx("li",{children:" Each QR code can only be scanned once per session"})]})]})]})}function ah({eventId:e}){const{accessToken:t}=on(),[r,s]=D.useState({total_registrations:0,total_check_ins:0,check_in_rate:"0"}),[l,c]=D.useState([]),[h,x]=D.useState(!0),[y,p]=D.useState(!1),[b,w]=D.useState(""),[E,_]=D.useState(null);D.useEffect(()=>{R();const j=setInterval(R,3e4);return()=>clearInterval(j)},[e]);const R=async()=>{try{const j=await fetch(`/api/checkin/events/${e}/check-in-stats`,{headers:{Authorization:`Bearer ${t}`}});if(!j.ok)throw new Error("Failed to fetch stats");const C=await j.json();s(C.stats),c(C.recent_check_ins),x(!1)}catch(j){console.error("Error fetching stats:",j),x(!1)}},I=async j=>{const C=await fetch(`/api/checkin/events/${e}/check-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({qr_code:j,location:"Main Entrance",device_info:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})});if(!C.ok){const B=await C.json();throw new Error(B.error||"Failed to check in participant")}const k=await C.json();return _({name:k.participant.name,time:new Date().toLocaleTimeString()}),R(),k},M=l.filter(j=>j.registration.name.toLowerCase().includes(b.toLowerCase())||j.registration.email.toLowerCase().includes(b.toLowerCase()));return h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading check-in dashboard..."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Check-In"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Scan QR codes to check in participants"})]}),E&&a.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(T0,{className:"h-6 w-6 text-green-600"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-green-800 font-medium",children:[" ",E.name," checked in successfully"]}),a.jsxs("p",{className:"text-green-600 text-sm",children:["at ",E.time]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:a.jsx(An,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Registrations"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_registrations})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:a.jsx(T0,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Checked In"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_check_ins})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:a.jsx(Y4,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-in Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.check_in_rate,"%"]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{children:a.jsx(bC,{onScan:I,isScanning:y,setIsScanning:p,eventId:e})}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Check-ins"}),a.jsx("button",{onClick:R,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Refresh"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search participants...",value:b,onChange:j=>w(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:M.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:b?"No participants found":"No check-ins yet"}):a.jsx("div",{className:"divide-y divide-gray-200",children:M.map(j=>a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.registration.name}),a.jsx("p",{className:"text-sm text-gray-600",children:j.registration.email}),j.location&&a.jsxs("p",{className:"text-xs text-gray-500",children:[" ",j.location]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ba,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(j.checked_in_at).toLocaleTimeString()})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["by ",j.checked_in_by_user.name]})]})]})},j.id))})})]})]}),a.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-medium text-blue-900 mb-3",children:" How to Use Check-In System"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium mb-2",children:"For Staff:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:' Click "Start Scanning" to activate camera'}),a.jsx("li",{children:" Point camera at participant's QR code"}),a.jsx("li",{children:" Wait for automatic scan and confirmation"}),a.jsx("li",{children:" Monitor real-time check-in statistics"})]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium mb-2",children:"For Participants:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" Show QR code from registration email"}),a.jsx("li",{children:" Ensure QR code is clearly visible"}),a.jsx("li",{children:" One-time check-in per registration"}),a.jsx("li",{children:" Get instant confirmation when checked in"})]})]})]})]})]})})}function NC(){const{user:e}=Yr(),{accessToken:t}=on(),[r,s]=D.useState([]),[l,c]=D.useState(null),[h,x]=D.useState(!1),[y,p]=D.useState(!0),[b,w]=D.useState(null);D.useEffect(()=>{t&&E()},[t]);const E=async()=>{try{if(!t)throw new Error("No authentication token found");const I=await fetch("/api/staff/assigned-events",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error(`Failed to fetch assigned events: ${I.status}`);const M=await I.json();s(M.events||[])}catch(I){console.error("Error fetching assigned events:",I),w(I instanceof Error?I.message:"Failed to load assigned events")}finally{p(!1)}},_=I=>{c(I),x(!0)},R=()=>{x(!1),c(null)};if(y)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})});if(b)return a.jsxs("div",{className:"max-w-md mx-auto mt-8 p-6 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(di,{className:"h-5 w-5 text-red-600 mr-2"}),a.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading Events"})]}),a.jsx("p",{className:"text-red-600 mt-2",children:b}),a.jsx("button",{onClick:E,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Retry"})]});if(h&&l){const I=r.find(M=>M.id===l);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"QR Code Scanner"}),a.jsx("p",{className:"text-gray-600",children:I?`Scanning for: ${I.title}`:"Event Scanner"})]}),a.jsx("button",{onClick:R,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx(ah,{eventId:l})})]})}return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between items-center py-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",e==null?void 0:e.name]})]})})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No Events Assigned"}),a.jsx("p",{className:"mt-1 text-gray-500",children:"You haven't been assigned to any events yet. Contact your event organizer."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(I=>{var M,j,C;return a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx(Tr,{className:"h-8 w-8 text-indigo-600 flex-shrink-0"}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:I.title}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:I.location})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:I.description}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[a.jsx("strong",{children:"Starts:"})," ",new Date(I.start_date).toLocaleString()]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[a.jsx("strong",{children:"Ends:"})," ",new Date(I.end_date).toLocaleString()]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[((M=I.permissions)==null?void 0:M.can_check_in)&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(An,{className:"w-3 h-3 mr-1"}),"Check-in"]}),((j=I.permissions)==null?void 0:j.can_view_stats)&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(j0,{className:"w-3 h-3 mr-1"}),"View Stats"]})]}),a.jsx("div",{className:"mt-6",children:(C=I.permissions)!=null&&C.can_check_in?a.jsxs("button",{onClick:()=>_(I.id),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[a.jsx(ll,{className:"w-4 h-4 mr-2"}),"Start QR Scanning"]}):a.jsxs("div",{className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-500 bg-gray-50 cursor-not-allowed",children:[a.jsx(ll,{className:"w-4 h-4 mr-2"}),"No Check-in Permission"]})})]})},I.id)})})})]})}const Iu=e=>e.registrations&&Array.isArray(e.registrations)?e.registrations.length>0&&typeof e.registrations[0]=="object"&&"count"in e.registrations[0]?e.registrations[0].count||0:e.registrations.length:0,CC=()=>{const{user:e,accessToken:t,isAuthenticated:r,clearAuth:s}=on(),l=un(),[c,h]=D.useState([]),[x,y]=D.useState([]),[p,b]=D.useState(!0),[w,E]=D.useState(null);D.useEffect(()=>{const M=async()=>{var C,k,B;try{if(b(!0),E(null),!r||!t){E("Authentication required"),s(),l("/login");return}const Y=await zr.getMyEvents();if(Y.success&&Y.data)h(Y.data.events);else{if((C=Y.error)!=null&&C.includes("403")||(k=Y.error)!=null&&k.includes("Invalid or expired token")){console.log("Token expired, redirecting to login"),s(),l("/login");return}E(Y.error||"Failed to fetch events")}}catch(Y){if(console.error("Dashboard events error:",Y),(B=Y.message)!=null&&B.includes("Invalid or expired token")||Y.status===403){console.log("Authentication failed, clearing auth and redirecting"),s(),l("/login");return}E("Failed to fetch events")}finally{b(!1)}},j=async()=>{var C,k,B;try{if(b(!0),E(null),!r||!t){E("Authentication required"),s(),l("/login");return}const Y=await Cs.getUserRegistrations();if(Y.success&&Y.data)y(Y.data.registrations);else{if((C=Y.error)!=null&&C.includes("403")||(k=Y.error)!=null&&k.includes("Invalid or expired token")){console.log("Token expired, redirecting to login"),s(),l("/login");return}E(Y.error||"Failed to fetch registrations")}}catch(Y){if(console.error("Dashboard registrations error:",Y),(B=Y.message)!=null&&B.includes("Invalid or expired token")||Y.status===403){console.log("Authentication failed, clearing auth and redirecting"),s(),l("/login");return}E("Failed to fetch registrations")}finally{b(!1)}};(e==null?void 0:e.role)==="organizer"||(e==null?void 0:e.role)==="admin"?M():(e==null?void 0:e.role)==="participant"?j():b(!1)},[r,t,e,l]),D.useEffect(()=>{console.log("Dashboard Auth Debug:",{user:e==null?void 0:e.email,userRole:e==null?void 0:e.role,hasToken:!!t,isAuthenticated:r,tokenPreview:t?t.substring(0,20)+"...":"No token"})},[e,t,r]);const _=(e==null?void 0:e.role)==="organizer"||(e==null?void 0:e.role)==="admin",R=(e==null?void 0:e.role)==="participant";if((e==null?void 0:e.role)==="staff")return a.jsx(NC,{});const I=x.filter(M=>M.event&&new Date(M.event.start_date)>new Date);return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),R?a.jsxs(ke,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Browse Events"]}):a.jsxs(ke,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Event"]})]}),R?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Registrations"}),a.jsx("p",{className:"text-3xl font-bold text-primary-600",children:p?"...":x.length})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Events"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:p?"...":I.length})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Attended Events"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p?"...":x.filter(M=>M.status==="attended").length})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Spent"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:p?"...":`$${x.reduce((M,j)=>{var C;return(C=j.event)!=null&&C.is_paid&&j.event.price&&j.payment_status==="completed"?M+j.event.price:M},0).toLocaleString()}`})]})]}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Events"}),a.jsx("p",{className:"text-3xl font-bold text-primary-600",children:p?"...":c.length})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Registrations"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:p?"...":c.reduce((M,j)=>M+Iu(j),0)})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Events"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p?"...":c.filter(M=>new Date(M.start_date)>new Date).length})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Events"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:p?"...":c.filter(M=>{const j=new Date,C=new Date(M.start_date),k=new Date(M.end_date);return C<=j&&j<=k}).length})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Revenue"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:p?"...":`$${c.reduce((M,j)=>{if(!j.is_paid||!j.price)return M;const C=Iu(j);return M+j.price*C},0).toLocaleString()}`})]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:R?"My Registrations":_?"My Events":"Welcome to Event Management"}),R&&a.jsx(ke,{to:"/my-registrations",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All "})]}),p?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}):w?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-600",children:w})}):R?x.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No event registrations"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by browsing and registering for events."}),a.jsx("div",{className:"mt-6",children:a.jsx(ke,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg",children:"Browse Events"})})]}):a.jsx("div",{className:"space-y-4",children:x.slice(0,5).map(M=>{if(!M.event)return null;const j=M.event,C=new Date(j.start_date),k=C>new Date,B=j.is_paid&&M.payment_status==="completed",Y=M.status==="confirmed"||B;return a.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs(ke,{to:`/events/${j.id}`,className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:a.jsx("div",{className:"hover:text-primary-600",children:j.title})}),a.jsx("p",{className:"text-gray-600 text-sm mb-2",children:j.description}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),C.toLocaleDateString()]}),a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),j.location]}),j.is_paid&&a.jsxs("span",{className:"text-green-600 font-medium",children:["$",j.price]})]})]}),a.jsxs("div",{className:"ml-4 flex items-center justify-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full block text-center ${k?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k?"Upcoming":"Past"}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full block text-center ${Y?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Y?"Confirmed":"Pending"}),k&&Y&&a.jsx(ke,{to:`/ticket/${M.id}`,className:"block text-xs text-primary-600 hover:text-primary-700 text-center",onClick:$=>$.stopPropagation(),children:"View Ticket"})]})]})},M.id)})}):_?c.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first event."}),a.jsx("div",{className:"mt-6",children:a.jsx(ke,{to:"/events/create",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg",children:"Create Event"})})]}):a.jsx("div",{className:"space-y-4",children:c.slice(0,5).map(M=>{const j=new Date(M.start_date),C=j>new Date;return a.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs(ke,{to:`/events/${M.id}`,className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:a.jsx("div",{className:"hover:text-primary-600",children:M.title})}),a.jsx("p",{className:"text-gray-600 text-sm mb-2",children:M.description}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),j.toLocaleDateString()]}),a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),M.location]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),Iu(M)," registered"]})]})]}),a.jsx("div",{className:"ml-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${C?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C?"Upcoming":"Past"})})]})},M.id)})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Welcome, ",e==null?void 0:e.name,"!"]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Explore upcoming events and register for events you're interested in."}),a.jsx(ke,{to:"/events",className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg",children:"Browse Events"})]})]})]})},EC=({value:e,onChange:t,placeholder:r="Search for a location...",className:s=""})=>{const[l,c]=D.useState((e==null?void 0:e.address)||""),[h,x]=D.useState([]),[y,p]=D.useState(!1),[b,w]=D.useState(!1),[E,_]=D.useState(e||null),[R,I]=D.useState(null),[M,j]=D.useState(""),C=D.useRef(),k=D.useRef(null),B=D.useRef(null);D.useEffect(()=>{(e==null?void 0:e.address)!==l&&(c((e==null?void 0:e.address)||""),_(e||null))},[e]);const Y=async G=>{var te,X;if(!G.trim()||G.length<3){x([]);return}p(!0),I(null);try{const F=await fetch(`http://localhost:3001/api/maps/search?query=${encodeURIComponent(G)}&region=IND`);if(!F.ok){const ne=await F.json().catch(()=>({}));F.status===500&&((te=ne.error)!=null&&te.includes("API key"))?I("Location API not properly configured on server. Please contact administrator."):I("Failed to search locations. Please try again.");return}const ee=await F.json();ee.success&&((X=ee.data)!=null&&X.results)&&Array.isArray(ee.data.results)?(j(ee.provider||"unknown"),x(ee.data.results.slice(0,5)),w(!0),console.log(`Using ${ee.provider} API for location search`)):x([])}catch(F){console.error("MapMyIndia search error:",F),I("Network error. Please check your connection."),x([])}finally{p(!1)}},$=G=>{const te=G.target.value;c(te),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{Y(te)},300)},P=G=>{var X,F,ee,ne;console.log("handleLocationSelect called with:",G);const te={address:G.formatted_address||G.name,latitude:((F=(X=G.geometry)==null?void 0:X.location)==null?void 0:F.lat)||0,longitude:((ne=(ee=G.geometry)==null?void 0:ee.location)==null?void 0:ne.lng)||0,placeId:G.place_id};console.log("Location selected:",te),console.log("Setting searchQuery to:",te.address),c(te.address),_(te),setTimeout(()=>{w(!1),x([])},10),I(null),console.log("Calling onChange with:",te),t(te),console.log("handleLocationSelect completed")},q=()=>{_(null),c(""),x([]),w(!1),I(null),t({address:"",latitude:0,longitude:0})};return D.useEffect(()=>{const G=te=>{const X=te.target;k.current&&!k.current.contains(X)&&B.current&&!B.current.contains(X)&&w(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]),D.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),a.jsxs("div",{className:`relative ${s}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(zn,{className:"h-4 w-4 text-gray-400"})}),a.jsx("input",{ref:k,type:"text",value:l,onChange:$,placeholder:r,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onFocus:()=>{h.length>0&&w(!0)}}),l&&a.jsx("button",{type:"button",onClick:q,className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-gray-600",children:a.jsx(Wi,{className:"h-4 w-4 text-gray-400"})}),y&&a.jsx("div",{className:"absolute inset-y-0 right-8 flex items-center",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})})]}),R&&a.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:R}),E&&E.address&&a.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(zn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Selected Location:"}),a.jsx("p",{className:"text-sm text-green-700",children:E.address}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Coordinates: ",E.latitude.toFixed(6),","," ",E.longitude.toFixed(6)]})]})]})}),b&&h.length>0&&a.jsxs("div",{ref:B,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[M&&a.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-200",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Results from"," ",M==="olamaps"?"Ola Maps  ":M==="mapmyindia"?"MapMyIndia ":"Unknown Provider",M==="olamaps"&&"  500K free/month  Verified"]})}),h.map((G,te)=>a.jsx("button",{type:"button",onMouseDown:X=>{X.preventDefault(),X.stopPropagation(),P(G)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(zn,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:G.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:G.formatted_address})]})]})},G.place_id||te))]}),b&&h.length===0&&l.length>=3&&!y&&!R&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(bd,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),a.jsxs("p",{className:"text-sm",children:['No locations found for "',l,'"']}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try a different search term"})]})})]})};class SC{static async upgradeToOrganizer(t){return dt.post("/users/upgrade-to-organizer",t)}static async getProfile(){return dt.get("/users/profile")}}const AC=Ad({organizationName:Cr().min(1,"Organization name is required"),phoneNumber:Cr().optional(),description:Cr().optional()}),jC=({isOpen:e,onClose:t,onSuccess:r})=>{const[s,l]=D.useState(!1),{updateUser:c}=Yr(),{register:h,handleSubmit:x,formState:{errors:y},reset:p}=Ed({resolver:Sd(AC)}),b=async E=>{try{l(!0);const _={organizationName:E.organizationName,phoneNumber:E.phoneNumber||void 0,description:E.description||void 0},R=await SC.upgradeToOrganizer(_);if(R.success&&R.data)c(R.data.user),us.success("Successfully upgraded to organizer!"),p(),r();else throw new Error(R.error||"Failed to upgrade to organizer")}catch(_){console.error("Organizer upgrade failed:",_),us.error(_ instanceof Error?_.message:"Failed to upgrade to organizer. Please try again.")}finally{l(!1)}},w=()=>{s||(p(),t())};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Become an Event Organizer"}),a.jsx("button",{onClick:w,disabled:s,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:a.jsx(Wi,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-gray-600 mb-6",children:"To create events, you need to upgrade your account to an organizer. Please provide some additional information about your organization."}),a.jsxs("form",{onSubmit:x(b),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name *"}),a.jsx("input",{...h("organizationName"),type:"text",id:"organizationName",className:"input",placeholder:"Enter your organization name",disabled:s}),y.organizationName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.organizationName.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (Optional)"}),a.jsx("input",{...h("phoneNumber"),type:"tel",id:"phoneNumber",className:"input",placeholder:"Enter your phone number",disabled:s}),y.phoneNumber&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.phoneNumber.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Description (Optional)"}),a.jsx("textarea",{...h("description"),id:"description",rows:3,className:"input resize-none",placeholder:"Brief description of your organization",disabled:s}),y.description&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.description.message})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:w,disabled:s,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"flex-1 btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Upgrading...":"Upgrade Account"})]})]})]})]})}):null},IC=Ad({title:Cr().min(1,"Title is required"),description:Cr().min(1,"Description is required"),startDate:Cr().min(1,"Start date is required"),endDate:Cr().min(1,"End date is required"),location:Cr().min(1,"Location is required"),latitude:$l().optional(),longitude:$l().optional(),capacity:$l().min(1,"Capacity must be at least 1"),bannerUrl:Cr().url("Must be a valid URL").optional().or(kN("")),visibility:MN(["public","private","invite-only"]),registrationDeadline:Cr().optional(),isPaid:TN(),price:$l().min(0,"Price must be 0 or greater").optional()}),_C=()=>{const e=un(),{user:t,isOrganizer:r}=Yr(),[s,l]=D.useState(!1),[c,h]=D.useState(null),[x,y]=D.useState(!1),[p,b]=D.useState(void 0);console.log("CreateEventPage Debug:",{user:t==null?void 0:t.email,userRole:t==null?void 0:t.role,isOrganizer:r,showUpgradeModal:x}),D.useEffect(()=>{t&&t.role==="participant"&&(console.log("Participant detected on page load, showing upgrade modal"),y(!0))},[t]);const{register:w,handleSubmit:E,watch:_,setValue:R,formState:{errors:I}}=Ed({resolver:Sd(IC),defaultValues:{visibility:"public",isPaid:!1,capacity:50}}),M=_("isPaid"),j=async C=>{try{l(!0),h(null);const k=new Date(C.startDate);if(new Date(C.endDate)<=k){h("End date must be after start date");return}if(C.registrationDeadline&&new Date(C.registrationDeadline)>=k){h("Registration deadline must be before the event start date");return}const Y={title:C.title,description:C.description,startDate:C.startDate,endDate:C.endDate,location:C.location,latitude:C.latitude,longitude:C.longitude,capacity:C.capacity,bannerUrl:C.bannerUrl||void 0,visibility:C.visibility,registrationDeadline:C.registrationDeadline||void 0,isPaid:C.isPaid,price:C.isPaid?C.price:void 0},$=await zr.createEvent(Y);$.success&&$.data?e(`/events/${$.data.event.id}`):h($.error||"Failed to create event")}catch(k){h("Failed to create event. Please try again."),console.error("Create event error:",k)}finally{l(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Event"}),a.jsx("button",{type:"button",onClick:()=>e(-1),className:"text-gray-600 hover:text-gray-900",children:" Back"})]}),!x&&r&&a.jsxs(a.Fragment,{children:[c&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),a.jsxs("form",{onSubmit:E(j),className:"card space-y-6",children:[a.jsxs("div",{className:"form-section",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Event Title *"}),a.jsx("input",{...w("title"),type:"text",id:"title",className:`input ${I.title?"border-red-500":""}`,placeholder:"Enter event title"}),I.title&&a.jsx("p",{className:"form-error",children:I.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description *"}),a.jsx("textarea",{...w("description"),id:"description",rows:4,className:`input ${I.description?"border-red-500":""}`,placeholder:"Describe your event"}),I.description&&a.jsx("p",{className:"form-error",children:I.description.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"form-label",children:"Event Location *"}),a.jsx(EC,{value:p,onChange:C=>{b(C),R("location",C.address),R("latitude",C.latitude),R("longitude",C.longitude)},placeholder:"Search for event location...",className:"mt-1"}),I.location&&a.jsx("p",{className:"form-error",children:I.location.message}),a.jsx("input",{type:"hidden",...w("location")}),a.jsx("input",{type:"hidden",...w("latitude",{valueAsNumber:!0})}),a.jsx("input",{type:"hidden",...w("longitude",{valueAsNumber:!0})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bannerUrl",className:"form-label",children:"Banner Image URL"}),a.jsx("input",{...w("bannerUrl"),type:"url",id:"bannerUrl",className:`input ${I.bannerUrl?"border-red-500":""}`,placeholder:"https://example.com/banner.jpg"}),I.bannerUrl&&a.jsx("p",{className:"form-error",children:I.bannerUrl.message})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Date & Time"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time *"}),a.jsx("input",{...w("startDate"),type:"datetime-local",id:"startDate",className:`input ${I.startDate?"border-red-500":""}`}),I.startDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:I.startDate.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time *"}),a.jsx("input",{...w("endDate"),type:"datetime-local",id:"endDate",className:`input ${I.endDate?"border-red-500":""}`}),I.endDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:I.endDate.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationDeadline",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Deadline"}),a.jsx("input",{...w("registrationDeadline"),type:"datetime-local",id:"registrationDeadline",className:"input"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional: Set a deadline for registrations"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Event Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Capacity *"}),a.jsx("input",{...w("capacity",{valueAsNumber:!0}),type:"number",id:"capacity",min:"1",className:`input ${I.capacity?"border-red-500":""}`}),I.capacity&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:I.capacity.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"visibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Visibility *"}),a.jsxs("select",{...w("visibility"),id:"visibility",className:"input",children:[a.jsx("option",{value:"public",children:"Public"}),a.jsx("option",{value:"private",children:"Private"}),a.jsx("option",{value:"invite-only",children:"Invite Only"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...w("isPaid"),type:"checkbox",id:"isPaid",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),a.jsx("label",{htmlFor:"isPaid",className:"ml-2 text-sm font-medium text-gray-700",children:"This is a paid event"})]}),M&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Price *"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),a.jsx("input",{...w("price",{valueAsNumber:!0}),type:"number",id:"price",min:"0",step:"0.5",className:`input pl-8 ${I.price?"border-red-500":""}`,placeholder:"0.00"})]}),I.price&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:I.price.message})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[a.jsx("button",{type:"button",onClick:()=>e(-1),className:"btn btn-secondary",disabled:s,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Create Event"})]})]})]}),a.jsx(jC,{isOpen:x,onClose:()=>y(!1),onSuccess:()=>{y(!1)}})]})};function TC({eventId:e}){const{accessToken:t}=on(),[r,s]=D.useState([]),[l,c]=D.useState(!0),[h,x]=D.useState(null),[y,p]=D.useState(!1),[b,w]=D.useState(!1),[E,_]=D.useState(!1),[R,I]=D.useState(null),[M,j]=D.useState({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}});D.useEffect(()=>{C(),k()},[e]),D.useEffect(()=>{const P=q=>{R&&!q.target.closest(".relative")&&I(null)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[R]);const C=async()=>{var P;try{x(null);const q=await fetch(`/api/checkin/events/${e}/staff`,{headers:{Authorization:`Bearer ${t}`}});if(q.ok){const G=await q.json();console.log(" Staff data received:",G),console.log(" Staff array:",G.staff),console.log(" Staff length:",(P=G.staff)==null?void 0:P.length),console.log(" Is array?",Array.isArray(G.staff)),s(Array.isArray(G.staff)?G.staff:[])}else console.error("Failed to fetch staff:",q.status),s([]),q.status===403?x("You don't have permission to view staff for this event. Only event organizers and administrators can access staff management."):q.status===404?x("Event not found. Please check if the event still exists and refresh the page."):q.status===401?x("Your session has expired. Please log in again to view staff information."):x("Unable to load staff information. Please try refreshing the page.")}catch(q){console.error("Error fetching staff:",q),s([]),x("Unable to connect to the server. Please check your internet connection and try again.")}finally{c(!1)}},k=async()=>{try{_(!0);const P=await fetch("/api/email/status",{headers:{Authorization:`Bearer ${t}`}});if(P.ok){const q=await P.json();w(q.hasGmailPermission)}}catch(P){console.error("Error checking Gmail permission:",P)}finally{_(!1)}},B=async()=>{try{const P=await fetch("/api/email/authorize",{headers:{Authorization:`Bearer ${t}`}});if(P.ok){const q=await P.json();window.location.href=q.authUrl}else console.error("Failed to get Gmail authorization URL")}catch(P){console.error("Error requesting Gmail permission:",P)}},Y=async P=>{var q,G,te;P.preventDefault(),console.log(" Frontend newStaff state:",M);try{const X=[];M.permissions.can_check_in&&X.push("check-in"),M.permissions.can_view_stats&&X.push("view-stats");const F={email:M.email,name:M.name,permissions:X};console.log(" Sending staff data:",F);const ee=await fetch(`/api/checkin/events/${e}/staff`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(F)});if(ee.ok)await C(),j({email:"",name:"",permissions:{can_check_in:!0,can_view_stats:!0}}),p(!1),alert("Staff member added successfully! Login credentials will be sent via email.");else{const ne=await ee.json();console.error(" Full error response:",ne),console.error(" Response status:",ee.status),console.error(" Response headers:",Object.fromEntries(ee.headers.entries()));let V="Failed to add staff member";ee.status===400?(q=ne.error)!=null&&q.includes("already exists")||(G=ne.error)!=null&&G.includes("duplicate")?V="This person is already a staff member for this event.":(te=ne.error)!=null&&te.includes("validation")||ne.details?(V="Please check that the email address and name are valid and try again.",console.error(" Validation details:",ne.details)):V=ne.error||"Invalid staff information provided.":ee.status===403?V="You don't have permission to add staff members to this event. Only event organizers and administrators can manage staff.":ee.status===404?V="Event not found. Please refresh the page and try again.":ee.status===500?V="Server error occurred while adding staff member. Please try again in a few moments.":V=ne.error||"An unexpected error occurred while adding the staff member.",alert(V)}}catch(X){console.error("Error adding staff:",X),alert("Unable to connect to the server. Please check your internet connection and try again.")}},$=async P=>{if(confirm("Are you sure you want to remove this staff member?"))try{const q=localStorage.getItem("token"),G=await fetch(`/api/checkin/events/${e}/staff/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${q}`}});if(G.ok)await C(),alert("Staff member removed successfully");else{const te=await G.json();let X="Failed to remove staff member";G.status===403?X="You don't have permission to remove staff members from this event. Only event organizers and administrators can manage staff.":G.status===404?X="Staff member not found. They may have already been removed or the event information is outdated.":G.status===400?X="Cannot remove this staff member. They may be currently checked in or have active sessions.":X=te.error||"An unexpected error occurred while removing the staff member.",alert(X)}}catch(q){console.error("Error removing staff:",q),alert("Unable to connect to the server. Please check your internet connection and try again.")}};return l?a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Staff Management"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage staff access for check-in and event management"})]}),a.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(Z4,{className:"h-4 w-4"}),a.jsx("span",{children:"Add Staff"})]})]})}),!b&&a.jsx("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx($s,{className:"h-5 w-5 text-amber-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Gmail Permission Required"}),a.jsx("p",{className:"text-sm text-amber-700",children:"Grant Gmail access to automatically send staff credentials from your email account"})]})]}),a.jsx("button",{onClick:B,disabled:E,className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 disabled:opacity-50",children:E?"Checking...":"Grant Permission"})]})}),b&&a.jsx("div",{className:"px-6 py-3 bg-green-50 border-b border-green-200",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($s,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-800",children:" Gmail permission granted - Staff emails will be sent from your account"})]})}),y&&a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:a.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",required:!0,value:M.email,onChange:P=>j({...M,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"staff@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",required:!0,value:M.name,onChange:P=>j({...M,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:M.permissions.can_check_in,onChange:P=>j({...M,permissions:{...M.permissions,can_check_in:P.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can check-in participants"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:M.permissions.can_view_stats,onChange:P=>j({...M,permissions:{...M.permissions,can_view_stats:P.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Can view check-in statistics"})]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Staff Member"}),a.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:l?a.jsx("div",{className:"px-6 py-8 text-center text-gray-500",children:a.jsx("p",{children:"Loading staff..."})}):h?a.jsxs("div",{className:"px-6 py-8 text-center",children:[a.jsxs("div",{className:"text-red-600 mb-4",children:[a.jsx(Eu,{className:"h-12 w-12 text-red-300 mx-auto mb-4"}),a.jsx("p",{className:"font-medium",children:h})]}),a.jsx("button",{onClick:()=>{x(null),C()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]}):r.length===0?a.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[a.jsx(Eu,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{children:"No staff members assigned to this event."}),a.jsx("p",{className:"text-sm",children:"Add staff members to help with check-in and event management."})]}):r.map(P=>{var q,G,te,X,F,ee,ne;return a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 font-medium text-sm",children:((G=(q=P.user)==null?void 0:q.name)==null?void 0:G.charAt(0).toUpperCase())||"?"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:((te=P.user)==null?void 0:te.name)||"Unknown User"}),a.jsx("p",{className:"text-sm text-gray-600",children:((X=P.user)==null?void 0:X.email)||"No email"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Added"," ",new Date(P.assigned_at).toLocaleDateString()," by"," ",((F=P.assigned_by_user)==null?void 0:F.name)||"Unknown"]})]})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.jsxs("div",{className:"flex space-x-2",children:[P.permissions.can_check_in&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),P.permissions.can_view_stats&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(I0,{className:"h-3 w-3 mr-1"}),"Stats"]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:(ee=P.user)!=null&&ee.last_login_at?a.jsxs(a.Fragment,{children:["Last login:"," ",new Date(P.user.last_login_at).toLocaleDateString()]}):"Never logged in"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{var xe,le;const V=encodeURIComponent(`Event Staff Access - ${e}`),fe=encodeURIComponent(`Hi ${((xe=P.user)==null?void 0:xe.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((le=P.user)==null?void 0:le.email)||""}?subject=${V}&body=${fe}`)},className:"text-blue-600 hover:text-blue-700",title:"Send email",children:a.jsx($s,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>{var V;return $(((V=P.user)==null?void 0:V.id)||P.id)},className:"text-red-600 hover:text-red-700",title:"Remove staff",children:a.jsx(Fa,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"md:hidden relative",children:[a.jsx("button",{onClick:()=>I(R===P.id?null:P.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:a.jsx(H4,{className:"h-4 w-4"})}),R===P.id&&a.jsx("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:a.jsxs("div",{className:"p-3 space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Permissions:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[P.permissions.can_check_in&&a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Check-in"}),P.permissions.can_view_stats&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(I0,{className:"h-3 w-3 mr-1"}),"Stats"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Last Login:"}),a.jsx("p",{className:"text-xs text-gray-500",children:(ne=P.user)!=null&&ne.last_login_at?new Date(P.user.last_login_at).toLocaleDateString():"Never logged in"})]}),a.jsxs("div",{className:"flex space-x-2 pt-2 border-t border-gray-100",children:[a.jsxs("button",{onClick:()=>{var xe,le;const V=encodeURIComponent(`Event Staff Access - ${e}`),fe=encodeURIComponent(`Hi ${((xe=P.user)==null?void 0:xe.name)||"Staff Member"},

You have been granted staff access for this event. Please check your email for login credentials.

Best regards`);window.open(`mailto:${((le=P.user)==null?void 0:le.email)||""}?subject=${V}&body=${fe}`),I(null)},className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-md",children:[a.jsx($s,{className:"h-4 w-4"}),a.jsx("span",{children:"Email"})]}),a.jsxs("button",{onClick:()=>{var V;$(((V=P.user)==null?void 0:V.id)||P.id),I(null)},className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md",children:[a.jsx(Fa,{className:"h-4 w-4"}),a.jsx("span",{children:"Remove"})]})]})]})})]})]})},P.id)})}),a.jsx("div",{className:"px-6 py-4 bg-blue-50 border-t border-blue-200",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Eu,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Staff Access Information:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" Staff members receive login credentials via email"}),a.jsx("li",{children:" They can access the check-in system with their assigned permissions"}),a.jsx("li",{children:" Staff accounts are created automatically if they don't exist"}),a.jsx("li",{children:" You can modify or revoke access at any time"})]})]})]})})]})}const kC=({latitude:e,longitude:t,address:r,eventTitle:s,className:l="",height:c="300px"})=>{const h=D.useRef(null),[x,y]=D.useState(null),[p,b]=D.useState(!1),w="cca7cc6fa46564a60cc71da4892107e0";D.useEffect(()=>{if(!e||!t){y("Invalid coordinates");return}const R=()=>{if(window.mappls){I();return}const M=document.createElement("script");M.src=`https://apis.mapmyindia.com/advancedmaps/v1/${w}/map_load?v=1.3`,M.async=!0,M.onload=I,M.onerror=()=>{y("Failed to load map. Please check your API key.")},document.head.appendChild(M)},I=()=>{if(!(!h.current||!window.mappls))try{h.current.innerHTML="";const M=new window.mappls.Map(h.current,{center:[e,t],zoom:15,search:!1,traffic:!1,location:!1,geolocation:!1});new window.mappls.Marker({map:M,position:[e,t],fitbounds:!0,icon_url:"https://apis.mapmyindia.com/map_v3/1.3/png?height=30&width=20&color=red&text=",popup:s?`<div class="p-2"><strong>${s}</strong><br/>${r}</div>`:r}),y(null)}catch(M){console.error("Map initialization error:",M),y("Failed to initialize map")}};R()},[e,t,r,s,w]);const E=async()=>{try{await navigator.clipboard.writeText(`${e}, ${t}`),b(!0),setTimeout(()=>b(!1),2e3)}catch(R){console.error("Failed to copy coordinates:",R)}},_=R=>{const I=`${e},${t}`;let M="";switch(R){case"google":M=`https://www.google.com/maps?q=${I}`;break;case"mapmyindia":M=`https://maps.mapmyindia.com/?lat=${e}&lng=${t}&z=15`;break}M&&window.open(M,"_blank")};return x?a.jsx("div",{className:`bg-gray-50 border border-gray-200 rounded-lg p-6 ${l}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx(zn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Map Unavailable"}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:x}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-left",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(zn,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:r}),a.jsx("div",{className:"flex items-center space-x-2 mt-2",children:a.jsx("button",{onClick:E,className:"inline-flex items-center space-x-1 text-xs text-gray-500 hover:text-gray-700",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Po,{className:"h-3 w-3 text-green-600"}),a.jsx("span",{className:"text-green-600",children:"Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-3 w-3"}),a.jsxs("span",{children:[e.toFixed(6),", ",t.toFixed(6)]})]})})})]})]})}),a.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[a.jsxs("button",{onClick:()=>_("google"),className:"inline-flex items-center space-x-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Wc,{className:"h-4 w-4"}),a.jsx("span",{children:"Open in Google Maps"})]}),a.jsxs("button",{onClick:()=>_("mapmyindia"),className:"inline-flex items-center space-x-2 px-3 py-2 text-sm bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[a.jsx(J1,{className:"h-4 w-4"}),a.jsx("span",{children:"Open in MapMyIndia"})]})]})]})}):a.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg overflow-hidden ${l}`,children:[a.jsx("div",{ref:h,style:{height:c},className:"w-full"}),a.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(zn,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),a.jsx("button",{onClick:E,className:"inline-flex items-center space-x-1 text-xs text-gray-500 hover:text-gray-700 mt-1",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Po,{className:"h-3 w-3 text-green-600"}),a.jsx("span",{className:"text-green-600",children:"Coordinates copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-3 w-3"}),a.jsxs("span",{children:[e.toFixed(6),", ",t.toFixed(6)]})]})})]})]})}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsxs("button",{onClick:()=>_("google"),className:"inline-flex items-center space-x-1 px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",title:"Open in Google Maps",children:[a.jsx(Wc,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Google"})]}),a.jsxs("button",{onClick:()=>_("mapmyindia"),className:"inline-flex items-center space-x-1 px-2 py-1 text-xs bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors",title:"Open in MapMyIndia",children:[a.jsx(J1,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Maps"})]})]})]})})]})},MC=()=>{var q,G,te;const{id:e}=yi(),t=un(),{user:r}=on(),[s,l]=D.useState(null),[c,h]=D.useState([]),[x,y]=D.useState(!0),[p,b]=D.useState(null),[w,E]=D.useState(!1),_=async()=>{if(r)try{const X=await Cs.getUserRegistrations();X.success&&X.data&&h(X.data.registrations)}catch(X){console.error("Failed to fetch user registrations:",X)}},R=X=>{var ne,V;const F=c.find(fe=>{var xe;return((xe=fe.event)==null?void 0:xe.id)===X&&fe.status!=="cancelled"});if(console.log(` Checking registration for event ${X}:`,{foundRegistration:!!F,registrationStatus:F==null?void 0:F.status,paymentStatus:F==null?void 0:F.payment_status,isEventPaid:(ne=F==null?void 0:F.event)==null?void 0:ne.is_paid,allUserRegistrations:c.length}),!F)return!1;if((V=F.event)!=null&&V.is_paid){const fe=F.payment_status==="completed";return console.log(` Paid event - payment completed: ${fe}`),fe}const ee=F.status==="confirmed"||F.payment_status===null;return console.log(` Free event - valid registration: ${ee}`),ee},I=X=>{var ne;const F=c.find(V=>{var fe;return((fe=V.event)==null?void 0:fe.id)===X&&V.status!=="cancelled"});return F?(ne=F.event)!=null&&ne.is_paid?F.payment_status==="completed"?F:void 0:F.status==="confirmed"||F.payment_status===null?F:void 0:void 0};D.useEffect(()=>{(async()=>{var F,ee,ne,V;if(!e){b("Event ID is required"),y(!1);return}try{y(!0);const fe=await zr.getEventById(e);fe.success&&fe.data?l(fe.data.event):(F=fe.error)!=null&&F.includes("not found")||(ee=fe.error)!=null&&ee.includes("404")?b("This event could not be found. It may have been deleted or the link is incorrect."):(ne=fe.error)!=null&&ne.includes("permission")||(V=fe.error)!=null&&V.includes("access")?b("You don't have permission to view this event. It may be private or restricted."):b(fe.error||"Event not found")}catch(fe){if(fe instanceof Error&&"response"in fe){const xe=fe;xe.status===404?b("This event could not be found. It may have been deleted or the link is incorrect."):xe.status===403?b("You don't have permission to view this event. It may be private or restricted."):xe.status===401?b("Please log in to view this event."):b("An unexpected error occurred while loading the event. Please try again.")}else b("Unable to connect to the server. Please check your internet connection and try again.");console.error("Event details error:",fe)}finally{y(!1)}})(),_()},[e,r]);const M=async()=>{if(!(!s||!e)&&confirm(`Are you sure you want to delete "${s.title}"? This action cannot be undone.`))try{const X=await zr.deleteEvent(e);X.success?t("/dashboard"):alert(X.error||"Failed to delete event")}catch(X){alert("Failed to delete event"),console.error("Delete event error:",X)}};if(x)return a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading event details..."})]})});if(p||!s)return a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-red-600 mb-4",children:p}),a.jsx("button",{onClick:()=>t(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});const C=r&&s.organizer&&r.id===s.organizer.id||(r==null?void 0:r.role)==="admin",k=new Date(s.start_date),B=new Date(s.end_date),Y=k>new Date,$=new Date>=k&&new Date<=B,P=((q=s.registrations)==null?void 0:q.length)||0;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[a.jsx("div",{className:"relative",children:s.banner_url?a.jsxs("div",{className:"relative h-80 lg:h-96 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent z-10"}),a.jsx("img",{src:s.banner_url,alt:s.title,className:"w-full h-full object-cover transform scale-105 hover:scale-100 transition-transform duration-700"}),a.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]}),C&&a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-2xl px-4 py-2 rounded-full",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage",a.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 py-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-40",children:[a.jsxs(ke,{to:`/events/${s.id}/registrations`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Registrations"}),a.jsxs("div",{className:"text-xs text-slate-500",children:[P," registered"]})]})]}),a.jsxs(ke,{to:`/events/${s.id}/attendance`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Take Attendance"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Check-in attendees"})]})]}),a.jsxs(ke,{to:`/events/${s.id}/form-builder`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Registration Form"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Customize form fields"})]})]}),a.jsxs(ke,{to:`/events/${s.id}/certificates`,className:"flex items-center px-6 py-2 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Certificates"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Generate certificates"})]})]}),a.jsx("hr",{className:"my-1 border-slate-200"}),a.jsxs("button",{onClick:M,className:"flex items-center w-full px-6 text-sm text-red-600 hover:bg-red-50/70 hover:text-red-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Delete Event"}),a.jsx("div",{className:"text-xs text-red-400",children:"Permanently remove"})]})]})]})]})]})}),a.jsx("div",{className:"absolute inset-0 z-20 flex items-end",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 w-full",children:a.jsxs("div",{className:"max-w-4xl",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[a.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ${$?"bg-emerald-500 text-white shadow-emerald-500/25":Y?"bg-blue-500 text-white shadow-blue-500/25":"bg-slate-500 text-white shadow-slate-500/25"} shadow-lg backdrop-blur-sm`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${$?"bg-emerald-200 animate-pulse":"bg-white/70"}`}),$?"Live Now":Y?"Upcoming":"Past Event"]}),s.is_paid&&a.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white shadow-lg shadow-amber-500/25 backdrop-blur-sm",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"$",s.price]}),s.category&&a.jsx("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold text-white shadow-lg backdrop-blur-sm",style:{backgroundColor:s.category.color},children:s.category.name})]}),a.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-4 drop-shadow-2xl leading-tight",children:s.title}),a.jsx("p",{className:"text-lg lg:text-xl text-white/95 mb-6 leading-relaxed max-w-3xl font-medium",children:s.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:"font-semibold",children:[k.toLocaleDateString("en-US",{month:"short",day:"numeric"})," ","at"," ",k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),a.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),a.jsx("span",{className:"font-semibold",children:s.location})]}),a.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsxs("span",{className:"font-semibold",children:[P,"/",s.capacity," attending"]})]})]})]})})})]}):a.jsxs("div",{className:"relative bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 py-24",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"group flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]}),C&&a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{className:"flex items-center px-4 py-3 bg-white/95 backdrop-blur-md text-slate-800 hover:bg-white rounded-full transition-all duration-200 shadow-xl border border-white/20",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage",a.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a.jsxs("div",{className:"absolute right-0 mt-3 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 py-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-40",children:[a.jsxs(ke,{to:`/events/${s.id}/registrations`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Registrations"}),a.jsxs("div",{className:"text-xs text-slate-500",children:[P," registered"]})]})]}),a.jsxs(ke,{to:`/events/${s.id}/attendance`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Take Attendance"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Check-in attendees"})]})]}),a.jsxs(ke,{to:`/events/${s.id}/form-builder`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Registration Form"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Customize form fields"})]})]}),a.jsxs(ke,{to:`/events/${s.id}/certificates`,className:"flex items-center px-6 py-3 text-sm text-slate-700 hover:bg-white/70 hover:text-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Certificates"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Generate certificates"})]})]}),a.jsx("hr",{className:"my-3 border-slate-200"}),a.jsxs("button",{onClick:M,className:"flex items-center w-full px-6 py-3 text-sm text-red-600 hover:bg-red-50/70 hover:text-red-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Delete Event"}),a.jsx("div",{className:"text-xs text-red-400",children:"Permanently remove"})]})]})]})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ${$?"bg-emerald-500 text-white":Y?"bg-blue-500 text-white":"bg-slate-500 text-white"} shadow-lg`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${$?"bg-emerald-200 animate-pulse":"bg-white/70"}`}),$?"Live Now":Y?"Upcoming":"Past Event"]}),s.is_paid&&a.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-amber-500 text-white shadow-lg",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"$",s.price]})]})}),a.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-6 drop-shadow-2xl",children:s.title}),a.jsx("p",{className:"text-xl text-white/95 mb-8 max-w-4xl mx-auto leading-relaxed",children:s.description})]})})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r&&R(s.id)&&a.jsx("div",{className:"mb-8 bg-gradient-to-r from-emerald-50 to-emerald-100 border-l-4 border-emerald-500 rounded-xl p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-emerald-500 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-emerald-800",children:"Successfully Registered!"}),a.jsx("p",{className:"text-emerald-700 mt-1",children:"You're all set for this event. Check your email for confirmation details."})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsxs(ke,{to:`/ticket/${(G=I(s.id))==null?void 0:G.id}`,className:"inline-flex items-center px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"View Ticket"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Event Overview"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${s.visibility==="public"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:s.visibility==="public"?"Public":"Private"})})]}),!s.banner_url&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4",children:s.title}),a.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:s.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Date & Time"}),a.jsx("p",{className:"text-slate-600 font-medium",children:k.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),a.jsxs("p",{className:"text-slate-500 text-sm",children:[k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",B.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})}),a.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Location"}),a.jsx("p",{className:"text-slate-600 font-medium mb-3",children:s.location}),s.latitude&&s.longitude?a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>E(!w),className:"text-blue-600 hover:text-blue-700 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors",children:w?"Hide Map":"View on Map "}),w&&a.jsx("div",{className:"mt-4",children:a.jsx(kC,{latitude:s.latitude,longitude:s.longitude,address:s.location,eventTitle:s.title,height:"250px",className:"rounded-lg overflow-hidden shadow-sm"})})]}):a.jsx("button",{onClick:()=>{window.open(`https://www.google.com/maps/search/${encodeURIComponent(s.location)}`,"_blank")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-lg transition-colors",children:"Search on Maps "})]})]})}),s.organizer&&a.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Organizer"}),a.jsx("p",{className:"text-slate-600 font-medium",children:s.organizer.name}),a.jsx("p",{className:"text-slate-500 text-sm",children:s.organizer.email})]})]})}),a.jsx("div",{className:"bg-slate-50 rounded-xl p-6 hover:bg-slate-100 transition-colors",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Attendance"}),a.jsxs("p",{className:"text-slate-600 font-medium mb-3",children:[P," of ",s.capacity," spots filled"]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(P/s.capacity*100,100)}%`}})}),a.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:[s.capacity-P," spots remaining"]})]})]})})]})]})}),C&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-8 py-6 border-b border-slate-200",children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Event Analytics"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Monitor your event performance and engagement"})]}),a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Registrations"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:P}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:P>0?`+${Math.round(P/s.capacity*100)}% capacity`:"No registrations yet"})]}),a.jsx("div",{className:"w-14 h-14 bg-blue-200 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-6 border border-emerald-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-1",children:"Available Spots"}),a.jsx("p",{className:"text-3xl font-bold text-emerald-900",children:s.capacity-P}),a.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:s.capacity-P>0?"Spots remaining":"Event is full"})]}),a.jsx("div",{className:"w-14 h-14 bg-emerald-200 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Capacity Usage"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:[Math.round(P/s.capacity*100),"%"]}),a.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Of total capacity"})]}),a.jsx("div",{className:"w-14 h-14 bg-purple-200 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),s.is_paid?a.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-6 border border-amber-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-amber-700 mb-1",children:"Total Revenue"}),a.jsxs("p",{className:"text-3xl font-bold text-amber-900",children:["$",(P*(s.price||0)).toFixed(2)]}),a.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["From ",P," tickets"]})]}),a.jsx("div",{className:"w-14 h-14 bg-amber-200 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-7 h-7 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}):a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-6 border border-slate-200",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Quick Actions"}),a.jsxs(ke,{to:`/events/${s.id}/registrations`,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Registrations"]}),a.jsxs(ke,{to:`/events/${s.id}/attendance`,className:"flex items-center justify-center px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-lg hover:bg-emerald-700 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Attendance"]})]})})]})})]}),C&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-8 py-6 border-b border-slate-200",children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 mr-3 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Staff Management"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Manage event staff and administrative access permissions"})]}),a.jsx("div",{className:"p-8",children:a.jsx(TC,{eventId:s.id})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"sticky top-24 space-y-6",children:[!C&&Y&&a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"Registration"]}),r&&R(s.id)?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"text-emerald-800 font-semibold mb-4",children:"You're registered!"}),a.jsxs(ke,{to:`/ticket/${(te=I(s.id))==null?void 0:te.id}`,className:"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-semibold rounded-xl transition-all duration-200 shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"View Ticket"]})]}):P<s.capacity?a.jsxs("div",{children:[s.is_paid&&a.jsx("div",{className:"text-center mb-6",children:a.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-100 to-orange-100 rounded-xl border border-amber-200",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),a.jsxs("span",{className:"text-2xl font-bold text-amber-900",children:["$",s.price]}),a.jsx("span",{className:"text-amber-700 text-sm ml-1",children:"/ ticket"})]})}),a.jsxs(ke,{to:`/events/${s.id}/register`,className:"w-full inline-flex items-center justify-center px-6 py-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),s.is_paid?`Register - $${s.price}`:"Register Free"]}),a.jsxs("p",{className:"text-slate-500 text-sm text-center mt-3",children:[s.capacity-P," spots remaining"]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("p",{className:"text-slate-600 font-medium mb-4",children:"Event is Full"}),a.jsx("button",{disabled:!0,className:"w-full px-6 py-3 bg-slate-300 text-slate-500 font-medium rounded-xl cursor-not-allowed",children:"Registration Closed"})]})]})}),C&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-slate-200",children:a.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Management"]})}),a.jsxs("div",{className:"p-6 space-y-3",children:[a.jsxs(ke,{to:`/events/${s.id}/registrations`,className:"w-full flex items-center justify-between px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("span",{className:"font-medium",children:"Registrations"})]}),a.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-1 rounded text-sm font-medium",children:P})]}),a.jsxs(ke,{to:`/events/${s.id}/form-builder`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"font-medium",children:"Registration Form"})]}),a.jsxs(ke,{to:`/events/${s.id}/attendance`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),a.jsx("span",{className:"font-medium",children:"Take Attendance"})]}),a.jsxs(ke,{to:`/events/${s.id}/certificates`,className:"w-full flex items-center px-4 py-3 text-slate-700 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors group",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-slate-400 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsx("span",{className:"font-medium",children:"Certificates"})]}),a.jsx("hr",{className:"my-4 border-slate-200"}),a.jsxs("button",{onClick:M,className:"w-full flex items-center px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors group",children:[a.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a.jsx("span",{className:"font-medium",children:"Delete Event"})]})]})]})]})})]})]})]})},ca={async getFormTemplates(){return dt.get("/registration-forms/templates")},async createRegistrationForm(e,t){return dt.post(`/registration-forms/events/${e}/form`,t)},async getRegistrationForm(e){return dt.get(`/registration-forms/events/${e}/form`)},async updateRegistrationForm(e,t,r){return dt.put(`/registration-forms/events/${e}/form/${t}`,r)},async deleteRegistrationForm(e,t){return dt.delete(`/registration-forms/events/${e}/form/${t}`)}};function RC(e,t={}){var c;const{action:r,fallbackMessage:s}=t,l=s||(r?`Failed to ${r}`:"An unexpected error occurred");if(e instanceof Error&&"response"in e){const h=e,x=h.status,y=((c=h.response)==null?void 0:c.error)||"";switch(x){case 400:return y.includes("validation")||y.includes("invalid")?"Please check your information and try again.":y.includes("deadline")?"The deadline for this action has passed.":y.includes("capacity")||y.includes("full")?"This action cannot be completed due to capacity limitations.":y.includes("already")?"This action has already been completed.":y||"Invalid request. Please check your information.";case 401:return"Your session has expired. Please log in again.";case 403:return y.includes("organizer")?"As an organizer, you cannot perform this action on your own event.":y.includes("permission")||y.includes("access")?"You don't have permission to perform this action.":y.includes("invitation")||y.includes("private")?"This is a private resource that requires special access.":y||"Access denied. You don't have permission for this action.";case 404:return r!=null&&r.includes("event")?"The event could not be found. It may have been deleted or the link is incorrect.":r!=null&&r.includes("user")||r!=null&&r.includes("staff")?"The user could not be found. They may have been removed or the information is outdated.":y||"The requested resource could not be found.";case 409:return y.includes("already registered")?"You have already registered for this event.":y.includes("already exists")?"This item already exists. Please use a different name or identifier.":y||"This action conflicts with existing data.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:case 502:case 503:return"Server error occurred. Please try again in a few moments.";default:return y||l}}return e instanceof Error?e.message.includes("network")||e.message.includes("fetch")||e.message.includes("connection")?"Unable to connect to the server. Please check your internet connection and try again.":e.message.includes("timeout")?"The request timed out. Please try again.":e.message||l:typeof e=="string"?e:l}const OC={REGISTRATION:{action:"register for the event",fallbackMessage:"Registration failed. Please try again."},LOGIN:{action:"log in",fallbackMessage:"Login failed. Please check your credentials."},LOADING_EVENTS:{action:"load events",fallbackMessage:"Unable to load events. Please refresh the page."},SAVING_DATA:{action:"save your changes",fallbackMessage:"Failed to save. Please try again."},STAFF_MANAGEMENT:{action:"manage staff",fallbackMessage:"Staff management operation failed."}};function DC(e,t={}){const r=RC(e,t);return t.showToast&&console.error("Error:",r),r}function LC({form:e,onDataChange:t,initialData:r={}}){const[s,l]=D.useState(0),[c,h]=D.useState(r);D.useEffect(()=>{t(c)},[c,t]);const x=(_,R)=>{h(I=>({...I,[_]:R}))},y=_=>{var I,M,j,C,k;const R=c[_.id]||"";switch(_.type){case"text":case"email":case"phone":case"url":return a.jsx("input",{type:_.type==="email"?"email":_.type==="url"?"url":"text",value:R,onChange:B=>x(_.id,B.target.value),placeholder:_.placeholder,required:_.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"number":return a.jsx("input",{type:"number",value:R,onChange:B=>x(_.id,B.target.value),placeholder:_.placeholder,required:_.required,min:(I=_.validation)==null?void 0:I.min,max:(M=_.validation)==null?void 0:M.max,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"date":return a.jsx("input",{type:"date",value:R,onChange:B=>x(_.id,B.target.value),required:_.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"textarea":return a.jsx("textarea",{value:R,onChange:B=>x(_.id,B.target.value),placeholder:_.placeholder,required:_.required,rows:4,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});case"select":return a.jsxs("select",{value:R,onChange:B=>x(_.id,B.target.value),required:_.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select an option"}),(j=_.options)==null?void 0:j.map(B=>a.jsx("option",{value:B,children:B},B))]});case"radio":return a.jsx("div",{className:"space-y-2",children:(C=_.options)==null?void 0:C.map(B=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:_.id,value:B,checked:R===B,onChange:Y=>x(_.id,Y.target.value),required:_.required,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:B})]},B))});case"checkbox":return a.jsx("div",{className:"space-y-2",children:(k=_.options)==null?void 0:k.map(B=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",value:B,checked:Array.isArray(R)&&R.includes(B),onChange:Y=>{const $=Array.isArray(R)?R:[];Y.target.checked?x(_.id,[...$,B]):x(_.id,$.filter(P=>P!==B))},className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:B})]},B))});case"file":return a.jsx("input",{type:"file",onChange:B=>{var $;const Y=($=B.target.files)==null?void 0:$[0];x(_.id,Y)},required:_.required,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"});default:return null}},p=()=>!e.is_multi_step||!e.steps?!0:e.steps[s].fields.map(I=>e.fields.find(M=>M.id===I)).filter(I=>I!==void 0).every(I=>{if(!I.required)return!0;const M=c[I.id];return I.type==="checkbox"?Array.isArray(M)&&M.length>0:M!==void 0&&M!==""&&M!==null}),b=()=>p(),w=()=>{e.is_multi_step&&e.steps&&s<e.steps.length-1&&b()&&l(s+1)},E=()=>{s>0&&l(s-1)};if(e.is_multi_step&&e.steps){const _=e.steps[s],R=_.fields.map(I=>e.fields.find(M=>M.id===I)).filter(I=>I!==void 0);return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-2",children:[a.jsxs("span",{children:["Step ",s+1," of ",e.steps.length]}),a.jsxs("span",{children:[Math.round((s+1)/e.steps.length*100),"% Complete"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(s+1)/e.steps.length*100}%`}})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:_.title}),_.description&&a.jsx("p",{className:"text-gray-600 mb-4",children:_.description}),a.jsx("div",{className:"space-y-4",children:R.map(I=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[I.label,I.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),y(I)]},I.id))})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("button",{type:"button",onClick:E,disabled:s===0,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[a.jsx(Mp,{className:"h-4 w-4 mr-1"}),"Previous"]}),s<e.steps.length-1?a.jsxs("button",{type:"button",onClick:w,disabled:!b(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next",a.jsx(F4,{className:"h-4 w-4 ml-1"})]}):a.jsx("span",{className:"text-sm text-gray-600",children:"Ready to submit"})]})]})}return a.jsx("div",{className:"space-y-4",children:e.fields.map(_=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[_.label,_.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),y(_)]},_.id))})}const PC=()=>{const{id:e}=yi(),t=un(),{user:r}=on(),[s,l]=D.useState(null),[c,h]=D.useState(null),[x,y]=D.useState(!0),[p,b]=D.useState(!1),[w,E]=D.useState(null),[_,R]=D.useState(!1),[I,M]=D.useState({});D.useEffect(()=>{(async()=>{var q;if(!e){E("Event ID is required"),y(!1);return}try{y(!0);const G=await zr.getEventById(e);if(!G.success||!G.data){E(G.error||"Event not found"),y(!1);return}l(G.data.event);try{const te=await ca.getRegistrationForm(e);te.success&&te.data&&h(te.data.form)}catch{console.log("No custom form found, will use default form")}if(r&&M(te=>({...te,email:r.email,firstName:r.name.split(" ")[0]||"",lastName:r.name.split(" ").slice(1).join(" ")||""})),r){const te=await Cs.checkRegistrationStatus(e);te.success&&((q=te.data)!=null&&q.isRegistered)&&R(!0)}}catch(G){E("Failed to load event details"),console.error("Registration form error:",G)}finally{y(!1)}})()},[e,r]);const j=(P,q)=>{M(G=>({...G,[P]:q}))},C=async P=>{if(P.preventDefault(),!(!s||!e||!r))try{b(!0),E(null);const q=await Cs.registerForEvent(e,{formData:I});q.success&&q.data?q.data.requiresPayment?t(`/events/${e}/payment`,{state:{registration:q.data.registration,amount:q.data.amount,message:q.message}}):t(`/events/${e}`,{state:{message:"Successfully registered for the event!"}}):E(q.error||"Failed to register for event")}catch(q){const G=DC(q,OC.REGISTRATION);E(G),console.error("Registration error:",q)}finally{b(!1)}};if(x)return a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading registration form..."})]})});if(w||!s)return a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-red-600 mb-4",children:w}),a.jsx("button",{onClick:()=>t(-1),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Go Back"})]})});if(!r)return a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Required"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to register for events."}),a.jsxs("div",{className:"space-x-4",children:[a.jsx("button",{onClick:()=>t("/login"),className:"btn btn-primary",children:"Login"}),a.jsx("button",{onClick:()=>t("/register"),className:"btn btn-secondary",children:"Create Account"})]})]})});if(_)return a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Already Registered"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You are already registered for this event."}),a.jsx("button",{onClick:()=>t(`/events/${s.id}`),className:"btn btn-primary",children:"View Event Details"})]})});const k=new Date(s.start_date),B=s.registration_deadline?new Date(s.registration_deadline):null,Y=B&&new Date>B,$=new Date>k;return Y||$?a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Closed"}),a.jsx("p",{className:"text-gray-600 mb-6",children:$?"This event has already started.":"The registration deadline has passed."}),a.jsx("button",{onClick:()=>t(`/events/${s.id}`),className:"btn btn-secondary",children:"View Event Details"})]})}):a.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t(`/events/${s.id}`),className:"text-gray-600 hover:text-gray-900 flex items-center mb-4",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Event"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register for Event"}),a.jsx("h2",{className:"text-xl text-gray-700 mb-4",children:s.title}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-2m-8 0V7"})}),k.toLocaleDateString()," at"," ",k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.location]})]}),s.is_paid&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",s.price]}),a.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"per ticket"})]})]})]}),w&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[c?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:c.title}),c.description&&a.jsx("p",{className:"text-gray-600 mb-6",children:c.description}),a.jsx(LC,{form:c,onDataChange:M,initialData:I})]}):a.jsx(BC,{event:s,formData:I,handleInputChange:j}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:p,className:"px-6 py-3 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Registering..."]}):a.jsx(a.Fragment,{children:"Register for Event"})})})]})]})},BC=({event:e,formData:t,handleInputChange:r})=>a.jsxs("div",{className:"card space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),a.jsx("input",{type:"text",id:"firstName",value:t.firstName||"",onChange:s=>r("firstName",s.target.value),className:"input",placeholder:"Enter your first name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),a.jsx("input",{type:"text",id:"lastName",value:t.lastName||"",onChange:s=>r("lastName",s.target.value),className:"input",placeholder:"Enter your last name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsx("input",{type:"email",id:"email",value:t.email||"",onChange:s=>r("email",s.target.value),className:"input",placeholder:"Enter your email address",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),a.jsx("input",{type:"tel",id:"phone",value:t.phone||"",onChange:s=>r("phone",s.target.value),className:"input",placeholder:"Enter your phone number",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization (Optional)"}),a.jsx("input",{type:"text",id:"organization",value:t.organization||"",onChange:s=>r("organization",s.target.value),className:"input",placeholder:"Enter your organization"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Information"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dietary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dietary Requirements (Optional)"}),a.jsx("textarea",{id:"dietary",rows:3,value:t.dietary||"",onChange:s=>r("dietary",s.target.value),className:"input",placeholder:"Please list any dietary requirements or food allergies"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"accessibility",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accessibility Requirements (Optional)"}),a.jsx("textarea",{id:"accessibility",rows:3,value:t.accessibility||"",onChange:s=>r("accessibility",s.target.value),className:"input",placeholder:"Please describe any accessibility requirements"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments (Optional)"}),a.jsx("textarea",{id:"comments",rows:3,value:t.comments||"",onChange:s=>r("comments",s.target.value),className:"input",placeholder:"Any additional comments or questions"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Emergency Contact (Optional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),a.jsx("input",{type:"text",id:"emergencyContact",value:t.emergencyContact||"",onChange:s=>r("emergencyContact",s.target.value),className:"input",placeholder:"Emergency contact name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"emergencyPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),a.jsx("input",{type:"tel",id:"emergencyPhone",value:t.emergencyPhone||"",onChange:s=>r("emergencyPhone",s.target.value),className:"input",placeholder:"Emergency contact phone"})]})]})]}),a.jsx("div",{className:"border-t pt-6",children:a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-gray-700",children:["By registering for this event, you agree to provide accurate information and comply with the event terms and conditions.",e.is_paid&&a.jsxs("span",{className:"font-medium",children:[" ","Payment will be required to complete your registration."]})]})})})]}),FC=qf((e,t)=>({events:[],selectedEvent:null,isLoading:!1,error:null,loadEvents:async()=>{try{e({isLoading:!0,error:null});const r=await zr.getEvents();r.success&&r.data?e({events:r.data.events}):e({error:r.error||"Failed to load events"})}catch{e({error:"Error loading events"})}finally{e({isLoading:!1})}},loadEvent:async r=>{try{e({isLoading:!0,error:null});const s=await zr.getEventById(r);if(s.success&&s.data){e({selectedEvent:s.data.event});const{events:l}=t(),c=l.map(h=>h.id===r?s.data.event:h);e({events:c})}else e({error:s.error||"Failed to load event"})}catch{e({error:"Error loading event"})}finally{e({isLoading:!1})}},setSelectedEvent:r=>{e({selectedEvent:r})},createEvent:async r=>{try{e({isLoading:!0,error:null});const s=await zr.createEvent(r);if(s.success&&s.data){const l=s.data.event;return e(c=>({events:[...c.events,l],selectedEvent:l})),l}else return e({error:s.error||"Failed to create event"}),null}catch{return e({error:"Error creating event"}),null}finally{e({isLoading:!1})}},updateEvent:async(r,s)=>{try{e({isLoading:!0,error:null});const l=await zr.updateEvent(r,s);if(l.success&&l.data){const c=l.data.event;return e(h=>{var x;return{events:h.events.map(y=>y.id===r?c:y),selectedEvent:((x=h.selectedEvent)==null?void 0:x.id)===r?c:h.selectedEvent}}),c}else return e({error:l.error||"Failed to update event"}),null}catch{return e({error:"Error updating event"}),null}finally{e({isLoading:!1})}},deleteEvent:async r=>{try{e({isLoading:!0,error:null});const s=await zr.deleteEvent(r);return s.success?(e(l=>{var c;return{events:l.events.filter(h=>h.id!==r),selectedEvent:((c=l.selectedEvent)==null?void 0:c.id)===r?null:l.selectedEvent}}),!0):(e({error:s.error||"Failed to delete event"}),!1)}catch{return e({error:"Error deleting event"}),!1}finally{e({isLoading:!1})}}})),UC=qf((e,t)=>({form:null,templates:[],activeFieldId:null,isMultiStep:!1,currentStep:0,isLoading:!1,isSaving:!1,setForm:r=>e({form:r}),setTemplates:r=>e({templates:r}),setActiveFieldId:r=>e({activeFieldId:r}),setIsMultiStep:r=>e({isMultiStep:r}),setCurrentStep:r=>e({currentStep:r}),addField:(r,s)=>{const{form:l,isMultiStep:c}=t();if(!l)return;const h=[...l.fields,r];let x=l.steps||[];c&&typeof s=="number"&&x[s]&&(x=x.map((y,p)=>p===s?{...y,fields:[...y.fields,r.id]}:y)),e({form:{...l,fields:h,steps:x.length>0?x:void 0}})},updateField:(r,s)=>{const{form:l}=t();if(!l)return;const c=l.fields.map(h=>h.id===r?{...h,...s}:h);e({form:{...l,fields:c}})},removeField:r=>{const{form:s}=t();if(!s)return;const l=s.fields.filter(h=>h.id!==r);let c=s.steps||[];c.length>0&&(c=c.map(h=>({...h,fields:h.fields.filter(x=>x!==r)}))),e({form:{...s,fields:l,steps:c.length>0?c:void 0},activeFieldId:null})},reorderFields:(r,s)=>{const{form:l}=t();if(!l)return;const c=[...l.fields],[h]=c.splice(r,1);c.splice(s,0,h),e({form:{...l,fields:c}})},addStep:r=>{const{form:s}=t();if(!s)return;const l=[...s.steps||[],r];e({form:{...s,is_multi_step:!0,steps:l},isMultiStep:!0})},updateStep:(r,s)=>{const{form:l}=t();if(!l||!l.steps)return;const c=l.steps.map((h,x)=>x===r?{...h,...s}:h);e({form:{...l,steps:c}})},removeStep:r=>{const{form:s}=t();if(!s||!s.steps)return;const l=s.steps.filter((c,h)=>h!==r);e({form:{...s,steps:l.length>0?l:void 0,is_multi_step:l.length>0},isMultiStep:l.length>0,currentStep:Math.min(t().currentStep,l.length-1)})},reorderSteps:(r,s)=>{const{form:l}=t();if(!l||!l.steps)return;const c=[...l.steps],[h]=c.splice(r,1);c.splice(s,0,h),e({form:{...l,steps:c}})},applyTemplate:r=>{const{form:s}=t();if(!s)return;const l={...s,fields:[...r.fields],is_multi_step:!1,steps:void 0};e({form:l,isMultiStep:!1,currentStep:0,activeFieldId:null})},loadFormTemplates:async()=>{try{e({isLoading:!0});const r=await ca.getFormTemplates();r.success&&r.data?e({templates:r.data.templates}):console.error("Failed to load form templates:",r.error)}catch(r){console.error("Error loading form templates:",r)}finally{e({isLoading:!1})}},loadRegistrationForm:async r=>{try{e({isLoading:!0});const s=await ca.getRegistrationForm(r);if(s.success&&s.data){const l=s.data.form;e({form:l,isMultiStep:l.is_multi_step,currentStep:0})}else console.error("Failed to load registration form:",s.error),e({form:null})}catch(s){console.error("Error loading registration form:",s),e({form:null})}finally{e({isLoading:!1})}},saveRegistrationForm:async r=>{const{form:s}=t();if(s)try{e({isSaving:!0});const l=await ca.updateRegistrationForm(r,s.id,{title:s.title,description:s.description,fields:s.fields,is_multi_step:s.is_multi_step,steps:s.steps});l.success&&l.data?e({form:l.data.form}):console.error("Failed to save registration form:",l.error)}catch(l){console.error("Error saving registration form:",l)}finally{e({isSaving:!1})}},createRegistrationForm:async(r,s,l)=>{try{e({isSaving:!0});const c=await ca.createRegistrationForm(r,{title:s,description:l,fields:[],is_multi_step:!1});c.success&&c.data?e({form:c.data.form,isMultiStep:c.data.form.is_multi_step,currentStep:0}):console.error("Failed to create registration form:",c.error)}catch(c){console.error("Error creating registration form:",c)}finally{e({isSaving:!1})}},deleteRegistrationForm:async(r,s)=>{try{e({isLoading:!0});const l=await ca.deleteRegistrationForm(r,s);l.success?e({form:null,activeFieldId:null,isMultiStep:!1,currentStep:0}):console.error("Failed to delete registration form:",l.error)}catch(l){console.error("Error deleting registration form:",l)}finally{e({isLoading:!1})}}}));function zC({templates:e,onClose:t,onSelect:r}){const s=c=>{switch(c){case"basic":return rr;case"detailed":return An;case"conference":return L4;default:return rr}},l=c=>{switch(c){case"basic":return"text-blue-600";case"detailed":return"text-green-600";case"conference":return"text-purple-600";default:return"text-gray-600"}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Choose a Template"}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600",children:a.jsx(Wi,{className:"h-5 w-5"})})]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Start with a pre-built template and customize it to fit your event's needs. All templates can be fully edited after selection."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(c=>{const h=s(c.id),x=l(c.id);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-gray-300 hover:shadow-sm cursor-pointer transition-all",onClick:()=>r(c),children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"p-2 rounded-md bg-gray-100",children:a.jsx(h,{className:`h-6 w-6 ${x}`})}),a.jsx("div",{className:"ml-3",children:a.jsx("h3",{className:"font-medium text-gray-900",children:c.name})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:c.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:["Includes ",c.fields.length," fields:"]}),a.jsxs("div",{className:"space-y-1",children:[c.fields.slice(0,4).map((y,p)=>a.jsxs("div",{className:"text-xs text-gray-600 flex items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mr-2"}),y.label]},p)),c.fields.length>4&&a.jsxs("div",{className:"text-xs text-gray-500 pl-4",children:["+",c.fields.length-4," more fields"]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx("button",{onClick:()=>r(c),className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Use This Template"})})]},c.id)})}),e.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No templates available"})]})]}),a.jsx("div",{className:"p-6 border-t bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"You can customize any template after selection"}),a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})})]})})}var jd={},s2={exports:{}},VC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HC=VC,WC=HC;function i2(){}function a2(){}a2.resetWarningCache=i2;var GC=function(){function e(s,l,c,h,x,y){if(y!==WC){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a2,resetWarningCache:i2};return r.PropTypes=r,r};s2.exports=GC();var oh=s2.exports;const Mt=ed(oh);var o2={L:1,M:0,Q:3,H:2},l2={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},YC=l2;function c2(e){this.mode=YC.MODE_8BIT_BYTE,this.data=e}c2.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var XC=c2,Ql=o2;function es(e,t){this.totalCount=e,this.dataCount=t}es.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];es.getRSBlocks=function(e,t){var r=es.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var s=r.length/3,l=new Array,c=0;c<s;c++)for(var h=r[c*3+0],x=r[c*3+1],y=r[c*3+2],p=0;p<h;p++)l.push(new es(x,y));return l};es.getRsBlockTable=function(e,t){switch(t){case Ql.L:return es.RS_BLOCK_TABLE[(e-1)*4+0];case Ql.M:return es.RS_BLOCK_TABLE[(e-1)*4+1];case Ql.Q:return es.RS_BLOCK_TABLE[(e-1)*4+2];case Ql.H:return es.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var ZC=es;function d2(){this.buffer=new Array,this.length=0}d2.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var $C=d2,Bn={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Bn.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Bn.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var gr=0;gr<8;gr++)Bn.EXP_TABLE[gr]=1<<gr;for(var gr=8;gr<256;gr++)Bn.EXP_TABLE[gr]=Bn.EXP_TABLE[gr-4]^Bn.EXP_TABLE[gr-5]^Bn.EXP_TABLE[gr-6]^Bn.EXP_TABLE[gr-8];for(var gr=0;gr<255;gr++)Bn.LOG_TABLE[Bn.EXP_TABLE[gr]]=gr;var u2=Bn,_i=u2;function xc(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var s=0;s<e.length-r;s++)this.num[s]=e[s+r]}xc.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var s=0;s<e.getLength();s++)t[r+s]^=_i.gexp(_i.glog(this.get(r))+_i.glog(e.get(s)));return new xc(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=_i.glog(this.get(0))-_i.glog(e.get(0)),r=new Array(this.getLength()),s=0;s<this.getLength();s++)r[s]=this.get(s);for(var s=0;s<e.getLength();s++)r[s]^=_i.gexp(_i.glog(e.get(s))+t);return new xc(r,0).mod(e)}};var f2=xc,yn=l2,Wm=f2,QC=u2,Ls={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},mr={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;mr.getBCHDigit(t)-mr.getBCHDigit(mr.G15)>=0;)t^=mr.G15<<mr.getBCHDigit(t)-mr.getBCHDigit(mr.G15);return(e<<10|t)^mr.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;mr.getBCHDigit(t)-mr.getBCHDigit(mr.G18)>=0;)t^=mr.G18<<mr.getBCHDigit(t)-mr.getBCHDigit(mr.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return mr.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Ls.PATTERN000:return(t+r)%2==0;case Ls.PATTERN001:return t%2==0;case Ls.PATTERN010:return r%3==0;case Ls.PATTERN011:return(t+r)%3==0;case Ls.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Ls.PATTERN101:return t*r%2+t*r%3==0;case Ls.PATTERN110:return(t*r%2+t*r%3)%2==0;case Ls.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Wm([1],0),r=0;r<e;r++)t=t.multiply(new Wm([1,QC.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case yn.MODE_NUMBER:return 10;case yn.MODE_ALPHA_NUM:return 9;case yn.MODE_8BIT_BYTE:return 8;case yn.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case yn.MODE_NUMBER:return 12;case yn.MODE_ALPHA_NUM:return 11;case yn.MODE_8BIT_BYTE:return 16;case yn.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case yn.MODE_NUMBER:return 14;case yn.MODE_ALPHA_NUM:return 13;case yn.MODE_8BIT_BYTE:return 16;case yn.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,s=0;s<t;s++)for(var l=0;l<t;l++){for(var c=0,h=e.isDark(s,l),x=-1;x<=1;x++)if(!(s+x<0||t<=s+x))for(var y=-1;y<=1;y++)l+y<0||t<=l+y||x==0&&y==0||h==e.isDark(s+x,l+y)&&c++;c>5&&(r+=3+c-5)}for(var s=0;s<t-1;s++)for(var l=0;l<t-1;l++){var p=0;e.isDark(s,l)&&p++,e.isDark(s+1,l)&&p++,e.isDark(s,l+1)&&p++,e.isDark(s+1,l+1)&&p++,(p==0||p==4)&&(r+=3)}for(var s=0;s<t;s++)for(var l=0;l<t-6;l++)e.isDark(s,l)&&!e.isDark(s,l+1)&&e.isDark(s,l+2)&&e.isDark(s,l+3)&&e.isDark(s,l+4)&&!e.isDark(s,l+5)&&e.isDark(s,l+6)&&(r+=40);for(var l=0;l<t;l++)for(var s=0;s<t-6;s++)e.isDark(s,l)&&!e.isDark(s+1,l)&&e.isDark(s+2,l)&&e.isDark(s+3,l)&&e.isDark(s+4,l)&&!e.isDark(s+5,l)&&e.isDark(s+6,l)&&(r+=40);for(var b=0,l=0;l<t;l++)for(var s=0;s<t;s++)e.isDark(s,l)&&b++;var w=Math.abs(100*b/t/t-50)/5;return r+=w*10,r}},qC=mr,KC=XC,h2=ZC,m2=$C,wi=qC,JC=f2;function rs(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var fn=rs.prototype;fn.addData=function(e){var t=new KC(e);this.dataList.push(t),this.dataCache=null};fn.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};fn.getModuleCount=function(){return this.moduleCount};fn.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=h2.getRSBlocks(e,this.errorCorrectLevel),r=new m2,s=0,l=0;l<t.length;l++)s+=t[l].dataCount;for(var l=0;l<this.dataList.length;l++){var c=this.dataList[l];r.put(c.mode,4),r.put(c.getLength(),wi.getLengthInBits(c.mode,e)),c.write(r)}if(r.getLengthInBits()<=s*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};fn.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[r][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=rs.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};fn.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var s=-1;s<=7;s++)t+s<=-1||this.moduleCount<=t+s||(0<=r&&r<=6&&(s==0||s==6)||0<=s&&s<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=s&&s<=4?this.modules[e+r][t+s]=!0:this.modules[e+r][t+s]=!1)};fn.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var s=wi.getLostPoint(this);(r==0||e>s)&&(e=s,t=r)}return t};fn.createMovieClip=function(e,t,r){var s=e.createEmptyMovieClip(t,r),l=1;this.make();for(var c=0;c<this.modules.length;c++)for(var h=c*l,x=0;x<this.modules[c].length;x++){var y=x*l,p=this.modules[c][x];p&&(s.beginFill(0,100),s.moveTo(y,h),s.lineTo(y+l,h),s.lineTo(y+l,h+l),s.lineTo(y,h+l),s.endFill())}return s};fn.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};fn.setupPositionAdjustPattern=function(){for(var e=wi.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var s=e[t],l=e[r];if(this.modules[s][l]==null)for(var c=-2;c<=2;c++)for(var h=-2;h<=2;h++)c==-2||c==2||h==-2||h==2||c==0&&h==0?this.modules[s+c][l+h]=!0:this.modules[s+c][l+h]=!1}};fn.setupTypeNumber=function(e){for(var t=wi.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var s=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=s}for(var r=0;r<18;r++){var s=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=s}};fn.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,s=wi.getBCHTypeInfo(r),l=0;l<15;l++){var c=!e&&(s>>l&1)==1;l<6?this.modules[l][8]=c:l<8?this.modules[l+1][8]=c:this.modules[this.moduleCount-15+l][8]=c}for(var l=0;l<15;l++){var c=!e&&(s>>l&1)==1;l<8?this.modules[8][this.moduleCount-l-1]=c:l<9?this.modules[8][15-l-1+1]=c:this.modules[8][15-l-1]=c}this.modules[this.moduleCount-8][8]=!e};fn.mapData=function(e,t){for(var r=-1,s=this.moduleCount-1,l=7,c=0,h=this.moduleCount-1;h>0;h-=2)for(h==6&&h--;;){for(var x=0;x<2;x++)if(this.modules[s][h-x]==null){var y=!1;c<e.length&&(y=(e[c]>>>l&1)==1);var p=wi.getMask(t,s,h-x);p&&(y=!y),this.modules[s][h-x]=y,l--,l==-1&&(c++,l=7)}if(s+=r,s<0||this.moduleCount<=s){s-=r,r=-r;break}}};rs.PAD0=236;rs.PAD1=17;rs.createData=function(e,t,r){for(var s=h2.getRSBlocks(e,t),l=new m2,c=0;c<r.length;c++){var h=r[c];l.put(h.mode,4),l.put(h.getLength(),wi.getLengthInBits(h.mode,e)),h.write(l)}for(var x=0,c=0;c<s.length;c++)x+=s[c].dataCount;if(l.getLengthInBits()>x*8)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+x*8+")");for(l.getLengthInBits()+4<=x*8&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=x*8||(l.put(rs.PAD0,8),l.getLengthInBits()>=x*8));)l.put(rs.PAD1,8);return rs.createBytes(l,s)};rs.createBytes=function(e,t){for(var r=0,s=0,l=0,c=new Array(t.length),h=new Array(t.length),x=0;x<t.length;x++){var y=t[x].dataCount,p=t[x].totalCount-y;s=Math.max(s,y),l=Math.max(l,p),c[x]=new Array(y);for(var b=0;b<c[x].length;b++)c[x][b]=255&e.buffer[b+r];r+=y;var w=wi.getErrorCorrectPolynomial(p),E=new JC(c[x],w.getLength()-1),_=E.mod(w);h[x]=new Array(w.getLength()-1);for(var b=0;b<h[x].length;b++){var R=b+_.getLength()-h[x].length;h[x][b]=R>=0?_.get(R):0}}for(var I=0,b=0;b<t.length;b++)I+=t[b].totalCount;for(var M=new Array(I),j=0,b=0;b<s;b++)for(var x=0;x<t.length;x++)b<c[x].length&&(M[j++]=c[x][b]);for(var b=0;b<l;b++)for(var x=0;x<t.length;x++)b<h[x].length&&(M[j++]=h[x][b]);return M};var eE=rs,lh={};Object.defineProperty(lh,"__esModule",{value:!0});var tE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rE=oh,vn=g2(rE),x2=D,ql=g2(x2);function g2(e){return e&&e.__esModule?e:{default:e}}function nE(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r}var sE={bgColor:vn.default.oneOfType([vn.default.object,vn.default.string]).isRequired,bgD:vn.default.string.isRequired,fgColor:vn.default.oneOfType([vn.default.object,vn.default.string]).isRequired,fgD:vn.default.string.isRequired,size:vn.default.number.isRequired,title:vn.default.string,viewBoxSize:vn.default.number.isRequired,xmlns:vn.default.string},ch=(0,x2.forwardRef)(function(e,t){var r=e.bgColor,s=e.bgD,l=e.fgD,c=e.fgColor,h=e.size,x=e.title,y=e.viewBoxSize,p=e.xmlns,b=p===void 0?"http://www.w3.org/2000/svg":p,w=nE(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return ql.default.createElement("svg",tE({},w,{height:h,ref:t,viewBox:"0 0 "+y+" "+y,width:h,xmlns:b}),x?ql.default.createElement("title",null,x):null,ql.default.createElement("path",{d:s,fill:r}),ql.default.createElement("path",{d:l,fill:c}))});ch.displayName="QRCodeSvg";ch.propTypes=sE;lh.default=ch;Object.defineProperty(jd,"__esModule",{value:!0});jd.QRCode=void 0;var iE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},aE=oh,cs=bl(aE),oE=o2,lE=bl(oE),cE=eE,dE=bl(cE),p2=D,uE=bl(p2),fE=lh,hE=bl(fE);function bl(e){return e&&e.__esModule?e:{default:e}}function mE(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r}var xE={bgColor:cs.default.oneOfType([cs.default.object,cs.default.string]),fgColor:cs.default.oneOfType([cs.default.object,cs.default.string]),level:cs.default.string,size:cs.default.number,value:cs.default.string.isRequired},Id=(0,p2.forwardRef)(function(e,t){var r=e.bgColor,s=r===void 0?"#FFFFFF":r,l=e.fgColor,c=l===void 0?"#000000":l,h=e.level,x=h===void 0?"L":h,y=e.size,p=y===void 0?256:y,b=e.value,w=mE(e,["bgColor","fgColor","level","size","value"]),E=new dE.default(-1,lE.default[x]);E.addData(b),E.make();var _=E.modules;return uE.default.createElement(hE.default,iE({},w,{bgColor:s,bgD:_.map(function(R,I){return R.map(function(M,j){return M?"":"M "+j+" "+I+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:c,fgD:_.map(function(R,I){return R.map(function(M,j){return M?"M "+j+" "+I+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:p,viewBoxSize:_.length}))});jd.QRCode=Id;Id.displayName="QRCode";Id.propTypes=xE;var y2=jd.default=Id;function gE({form:e,eventId:t,onClose:r}){const[s,l]=D.useState(null),[c,h]=D.useState(!1),x=window.location.origin,y=`${x}/events/${t}/register`,p=`${x}/events/${t}/register?embed=true`,b=async(E,_)=>{try{await navigator.clipboard.writeText(E),l(_),setTimeout(()=>l(null),2e3)}catch(R){console.error("Failed to copy:",R)}},w=()=>`<iframe 
  src="${p}" 
  width="100%" 
  height="600" 
  frameborder="0" 
  style="border: none; border-radius: 8px;">
</iframe>`;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Qf,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Share Registration Form"}),a.jsx("p",{className:"text-sm text-gray-600",children:e.title})]})]}),a.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600",children:a.jsx(Wi,{className:"h-5 w-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Registration Link"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"text",value:y,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-md bg-gray-50 text-gray-700"}),a.jsx("button",{onClick:()=>b(y,"url"),className:"px-4 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:s==="url"?a.jsxs(a.Fragment,{children:[a.jsx(Po,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx("span",{children:"Copy"})]})}),a.jsxs("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-2",children:[a.jsx(Wc,{className:"h-4 w-4"}),a.jsx("span",{children:"Preview"})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to register for your event"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"QR Code"}),a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-md",children:a.jsx(ll,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"QR Code for Easy Access"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Let participants scan to register quickly"})]})]}),a.jsx("button",{onClick:()=>h(!c),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100",children:c?"Hide QR Code":"Generate QR Code"})]}),c&&a.jsx("div",{className:"border-t border-gray-200 p-6 bg-white",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"qr-code-container bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:a.jsx(y2,{value:y,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"},viewBox:"0 0 200 200"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Scan to Register"}),a.jsx("p",{className:"text-xs text-gray-600 max-w-sm mx-auto",children:"Point your camera at this QR code to quickly access the registration form"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{const E=document.querySelector(".qr-code-container"),_=E==null?void 0:E.querySelector("svg");if(_)try{const R=new XMLSerializer().serializeToString(_),I=document.createElement("canvas"),M=I.getContext("2d"),j=new Image;I.width=200,I.height=200,j.onload=()=>{M&&(M.fillStyle="white",M.fillRect(0,0,200,200),M.drawImage(j,0,0));const C=document.createElement("a");C.download=`${e.title.replace(/\s+/g,"-")}-qr-code.png`,C.href=I.toDataURL("image/png"),C.click()},j.src="data:image/svg+xml;base64,"+btoa(R)}catch(R){console.error("Error downloading QR code:",R),alert("Failed to download QR code. Please try again.")}else alert("QR code not found. Please generate the QR code first.")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Download QR Code"}),a.jsx("button",{onClick:()=>b(y,"qr-url"),className:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 flex items-center space-x-1",children:s==="qr-url"?a.jsxs(a.Fragment,{children:[a.jsx(Po,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx("span",{children:"Copy URL"})]})})]})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"Embed Code"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("textarea",{value:w(),readOnly:!0,rows:6,className:"w-full p-3 border border-gray-300 rounded-md bg-gray-50 text-sm text-gray-700 font-mono"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Embed this form directly on your website"}),a.jsx("button",{onClick:()=>b(w(),"embed"),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 flex items-center space-x-2",children:s==="embed"?a.jsxs(a.Fragment,{children:[a.jsx(Po,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{children:"Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-4 w-4"}),a.jsx("span",{children:"Copy Code"})]})})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Form Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Total Registrations"}),a.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Form Views"}),a.jsx("p",{className:"font-semibold text-gray-900",children:"0"})]})]})]})]}),a.jsx("div",{className:"p-6 border-t bg-gray-50",children:a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})})]})})}function pE(){const{id:e}=yi(),t=un(),[r,s]=D.useState(!1),[l,c]=D.useState(!1),[h,x]=D.useState(!1),[y,p]=D.useState(null),{events:b,selectedEvent:w,loadEvent:E,isLoading:_}=FC(),{form:R,templates:I,activeFieldId:M,isMultiStep:j,currentStep:C,isLoading:k,isSaving:B,setActiveFieldId:Y,setIsMultiStep:$,setCurrentStep:P,addField:q,updateField:G,removeField:te,reorderFields:X,addStep:F,removeStep:ee,applyTemplate:ne,loadFormTemplates:V,loadRegistrationForm:fe,saveRegistrationForm:xe,createRegistrationForm:le,deleteRegistrationForm:we}=UC(),ye=b.find(se=>se.id===e)||w;D.useEffect(()=>{e&&(console.log("RegistrationFormBuilder: Loading event ID:",e),E(e),V(),fe(e))},[e]),D.useEffect(()=>{console.log("RegistrationFormBuilder Debug:",{eventId:e,event:ye,selectedEvent:w,eventsCount:b.length,isLoading:k,eventLoading:_})},[e,ye,w,b.length,k,_]);const Le=async()=>{if(!e)return;const se=`${(ye==null?void 0:ye.title)||"Event"} Registration Form`,Oe=`Registration form for ${(ye==null?void 0:ye.title)||"this event"}`;await le(e,se,Oe)},Fe=async()=>{!e||!R||await xe(e)},st=async()=>{!e||!R||window.confirm("Are you sure you want to delete this form? This action cannot be undone.")&&await we(e,R.id)},ht=se=>{const Oe=`field_${Date.now()}`,ot={id:Oe,type:se,label:`New ${se} field`,required:!1},Ue=j&&(R!=null&&R.steps)?C:void 0;q(ot,Ue),Y(Oe)},hn=()=>{if(R){if(j){if(R.steps)for(let se=R.steps.length-1;se>=0;se--)ee(se)}else{const se={title:"Step 1",description:"Please fill out the following information",fields:R.fields.map(Oe=>Oe.id)};F(se)}$(!j),P(0)}},Ae=()=>{var ot;const Oe={title:`Step ${(((ot=R==null?void 0:R.steps)==null?void 0:ot.length)||0)+1}`,description:"Please fill out the following information",fields:[]};F(Oe)},Rr=[{type:"text",label:"Text Input",icon:rr},{type:"email",label:"Email",icon:rr},{type:"phone",label:"Phone",icon:rr},{type:"textarea",label:"Text Area",icon:rr},{type:"select",label:"Dropdown",icon:rr},{type:"radio",label:"Radio Buttons",icon:rr},{type:"checkbox",label:"Checkboxes",icon:rr},{type:"file",label:"File Upload",icon:rr},{type:"date",label:"Date Picker",icon:rr},{type:"number",label:"Number",icon:rr},{type:"url",label:"URL",icon:rr}];return k||_?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cu,{className:"h-6 w-6 animate-spin text-blue-600"}),a.jsx("span",{children:"Loading form builder..."})]})}):!ye&&!_&&!k?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event not found"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["Event ID: ",e," | Events loaded: ",b.length]}),a.jsx("button",{onClick:()=>t("/dashboard"),className:"text-blue-600 hover:text-blue-800",children:"Return to Dashboard"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:a.jsx($f,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Registration Form Builder"}),a.jsx("p",{className:"text-sm text-gray-600",children:ye==null?void 0:ye.title})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[!r&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>c(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Use Template"}),a.jsxs("button",{onClick:hn,className:`px-3 py-2 text-sm font-medium rounded-md ${j?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(z4,{className:"h-4 w-4 inline mr-1"}),"Multi-Step"]})]}),a.jsxs("button",{onClick:()=>s(!r),className:`px-3 py-2 text-sm font-medium rounded-md ${r?"text-blue-700 bg-blue-100 border border-blue-300":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(I0,{className:"h-4 w-4 inline mr-1"}),r?"Edit":"Preview"]}),R&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[a.jsx(Qf,{className:"h-4 w-4 inline mr-1"}),"Share"]}),a.jsx("button",{onClick:Fe,disabled:B,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:B?a.jsxs(a.Fragment,{children:[a.jsx(Cu,{className:"h-4 w-4 inline mr-1 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(G4,{className:"h-4 w-4 inline mr-1"}),"Save"]})}),a.jsx("button",{onClick:st,className:"px-3 py-2 text-sm font-medium text-red-700 bg-white border border-red-300 rounded-md hover:bg-red-50",children:a.jsx(Fa,{className:"h-4 w-4"})})]})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:R?r?a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:R.title}),R.description&&a.jsx("p",{className:"text-gray-600 mb-6",children:R.description}),a.jsxs("div",{className:"space-y-6",children:[R.fields.map(se=>{var Oe;return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[se.label,se.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),se.type==="textarea"?a.jsx("textarea",{placeholder:se.placeholder,className:"w-full p-3 border border-gray-300 rounded-md",rows:3}):se.type==="select"?a.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:se.placeholder||"Select an option"}),(Oe=se.options)==null?void 0:Oe.map((ot,Ue)=>a.jsx("option",{value:ot,children:ot},Ue))]}):se.type==="radio"&&se.options?a.jsx("div",{className:"space-y-2",children:se.options.map((ot,Ue)=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:se.id,value:ot,className:"mr-2"}),a.jsx("span",{className:"text-sm",children:ot})]},Ue))}):se.type==="checkbox"&&se.options?a.jsx("div",{className:"space-y-2",children:se.options.map((ot,Ue)=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",value:ot,className:"mr-2"}),a.jsx("span",{className:"text-sm",children:ot})]},Ue))}):a.jsx("input",{type:se.type==="email"?"email":se.type==="number"?"number":se.type==="url"?"url":se.type==="date"?"date":"text",placeholder:se.placeholder,className:"w-full p-3 border border-gray-300 rounded-md"})]},se.id)}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700",children:"Submit Registration"})})]})]})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Add Fields"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click on any field type to add it to your form"}),a.jsx("div",{className:"space-y-2",children:Rr.map(({type:se,label:Oe,icon:ot})=>a.jsxs("button",{onClick:()=>ht(se),className:"w-full flex items-center space-x-3 p-3 text-left text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200 rounded-md border border-transparent transition-all duration-200 group",title:`Add ${Oe} field`,children:[a.jsx(ot,{className:"h-4 w-4 group-hover:text-blue-600"}),a.jsx("span",{className:"font-medium",children:Oe}),a.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Na,{className:"h-3 w-3 text-blue-600"})})]},se))}),j&&a.jsxs("div",{className:"mt-6 pt-6 border-t",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Steps"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Organize your form into multiple steps"}),a.jsxs("button",{onClick:Ae,className:"w-full flex items-center justify-center space-x-2 p-3 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md border border-blue-200 hover:border-blue-300 transition-all duration-200",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsx("span",{children:"Add New Step"})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t",children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2 text-sm",children:" Quick Tips"}),a.jsxs("div",{className:"space-y-2 text-xs text-gray-600",children:[a.jsx("p",{children:" Click on any field to edit its settings"}),a.jsx("p",{children:" Use Preview to test your form"}),a.jsx("p",{children:" Toggle Multi-Step for complex forms"}),a.jsx("p",{children:" Use templates for quick setup"})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:R.title}),R.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.description})]}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:a.jsx(cl,{className:"h-5 w-5"})})]}),j&&R.steps&&R.steps.length>0&&a.jsx("div",{className:"mt-4 flex space-x-2",children:R.steps.map((se,Oe)=>a.jsx("button",{onClick:()=>P(Oe),className:`px-3 py-2 text-sm rounded-md ${C===Oe?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:se.title},Oe))})]}),a.jsx("div",{className:"p-6",children:R.fields.length===0?a.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx(rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Building Your Form"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Create a custom registration form by adding fields from the sidebar, or get started quickly with a pre-built template."}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:()=>c(!0),className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"}),a.jsx("button",{onClick:()=>ht("text"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Add First Field"})]})]}):a.jsx("div",{className:"space-y-3 pl-8 relative",children:R.fields.filter(se=>{if(!j||!R.steps)return!0;const Oe=R.steps[C];return Oe==null?void 0:Oe.fields.includes(se.id)}).map((se,Oe)=>{var ot;return a.jsxs("div",{className:"group relative",children:[a.jsx("div",{className:"absolute -left-8 top-3 text-xs text-gray-400 font-medium bg-gray-100 rounded-full w-5 h-5 flex items-center justify-center",children:Oe+1}),a.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all duration-200 ${M===se.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,onClick:()=>Y(se.id),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[se.label,se.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx("span",{className:"px-2 py-1 text-xs text-gray-500 bg-gray-100 rounded-full capitalize",children:se.type})]}),se.placeholder&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Placeholder: ",se.placeholder]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[Oe>0&&a.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),X(Oe,Oe-1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move up",children:a.jsx(U4,{className:"h-4 w-4"})}),Oe<R.fields.filter(Ue=>{if(!j||!R.steps)return!0;const dr=R.steps[C];return dr==null?void 0:dr.fields.includes(Ue.id)}).length-1&&a.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),X(Oe,Oe+1)},className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",title:"Move down",children:a.jsx(B4,{className:"h-4 w-4"})}),a.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),te(se.id)},className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete field",children:a.jsx(Fa,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"mt-3 opacity-80",children:se.type==="textarea"?a.jsx("textarea",{placeholder:se.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",rows:2,disabled:!0}):se.type==="select"?a.jsxs("select",{className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0,children:[a.jsx("option",{children:se.placeholder||"Select an option"}),(ot=se.options)==null?void 0:ot.slice(0,3).map((Ue,dr)=>a.jsx("option",{children:Ue},dr)),se.options&&se.options.length>3&&a.jsxs("option",{children:["... and ",se.options.length-3," ","more"]})]}):se.type==="radio"&&se.options?a.jsxs("div",{className:"space-y-1",children:[se.options.slice(0,3).map((Ue,dr)=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",className:"mr-2",disabled:!0}),a.jsx("span",{className:"text-sm text-gray-600",children:Ue})]},dr)),se.options.length>3&&a.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",se.options.length-3," more options"]})]}):se.type==="checkbox"&&se.options?a.jsxs("div",{className:"space-y-1",children:[se.options.slice(0,3).map((Ue,dr)=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"mr-2",disabled:!0}),a.jsx("span",{className:"text-sm text-gray-600",children:Ue})]},dr)),se.options.length>3&&a.jsxs("p",{className:"text-xs text-gray-500 pl-5",children:["... and ",se.options.length-3," more options"]})]}):a.jsx("input",{type:se.type==="email"?"email":se.type==="number"?"number":se.type==="url"?"url":se.type==="date"?"date":"text",placeholder:se.placeholder,className:"w-full p-2 text-sm border border-gray-300 rounded-md bg-gray-50",disabled:!0})})]}),a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:a.jsx("div",{className:"flex justify-center mt-2",children:a.jsxs("button",{onClick:()=>{const Ue={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"Enter value",required:!1,options:[]};q(Ue),Y(Ue.id)},className:"flex items-center gap-1 px-3 py-1 text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-full border border-blue-200 transition-colors",children:[a.jsx(Na,{className:"h-3 w-3"}),"Add Field Below"]})})})]},se.id)})})})]})}),a.jsx("div",{className:"lg:col-span-1",children:M&&(()=>{const se=R.fields.find(Oe=>Oe.id===M);return se?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Edit Field"}),a.jsx("button",{onClick:()=>Y(null),className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(Wi,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),a.jsx("input",{type:"text",value:se.label,onChange:Oe=>G(M,{label:Oe.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Placeholder"}),a.jsx("input",{type:"text",value:se.placeholder||"",onChange:Oe=>G(M,{placeholder:Oe.target.value}),className:"w-full p-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:se.required,onChange:Oe=>G(M,{required:Oe.target.checked}),className:"mr-2"}),a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Required field"})]}),(se.type==="select"||se.type==="radio"||se.type==="checkbox")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options (one per line)"}),a.jsx("textarea",{value:(se.options||[]).join(`
`),onChange:Oe=>{const ot=Oe.target.value.split(`
`).filter(Ue=>Ue.trim()!=="");G(M,{options:ot})},rows:4,className:"w-full p-2 border border-gray-300 rounded-md",placeholder:`Option 1
Option 2
Option 3`})]})]})]}):null})()})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Registration Form"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Create a registration form for participants to register for your event."}),a.jsx("button",{onClick:Le,disabled:B,className:"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:B?a.jsxs(a.Fragment,{children:[a.jsx(Cu,{className:"h-4 w-4 inline mr-2 animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Na,{className:"h-4 w-4 inline mr-2"}),"Create Registration Form"]})})]})}),l&&a.jsx(zC,{templates:I,onClose:()=>c(!1),onSelect:se=>{ne(se),c(!1),p(`Template "${se.name}" applied successfully! You can now edit the fields.`),setTimeout(()=>p(null),4e3)}}),R&&h&&a.jsx(gE,{form:R,eventId:e,onClose:()=>x(!1)}),y&&a.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:a.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 max-w-sm",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("p",{className:"text-sm font-medium",children:y}),a.jsx("button",{onClick:()=>p(null),className:"flex-shrink-0 text-green-200 hover:text-white",children:a.jsx(Wi,{className:"h-4 w-4"})})]})})]})}const zo=e=>{const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},yE=()=>{const[e,t]=D.useState([]),[r,s]=D.useState(!0),[l,c]=D.useState(null),h=async()=>{var w;try{s(!0),c(null);const E=await Cs.getUserRegistrations();t(((w=E.data)==null?void 0:w.registrations)||[])}catch(E){c(typeof E=="string"?E:"An error occurred")}finally{s(!1)}};D.useEffect(()=>{h()},[]);const x=async w=>{var E;if(window.confirm("Are you sure you want to cancel your registration for this event?"))try{await Cs.cancelRegistration(w),h()}catch(_){console.error("Failed to cancel registration:",_);let R="Failed to cancel registration. Please try again.";if(_ instanceof Error&&"response"in _){const I=_;I.status===400?R="Cannot cancel registration for this event. It may have already started or the cancellation deadline has passed.":I.status===404?R="Registration not found. It may have already been cancelled.":I.status===403?R="You don't have permission to cancel this registration.":R=((E=I.response)==null?void 0:E.error)||"Failed to cancel registration. Please try again."}alert(R)}},y=w=>{switch(w){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=w=>{switch(w){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case null:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},b=w=>{var E;return w.status==="cancelled"?!1:(E=w.event)!=null&&E.is_paid?w.payment_status==="completed":w.status==="confirmed"||w.payment_status===null};return r?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):l?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(D4,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading registrations"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:l||"An error occurred"}),a.jsx("button",{onClick:()=>h(),className:"mt-2 text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded",children:"Try again"})]})]})})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Registrations"}),a.jsx("p",{className:"text-gray-600",children:"View and manage your event registrations"})]}),!e||e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations yet"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't registered for any events yet."}),a.jsx(ke,{to:"/events",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700",children:"Browse Events"})]}):a.jsx("div",{className:"space-y-6",children:e.map(w=>{const E=w.event;return E?a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:E.title}),a.jsxs("div",{className:"ml-3 flex space-x-2",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status}),E.is_paid&&w.payment_status&&a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(w.payment_status)}`,children:[a.jsx(q1,{className:"w-3 h-3 mr-1"}),w.payment_status.replace("_"," ")]}),!E.is_paid&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Free Event"})]})]}),a.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:E.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),zo(E.start_date)]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),E.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Registered ",zo(w.created_at)]})]}),E.is_paid&&E.price&&a.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Event Price: $",E.price]})]}),a.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[b(w)&&a.jsxs(ke,{to:`/ticket/${w.id}`,className:"inline-flex items-center px-3 py-2 border border-green-300 shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 bg-white hover:bg-green-50",children:[a.jsx(Op,{className:"h-4 w-4 mr-2"}),"View Ticket"]}),E.is_paid&&w.payment_status==="pending"&&a.jsxs(ke,{to:`/events/${E.id}/payment`,state:{registration:w,amount:E.price||0,message:"Complete your payment to confirm registration"},className:"inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[a.jsx(q1,{className:"h-4 w-4 mr-2"}),"Complete Payment"]}),a.jsxs(ke,{to:`/events/${E.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Wc,{className:"h-4 w-4 mr-2"}),"View Event"]}),w.status!=="cancelled"&&!b(w)&&a.jsxs("button",{onClick:()=>x(w.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[a.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})},w.id):null})})]})},vE=()=>{const{id:e}=yi(),t=un(),[r,s]=D.useState(null),[l,c]=D.useState([]),[h,x]=D.useState(!0),[y,p]=D.useState(null),[b,w]=D.useState("all");D.useEffect(()=>{(async()=>{if(!e){p("Event ID is required"),x(!1);return}try{x(!0),p(null);const[C,k]=await Promise.all([zr.getEventById(e),Cs.getEventRegistrations(e)]);if(C.success&&C.data)s(C.data.event);else{p(C.error||"Event not found");return}k.success&&k.data?c(k.data.registrations):p(k.error||"Failed to load registrations")}catch(C){p("Failed to load data"),console.error("Event registrations error:",C)}finally{x(!1)}})()},[e]);const E=j=>{switch(j){case"confirmed":return a.jsx(Zi,{className:"h-5 w-5 text-green-500"});case"pending":return a.jsx(Ba,{className:"h-5 w-5 text-yellow-500"});case"cancelled":return a.jsx(dl,{className:"h-5 w-5 text-red-500"});default:return a.jsx(Ba,{className:"h-5 w-5 text-gray-500"})}},_=j=>{switch(j){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=l.filter(j=>b==="all"?!0:j.status===b),I=j=>j==="all"?l.length:l.filter(C=>C.status===j).length,M=()=>{if(!l.length)return;const C=[["Name","Email","Phone","Status","Registration Date"].join(","),...R.map($=>{const P=$.user;return[(P==null?void 0:P.name)||"N/A",(P==null?void 0:P.email)||"N/A",(P==null?void 0:P.phone_number)||"N/A",$.status,zo($.created_at)].join(",")})].join(`
`),k=new Blob([C],{type:"text/csv"}),B=window.URL.createObjectURL(k),Y=document.createElement("a");Y.href=B,Y.download=`${(r==null?void 0:r.title)||"event"}-registrations.csv`,Y.click(),window.URL.revokeObjectURL(B)};return h?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):y?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"text-red-800",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Error"}),a.jsx("p",{className:"mt-1",children:y}),a.jsx("button",{onClick:()=>t(-1),className:"mt-3 text-sm bg-red-100 hover:bg-red-200 px-3 py-1 rounded",children:"Go Back"})]})})}):r?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("button",{onClick:()=>t(`/events/${e}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[a.jsx($f,{className:"h-5 w-5 mr-2"}),"Back to Event"]}),a.jsxs("button",{onClick:M,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",disabled:!R.length,children:[a.jsx(wd,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Registrations"}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),a.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),zo(r.start_date)]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),r.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(An,{className:"h-4 w-4 mr-2"}),l.length," / ",r.capacity," registered"]})]})]})})})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"All Registrations"},{key:"confirmed",label:"Confirmed"},{key:"pending",label:"Pending"},{key:"cancelled",label:"Cancelled"}].map(j=>a.jsxs("button",{onClick:()=>w(j.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${b===j.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[j.label," (",I(j.key),")"]},j.key))})}),R.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(An,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations found"}),a.jsx("p",{className:"text-gray-500",children:b==="all"?"No one has registered for this event yet.":`No ${b} registrations for this event.`})]}):a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:R.map(j=>{var C,k,B;return a.jsx("li",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:E(j.status)}),a.jsxs("div",{className:"ml-4 flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((C=j.user)==null?void 0:C.name)||"Unknown User"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(j.status)}`,children:j.status})]}),a.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($s,{className:"h-4 w-4 mr-1"}),((k=j.user)==null?void 0:k.email)||"No email"]}),((B=j.user)==null?void 0:B.phone_number)&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(W4,{className:"h-4 w-4 mr-1"}),j.user.phone_number]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Registered ",zo(j.created_at)]})]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:j.responses&&Object.keys(j.responses).length>0&&a.jsx("button",{onClick:()=>{alert(`Form Data:
${JSON.stringify(j.responses,null,2)}`)},className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-gray-400 hover:text-gray-500",title:"View Form Data",children:a.jsx(rr,{className:"h-4 w-4"})})})]})},j.id)})})})]}):null},wE=()=>a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Attendance Tracking"}),a.jsx("p",{className:"text-gray-600",children:"QR code scanning and attendance management will be implemented here."})]}),bE=()=>{const e=un(),{clearAuth:t,setError:r}=on();return{handleApiError:l=>{var c,h;return console.error("API Error:",l),((c=l==null?void 0:l.response)==null?void 0:c.code)==="TOKEN_EXPIRED"||(l==null?void 0:l.status)===401?(console.log(" Token expired, handling authentication error"),t(),r("Your session has expired. Please log in again."),setTimeout(()=>{e("/login",{replace:!0})},1500),"Your session has expired. Redirecting to login..."):(h=l==null?void 0:l.response)!=null&&h.error?l.response.error:"An unexpected error occurred. Please try again."}}};class Vo{static async getEventCertificates(t){return dt.get(`/certificates/event/${t}`)}static async generateCertificates(t,r){return dt.post("/certificates/generate",{eventId:t,participantIds:r==null?void 0:r.participantIds,templateId:r==null?void 0:r.templateId})}static async verifyCertificate(t){return dt.get(`/certificates/verify/${t}`)}static downloadCertificate(t){return`http://localhost:3001/api/certificates/download/${t}`}}const Kl="http://localhost:3001/api",yo={get:async e=>{const t=localStorage.getItem("token");return{data:await(await fetch(`${Kl}${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).json()}},post:async(e,t)=>{const s={Authorization:`Bearer ${localStorage.getItem("token")}`};return t instanceof FormData||(s["Content-Type"]="application/json"),{data:await(await fetch(`${Kl}${e}`,{method:"POST",headers:s,body:t instanceof FormData?t:JSON.stringify(t)})).json()}},put:async(e,t)=>{const r=localStorage.getItem("token");return{data:await(await fetch(`${Kl}${e}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}},delete:async e=>{const t=localStorage.getItem("token");return{data:await(await fetch(`${Kl}${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).json()}}},NE=({template:e,isOpen:t,onClose:r,onSave:s,dataFields:l})=>{var p;const[c,h]=D.useState({});D.useEffect(()=>{var b;(b=e==null?void 0:e.template)!=null&&b.placeholder_mapping&&h(e.template.placeholder_mapping)},[e]);const x=()=>{s(c),r()},y=((p=e==null?void 0:e.template)==null?void 0:p.placeholders)||[];return t?a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:a.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold",children:["Map Placeholders - ",e==null?void 0:e.name]}),a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[a.jsx(di,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Map the placeholders found in your PowerPoint template to data fields that will be populated when generating certificates."})]})}),y.length===0?a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[a.jsx(di,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm",children:["No placeholders found in the template. Make sure your PowerPoint file contains placeholders in the format"," ","{{placeholder_name}}","."]})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Placeholder Mapping"}),y.map(b=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg",children:[a.jsx("div",{children:a.jsxs("label",{className:"text-sm font-medium",children:["Placeholder:"," ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"{{"+b+"}}"})]})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:`mapping-${b}`,className:"block text-sm font-medium mb-1",children:"Map to Data Field"}),a.jsxs("select",{id:`mapping-${b}`,value:c[b]||"",onChange:w=>h(E=>({...E,[b]:w.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"-- No mapping --"}),l.map(w=>a.jsxs("option",{value:w.key,children:[w.label," - ",w.description]},w.key))]})]})]},b))]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Mapping"})]})]})]})})}):null},CE=({eventId:e})=>{const[t,r]=D.useState([]),[s,l]=D.useState([]),[c,h]=D.useState(!0),[x,y]=D.useState(!1),[p,b]=D.useState(null),[w,E]=D.useState(null),[_,R]=D.useState(null),[I,M]=D.useState(""),[j,C]=D.useState(null),[k,B]=D.useState(!1);D.useEffect(()=>{Y(),$()},[e]);const Y=async()=>{var F,ee;try{h(!0);const ne=await yo.get(`/templates/event/${e}`);ne.data.success&&r(ne.data.data.templates)}catch(ne){b(((ee=(F=ne.response)==null?void 0:F.data)==null?void 0:ee.error)||"Failed to load templates")}finally{h(!1)}},$=async()=>{try{const F=await yo.get("/templates/data-fields");F.data.success&&l(F.data.data)}catch(F){console.error("Failed to load data fields:",F)}},P=F=>{var ne;const ee=(ne=F.target.files)==null?void 0:ne[0];ee&&(ee.type.includes("presentation")||ee.name.endsWith(".pptx")||ee.name.endsWith(".ppt")?(R(ee),b(null),I||M(ee.name.replace(/\.(pptx?|ppt)$/i,""))):(b("Please select a PowerPoint file (.ppt or .pptx)"),R(null)))},q=async()=>{var F,ee;if(!_||!I.trim()){b("Please select a file and enter a template name");return}try{y(!0),b(null);const ne=new FormData;ne.append("template",_),ne.append("eventId",e),ne.append("templateName",I.trim());const V=await yo.post("/templates/upload",ne);if(V.data.success){E("Template uploaded successfully!"),R(null),M("");const fe=document.getElementById("template-file");if(fe&&(fe.value=""),await Y(),V.data.data.needs_mapping){const xe=V.data.data.template;C(xe),B(!0)}}}catch(ne){b(((ee=(F=ne.response)==null?void 0:F.data)==null?void 0:ee.error)||"Failed to upload template")}finally{y(!1)}},G=async F=>{var ee,ne;if(confirm("Are you sure you want to delete this template?"))try{(await yo.delete(`/templates/${F}`)).data.success&&(E("Template deleted successfully!"),await Y())}catch(V){b(((ne=(ee=V.response)==null?void 0:ee.data)==null?void 0:ne.error)||"Failed to delete template")}},te=async F=>{var ee,ne;if(j)try{(await yo.put(`/templates/${j.id}/mapping`,{placeholderMapping:F})).data.success&&(E("Placeholder mapping saved successfully!"),await Y())}catch(V){b(((ne=(ee=V.response)==null?void 0:ee.data)==null?void 0:ne.error)||"Failed to save mapping")}},X=()=>{b(null),E(null)};return c?a.jsxs("div",{className:"space-y-4 p-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-64"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]}):a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:"text-2xl font-bold",children:"Certificate Templates"})}),p&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[a.jsx(di,{className:"h-4 w-4"}),a.jsx("span",{children:p}),a.jsx("button",{onClick:X,className:"ml-auto text-red-600 hover:text-red-800",children:""})]})}),w&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[a.jsx(Zi,{className:"h-4 w-4"}),a.jsx("span",{children:w}),a.jsx("button",{onClick:X,className:"ml-auto text-green-600 hover:text-green-800",children:""})]})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(X4,{className:"h-5 w-5"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Upload PowerPoint Template"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name"}),a.jsx("input",{id:"template-name",type:"text",value:I,onChange:F=>M(F.target.value),placeholder:"Enter template name",disabled:x,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"template-file",className:"block text-sm font-medium text-gray-700 mb-1",children:"PowerPoint File (.ppt, .pptx)"}),a.jsx("input",{id:"template-file",type:"file",accept:".ppt,.pptx,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation",onChange:P,disabled:x,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),_&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Selected: ",_.name," (",(_.size/1024/1024).toFixed(2)," MB)"]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2 text-blue-800",children:[a.jsx(di,{className:"h-4 w-4 mt-0.5"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:"Tip:"})," Use placeholders like"," ","{{participant_name}}",", ","{{event_title}}",","," ","{{certificate_code}}"," in your PowerPoint template. These will be replaced with actual data when generating certificates."]})]})}),a.jsx("button",{onClick:q,disabled:!_||!I.trim()||x,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Uploading...":"Upload Template"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Available Templates"}),t.map(F=>{var ee,ne,V;return a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"h-4 w-4"}),a.jsx("h4",{className:"font-medium",children:F.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F.type==="powerpoint"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:F.type==="powerpoint"?"PowerPoint":"Canvas"})]}),((ee=F.template)==null?void 0:ee.placeholders)&&F.template.placeholders.length>0&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Placeholders:"})," ",F.template.placeholders.map(fe=>a.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs mx-0.5",children:"{{"+fe+"}}"},fe))]}),F.created_at&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Created:"," ",new Date(F.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[F.type==="powerpoint"&&((V=(ne=F.template)==null?void 0:ne.placeholders)==null?void 0:V.length)>0&&a.jsxs("button",{onClick:()=>{C(F),B(!0)},className:"flex items-center gap-1 px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[a.jsx(cl,{className:"h-4 w-4"}),"Map Data"]}),F.id!=="default"&&a.jsx("button",{onClick:()=>G(F.id),className:"flex items-center gap-1 px-3 py-2 text-sm bg-red-600 text-white rounded-md hover:bg-red-700",children:a.jsx(Fa,{className:"h-4 w-4"})})]})]})},F.id)})]}),j&&a.jsx(NE,{template:j,isOpen:k,onClose:()=>{B(!1),C(null)},onSave:te,dataFields:s})]})};function EE(){const{id:e}=yi(),t=un(),{user:r,isLoading:s}=Yr(),{handleApiError:l}=bE(),[c,h]=D.useState(null),[x,y]=D.useState([]),[p,b]=D.useState(!0),[w,E]=D.useState(!1),[_,R]=D.useState(null),[I,M]=D.useState(null),[j,C]=D.useState(!1),[k,B]=D.useState("certificates"),[Y,$]=D.useState("default"),P=D.useCallback(async()=>{try{b(!0),R(null);const te=await zr.getEventById(e);if(!te.success||!te.data){R("Event not found");return}h(te.data.event);const X=new Date(te.data.event.end_date),ee=new Date>X;C(ee);const ne=await Vo.getEventCertificates(e);ne.success&&ne.data&&y(ne.data.certificates)}catch(te){console.error("Error fetching data:",te);const X=l(te);R(X)}finally{b(!1)}},[e]);D.useEffect(()=>{if(!e){R("Event ID is required"),b(!1);return}P()},[e,P]);const q=async()=>{if(e){if(!j){R("Cannot generate certificates until the event has ended.");return}try{E(!0),R(null),M(null);const te=await Vo.generateCertificates(e,{templateId:Y});te.success&&te.data?(M(`Successfully generated ${te.data.generated} certificate(s) out of ${te.data.total} eligible participants.`),te.data.errors&&te.data.errors.length>0&&console.warn("Certificate generation errors:",te.data.errors),await P()):R(te.error||"Failed to generate certificates")}catch(te){console.error("Error generating certificates:",te);const X=l(te);R(X)}finally{E(!1)}}},G=te=>{const X=Vo.downloadCertificate(te);window.open(X,"_blank")};return s||p?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_0,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading certificates..."})]})}):r?["organizer","admin"].includes(r.role)?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[a.jsx($f,{className:"h-5 w-5 mr-1"}),"Back"]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[a.jsx(Zs,{className:"h-8 w-8 mr-3 text-blue-600"}),"Certificate Management"]}),c&&a.jsxs("p",{className:"text-gray-600 mt-2",children:["Managing certificates for:"," ",a.jsx("span",{className:"font-semibold",children:c.title})]})]})})]}),_&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(di,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:_})]})}),I&&a.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Zi,{className:"h-5 w-5 text-green-400 mr-2"}),a.jsx("p",{className:"text-green-700",children:I})]})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>B("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${k==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Zs,{className:"h-4 w-4 inline-block mr-2"}),"Certificates"]}),a.jsxs("button",{onClick:()=>B("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${k==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(cl,{className:"h-4 w-4 inline-block mr-2"}),"Templates"]})]})})}),k==="templates"?a.jsx(CE,{eventId:e}):a.jsx(a.Fragment,{children:c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tr,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),a.jsx("p",{className:"font-medium",children:new Date(c.start_date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ba,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),a.jsx("p",{className:"font-medium text-green-600",children:"Event Ended"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(An,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"}),a.jsxs("p",{className:"font-medium",children:[x.length," Generated"]})]})]})]})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Certificate Generation"})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"template-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate Template"}),a.jsx("select",{id:"template-select",value:Y,onChange:te=>$(te.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:a.jsx("option",{value:"default",children:"Default Template"})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:q,disabled:w||!j,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[w?a.jsx(_0,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Zs,{className:"h-4 w-4 mr-2"}),w?"Generating...":j?"Generate Certificates":"Event Must End First"]})}),!j&&c?a.jsx("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-md",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ba,{className:"h-5 w-5 text-amber-600 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-800 font-medium",children:"Event Still in Progress"}),a.jsxs("p",{className:"text-amber-700 text-sm mt-1",children:["Certificates can only be generated after the event ends on"," ",a.jsxs("span",{className:"font-medium",children:[new Date(c.end_date).toLocaleDateString()," at"," ",new Date(c.end_date).toLocaleTimeString()]})]})]})]})}):null,a.jsx("p",{className:"text-gray-600 text-sm",children:"Generate certificates for all participants who attended this event. Only participants who checked in will receive certificates."})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[a.jsx(rr,{className:"h-5 w-5 mr-2"}),"Generated Certificates (",x.length,")"]})}),x.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Zs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No certificates generated yet"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:'Click "Generate Certificates" to create certificates for attended participants'})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participant"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issued Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:te.participant_name}),a.jsx("div",{className:"text-sm text-gray-500",children:te.participant_email})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:te.certificate_code})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(te.issued_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("button",{onClick:()=>G(te.certificate_code),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[a.jsx(wd,{className:"h-4 w-4 mr-1"}),"Download"]})})]},te.id))})]})})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx(di,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"Only event organizers and administrators can manage certificates."})]})}):(t("/login"),null)}function SE(){const[e,t]=D.useState(""),[r,s]=D.useState(null),[l,c]=D.useState(!1),[h,x]=D.useState(null),y=async b=>{if(b.preventDefault(),!e.trim()){x("Please enter a certificate code");return}try{c(!0),x(null),s(null);const w=await Vo.verifyCertificate(e.trim());w.success&&w.data?s(w.data):x(w.error||"Certificate not found")}catch(w){console.error("Error verifying certificate:",w),x("Failed to verify certificate")}finally{c(!1)}},p=()=>{if(r!=null&&r.certificate){const b=Vo.downloadCertificate(r.certificate.code);window.open(b,"_blank")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx(Zs,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Certificate Verification"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Verify the authenticity of event participation certificates"})]}),a.jsx("div",{className:"bg-white shadow-lg rounded-lg p-8 mb-8",children:a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"certificate-code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Code"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("input",{type:"text",id:"certificate-code",value:e,onChange:b=>t(b.target.value),placeholder:"Enter certificate code (e.g., CERT-ABC12345)",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",disabled:l}),a.jsx("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:l?a.jsx(_0,{className:"h-5 w-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(bd,{className:"h-5 w-5 mr-2"}),"Verify"]})})]})]}),a.jsx("div",{className:"text-sm text-gray-500",children:a.jsx("p",{children:"Enter the certificate code found on your participation certificate to verify its authenticity. Certificate codes are in the format: CERT-XXXXXXXX"})})]})}),h&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-8",children:a.jsxs("div",{className:"flex",children:[a.jsx(dl,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:"text-red-700",children:h})]})}),r&&a.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:r.valid&&r.certificate?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-green-50 border-b border-green-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zi,{className:"h-8 w-8 text-green-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-green-900",children:"Certificate Verified "}),a.jsx("p",{className:"text-green-700",children:"This certificate is authentic and valid"})]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Participant Information"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(k0,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantName})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx($s,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.participantEmail})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zs,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Certificate Code"}),a.jsx("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded inline-block",children:r.certificate.code})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Event Information"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Event Title"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.title})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tr,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Event Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.event.date).toLocaleDateString()})]})]}),r.certificate.event.location&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-5 w-5 text-gray-400 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),a.jsx("p",{className:"font-semibold text-gray-900",children:r.certificate.event.location})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Issued Date"}),a.jsx("p",{className:"font-semibold text-gray-900",children:new Date(r.certificate.issuedAt).toLocaleDateString()})]})]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t",children:a.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 flex items-center mx-auto",children:[a.jsx(wd,{className:"h-5 w-5 mr-2"}),"Download Certificate"]})})]})]}):a.jsx("div",{className:"bg-red-50 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(dl,{className:"h-8 w-8 text-red-500 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-red-900",children:"Certificate Not Found"}),a.jsx("p",{className:"text-red-700",children:"The certificate code you entered is not valid or does not exist in our system."})]})]})})}),!r&&!h&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Verify Your Certificate"}),a.jsxs("ul",{className:"text-blue-800 space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),"Locate your certificate code on your participation certificate"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),"Enter the complete code in the field above (format: CERT-XXXXXXXX)"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),`Click "Verify" to check the certificate's authenticity`]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-200 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),"Download the verified certificate if needed"]})]})]})]})})}function AE(){const{eventId:e}=yi(),{user:t,isLoading:r}=Yr();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t?["staff","organizer","admin"].includes(t.role)?e?a.jsx(ah,{eventId:e}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),a.jsx("p",{className:"text-gray-600",children:"Invalid event ID provided."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the check-in system. Only event staff and organizers can check in participants."})]})}):a.jsx(ai,{to:"/login",replace:!0})}function jE({eventTitle:e,participantName:t,participantEmail:r,qrCode:s,eventLocation:l,eventDate:c,eventTime:h}){const[x,y]=D.useState(null);D.useEffect(()=>{y({title:e,date:c||new Date().toLocaleDateString(),location:l||"Event Venue",time:h||"10:00 AM"})},[e,l,c,h]);const p=()=>{const b=document.querySelector(".participant-qr-code svg");if(b)try{const w=new XMLSerializer().serializeToString(b),E=document.createElement("canvas"),_=E.getContext("2d"),R=new Image;E.width=300,E.height=400,R.onload=()=>{_&&(_.fillStyle="white",_.fillRect(0,0,300,400),_.drawImage(R,50,50,200,200),_.fillStyle="black",_.font="16px Arial",_.textAlign="center",_.fillText(e,150,280),_.font="14px Arial",_.fillText(t,150,300),_.font="12px Arial",_.fillText("Show this QR code at check-in",150,330));const I=document.createElement("a");I.download=`${t.replace(/\s+/g,"-")}-ticket.png`,I.href=E.toDataURL("image/png"),I.click()},R.src="data:image/svg+xml;base64,"+btoa(w)}catch(w){console.error("Error downloading QR code:",w),alert("Failed to download QR code. Please try again.")}};return a.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-center",children:"Event Ticket"}),a.jsx("p",{className:"text-center text-blue-100 mt-1",children:(x==null?void 0:x.title)||e})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a.jsx("p",{className:"text-gray-600",children:r})]}),x&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Date"}),a.jsx("p",{className:"font-medium",children:x.date})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Time"}),a.jsx("p",{className:"font-medium",children:x.time})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("p",{className:"text-gray-600",children:"Location"}),a.jsx("p",{className:"font-medium",children:x.location})]})]})}),a.jsx("div",{className:"participant-qr-code bg-white p-4 rounded-lg border-2 border-gray-200 mb-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx(y2,{value:s,size:200,style:{height:"auto",maxWidth:"100%",width:"100%"}})})}),a.jsx("div",{className:"text-center mb-6",children:a.jsx("p",{className:"text-gray-600 text-sm",children:"Show this QR code at the event entrance for quick check-in"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition-colors",children:[a.jsx(wd,{className:"h-4 w-4"}),a.jsx("span",{children:"Download Ticket"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:`Ticket for ${e}`,text:`Here's my ticket for ${e}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Ticket link copied to clipboard!"))},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[a.jsx(Qf,{className:"h-4 w-4"}),a.jsx("span",{children:"Share"})]}),a.jsxs("button",{onClick:()=>{const b=encodeURIComponent(`Ticket for ${e}`),w=encodeURIComponent(`Hi,

Here's my ticket for ${e}.

Event Details:
- Name: ${t}
- Email: ${r}
- QR Code: ${s}

See you at the event!`);window.open(`mailto:?subject=${b}&body=${w}`)},className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-2 rounded-md hover:bg-gray-200 transition-colors",children:[a.jsx($s,{className:"h-4 w-4"}),a.jsx("span",{children:"Email"})]})]})]}),a.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded text-xs text-gray-500 break-all",children:[a.jsx("p",{className:"font-medium mb-1",children:"QR Code:"}),a.jsx("p",{children:s})]})]})]})}function IE(){const{registrationId:e}=yi(),{user:t,isLoading:r}=Yr(),{accessToken:s}=on(),[l,c]=D.useState(null),[h,x]=D.useState(!0),[y,p]=D.useState(null);D.useEffect(()=>{e&&s&&b()},[e,s]);const b=async()=>{try{if(!s){p("Authentication required"),x(!1);return}if(!e){p("Missing registration ID"),x(!1);return}const E=await fetch(`/api/registrations/${e}`,{headers:{Authorization:`Bearer ${s}`}});if(!E.ok)throw new Error("Registration not found");const _=await E.json();if(_.success)c(_.data);else throw new Error(_.error||"Failed to fetch registration")}catch(E){p(E.message)}finally{x(!1)}};return r||h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your ticket..."})]})}):t?y||!l?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ticket Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:y||"The ticket you're looking for doesn't exist or you don't have permission to view it."}),a.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Back"})]})}):t.email===l.email||t.role==="admin"||t.role==="organizer"?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-lg mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Event Ticket"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Present this QR code at the event entrance"})]}),a.jsx("div",{className:"text-center mb-6",children:a.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${l.status==="confirmed"?"bg-green-100 text-green-800":l.status==="attended"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:[l.status==="confirmed"&&" Confirmed",l.status==="attended"&&" Attended",l.status==="pending"&&" Pending",l.status==="cancelled"&&" Cancelled"]})}),a.jsx(jE,{registrationId:l.id,eventTitle:l.event.title,participantName:l.name,participantEmail:l.email,qrCode:l.qr_code,eventLocation:l.event.location,eventDate:new Date(l.event.start_date).toLocaleDateString(),eventTime:new Date(l.event.start_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Important Information"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Keep this QR code safe and don't share it with others"}),a.jsx("li",{children:" Arrive at the venue 15 minutes before the event starts"}),a.jsx("li",{children:" Have your QR code ready for quick check-in"}),a.jsx("li",{children:" Take a screenshot or download the ticket for offline access"}),a.jsx("li",{children:" Contact support if you have any issues"})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Event Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Event:"}),a.jsx("span",{className:"font-medium",children:l.event.title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Date:"}),a.jsx("span",{className:"font-medium",children:new Date(l.event.start_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Time:"}),a.jsx("span",{className:"font-medium",children:new Date(l.event.start_date).toLocaleTimeString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Location:"}),a.jsx("span",{className:"font-medium",children:l.event.location})]})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:" Back to Events"})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this ticket."})]})}):a.jsx(ai,{to:"/login",replace:!0})}function _E(){const{user:e}=Yr(),[t,r]=D.useState([]),[s,l]=D.useState(!0);D.useEffect(()=>{c()},[]);const c=async()=>{var h;try{const x=localStorage.getItem("token"),y=await fetch("/api/events",{headers:{Authorization:`Bearer ${x}`}});if(y.ok){const p=await y.json();r(((h=p.data)==null?void 0:h.events)||[])}}catch(x){console.error("Error fetching events:",x)}finally{l(!1)}};return!e||e.role!=="admin"?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"Only administrators can access this page."})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Manage events, staff, and system settings"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-md",children:a.jsx(Tr,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Events"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-md",children:a.jsx(An,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Events"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(h=>new Date(h.start_date)>new Date).length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-md",children:a.jsx(j0,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(h=>{const x=new Date(h.start_date),y=new Date;return x.getMonth()===y.getMonth()&&x.getFullYear()===y.getFullYear()}).length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-md",children:a.jsx(cl,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Online"})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Event Management"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage events and their staff assignments"})]}),s?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((h,x)=>a.jsx("div",{className:"h-16 bg-gray-200 rounded"},x))})}):t.length===0?a.jsxs("div",{className:"p-6 text-center text-gray-500",children:[a.jsx(Tr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{children:"No events found."})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:t.map(h=>a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900",children:h.title}),a.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[a.jsxs("p",{children:[" ",new Date(h.start_date).toLocaleDateString()]}),a.jsxs("p",{children:[" ",h.location]}),a.jsxs("p",{children:[" Organizer: ",h.organizer.name]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ke,{to:`/events/${h.id}`,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"View Event"}),a.jsx(ke,{to:`/events/${h.id}/check-in`,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Check-in Dashboard"})]})]})},h.id))})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(An,{className:"h-8 w-8 text-blue-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Staff Management"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Staff management is available on individual event pages. Navigate to any event to add or manage staff members."}),a.jsx("p",{className:"text-sm text-gray-500",children:" Tip: Each event can have its own staff with custom permissions."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(j0,{className:"h-8 w-8 text-green-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"View check-in analytics and event performance metrics from individual event dashboards."}),a.jsx("p",{className:"text-sm text-gray-500",children:" Real-time check-in statistics available for each event."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(cl,{className:"h-8 w-8 text-purple-600"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Settings"})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Configure system-wide settings, email templates, and QR code generation parameters."}),a.jsx("p",{className:"text-sm text-gray-500",children:" Advanced settings coming soon."})]})]})]})})}const TE=()=>{const{user:e}=Yr(),[t,r]=D.useState([]),[s,l]=D.useState([]),[c,h]=D.useState(!0),[x,y]=D.useState(null),[p,b]=D.useState(""),[w,E]=D.useState(1),[_,R]=D.useState(1),[I,M]=D.useState(!0),[j,C]=D.useState({}),k=async()=>{if(e)try{const X=await Cs.getUserRegistrations();X.success&&X.data&&l(X.data.registrations)}catch(X){console.error("Failed to fetch user registrations:",X)}},B=async()=>{try{h(!0),y(null);const X=await zr.getEvents({page:w,limit:12,search:p||void 0,upcoming:I});X.success&&X.data&&(r(X.data.events),R(X.data.pagination.pages))}catch(X){y(X.message||"Failed to fetch events")}finally{h(!1)}};D.useEffect(()=>{B(),k()},[w,I,e]);const Y=X=>{X.preventDefault(),E(1),B()},$=async X=>{if(e){C(F=>({...F,[X]:!0}));try{(await Cs.registerForEvent(X,{formData:{}})).success?(B(),k()):y("Failed to register for event")}catch(F){y(F.message||"Failed to register for event")}finally{C(F=>({...F,[X]:!1}))}}},P=X=>{var ee;const F=s.find(ne=>{var V;return((V=ne.event)==null?void 0:V.id)===X&&ne.status!=="cancelled"});return F?(ee=F.event)!=null&&ee.is_paid?F.payment_status==="completed":F.status==="confirmed"||F.payment_status===null:!1},q=X=>{var ne;const F=s.find(V=>{var fe;return((fe=V.event)==null?void 0:fe.id)===X&&V.status!=="cancelled"});return F?(ne=F.event)!=null&&ne.is_paid?F.payment_status==="completed"?F:void 0:F.status==="confirmed"||F.payment_status===null?F:void 0:void 0},G=X=>{const F=new Date,ee=new Date(X.start_date),ne=new Date(X.end_date);return ne<F?{status:"ended",color:"gray"}:ee<=F&&ne>=F?{status:"ongoing",color:"blue"}:ee>F?{status:"upcoming",color:"green"}:{status:"unknown",color:"gray"}},te=X=>X.registrations&&Array.isArray(X.registrations)?X.registrations.length>0&&typeof X.registrations[0]=="object"&&"count"in X.registrations[0]?X.registrations[0].count||0:X.registrations.length:0;return c&&t.length===0?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Discover Events"}),a.jsx("p",{className:"text-gray-600",children:"Find amazing events happening around you"})]}),a.jsx("div",{className:"flex gap-3",children:e&&(e.role==="organizer"||e.role==="admin")&&a.jsxs(ke,{to:"/events/create",className:"inline-flex items-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[a.jsx(Na,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("form",{onSubmit:Y,className:"relative",children:[a.jsx(bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search events...",value:p,onChange:X=>b(X.target.value),className:"w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 placeholder-gray-500"}),a.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Search"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>{b(""),M(!0),E(1),B()},className:"text-sm px-4 py-2 bg-primary-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"All Events"}),a.jsx("button",{onClick:()=>{b(""),M(!0),E(1),B()},className:"text-sm px-4 py-2 bg-green-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Free Events"}),a.jsx("button",{onClick:()=>{b(""),M(!0),E(1),B()},className:"text-sm px-4 py-2 bg-purple-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"This Week"})]})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("p",{className:"text-red-800",children:x})}),!c&&t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No events found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:p?"Try adjusting your search terms.":"Be the first to create an event!"}),e&&(e.role==="organizer"||e.role==="admin")&&a.jsx("div",{className:"mt-6",children:a.jsxs(ke,{to:"/events/create",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Na,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(X=>{var ne;const F=G(X),ee=te(X);return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden group cursor-pointer",children:[a.jsxs("div",{className:"relative h-40 bg-gray-100 overflow-hidden",children:[X.banner_url?a.jsx("img",{src:X.banner_url,alt:X.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:a.jsx(Tr,{className:"w-12 h-12 text-white"})}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-white text-gray-900 px-2 py-1 rounded-md text-sm font-semibold shadow-sm",children:X.is_paid?`$${X.price}`:"FREE"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"text-sm font-medium text-orange-600 mb-2",children:new Date(X.start_date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),a.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:X.title}),a.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-3",children:[a.jsx(zn,{className:"w-4 h-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:X.location})]}),a.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[a.jsx(An,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[ee||0," going"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ke,{to:`/events/${X.id}`,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"View Details"}),e&&P(X.id)?a.jsxs(ke,{to:`/ticket/${(ne=q(X.id))==null?void 0:ne.id}`,className:"w-full inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 transition-colors",children:[a.jsx(Op,{className:"w-4 h-4 mr-2"}),"View Ticket"]}):F.status==="ended"?a.jsx("button",{disabled:!0,className:"w-full px-4 py-2 text-sm font-medium rounded-md text-gray-400 bg-gray-100 cursor-not-allowed",children:"Event Ended"}):ee&&X.capacity&&ee>=X.capacity?a.jsx("button",{disabled:!0,className:"w-full px-4 py-2 text-sm font-medium rounded-md text-gray-400 bg-gray-100 cursor-not-allowed",children:"Event Full"}):e?a.jsx("button",{onClick:()=>$(X.id),disabled:j[X.id],className:"w-full px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j[X.id]?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Registering..."]}):"Register Now"}):a.jsx(ke,{to:"/login",className:"w-full inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:"Login to Register"})]})]})]},X.id)})}),_>1&&a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsxs("nav",{className:"flex items-center bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("button",{onClick:()=>E(Math.max(1,w-1)),disabled:w===1,className:"px-4 py-3 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border-r border-gray-200",children:"Previous"}),a.jsx("div",{className:"flex",children:Array.from({length:_},(X,F)=>F+1).map(X=>a.jsx("button",{onClick:()=>E(X),className:`px-4 py-3 text-sm font-medium transition-colors ${w===X?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"} ${X<_?"border-r border-gray-200":""}`,children:X},X))}),a.jsx("button",{onClick:()=>E(Math.min(_,w+1)),disabled:w===_,className:"px-4 py-3 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors border-l border-gray-200",children:"Next"})]})})]})]})]})};function kE(){const{user:e,isLoading:t}=Yr(),[r,s]=D.useState([]),[l,c]=D.useState(null),[h,x]=D.useState(!0);if(t)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(!e)return a.jsx(ai,{to:"/login",replace:!0});if(!["organizer","admin"].includes(e.role))return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the QR scanner. Only organizers and administrators can use this feature."})]})});D.useEffect(()=>{(async()=>{try{x(!0);const E=await zr.getMyEvents();if(E.success&&E.data){const _=E.data.events.filter(R=>{const I=new Date,M=new Date(R.end_date);return I<=M&&(!R.status||R.status==="published")});s(_)}}catch(E){console.error("Failed to fetch events:",E)}finally{x(!1)}})()},[]);const y=r.find(w=>w.id===l),p=w=>new Date(w).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),b=w=>new Date(w).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l?a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsxs("button",{onClick:()=>c(null),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[a.jsx(Mp,{className:"h-5 w-5 mr-1"}),"Back to Events"]}),a.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[y==null?void 0:y.title," - Check-In"]})]}),a.jsx(ah,{eventId:l})]}):a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"QR Code Scanner"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Select an event to start scanning participant QR codes for check-in."}),r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Available Events"}),a.jsx("p",{className:"text-gray-600",children:"You don't have any active or upcoming events to scan for."})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(w=>a.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(w.id),children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:w.title}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),p(w.start_date)," at"," ",b(w.start_date)]}),w.location&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),w.location]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(An,{className:"h-4 w-4 mr-2"}),"Capacity: ",w.capacity]})]}),a.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Start Scanning"})]})},w.id))})]})})}function Gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,s)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gm(Object(r),!0).forEach(function(s){v2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gm(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function gc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gc=function(t){return typeof t}:gc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function v2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w2(e,t){return ME(e)||RE(e,t)||OE(e,t)||DE()}function ME(e){if(Array.isArray(e))return e}function RE(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var s=[],l=!0,c=!1,h,x;try{for(r=r.call(e);!(l=(h=r.next()).done)&&(s.push(h.value),!(t&&s.length===t));l=!0);}catch(y){c=!0,x=y}finally{try{!l&&r.return!=null&&r.return()}finally{if(c)throw x}}return s}}function OE(e,t){if(e){if(typeof e=="string")return Xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xm(e,t)}}function Xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function DE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qr=function(t,r,s){var l=!!s,c=ze.useRef(s);ze.useEffect(function(){c.current=s},[s]),ze.useEffect(function(){if(!l||!t)return function(){};var h=function(){c.current&&c.current.apply(c,arguments)};return t.on(r,h),function(){t.off(r,h)}},[l,r,t,c])},H0=function(t){var r=ze.useRef(t);return ze.useEffect(function(){r.current=t},[t]),r.current},Ya=function(t){return t!==null&&gc(t)==="object"},LE=function(t){return Ya(t)&&typeof t.then=="function"},PE=function(t){return Ya(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Zm="[object Object]",BE=function e(t,r){if(!Ya(t)||!Ya(r))return t===r;var s=Array.isArray(t),l=Array.isArray(r);if(s!==l)return!1;var c=Object.prototype.toString.call(t)===Zm,h=Object.prototype.toString.call(r)===Zm;if(c!==h)return!1;if(!c&&!s)return t===r;var x=Object.keys(t),y=Object.keys(r);if(x.length!==y.length)return!1;for(var p={},b=0;b<x.length;b+=1)p[x[b]]=!0;for(var w=0;w<y.length;w+=1)p[y[w]]=!0;var E=Object.keys(p);if(E.length!==x.length)return!1;var _=t,R=r,I=function(j){return e(_[j],R[j])};return E.every(I)},b2=function(t,r,s){return Ya(t)?Object.keys(t).reduce(function(l,c){var h=!Ya(r)||!BE(t[c],r[c]);return s.includes(c)?(h&&console.warn("Unsupported prop change: options.".concat(c," is not a mutable property.")),l):h?Ym(Ym({},l||{}),{},v2({},c,t[c])):l},null):null},N2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",$m=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N2;if(t===null||PE(t))return t;throw new Error(r)},FE=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N2;if(LE(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(l){return $m(l,r)})};var s=$m(t,r);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},UE=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},_d=ze.createContext(null);_d.displayName="ElementsContext";var C2=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},E2=function(t){var r=t.stripe,s=t.options,l=t.children,c=ze.useMemo(function(){return FE(r)},[r]),h=ze.useState(function(){return{stripe:c.tag==="sync"?c.stripe:null,elements:c.tag==="sync"?c.stripe.elements(s):null}}),x=w2(h,2),y=x[0],p=x[1];ze.useEffect(function(){var E=!0,_=function(I){p(function(M){return M.stripe?M:{stripe:I,elements:I.elements(s)}})};return c.tag==="async"&&!y.stripe?c.stripePromise.then(function(R){R&&E&&_(R)}):c.tag==="sync"&&!y.stripe&&_(c.stripe),function(){E=!1}},[c,y,s]);var b=H0(r);ze.useEffect(function(){b!==null&&b!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[b,r]);var w=H0(s);return ze.useEffect(function(){if(y.elements){var E=b2(s,w,["clientSecret","fonts"]);E&&y.elements.update(E)}},[s,w,y.elements]),ze.useEffect(function(){UE(y.stripe)},[y.stripe]),ze.createElement(_d.Provider,{value:y},l)};E2.propTypes={stripe:Mt.any,options:Mt.object};var zE=function(t){var r=ze.useContext(_d);return C2(r,t)},VE=function(){var t=zE("calls useElements()"),r=t.elements;return r};Mt.func.isRequired;var S2=ze.createContext(null);S2.displayName="CustomCheckoutSdkContext";var HE=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},WE=ze.createContext(null);WE.displayName="CustomCheckoutContext";Mt.any,Mt.shape({clientSecret:Mt.string.isRequired,elementsOptions:Mt.object}).isRequired;var W0=function(t){var r=ze.useContext(S2),s=ze.useContext(_d);if(r&&s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?HE(r,t):C2(s,t)},GE=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},qt=function(t,r){var s="".concat(GE(t),"Element"),l=function(y){var p=y.id,b=y.className,w=y.options,E=w===void 0?{}:w,_=y.onBlur,R=y.onFocus,I=y.onReady,M=y.onChange,j=y.onEscape,C=y.onClick,k=y.onLoadError,B=y.onLoaderStart,Y=y.onNetworksChange,$=y.onConfirm,P=y.onCancel,q=y.onShippingAddressChange,G=y.onShippingRateChange,te=W0("mounts <".concat(s,">")),X="elements"in te?te.elements:null,F="customCheckoutSdk"in te?te.customCheckoutSdk:null,ee=ze.useState(null),ne=w2(ee,2),V=ne[0],fe=ne[1],xe=ze.useRef(null),le=ze.useRef(null);qr(V,"blur",_),qr(V,"focus",R),qr(V,"escape",j),qr(V,"click",C),qr(V,"loaderror",k),qr(V,"loaderstart",B),qr(V,"networkschange",Y),qr(V,"confirm",$),qr(V,"cancel",P),qr(V,"shippingaddresschange",q),qr(V,"shippingratechange",G),qr(V,"change",M);var we;I&&(t==="expressCheckout"?we=I:we=function(){I(V)}),qr(V,"ready",we),ze.useLayoutEffect(function(){if(xe.current===null&&le.current!==null&&(X||F)){var Le=null;F?Le=F.createElement(t,E):X&&(Le=X.create(t,E)),xe.current=Le,fe(Le),Le&&Le.mount(le.current)}},[X,F,E]);var ye=H0(E);return ze.useEffect(function(){if(xe.current){var Le=b2(E,ye,["paymentRequest"]);Le&&"update"in xe.current&&xe.current.update(Le)}},[E,ye]),ze.useLayoutEffect(function(){return function(){if(xe.current&&typeof xe.current.destroy=="function")try{xe.current.destroy(),xe.current=null}catch{}}},[]),ze.createElement("div",{id:p,className:b,ref:le})},c=function(y){W0("mounts <".concat(s,">"));var p=y.id,b=y.className;return ze.createElement("div",{id:p,className:b})},h=r?c:l;return h.propTypes={id:Mt.string,className:Mt.string,onChange:Mt.func,onBlur:Mt.func,onFocus:Mt.func,onReady:Mt.func,onEscape:Mt.func,onClick:Mt.func,onLoadError:Mt.func,onLoaderStart:Mt.func,onNetworksChange:Mt.func,onConfirm:Mt.func,onCancel:Mt.func,onShippingAddressChange:Mt.func,onShippingRateChange:Mt.func,options:Mt.object},h.displayName=s,h.__elementType=t,h},Kt=typeof window>"u",YE=ze.createContext(null);YE.displayName="EmbeddedCheckoutProviderContext";var XE=function(){var t=W0("calls useStripe()"),r=t.stripe;return r};qt("auBankAccount",Kt);var Qm=qt("card",Kt);qt("cardNumber",Kt);qt("cardExpiry",Kt);qt("cardCvc",Kt);qt("fpxBank",Kt);qt("iban",Kt);qt("idealBank",Kt);qt("p24Bank",Kt);qt("epsBank",Kt);qt("payment",Kt);qt("expressCheckout",Kt);qt("currencySelector",Kt);qt("paymentRequestButton",Kt);qt("linkAuthentication",Kt);qt("address",Kt);qt("shippingAddress",Kt);qt("paymentMethodMessaging",Kt);qt("affirmMessage",Kt);qt("afterpayClearpayMessage",Kt);var A2="https://js.stripe.com/v3",ZE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,qm="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",$E=function(){for(var t=document.querySelectorAll('script[src^="'.concat(A2,'"]')),r=0;r<t.length;r++){var s=t[r];if(ZE.test(s.src))return s}return null},Km=function(t){var r=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(A2).concat(r);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return l.appendChild(s),s},QE=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:r})},vo=null,Jl=null,ec=null,qE=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},KE=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},JE=function(t){return vo!==null?vo:(vo=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(qm),window.Stripe){r(window.Stripe);return}try{var l=$E();if(l&&t)console.warn(qm);else if(!l)l=Km(t);else if(l&&ec!==null&&Jl!==null){var c;l.removeEventListener("load",ec),l.removeEventListener("error",Jl),(c=l.parentNode)===null||c===void 0||c.removeChild(l),l=Km(t)}ec=KE(r,s),Jl=qE(s),l.addEventListener("load",ec),l.addEventListener("error",Jl)}catch(h){s(h);return}}),vo.catch(function(r){return vo=null,Promise.reject(r)}))},e6=function(t,r,s){if(t===null)return null;var l=t.apply(void 0,r);return QE(l,s),l},wo,j2=!1,I2=function(){return wo||(wo=JE(null).catch(function(t){return wo=null,Promise.reject(t)}),wo)};Promise.resolve().then(function(){return I2()}).catch(function(e){j2||console.warn(e)});var t6=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];j2=!0;var l=Date.now();return I2().then(function(c){return e6(c,r,l)})};function _2(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=_2(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function r6(){for(var e,t,r=0,s="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=_2(e))&&(s&&(s+=" "),s+=t);return s}function n6(){for(var e=0,t,r,s="";e<arguments.length;)(t=arguments[e++])&&(r=T2(t))&&(s&&(s+=" "),s+=r);return s}function T2(e){if(typeof e=="string")return e;for(var t,r="",s=0;s<e.length;s++)e[s]&&(t=T2(e[s]))&&(r&&(r+=" "),r+=t);return r}var dh="-";function s6(e){var t=a6(e),r=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,l=s===void 0?{}:s;function c(x){var y=x.split(dh);return y[0]===""&&y.length!==1&&y.shift(),k2(y,t)||i6(x)}function h(x,y){var p=r[x]||[];return y&&l[x]?[].concat(p,l[x]):p}return{getClassGroupId:c,getConflictingClassGroupIds:h}}function k2(e,t){var h;if(e.length===0)return t.classGroupId;var r=e[0],s=t.nextPart.get(r),l=s?k2(e.slice(1),s):void 0;if(l)return l;if(t.validators.length!==0){var c=e.join(dh);return(h=t.validators.find(function(x){var y=x.validator;return y(c)}))==null?void 0:h.classGroupId}}var Jm=/^\[(.+)\]$/;function i6(e){if(Jm.test(e)){var t=Jm.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function a6(e){var t=e.theme,r=e.prefix,s={nextPart:new Map,validators:[]},l=l6(Object.entries(e.classGroups),r);return l.forEach(function(c){var h=c[0],x=c[1];G0(x,s,h,t)}),s}function G0(e,t,r,s){e.forEach(function(l){if(typeof l=="string"){var c=l===""?t:ex(t,l);c.classGroupId=r;return}if(typeof l=="function"){if(o6(l)){G0(l(s),t,r,s);return}t.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(function(h){var x=h[0],y=h[1];G0(y,ex(t,x),r,s)})})}function ex(e,t){var r=e;return t.split(dh).forEach(function(s){r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r}function o6(e){return e.isThemeGetter}function l6(e,t){return t?e.map(function(r){var s=r[0],l=r[1],c=l.map(function(h){return typeof h=="string"?t+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(function(x){var y=x[0],p=x[1];return[t+y,p]})):h});return[s,c]}):e}function c6(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,s=new Map;function l(c,h){r.set(c,h),t++,t>e&&(t=0,s=r,r=new Map)}return{get:function(h){var x=r.get(h);if(x!==void 0)return x;if((x=s.get(h))!==void 0)return l(h,x),x},set:function(h,x){r.has(h)?r.set(h,x):l(h,x)}}}var M2="!";function d6(e){var t=e.separator||":",r=t.length===1,s=t[0],l=t.length;return function(h){for(var x=[],y=0,p=0,b,w=0;w<h.length;w++){var E=h[w];if(y===0){if(E===s&&(r||h.slice(w,w+l)===t)){x.push(h.slice(p,w)),p=w+l;continue}if(E==="/"){b=w;continue}}E==="["?y++:E==="]"&&y--}var _=x.length===0?h:h.substring(p),R=_.startsWith(M2),I=R?_.substring(1):_,M=b&&b>p?b-p:void 0;return{modifiers:x,hasImportantModifier:R,baseClassName:I,maybePostfixModifierPosition:M}}}function u6(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(s){var l=s[0]==="[";l?(t.push.apply(t,r.sort().concat([s])),r=[]):r.push(s)}),t.push.apply(t,r.sort()),t}function f6(e){return{cache:c6(e.cacheSize),splitModifiers:d6(e),...s6(e)}}var h6=/\s+/;function m6(e,t){var r=t.splitModifiers,s=t.getClassGroupId,l=t.getConflictingClassGroupIds,c=new Set;return e.trim().split(h6).map(function(h){var x=r(h),y=x.modifiers,p=x.hasImportantModifier,b=x.baseClassName,w=x.maybePostfixModifierPosition,E=s(w?b.substring(0,w):b),_=!!w;if(!E){if(!w)return{isTailwindClass:!1,originalClassName:h};if(E=s(b),!E)return{isTailwindClass:!1,originalClassName:h};_=!1}var R=u6(y).join(":"),I=p?R+M2:R;return{isTailwindClass:!0,modifierId:I,classGroupId:E,originalClassName:h,hasPostfixModifier:_}}).reverse().filter(function(h){if(!h.isTailwindClass)return!0;var x=h.modifierId,y=h.classGroupId,p=h.hasPostfixModifier,b=x+y;return c.has(b)?!1:(c.add(b),l(y,p).forEach(function(w){return c.add(x+w)}),!0)}).reverse().map(function(h){return h.originalClassName}).join(" ")}function x6(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,l,c,h=x;function x(p){var b=t[0],w=t.slice(1),E=w.reduce(function(_,R){return R(_)},b());return s=f6(E),l=s.cache.get,c=s.cache.set,h=y,y(p)}function y(p){var b=l(p);if(b)return b;var w=m6(p,s);return c(p,w),w}return function(){return h(n6.apply(null,arguments))}}function Ct(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var R2=/^\[(?:([a-z-]+):)?(.+)\]$/i,g6=/^\d+\/\d+$/,p6=new Set(["px","full","screen"]),y6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w6=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function kn(e){return Li(e)||p6.has(e)||g6.test(e)||Y0(e)}function Y0(e){return $i(e,"length",A6)}function b6(e){return $i(e,"size",O2)}function N6(e){return $i(e,"position",O2)}function C6(e){return $i(e,"url",j6)}function tc(e){return $i(e,"number",Li)}function Li(e){return!Number.isNaN(Number(e))}function E6(e){return e.endsWith("%")&&Li(e.slice(0,-1))}function bo(e){return tx(e)||$i(e,"number",tx)}function $e(e){return R2.test(e)}function No(){return!0}function Ps(e){return y6.test(e)}function S6(e){return $i(e,"",I6)}function $i(e,t,r){var s=R2.exec(e);return s?s[1]?s[1]===t:r(s[2]):!1}function A6(e){return v6.test(e)}function O2(){return!1}function j6(e){return e.startsWith("url(")}function tx(e){return Number.isInteger(Number(e))}function I6(e){return w6.test(e)}function _6(){var e=Ct("colors"),t=Ct("spacing"),r=Ct("blur"),s=Ct("brightness"),l=Ct("borderColor"),c=Ct("borderRadius"),h=Ct("borderSpacing"),x=Ct("borderWidth"),y=Ct("contrast"),p=Ct("grayscale"),b=Ct("hueRotate"),w=Ct("invert"),E=Ct("gap"),_=Ct("gradientColorStops"),R=Ct("gradientColorStopPositions"),I=Ct("inset"),M=Ct("margin"),j=Ct("opacity"),C=Ct("padding"),k=Ct("saturate"),B=Ct("scale"),Y=Ct("sepia"),$=Ct("skew"),P=Ct("space"),q=Ct("translate"),G=function(){return["auto","contain","none"]},te=function(){return["auto","hidden","clip","visible","scroll"]},X=function(){return["auto",$e,t]},F=function(){return[$e,t]},ee=function(){return["",kn]},ne=function(){return["auto",Li,$e]},V=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},fe=function(){return["solid","dashed","dotted","double","none"]},xe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},le=function(){return["start","end","center","between","around","evenly","stretch"]},we=function(){return["","0",$e]},ye=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Le=function(){return[Li,tc]},Fe=function(){return[Li,$e]};return{cacheSize:500,theme:{colors:[No],spacing:[kn],blur:["none","",Ps,$e],brightness:Le(),borderColor:[e],borderRadius:["none","","full",Ps,$e],borderSpacing:F(),borderWidth:ee(),contrast:Le(),grayscale:we(),hueRotate:Fe(),invert:we(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[E6,Y0],inset:X(),margin:X(),opacity:Le(),padding:F(),saturate:Le(),scale:Le(),sepia:we(),skew:Fe(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(V(),[$e])}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bo]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:we()}],shrink:[{shrink:we()}],order:[{order:["first","last","none",bo]}],"grid-cols":[{"grid-cols":[No]}],"col-start-end":[{col:["auto",{span:["full",bo]},$e]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[No]}],"row-start-end":[{row:["auto",{span:[bo]},$e]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal"].concat(le())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(le(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(le(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[M]}],mx:[{mx:[M]}],my:[{my:[M]}],ms:[{ms:[M]}],me:[{me:[M]}],mt:[{mt:[M]}],mr:[{mr:[M]}],mb:[{mb:[M]}],ml:[{ml:[M]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",$e,t]}],"min-w":[{"min-w":["min","max","fit",$e,kn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ps]},Ps,$e]}],h:[{h:[$e,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",$e,kn]}],"max-h":[{"max-h":[$e,t,"min","max","fit"]}],"font-size":[{text:["base",Ps,Y0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tc]}],"font-family":[{font:[No]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Li,tc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$e,kn]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(fe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",kn]}],"underline-offset":[{"underline-offset":["auto",$e,kn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(V(),[N6])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},C6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[x]}],"border-w-x":[{"border-x":[x]}],"border-w-y":[{"border-y":[x]}],"border-w-s":[{"border-s":[x]}],"border-w-e":[{"border-e":[x]}],"border-w-t":[{"border-t":[x]}],"border-w-r":[{"border-r":[x]}],"border-w-b":[{"border-b":[x]}],"border-w-l":[{"border-l":[x]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[].concat(fe(),["hidden"])}],"divide-x":[{"divide-x":[x]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[x]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:fe()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:[""].concat(fe())}],"outline-offset":[{"outline-offset":[$e,kn]}],"outline-w":[{outline:[kn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[kn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ps,S6]}],"shadow-color":[{shadow:[No]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":xe()}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[y]}],"drop-shadow":[{"drop-shadow":["","none",Ps,$e]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[w]}],saturate:[{saturate:[k]}],sepia:[{sepia:[Y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[y]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:Fe()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:Fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[bo,$e]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kn,tc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var T6=x6(_6);function D2(...e){return T6(r6(e))}const X0=({className:e,variant:t="default",size:r="default",children:s,...l})=>a.jsx("button",{className:D2("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{"bg-blue-600 text-white hover:bg-blue-700":t==="default","border border-input bg-transparent hover:bg-accent hover:text-accent-foreground":t==="outline","bg-red-600 text-white hover:bg-red-700":t==="destructive","hover:bg-accent hover:text-accent-foreground":t==="ghost"},{"h-10 py-2 px-4":r==="default","h-9 px-3":r==="sm","h-11 px-8":r==="lg"},e),...l,children:s}),L2=({size:e="md",className:t})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return a.jsx("div",{className:D2("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",r[e],t)})},P2={async createPaymentIntent(e,t,r,s="USD"){return dt.post("/payments/create-intent",{registrationId:e,eventId:t,amount:r,currency:s})},async verifyPayment(e){return dt.post("/payments/verify",e)},async handlePaymentFailure(e,t){return dt.post("/payments/failure",{paymentId:e,reason:t})},async getPaymentDetails(e){return dt.get(`/payments/${e}`)}};function Z0(e){return e instanceof Error?e.message:typeof e=="string"?e:e&&typeof e=="object"&&"message"in e?String(e.message):"An unexpected error occurred"}const k6=t6("pk_test_51RvKItHv57VEdPanLmGAWKKeSbKqfZgPJ34vNE3mBZGrbJZDmSBx3tQqks6GkPrOr2oO7AOX8dnh8AWpONeXXHo500LvfirrLT"),M6=({paymentIntent:e,onSuccess:t,onError:r,onCancel:s})=>{const l=XE(),c=VE(),[h,x]=D.useState(!1),y=async p=>{var w,E;if(p.preventDefault(),!l||!c)return;x(!0);const b=c.getElement(Qm);if(!b){r("Card element not found"),x(!1);return}try{const{error:_,paymentIntent:R}=await l.confirmCardPayment(e.clientSecret,{payment_method:{card:b,billing_details:{name:e.participantName,email:e.participantEmail}}});if(_){r(_.message||"Payment failed"),x(!1);return}if(R.status==="succeeded")try{const I=await P2.verifyPayment({paymentId:e.paymentId,paymentIntentId:R.id,paymentMethodId:R.payment_method});I.success&&((w=I.data)!=null&&w.success)?t(e.paymentId):r(((E=I.data)==null?void 0:E.message)||"Payment verification failed")}catch(I){console.error("Payment verification error:",I),r(Z0(I))}}catch(_){console.error("Payment error:",_),r(Z0(_))}finally{x(!1)}};return a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.eventTitle}),a.jsxs("p",{className:"text-gray-600",children:["Participant: ",e.participantName]}),a.jsxs("p",{className:"text-gray-600",children:["Email: ",e.participantEmail]}),a.jsxs("p",{className:"text-xl font-bold mt-2",children:["Amount: ",e.currency.toUpperCase()," ",(e.amount/100).toFixed(2)]})]}),a.jsx("div",{className:"p-4 border border-gray-300 rounded-lg",children:a.jsx(Qm,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(X0,{type:"submit",disabled:!l||h,className:"flex-1",children:h?a.jsxs(a.Fragment,{children:[a.jsx(L2,{size:"sm"}),"Processing..."]}):`Pay ${e.currency.toUpperCase()} ${(e.amount/100).toFixed(2)}`}),a.jsx(X0,{type:"button",variant:"outline",onClick:s,disabled:h,children:"Cancel"})]})]})},R6=({registrationId:e,eventId:t,amount:r,currency:s="USD",onSuccess:l,onError:c,onCancel:h})=>{const[x,y]=D.useState(null),[p,b]=D.useState(!0);if(D.useEffect(()=>{(async()=>{try{const _=await P2.createPaymentIntent(e,t,r,s);_.success&&_.data?y(_.data):c(_.message||"Failed to initialize payment")}catch(_){console.error("Payment initialization error:",_),c(Z0(_))}finally{b(!1)}})()},[e,t,r,s,c]),p)return a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(L2,{}),a.jsx("span",{className:"ml-2",children:"Initializing payment..."})]});if(!x)return a.jsxs("div",{className:"text-center p-8",children:[a.jsx("p",{className:"text-red-600 mb-4",children:"Failed to initialize payment"}),a.jsx(X0,{onClick:h,variant:"outline",children:"Go Back"})]});const w={clientSecret:x.clientSecret,appearance:{theme:"stripe"}};return a.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Complete Payment"}),a.jsx(E2,{stripe:k6,options:w,children:a.jsx(M6,{paymentIntent:x,onSuccess:l,onError:c,onCancel:h})})]})};function O6(){const{id:e}=yi(),t=As(),r=un(),[s,l]=D.useState(!0),[c,h]=D.useState(null),[x,y]=D.useState(!1),p=t.state;D.useEffect(()=>{if(!p||!p.registration||!e){h("Invalid payment session. Please try registering again."),l(!1);return}l(!1)},[p,e]);const b=_=>{y(!0),zt.success("Payment completed successfully!"),setTimeout(()=>{r(`/ticket/${p.registration.id}`,{state:{message:"Payment completed! Your registration is confirmed."}})},2e3)},w=_=>{h(_),zt.error("Payment failed: "+_)},E=()=>{zt("Payment cancelled. You can complete it later from your registrations."),r(`/events/${e}`)};return s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Preparing payment..."})]})}):c||!p?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Error"}),a.jsx("p",{className:"text-gray-600 mb-4",children:c||"Invalid payment session. Please try registering again."}),a.jsx("button",{onClick:()=>r(`/events/${e}`),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Back to Event"})]})}):x?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Your registration is confirmed. Redirecting to your ticket..."}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complete Your Registration"}),a.jsx("p",{className:"text-gray-600 mt-2",children:p.message})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Event Details"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Event:"}),a.jsx("span",{className:"font-medium",children:p.registration.event.title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Date:"}),a.jsx("span",{className:"font-medium",children:new Date(p.registration.event.start_date).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Location:"}),a.jsx("span",{className:"font-medium",children:p.registration.event.location})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Participant:"}),a.jsx("span",{className:"font-medium",children:p.registration.name})]})]})]}),a.jsx(R6,{registrationId:p.registration.id,eventId:e,amount:p.amount,currency:"USD",onSuccess:b,onError:w,onCancel:E}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Having trouble with payment? Contact support for assistance."})})]})})}const D6=()=>{const[e]=Wb(),[t,r]=D.useState("loading"),[s,l]=D.useState(""),[c,h]=D.useState(!1),[x,y]=D.useState(!1),{user:p,isAuthenticated:b,logout:w}=Yr(),E=e.get("token");D.useEffect(()=>{E&&!x?(y(!0),_(E)):E||(r("error"),l("Invalid verification link. No token provided."))},[E,x]);const _=async j=>{var C,k;try{console.log(" Attempting to verify token:",j);const B=await fetch(`http://localhost:3001/api/auth/verify-email?token=${j}`,{method:"GET",headers:{"Content-Type":"application/json"}});console.log(" Response status:",B.status),console.log(" Response ok:",B.ok);const Y=await B.json();console.log(" Response data:",Y),Y.success?(console.log(" Success response received"),r("success"),l(Y.message||"Email verified successfully!")):(console.log(" Error response received:",Y.error),(C=Y.error)!=null&&C.includes("already been used")?(console.log(" Setting status to already-verified"),r("already-verified"),l("Your email has been verified! You can now log in to your account.")):(k=Y.error)!=null&&k.includes("expired")?(console.log(" Setting status to error (expired)"),r("error"),l("This verification link has expired. Please request a new verification email.")):(console.log(" Setting status to error (general)"),r("error"),l(Y.error||"Failed to verify email.")))}catch(B){console.error("Email verification error:",B),r("error"),l("An error occurred while verifying your email. Please try again.")}},R=async j=>{try{h(!0);const k=await(await fetch("http://localhost:3001/api/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j})})).json();k.success?l("Verification email sent! Please check your inbox."):l(k.error||"Failed to resend verification email.")}catch(C){console.error("Resend verification error:",C),l("An error occurred while resending verification email.")}finally{h(!1)}},I=j=>{const C=b&&p;return a.jsxs("div",{className:"text-center",children:[a.jsx(Zi,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:j}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),C?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"You're currently logged in with an unverified account. Please log out and log back in to access all features."})}),a.jsx("button",{onClick:()=>{w(),window.location.href="/login"},className:"btn btn-primary",children:"Log Out & Continue to Login"})]}):a.jsx(ke,{to:"/login",className:"btn btn-primary",children:"Continue to Login"})]})},M=()=>{switch(t){case"loading":return a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Your Email"}),a.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address..."})]});case"success":return I("Email Verified!");case"already-verified":return I("Already Verified!");case"error":const j=s.includes("expired");return a.jsxs("div",{className:"text-center",children:[a.jsx(dl,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Need a new verification link?"}),a.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:j?"Your verification link has expired. Enter your email address to get a new one.":"If your verification link has expired or you need a new one, enter your email address below."}),a.jsx("form",{onSubmit:C=>{C.preventDefault();const B=new FormData(C.currentTarget).get("email");B&&R(B)},children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"email",name:"email",placeholder:"Enter your email address",className:"flex-1 px-3 py-2 border border-yellow-300 rounded-md text-sm",required:!0}),a.jsxs("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-yellow-600 text-white rounded-md text-sm hover:bg-yellow-700 disabled:opacity-50 flex items-center gap-2",children:[c&&a.jsx(Rp,{className:"h-4 w-4 animate-spin"}),"Resend"]})]})})]}),a.jsx(ke,{to:"/register",className:"inline-block text-primary-600 hover:text-primary-500 text-sm",children:"Create a new account"})]})]});default:return null}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx($s,{className:"h-12 w-12 text-primary-600"})}),M()]})})})};function L6(){const e=on(t=>t.validateToken);return D.useEffect(()=>{e()},[e]),a.jsx(_3,{children:a.jsxs(Mb,{children:[a.jsx(Wt,{path:"/",element:a.jsx(k3,{})}),a.jsx(Wt,{path:"/login",element:a.jsx(ON,{})}),a.jsx(Wt,{path:"/register",element:a.jsx(LN,{})}),a.jsx(Wt,{path:"/verify-email",element:a.jsx(D6,{})}),a.jsx(Wt,{path:"/events",element:a.jsx(TE,{})}),a.jsx(Wt,{path:"/dashboard",element:a.jsx(Qr,{children:a.jsx(CC,{})})}),a.jsx(Wt,{path:"/events/create",element:a.jsx(Qr,{children:a.jsx(_C,{})})}),a.jsx(Wt,{path:"/events/:id",element:a.jsx(Qr,{children:a.jsx(MC,{})})}),a.jsx(Wt,{path:"/events/:id/form-builder",element:a.jsx(Qr,{requireOrganizer:!0,children:a.jsx(pE,{})})}),a.jsx(Wt,{path:"/events/:id/registrations",element:a.jsx(Qr,{requireOrganizer:!0,children:a.jsx(vE,{})})}),a.jsx(Wt,{path:"/events/:id/attendance",element:a.jsx(Qr,{requireOrganizer:!0,children:a.jsx(wE,{})})}),a.jsx(Wt,{path:"/events/:id/certificates",element:a.jsx(Qr,{requireOrganizer:!0,children:a.jsx(EE,{})})}),a.jsx(Wt,{path:"/certificate/verify",element:a.jsx(SE,{})}),a.jsx(Wt,{path:"/admin",element:a.jsx(Qr,{requireAdmin:!0,children:a.jsx(_E,{})})}),a.jsx(Wt,{path:"/events/:eventId/check-in",element:a.jsx(Qr,{children:a.jsx(AE,{})})}),a.jsx(Wt,{path:"/scanner",element:a.jsx(Qr,{requireOrganizer:!0,children:a.jsx(kE,{})})}),a.jsx(Wt,{path:"/ticket/:registrationId",element:a.jsx(Qr,{children:a.jsx(IE,{})})}),a.jsx(Wt,{path:"/my-registrations",element:a.jsx(Qr,{children:a.jsx(yE,{})})}),a.jsx(Wt,{path:"/events/:id/register",element:a.jsx(PC,{})}),a.jsx(Wt,{path:"/events/:id/payment",element:a.jsx(Qr,{children:a.jsx(O6,{})})})]})})}xp(document.getElementById("root")).render(a.jsx(D.StrictMode,{children:a.jsxs(Ub,{children:[a.jsx(L6,{}),a.jsx(M4,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}));
